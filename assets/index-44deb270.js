var AR=Object.defineProperty;var ER=(t,e,n)=>e in t?AR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var MR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var $t=(t,e,n)=>(ER(t,typeof e!="symbol"?e+"":e,n),n);var gge=MR((po,mo)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function ob(t,e){const n=Object.create(null),r=t.split(",");for(let a=0;a<r.length;a++)n[r[a]]=!0;return e?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const xr={},_u=[],Dn=()=>{},TR=()=>!1,IR=/^on[^a-z]/,Xp=t=>IR.test(t),sb=t=>t.startsWith("onUpdate:"),$r=Object.assign,ib=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},RR=Object.prototype.hasOwnProperty,xn=(t,e)=>RR.call(t,e),nt=Array.isArray,wu=t=>oh(t)==="[object Map]",Qp=t=>oh(t)==="[object Set]",ll=t=>oh(t)==="[object Date]",Pt=t=>typeof t=="function",Mt=t=>typeof t=="string",Sf=t=>typeof t=="symbol",tn=t=>t!==null&&typeof t=="object",_f=t=>tn(t)&&Pt(t.then)&&Pt(t.catch),tA=Object.prototype.toString,oh=t=>tA.call(t),kR=t=>oh(t).slice(8,-1),wf=t=>oh(t)==="[object Object]",lb=t=>Mt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,O0=ob(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},DR=/-(\w)/g,_o=Zp(t=>t.replace(DR,(e,n)=>n?n.toUpperCase():"")),PR=/\B([A-Z])/g,_l=Zp(t=>t.replace(PR,"-$1").toLowerCase()),sh=Zp(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zd=Zp(t=>t?`on${sh(t)}`:""),xf=(t,e)=>!Object.is(t,e),z0=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},dp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Vg=t=>{const e=parseFloat(t);return isNaN(e)?t:e},BR=t=>{const e=Mt(t)?Number(t):NaN;return isNaN(e)?t:e};let rw;const Wg=()=>rw||(rw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bt(t){if(nt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],a=Mt(r)?OR(r):bt(r);if(a)for(const o in a)e[o]=a[o]}return e}else{if(Mt(t))return t;if(tn(t))return t}}const LR=/;(?![^(]*\))/g,NR=/:([^]+)/,FR=/\/\*[^]*?\*\//g;function OR(t){const e={};return t.replace(FR,"").split(LR).forEach(n=>{if(n){const r=n.split(NR);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function V(t){let e="";if(Mt(t))e=t;else if(nt(t))for(let n=0;n<t.length;n++){const r=V(t[n]);r&&(e+=r+" ")}else if(tn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function ns(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Mt(e)&&(t.class=V(e)),n&&(t.style=bt(n)),t}const zR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UR=ob(zR);function nA(t){return!!t||t===""}function HR(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Nu(t[r],e[r]);return n}function Nu(t,e){if(t===e)return!0;let n=ll(t),r=ll(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Sf(t),r=Sf(e),n||r)return t===e;if(n=nt(t),r=nt(e),n||r)return n&&r?HR(t,e):!1;if(n=tn(t),r=tn(e),n||r){if(!n||!r)return!1;const a=Object.keys(t).length,o=Object.keys(e).length;if(a!==o)return!1;for(const s in t){const i=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(i&&!l||!i&&l||!Nu(t[s],e[s]))return!1}}return String(t)===String(e)}function rA(t,e){return t.findIndex(n=>Nu(n,e))}const rt=t=>Mt(t)?t:t==null?"":nt(t)||tn(t)&&(t.toString===tA||!Pt(t.toString))?JSON.stringify(t,aA,2):String(t),aA=(t,e)=>e&&e.__v_isRef?aA(t,e.value):wu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,a])=>(n[`${r} =>`]=a,n),{})}:Qp(e)?{[`Set(${e.size})`]:[...e.values()]}:tn(e)&&!nt(e)&&!wf(e)?String(e):e;let uo;class oA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=uo,!e&&uo&&(this.index=(uo.scopes||(uo.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=uo;try{return uo=this,e()}finally{uo=n}}}on(){uo=this}off(){uo=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function $R(t){return new oA(t)}function VR(t,e=uo){e&&e.active&&e.effects.push(t)}function sA(){return uo}function iA(t){uo&&uo.cleanups.push(t)}const cb=t=>{const e=new Set(t);return e.w=0,e.n=0,e},lA=t=>(t.w&cl)>0,cA=t=>(t.n&cl)>0,WR=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=cl},GR=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const a=e[r];lA(a)&&!cA(a)?a.delete(t):e[n++]=a,a.w&=~cl,a.n&=~cl}e.length=n}},fp=new WeakMap;let Kd=0,cl=1;const Gg=30;let es;const uc=Symbol(""),Kg=Symbol("");class ub{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,VR(this,r)}run(){if(!this.active)return this.fn();let e=es,n=Ji;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=es,es=this,Ji=!0,cl=1<<++Kd,Kd<=Gg?WR(this):aw(this),this.fn()}finally{Kd<=Gg&&GR(this),cl=1<<--Kd,es=this.parent,Ji=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){es===this?this.deferStop=!0:this.active&&(aw(this),this.onStop&&this.onStop(),this.active=!1)}}function aw(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ji=!0;const uA=[];function dd(){uA.push(Ji),Ji=!1}function fd(){const t=uA.pop();Ji=t===void 0?!0:t}function Ja(t,e,n){if(Ji&&es){let r=fp.get(t);r||fp.set(t,r=new Map);let a=r.get(n);a||r.set(n,a=cb()),dA(a)}}function dA(t,e){let n=!1;Kd<=Gg?cA(t)||(t.n|=cl,n=!lA(t)):n=!t.has(es),n&&(t.add(es),es.deps.push(t))}function hi(t,e,n,r,a,o){const s=fp.get(t);if(!s)return;let i=[];if(e==="clear")i=[...s.values()];else if(n==="length"&&nt(t)){const l=Number(r);s.forEach((c,u)=>{(u==="length"||u>=l)&&i.push(c)})}else switch(n!==void 0&&i.push(s.get(n)),e){case"add":nt(t)?lb(n)&&i.push(s.get("length")):(i.push(s.get(uc)),wu(t)&&i.push(s.get(Kg)));break;case"delete":nt(t)||(i.push(s.get(uc)),wu(t)&&i.push(s.get(Kg)));break;case"set":wu(t)&&i.push(s.get(uc));break}if(i.length===1)i[0]&&qg(i[0]);else{const l=[];for(const c of i)c&&l.push(...c);qg(cb(l))}}function qg(t,e){const n=nt(t)?t:[...t];for(const r of n)r.computed&&ow(r);for(const r of n)r.computed||ow(r)}function ow(t,e){(t!==es||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function KR(t,e){var n;return(n=fp.get(t))==null?void 0:n.get(e)}const qR=ob("__proto__,__v_isRef,__isVue"),fA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Sf)),jR=db(),YR=db(!1,!0),XR=db(!0),sw=QR();function QR(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=zn(this);for(let o=0,s=this.length;o<s;o++)Ja(r,"get",o+"");const a=r[e](...n);return a===-1||a===!1?r[e](...n.map(zn)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){dd();const r=zn(this)[e].apply(this,n);return fd(),r}}),t}function ZR(t){const e=zn(this);return Ja(e,"has",t),e.hasOwnProperty(t)}function db(t=!1,e=!1){return function(r,a,o){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&o===(t?e?p7:gA:e?vA:mA).get(r))return r;const s=nt(r);if(!t){if(s&&xn(sw,a))return Reflect.get(sw,a,o);if(a==="hasOwnProperty")return ZR}const i=Reflect.get(r,a,o);return(Sf(a)?fA.has(a):qR(a))||(t||Ja(r,"get",a),e)?i:jn(i)?s&&lb(a)?i:i.value:tn(i)?t?hd(i):Mn(i):i}}const JR=hA(),e7=hA(!0);function hA(t=!1){return function(n,r,a,o){let s=n[r];if(Fu(s)&&jn(s)&&!jn(a))return!1;if(!t&&(!hp(a)&&!Fu(a)&&(s=zn(s),a=zn(a)),!nt(n)&&jn(s)&&!jn(a)))return s.value=a,!0;const i=nt(n)&&lb(r)?Number(r)<n.length:xn(n,r),l=Reflect.set(n,r,a,o);return n===zn(o)&&(i?xf(a,s)&&hi(n,"set",r,a):hi(n,"add",r,a)),l}}function t7(t,e){const n=xn(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&hi(t,"delete",e,void 0),r}function n7(t,e){const n=Reflect.has(t,e);return(!Sf(e)||!fA.has(e))&&Ja(t,"has",e),n}function r7(t){return Ja(t,"iterate",nt(t)?"length":uc),Reflect.ownKeys(t)}const pA={get:jR,set:JR,deleteProperty:t7,has:n7,ownKeys:r7},a7={get:XR,set(t,e){return!0},deleteProperty(t,e){return!0}},o7=$r({},pA,{get:YR,set:e7}),fb=t=>t,Jp=t=>Reflect.getPrototypeOf(t);function Fh(t,e,n=!1,r=!1){t=t.__v_raw;const a=zn(t),o=zn(e);n||(e!==o&&Ja(a,"get",e),Ja(a,"get",o));const{has:s}=Jp(a),i=r?fb:n?mb:Cf;if(s.call(a,e))return i(t.get(e));if(s.call(a,o))return i(t.get(o));t!==a&&t.get(e)}function Oh(t,e=!1){const n=this.__v_raw,r=zn(n),a=zn(t);return e||(t!==a&&Ja(r,"has",t),Ja(r,"has",a)),t===a?n.has(t):n.has(t)||n.has(a)}function zh(t,e=!1){return t=t.__v_raw,!e&&Ja(zn(t),"iterate",uc),Reflect.get(t,"size",t)}function iw(t){t=zn(t);const e=zn(this);return Jp(e).has.call(e,t)||(e.add(t),hi(e,"add",t,t)),this}function lw(t,e){e=zn(e);const n=zn(this),{has:r,get:a}=Jp(n);let o=r.call(n,t);o||(t=zn(t),o=r.call(n,t));const s=a.call(n,t);return n.set(t,e),o?xf(e,s)&&hi(n,"set",t,e):hi(n,"add",t,e),this}function cw(t){const e=zn(this),{has:n,get:r}=Jp(e);let a=n.call(e,t);a||(t=zn(t),a=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return a&&hi(e,"delete",t,void 0),o}function uw(){const t=zn(this),e=t.size!==0,n=t.clear();return e&&hi(t,"clear",void 0,void 0),n}function Uh(t,e){return function(r,a){const o=this,s=o.__v_raw,i=zn(s),l=e?fb:t?mb:Cf;return!t&&Ja(i,"iterate",uc),s.forEach((c,u)=>r.call(a,l(c),l(u),o))}}function Hh(t,e,n){return function(...r){const a=this.__v_raw,o=zn(a),s=wu(o),i=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=a[t](...r),u=n?fb:e?mb:Cf;return!e&&Ja(o,"iterate",l?Kg:uc),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:i?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function ki(t){return function(...e){return t==="delete"?!1:this}}function s7(){const t={get(o){return Fh(this,o)},get size(){return zh(this)},has:Oh,add:iw,set:lw,delete:cw,clear:uw,forEach:Uh(!1,!1)},e={get(o){return Fh(this,o,!1,!0)},get size(){return zh(this)},has:Oh,add:iw,set:lw,delete:cw,clear:uw,forEach:Uh(!1,!0)},n={get(o){return Fh(this,o,!0)},get size(){return zh(this,!0)},has(o){return Oh.call(this,o,!0)},add:ki("add"),set:ki("set"),delete:ki("delete"),clear:ki("clear"),forEach:Uh(!0,!1)},r={get(o){return Fh(this,o,!0,!0)},get size(){return zh(this,!0)},has(o){return Oh.call(this,o,!0)},add:ki("add"),set:ki("set"),delete:ki("delete"),clear:ki("clear"),forEach:Uh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Hh(o,!1,!1),n[o]=Hh(o,!0,!1),e[o]=Hh(o,!1,!0),r[o]=Hh(o,!0,!0)}),[t,n,e,r]}const[i7,l7,c7,u7]=s7();function hb(t,e){const n=e?t?u7:c7:t?l7:i7;return(r,a,o)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?r:Reflect.get(xn(n,a)&&a in r?n:r,a,o)}const d7={get:hb(!1,!1)},f7={get:hb(!1,!0)},h7={get:hb(!0,!1)},mA=new WeakMap,vA=new WeakMap,gA=new WeakMap,p7=new WeakMap;function m7(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function v7(t){return t.__v_skip||!Object.isExtensible(t)?0:m7(kR(t))}function Mn(t){return Fu(t)?t:pb(t,!1,pA,d7,mA)}function yA(t){return pb(t,!1,o7,f7,vA)}function hd(t){return pb(t,!0,a7,h7,gA)}function pb(t,e,n,r,a){if(!tn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=a.get(t);if(o)return o;const s=v7(t);if(s===0)return t;const i=new Proxy(t,s===2?r:n);return a.set(t,i),i}function xu(t){return Fu(t)?xu(t.__v_raw):!!(t&&t.__v_isReactive)}function Fu(t){return!!(t&&t.__v_isReadonly)}function hp(t){return!!(t&&t.__v_isShallow)}function bA(t){return xu(t)||Fu(t)}function zn(t){const e=t&&t.__v_raw;return e?zn(e):t}function di(t){return dp(t,"__v_skip",!0),t}const Cf=t=>tn(t)?Mn(t):t,mb=t=>tn(t)?hd(t):t;function vb(t){Ji&&es&&(t=zn(t),dA(t.dep||(t.dep=cb())))}function gb(t,e){t=zn(t);const n=t.dep;n&&qg(n)}function jn(t){return!!(t&&t.__v_isRef===!0)}function j(t){return SA(t,!1)}function Xn(t){return SA(t,!0)}function SA(t,e){return jn(t)?t:new g7(t,e)}class g7{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:zn(e),this._value=n?e:Cf(e)}get value(){return vb(this),this._value}set value(e){const n=this.__v_isShallow||hp(e)||Fu(e);e=n?e:zn(e),xf(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Cf(e),gb(this))}}function d(t){return jn(t)?t.value:t}const y7={get:(t,e,n)=>d(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const a=t[e];return jn(a)&&!jn(n)?(a.value=n,!0):Reflect.set(t,e,n,r)}};function _A(t){return xu(t)?t:new Proxy(t,y7)}class b7{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>vb(this),()=>gb(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function S7(t){return new b7(t)}function jr(t){const e=nt(t)?new Array(t.length):{};for(const n in t)e[n]=wA(t,n);return e}class _7{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return KR(zn(this._object),this._key)}}class w7{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Rn(t,e,n){return jn(t)?t:Pt(t)?new w7(t):tn(t)&&arguments.length>1?wA(t,e,n):j(t)}function wA(t,e,n){const r=t[e];return jn(r)?r:new _7(t,e,n)}class x7{constructor(e,n,r,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ub(e,()=>{this._dirty||(this._dirty=!0,gb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const e=zn(this);return vb(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function C7(t,e,n=!1){let r,a;const o=Pt(t);return o?(r=t,a=Dn):(r=t.get,a=t.set),new x7(r,a,o||!a,n)}function A7(t,...e){}function el(t,e,n,r){let a;try{a=r?t(...r):t()}catch(o){em(o,e,n)}return a}function Lo(t,e,n,r){if(Pt(t)){const o=el(t,e,n,r);return o&&_f(o)&&o.catch(s=>{em(s,e,n)}),o}const a=[];for(let o=0;o<t.length;o++)a.push(Lo(t[o],e,n,r));return a}function em(t,e,n,r=!0){const a=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,i=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,s,i)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){el(l,null,10,[t,s,i]);return}}E7(t,n,a,r)}function E7(t,e,n,r=!0){console.error(t)}let Af=!1,jg=!1;const Ta=[];let _s=0;const Cu=[];let ni=null,Wl=0;const xA=Promise.resolve();let yb=null;function Bt(t){const e=yb||xA;return t?e.then(this?t.bind(this):t):e}function M7(t){let e=_s+1,n=Ta.length;for(;e<n;){const r=e+n>>>1;Ef(Ta[r])<t?e=r+1:n=r}return e}function bb(t){(!Ta.length||!Ta.includes(t,Af&&t.allowRecurse?_s+1:_s))&&(t.id==null?Ta.push(t):Ta.splice(M7(t.id),0,t),CA())}function CA(){!Af&&!jg&&(jg=!0,yb=xA.then(EA))}function T7(t){const e=Ta.indexOf(t);e>_s&&Ta.splice(e,1)}function I7(t){nt(t)?Cu.push(...t):(!ni||!ni.includes(t,t.allowRecurse?Wl+1:Wl))&&Cu.push(t),CA()}function dw(t,e=Af?_s+1:0){for(;e<Ta.length;e++){const n=Ta[e];n&&n.pre&&(Ta.splice(e,1),e--,n())}}function AA(t){if(Cu.length){const e=[...new Set(Cu)];if(Cu.length=0,ni){ni.push(...e);return}for(ni=e,ni.sort((n,r)=>Ef(n)-Ef(r)),Wl=0;Wl<ni.length;Wl++)ni[Wl]();ni=null,Wl=0}}const Ef=t=>t.id==null?1/0:t.id,R7=(t,e)=>{const n=Ef(t)-Ef(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function EA(t){jg=!1,Af=!0,Ta.sort(R7);const e=Dn;try{for(_s=0;_s<Ta.length;_s++){const n=Ta[_s];n&&n.active!==!1&&el(n,null,14)}}finally{_s=0,Ta.length=0,AA(),Af=!1,yb=null,(Ta.length||Cu.length)&&EA()}}function k7(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||xr;let a=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=r[u]||xr;h&&(a=n.map(p=>Mt(p)?p.trim():p)),f&&(a=n.map(Vg))}let i,l=r[i=Zd(e)]||r[i=Zd(_o(e))];!l&&o&&(l=r[i=Zd(_l(e))]),l&&Lo(l,t,6,a);const c=r[i+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[i])return;t.emitted[i]=!0,Lo(c,t,6,a)}}function MA(t,e,n=!1){const r=e.emitsCache,a=r.get(t);if(a!==void 0)return a;const o=t.emits;let s={},i=!1;if(!Pt(t)){const l=c=>{const u=MA(c,e,!0);u&&(i=!0,$r(s,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!i?(tn(t)&&r.set(t,null),null):(nt(o)?o.forEach(l=>s[l]=null):$r(s,o),tn(t)&&r.set(t,s),s)}function tm(t,e){return!t||!Xp(e)?!1:(e=e.slice(2).replace(/Once$/,""),xn(t,e[0].toLowerCase()+e.slice(1))||xn(t,_l(e))||xn(t,e))}let ma=null,nm=null;function pp(t){const e=ma;return ma=t,nm=t&&t.type.__scopeId||null,e}function Ls(t){nm=t}function Ns(){nm=null}function le(t,e=ma,n){if(!e||t._n)return t;const r=(...a)=>{r._d&&Cw(-1);const o=pp(e);let s;try{s=t(...a)}finally{pp(o),r._d&&Cw(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function xv(t){const{type:e,vnode:n,proxy:r,withProxy:a,props:o,propsOptions:[s],slots:i,attrs:l,emit:c,render:u,renderCache:f,data:h,setupState:p,ctx:m,inheritAttrs:g}=t;let y,v;const A=pp(t);try{if(n.shapeFlag&4){const S=a||r;y=bs(u.call(S,S,f,o,p,h,m)),v=l}else{const S=e;y=bs(S.length>1?S(o,{attrs:l,slots:i,emit:c}):S(o,null)),v=e.props?l:D7(l)}}catch(S){nf.length=0,em(S,t,1),y=J(Da)}let w=y;if(v&&g!==!1){const S=Object.keys(v),{shapeFlag:C}=w;S.length&&C&7&&(s&&S.some(sb)&&(v=P7(v,s)),w=pi(w,v))}return n.dirs&&(w=pi(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),y=w,pp(A),y}const D7=t=>{let e;for(const n in t)(n==="class"||n==="style"||Xp(n))&&((e||(e={}))[n]=t[n]);return e},P7=(t,e)=>{const n={};for(const r in t)(!sb(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function B7(t,e,n){const{props:r,children:a,component:o}=t,{props:s,children:i,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?fw(r,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(s[h]!==r[h]&&!tm(c,h))return!0}}}else return(a||i)&&(!i||!i.$stable)?!0:r===s?!1:r?s?fw(r,s,c):!0:!!s;return!1}function fw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(e[o]!==t[o]&&!tm(n,o))return!0}return!1}function L7({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const N7=t=>t.__isSuspense;function F7(t,e){e&&e.pendingBranch?nt(t)?e.effects.push(...t):e.effects.push(t):I7(t)}function ga(t,e){return Sb(t,null,e)}const $h={};function Qe(t,e,n){return Sb(t,e,n)}function Sb(t,e,{immediate:n,deep:r,flush:a,onTrack:o,onTrigger:s}=xr){var i;const l=sA()===((i=sa)==null?void 0:i.scope)?sa:null;let c,u=!1,f=!1;if(jn(t)?(c=()=>t.value,u=hp(t)):xu(t)?(c=()=>t,r=!0):nt(t)?(f=!0,u=t.some(S=>xu(S)||hp(S)),c=()=>t.map(S=>{if(jn(S))return S.value;if(xu(S))return ec(S);if(Pt(S))return el(S,l,2)})):Pt(t)?e?c=()=>el(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),Lo(t,l,3,[p])}:c=Dn,e&&r){const S=c;c=()=>ec(S())}let h,p=S=>{h=A.onStop=()=>{el(S,l,4)}},m;if(Rf)if(p=Dn,e?n&&Lo(e,l,3,[c(),f?[]:void 0,p]):c(),a==="sync"){const S=Ak();m=S.__watcherHandles||(S.__watcherHandles=[])}else return Dn;let g=f?new Array(t.length).fill($h):$h;const y=()=>{if(A.active)if(e){const S=A.run();(r||u||(f?S.some((C,E)=>xf(C,g[E])):xf(S,g)))&&(h&&h(),Lo(e,l,3,[S,g===$h?void 0:f&&g[0]===$h?[]:g,p]),g=S)}else A.run()};y.allowRecurse=!!e;let v;a==="sync"?v=y:a==="post"?v=()=>ja(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),v=()=>bb(y));const A=new ub(c,v);e?n?y():g=A.run():a==="post"?ja(A.run.bind(A),l&&l.suspense):A.run();const w=()=>{A.stop(),l&&l.scope&&ib(l.scope.effects,A)};return m&&m.push(w),w}function O7(t,e,n){const r=this.proxy,a=Mt(t)?t.includes(".")?TA(r,t):()=>r[t]:t.bind(r,r);let o;Pt(e)?o=e:(o=e.handler,n=e);const s=sa;Ou(this);const i=Sb(a,o.bind(r),n);return s?Ou(s):dc(),i}function TA(t,e){const n=e.split(".");return()=>{let r=t;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function ec(t,e){if(!tn(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),jn(t))ec(t.value,e);else if(nt(t))for(let n=0;n<t.length;n++)ec(t[n],e);else if(Qp(t)||wu(t))t.forEach(n=>{ec(n,e)});else if(wf(t))for(const n in t)ec(t[n],e);return t}function Qt(t,e){const n=ma;if(n===null)return t;const r=lm(n)||n.proxy,a=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,i,l,c=xr]=e[o];s&&(Pt(s)&&(s={mounted:s,updated:s}),s.deep&&ec(i),a.push({dir:s,instance:r,value:i,oldValue:void 0,arg:l,modifiers:c}))}return t}function kl(t,e,n,r){const a=t.dirs,o=e&&e.dirs;for(let s=0;s<a.length;s++){const i=a[s];o&&(i.oldValue=o[s].value);let l=i.dir[r];l&&(dd(),Lo(l,n,8,[t.el,i,t,e]),fd())}}function IA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yt(()=>{t.isMounted=!0}),Un(()=>{t.isUnmounting=!0}),t}const Co=[Function,Array],RA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Co,onEnter:Co,onAfterEnter:Co,onEnterCancelled:Co,onBeforeLeave:Co,onLeave:Co,onAfterLeave:Co,onLeaveCancelled:Co,onBeforeAppear:Co,onAppear:Co,onAfterAppear:Co,onAppearCancelled:Co},z7={name:"BaseTransition",props:RA,setup(t,{slots:e}){const n=nn(),r=IA();let a;return()=>{const o=e.default&&_b(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const g of o)if(g.type!==Da){s=g;break}}const i=zn(t),{mode:l}=i;if(r.isLeaving)return Cv(s);const c=hw(s);if(!c)return Cv(s);const u=Mf(c,i,r,n);Tf(c,u);const f=n.subTree,h=f&&hw(f);let p=!1;const{getTransitionKey:m}=c.type;if(m){const g=m();a===void 0?a=g:g!==a&&(a=g,p=!0)}if(h&&h.type!==Da&&(!Gl(c,h)||p)){const g=Mf(h,i,r,n);if(Tf(h,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Cv(s);l==="in-out"&&c.type!==Da&&(g.delayLeave=(y,v,A)=>{const w=kA(r,h);w[String(h.key)]=h,y._leaveCb=()=>{v(),y._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=A})}return s}}},U7=z7;function kA(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Mf(t,e,n,r){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:i,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:y,onAfterAppear:v,onAppearCancelled:A}=e,w=String(t.key),S=kA(n,t),C=(k,T)=>{k&&Lo(k,r,9,T)},E=(k,T)=>{const M=T[1];C(k,T),nt(k)?k.every(D=>D.length<=1)&&M():k.length<=1&&M()},I={mode:o,persisted:s,beforeEnter(k){let T=i;if(!n.isMounted)if(a)T=g||i;else return;k._leaveCb&&k._leaveCb(!0);const M=S[w];M&&Gl(t,M)&&M.el._leaveCb&&M.el._leaveCb(),C(T,[k])},enter(k){let T=l,M=c,D=u;if(!n.isMounted)if(a)T=y||l,M=v||c,D=A||u;else return;let B=!1;const z=k._enterCb=q=>{B||(B=!0,q?C(D,[k]):C(M,[k]),I.delayedLeave&&I.delayedLeave(),k._enterCb=void 0)};T?E(T,[k,z]):z()},leave(k,T){const M=String(t.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return T();C(f,[k]);let D=!1;const B=k._leaveCb=z=>{D||(D=!0,T(),z?C(m,[k]):C(p,[k]),k._leaveCb=void 0,S[M]===t&&delete S[M])};S[M]=t,h?E(h,[k,B]):B()},clone(k){return Mf(k,e,n,r)}};return I}function Cv(t){if(rm(t))return t=pi(t),t.children=null,t}function hw(t){return rm(t)?t.children?t.children[0]:void 0:t}function Tf(t,e){t.shapeFlag&6&&t.component?Tf(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _b(t,e=!1,n){let r=[],a=0;for(let o=0;o<t.length;o++){let s=t[o];const i=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Et?(s.patchFlag&128&&a++,r=r.concat(_b(s.children,e,i))):(e||s.type!==Da)&&r.push(i!=null?pi(s,{key:i}):s)}if(a>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function he(t,e){return Pt(t)?(()=>$r({name:t.name},e,{setup:t}))():t}const Jd=t=>!!t.type.__asyncLoader,rm=t=>t.type.__isKeepAlive;function wb(t,e){PA(t,"a",e)}function DA(t,e){PA(t,"da",e)}function PA(t,e,n=sa){const r=t.__wdc||(t.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(am(e,r,n),n){let a=n.parent;for(;a&&a.parent;)rm(a.parent.vnode)&&H7(r,e,n,a),a=a.parent}}function H7(t,e,n,r){const a=am(e,t,r,!0);wl(()=>{ib(r[e],a)},n)}function am(t,e,n=sa,r=!1){if(n){const a=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;dd(),Ou(n);const i=Lo(e,n,t,s);return dc(),fd(),i});return r?a.unshift(o):a.push(o),o}}const Si=t=>(e,n=sa)=>(!Rf||t==="sp")&&am(t,(...r)=>e(...r),n),om=Si("bm"),Yt=Si("m"),BA=Si("bu"),Fs=Si("u"),Un=Si("bum"),wl=Si("um"),$7=Si("sp"),V7=Si("rtg"),W7=Si("rtc");function G7(t,e=sa){am("ec",t,e)}const xb="components",K7="directives";function ct(t,e){return Cb(xb,t,!0,e)||t}const LA=Symbol.for("v-ndc");function ln(t){return Mt(t)?Cb(xb,t,!1)||t:t||LA}function sm(t){return Cb(K7,t)}function Cb(t,e,n=!0,r=!1){const a=ma||sa;if(a){const o=a.type;if(t===xb){const i=wk(o,!1);if(i&&(i===e||i===_o(e)||i===sh(_o(e))))return o}const s=pw(a[t]||o[t],e)||pw(a.appContext[t],e);return!s&&r?o:s}}function pw(t,e){return t&&(t[e]||t[_o(e)]||t[sh(_o(e))])}function fn(t,e,n,r){let a;const o=n&&n[r];if(nt(t)||Mt(t)){a=new Array(t.length);for(let s=0,i=t.length;s<i;s++)a[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){a=new Array(t);for(let s=0;s<t;s++)a[s]=e(s+1,s,void 0,o&&o[s])}else if(tn(t))if(t[Symbol.iterator])a=Array.from(t,(s,i)=>e(s,i,void 0,o&&o[i]));else{const s=Object.keys(t);a=new Array(s.length);for(let i=0,l=s.length;i<l;i++){const c=s[i];a[i]=e(t[c],c,i,o&&o[i])}}else a=[];return n&&(n[r]=a),a}function Oo(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(nt(r))for(let a=0;a<r.length;a++)t[r[a].name]=r[a].fn;else r&&(t[r.name]=r.key?(...a)=>{const o=r.fn(...a);return o&&(o.key=r.key),o}:r.fn)}return t}function Me(t,e,n={},r,a){if(ma.isCE||ma.parent&&Jd(ma.parent)&&ma.parent.isCE)return e!=="default"&&(n.name=e),J("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),N();const s=o&&NA(o(n)),i=Ue(Et,{key:n.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!a&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),o&&o._c&&(o._d=!0),i}function NA(t){return t.some(e=>ur(e)?!(e.type===Da||e.type===Et&&!NA(e.children)):!0)?t:null}function q7(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Zd(r)]=t[r];return n}const Yg=t=>t?jA(t)?lm(t)||t.proxy:Yg(t.parent):null,ef=$r(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yg(t.parent),$root:t=>Yg(t.root),$emit:t=>t.emit,$options:t=>Ab(t),$forceUpdate:t=>t.f||(t.f=()=>bb(t.update)),$nextTick:t=>t.n||(t.n=Bt.bind(t.proxy)),$watch:t=>O7.bind(t)}),Av=(t,e)=>t!==xr&&!t.__isScriptSetup&&xn(t,e),j7={get({_:t},e){const{ctx:n,setupState:r,data:a,props:o,accessCache:s,type:i,appContext:l}=t;let c;if(e[0]!=="$"){const p=s[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return a[e];case 4:return n[e];case 3:return o[e]}else{if(Av(r,e))return s[e]=1,r[e];if(a!==xr&&xn(a,e))return s[e]=2,a[e];if((c=t.propsOptions[0])&&xn(c,e))return s[e]=3,o[e];if(n!==xr&&xn(n,e))return s[e]=4,n[e];Xg&&(s[e]=0)}}const u=ef[e];let f,h;if(u)return e==="$attrs"&&Ja(t,"get",e),u(t);if((f=i.__cssModules)&&(f=f[e]))return f;if(n!==xr&&xn(n,e))return s[e]=4,n[e];if(h=l.config.globalProperties,xn(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:a,ctx:o}=t;return Av(a,e)?(a[e]=n,!0):r!==xr&&xn(r,e)?(r[e]=n,!0):xn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:a,propsOptions:o}},s){let i;return!!n[s]||t!==xr&&xn(t,s)||Av(e,s)||(i=o[0])&&xn(i,s)||xn(r,s)||xn(ef,s)||xn(a.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function zr(){return FA().slots}function xl(){return FA().attrs}function FA(){const t=nn();return t.setupContext||(t.setupContext=XA(t))}function mw(t){return nt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Xg=!0;function Y7(t){const e=Ab(t),n=t.proxy,r=t.ctx;Xg=!1,e.beforeCreate&&vw(e.beforeCreate,t,"bc");const{data:a,computed:o,methods:s,watch:i,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:p,updated:m,activated:g,deactivated:y,beforeDestroy:v,beforeUnmount:A,destroyed:w,unmounted:S,render:C,renderTracked:E,renderTriggered:I,errorCaptured:k,serverPrefetch:T,expose:M,inheritAttrs:D,components:B,directives:z,filters:q}=e;if(c&&X7(c,r,null),s)for(const W in s){const U=s[W];Pt(U)&&(r[W]=U.bind(n))}if(a){const W=a.call(n,n);tn(W)&&(t.data=Mn(W))}if(Xg=!0,o)for(const W in o){const U=o[W],F=Pt(U)?U.bind(n,n):Pt(U.get)?U.get.bind(n,n):Dn,Q=!Pt(U)&&Pt(U.set)?U.set.bind(n):Dn,ne=P({get:F,set:Q});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>ne.value,set:de=>ne.value=de})}if(i)for(const W in i)OA(i[W],r,n,W);if(l){const W=Pt(l)?l.call(n):l;Reflect.ownKeys(W).forEach(U=>{vn(U,W[U])})}u&&vw(u,t,"c");function L(W,U){nt(U)?U.forEach(F=>W(F.bind(n))):U&&W(U.bind(n))}if(L(om,f),L(Yt,h),L(BA,p),L(Fs,m),L(wb,g),L(DA,y),L(G7,k),L(W7,E),L(V7,I),L(Un,A),L(wl,S),L($7,T),nt(M))if(M.length){const W=t.exposed||(t.exposed={});M.forEach(U=>{Object.defineProperty(W,U,{get:()=>n[U],set:F=>n[U]=F})})}else t.exposed||(t.exposed={});C&&t.render===Dn&&(t.render=C),D!=null&&(t.inheritAttrs=D),B&&(t.components=B),z&&(t.directives=z)}function X7(t,e,n=Dn){nt(t)&&(t=Qg(t));for(const r in t){const a=t[r];let o;tn(a)?"default"in a?o=St(a.from||r,a.default,!0):o=St(a.from||r):o=St(a),jn(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function vw(t,e,n){Lo(nt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function OA(t,e,n,r){const a=r.includes(".")?TA(n,r):()=>n[r];if(Mt(t)){const o=e[t];Pt(o)&&Qe(a,o)}else if(Pt(t))Qe(a,t.bind(n));else if(tn(t))if(nt(t))t.forEach(o=>OA(o,e,n,r));else{const o=Pt(t.handler)?t.handler.bind(n):e[t.handler];Pt(o)&&Qe(a,o,t)}}function Ab(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,i=o.get(e);let l;return i?l=i:!a.length&&!n&&!r?l=e:(l={},a.length&&a.forEach(c=>mp(l,c,s,!0)),mp(l,e,s)),tn(e)&&o.set(e,l),l}function mp(t,e,n,r=!1){const{mixins:a,extends:o}=e;o&&mp(t,o,n,!0),a&&a.forEach(s=>mp(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const i=Q7[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const Q7={data:gw,props:yw,emits:yw,methods:qd,computed:qd,beforeCreate:La,created:La,beforeMount:La,mounted:La,beforeUpdate:La,updated:La,beforeDestroy:La,beforeUnmount:La,destroyed:La,unmounted:La,activated:La,deactivated:La,errorCaptured:La,serverPrefetch:La,components:qd,directives:qd,watch:J7,provide:gw,inject:Z7};function gw(t,e){return e?t?function(){return $r(Pt(t)?t.call(this,this):t,Pt(e)?e.call(this,this):e)}:e:t}function Z7(t,e){return qd(Qg(t),Qg(e))}function Qg(t){if(nt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function La(t,e){return t?[...new Set([].concat(t,e))]:e}function qd(t,e){return t?$r(Object.create(null),t,e):e}function yw(t,e){return t?nt(t)&&nt(e)?[...new Set([...t,...e])]:$r(Object.create(null),mw(t),mw(e??{})):e}function J7(t,e){if(!t)return e;if(!e)return t;const n=$r(Object.create(null),t);for(const r in e)n[r]=La(t[r],e[r]);return n}function zA(){return{app:null,config:{isNativeTag:TR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ek=0;function tk(t,e){return function(r,a=null){Pt(r)||(r=$r({},r)),a!=null&&!tn(a)&&(a=null);const o=zA(),s=new Set;let i=!1;const l=o.app={_uid:ek++,_component:r,_props:a,_container:null,_context:o,_instance:null,version:Ek,get config(){return o.config},set config(c){},use(c,...u){return s.has(c)||(c&&Pt(c.install)?(s.add(c),c.install(l,...u)):Pt(c)&&(s.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(!i){const h=J(r,a);return h.appContext=o,u&&e?e(h,c):t(h,c,f),i=!0,l._container=c,c.__vue_app__=l,lm(h.component)||h.component.proxy}},unmount(){i&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){vp=l;try{return c()}finally{vp=null}}};return l}}let vp=null;function vn(t,e){if(sa){let n=sa.provides;const r=sa.parent&&sa.parent.provides;r===n&&(n=sa.provides=Object.create(r)),n[t]=e}}function St(t,e,n=!1){const r=sa||ma;if(r||vp){const a=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:vp._context.provides;if(a&&t in a)return a[t];if(arguments.length>1)return n&&Pt(e)?e.call(r&&r.proxy):e}}function nk(t,e,n,r=!1){const a={},o={};dp(o,im,1),t.propsDefaults=Object.create(null),UA(t,e,a,o);for(const s in t.propsOptions[0])s in a||(a[s]=void 0);n?t.props=r?a:yA(a):t.type.props?t.props=a:t.props=o,t.attrs=o}function rk(t,e,n,r){const{props:a,attrs:o,vnode:{patchFlag:s}}=t,i=zn(a),[l]=t.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(tm(t.emitsOptions,h))continue;const p=e[h];if(l)if(xn(o,h))p!==o[h]&&(o[h]=p,c=!0);else{const m=_o(h);a[m]=Zg(l,i,m,p,t,!1)}else p!==o[h]&&(o[h]=p,c=!0)}}}else{UA(t,e,a,o)&&(c=!0);let u;for(const f in i)(!e||!xn(e,f)&&((u=_l(f))===f||!xn(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(a[f]=Zg(l,i,f,void 0,t,!0)):delete a[f]);if(o!==i)for(const f in o)(!e||!xn(e,f))&&(delete o[f],c=!0)}c&&hi(t,"set","$attrs")}function UA(t,e,n,r){const[a,o]=t.propsOptions;let s=!1,i;if(e)for(let l in e){if(O0(l))continue;const c=e[l];let u;a&&xn(a,u=_o(l))?!o||!o.includes(u)?n[u]=c:(i||(i={}))[u]=c:tm(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(o){const l=zn(n),c=i||xr;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Zg(a,l,f,c[f],t,!xn(c,f))}}return s}function Zg(t,e,n,r,a,o){const s=t[n];if(s!=null){const i=xn(s,"default");if(i&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Pt(l)){const{propsDefaults:c}=a;n in c?r=c[n]:(Ou(a),r=c[n]=l.call(null,e),dc())}else r=l}s[0]&&(o&&!i?r=!1:s[1]&&(r===""||r===_l(n))&&(r=!0))}return r}function HA(t,e,n=!1){const r=e.propsCache,a=r.get(t);if(a)return a;const o=t.props,s={},i=[];let l=!1;if(!Pt(t)){const u=f=>{l=!0;const[h,p]=HA(f,e,!0);$r(s,h),p&&i.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return tn(t)&&r.set(t,_u),_u;if(nt(o))for(let u=0;u<o.length;u++){const f=_o(o[u]);bw(f)&&(s[f]=xr)}else if(o)for(const u in o){const f=_o(u);if(bw(f)){const h=o[u],p=s[f]=nt(h)||Pt(h)?{type:h}:$r({},h);if(p){const m=ww(Boolean,p.type),g=ww(String,p.type);p[0]=m>-1,p[1]=g<0||m<g,(m>-1||xn(p,"default"))&&i.push(f)}}}const c=[s,i];return tn(t)&&r.set(t,c),c}function bw(t){return t[0]!=="$"}function Sw(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function _w(t,e){return Sw(t)===Sw(e)}function ww(t,e){return nt(e)?e.findIndex(n=>_w(n,t)):Pt(e)&&_w(e,t)?0:-1}const $A=t=>t[0]==="_"||t==="$stable",Eb=t=>nt(t)?t.map(bs):[bs(t)],ak=(t,e,n)=>{if(e._n)return e;const r=le((...a)=>Eb(e(...a)),n);return r._c=!1,r},VA=(t,e,n)=>{const r=t._ctx;for(const a in t){if($A(a))continue;const o=t[a];if(Pt(o))e[a]=ak(a,o,r);else if(o!=null){const s=Eb(o);e[a]=()=>s}}},WA=(t,e)=>{const n=Eb(e);t.slots.default=()=>n},ok=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=zn(e),dp(e,"_",n)):VA(e,t.slots={})}else t.slots={},e&&WA(t,e);dp(t.slots,im,1)},sk=(t,e,n)=>{const{vnode:r,slots:a}=t;let o=!0,s=xr;if(r.shapeFlag&32){const i=e._;i?n&&i===1?o=!1:($r(a,e),!n&&i===1&&delete a._):(o=!e.$stable,VA(e,a)),s=e}else e&&(WA(t,e),s={default:1});if(o)for(const i in a)!$A(i)&&!(i in s)&&delete a[i]};function Jg(t,e,n,r,a=!1){if(nt(t)){t.forEach((h,p)=>Jg(h,e&&(nt(e)?e[p]:e),n,r,a));return}if(Jd(r)&&!a)return;const o=r.shapeFlag&4?lm(r.component)||r.component.proxy:r.el,s=a?null:o,{i,r:l}=t,c=e&&e.r,u=i.refs===xr?i.refs={}:i.refs,f=i.setupState;if(c!=null&&c!==l&&(Mt(c)?(u[c]=null,xn(f,c)&&(f[c]=null)):jn(c)&&(c.value=null)),Pt(l))el(l,i,12,[s,u]);else{const h=Mt(l),p=jn(l);if(h||p){const m=()=>{if(t.f){const g=h?xn(f,l)?f[l]:u[l]:l.value;a?nt(g)&&ib(g,o):nt(g)?g.includes(o)||g.push(o):h?(u[l]=[o],xn(f,l)&&(f[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else h?(u[l]=s,xn(f,l)&&(f[l]=s)):p&&(l.value=s,t.k&&(u[t.k]=s))};s?(m.id=-1,ja(m,n)):m()}}}const ja=F7;function ik(t){return lk(t)}function lk(t,e){const n=Wg();n.__VUE__=!0;const{insert:r,remove:a,patchProp:o,createElement:s,createText:i,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:p=Dn,insertStaticContent:m}=t,g=(Z,me,oe,Ve=null,Le=null,ze=null,De=!1,Fe=null,Ge=!!me.dynamicChildren)=>{if(Z===me)return;Z&&!Gl(Z,me)&&(Ve=pe(Z),de(Z,Le,ze,!0),Z=null),me.patchFlag===-2&&(Ge=!1,me.dynamicChildren=null);const{type:ae,ref:te,shapeFlag:we}=me;switch(ae){case pd:y(Z,me,oe,Ve);break;case Da:v(Z,me,oe,Ve);break;case Ev:Z==null&&A(me,oe,Ve,De);break;case Et:B(Z,me,oe,Ve,Le,ze,De,Fe,Ge);break;default:we&1?C(Z,me,oe,Ve,Le,ze,De,Fe,Ge):we&6?z(Z,me,oe,Ve,Le,ze,De,Fe,Ge):(we&64||we&128)&&ae.process(Z,me,oe,Ve,Le,ze,De,Fe,Ge,Re)}te!=null&&Le&&Jg(te,Z&&Z.ref,ze,me||Z,!me)},y=(Z,me,oe,Ve)=>{if(Z==null)r(me.el=i(me.children),oe,Ve);else{const Le=me.el=Z.el;me.children!==Z.children&&c(Le,me.children)}},v=(Z,me,oe,Ve)=>{Z==null?r(me.el=l(me.children||""),oe,Ve):me.el=Z.el},A=(Z,me,oe,Ve)=>{[Z.el,Z.anchor]=m(Z.children,me,oe,Ve,Z.el,Z.anchor)},w=({el:Z,anchor:me},oe,Ve)=>{let Le;for(;Z&&Z!==me;)Le=h(Z),r(Z,oe,Ve),Z=Le;r(me,oe,Ve)},S=({el:Z,anchor:me})=>{let oe;for(;Z&&Z!==me;)oe=h(Z),a(Z),Z=oe;a(me)},C=(Z,me,oe,Ve,Le,ze,De,Fe,Ge)=>{De=De||me.type==="svg",Z==null?E(me,oe,Ve,Le,ze,De,Fe,Ge):T(Z,me,Le,ze,De,Fe,Ge)},E=(Z,me,oe,Ve,Le,ze,De,Fe)=>{let Ge,ae;const{type:te,props:we,shapeFlag:ye,transition:$e,dirs:je}=Z;if(Ge=Z.el=s(Z.type,ze,we&&we.is,we),ye&8?u(Ge,Z.children):ye&16&&k(Z.children,Ge,null,Ve,Le,ze&&te!=="foreignObject",De,Fe),je&&kl(Z,null,Ve,"created"),I(Ge,Z,Z.scopeId,De,Ve),we){for(const ut in we)ut!=="value"&&!O0(ut)&&o(Ge,ut,null,we[ut],ze,Z.children,Ve,Le,Ae);"value"in we&&o(Ge,"value",null,we.value),(ae=we.onVnodeBeforeMount)&&ys(ae,Ve,Z)}je&&kl(Z,null,Ve,"beforeMount");const yt=(!Le||Le&&!Le.pendingBranch)&&$e&&!$e.persisted;yt&&$e.beforeEnter(Ge),r(Ge,me,oe),((ae=we&&we.onVnodeMounted)||yt||je)&&ja(()=>{ae&&ys(ae,Ve,Z),yt&&$e.enter(Ge),je&&kl(Z,null,Ve,"mounted")},Le)},I=(Z,me,oe,Ve,Le)=>{if(oe&&p(Z,oe),Ve)for(let ze=0;ze<Ve.length;ze++)p(Z,Ve[ze]);if(Le){let ze=Le.subTree;if(me===ze){const De=Le.vnode;I(Z,De,De.scopeId,De.slotScopeIds,Le.parent)}}},k=(Z,me,oe,Ve,Le,ze,De,Fe,Ge=0)=>{for(let ae=Ge;ae<Z.length;ae++){const te=Z[ae]=Fe?Ki(Z[ae]):bs(Z[ae]);g(null,te,me,oe,Ve,Le,ze,De,Fe)}},T=(Z,me,oe,Ve,Le,ze,De)=>{const Fe=me.el=Z.el;let{patchFlag:Ge,dynamicChildren:ae,dirs:te}=me;Ge|=Z.patchFlag&16;const we=Z.props||xr,ye=me.props||xr;let $e;oe&&Dl(oe,!1),($e=ye.onVnodeBeforeUpdate)&&ys($e,oe,me,Z),te&&kl(me,Z,oe,"beforeUpdate"),oe&&Dl(oe,!0);const je=Le&&me.type!=="foreignObject";if(ae?M(Z.dynamicChildren,ae,Fe,oe,Ve,je,ze):De||U(Z,me,Fe,null,oe,Ve,je,ze,!1),Ge>0){if(Ge&16)D(Fe,me,we,ye,oe,Ve,Le);else if(Ge&2&&we.class!==ye.class&&o(Fe,"class",null,ye.class,Le),Ge&4&&o(Fe,"style",we.style,ye.style,Le),Ge&8){const yt=me.dynamicProps;for(let ut=0;ut<yt.length;ut++){const _t=yt[ut],Ft=we[_t],ht=ye[_t];(ht!==Ft||_t==="value")&&o(Fe,_t,Ft,ht,Le,Z.children,oe,Ve,Ae)}}Ge&1&&Z.children!==me.children&&u(Fe,me.children)}else!De&&ae==null&&D(Fe,me,we,ye,oe,Ve,Le);(($e=ye.onVnodeUpdated)||te)&&ja(()=>{$e&&ys($e,oe,me,Z),te&&kl(me,Z,oe,"updated")},Ve)},M=(Z,me,oe,Ve,Le,ze,De)=>{for(let Fe=0;Fe<me.length;Fe++){const Ge=Z[Fe],ae=me[Fe],te=Ge.el&&(Ge.type===Et||!Gl(Ge,ae)||Ge.shapeFlag&70)?f(Ge.el):oe;g(Ge,ae,te,null,Ve,Le,ze,De,!0)}},D=(Z,me,oe,Ve,Le,ze,De)=>{if(oe!==Ve){if(oe!==xr)for(const Fe in oe)!O0(Fe)&&!(Fe in Ve)&&o(Z,Fe,oe[Fe],null,De,me.children,Le,ze,Ae);for(const Fe in Ve){if(O0(Fe))continue;const Ge=Ve[Fe],ae=oe[Fe];Ge!==ae&&Fe!=="value"&&o(Z,Fe,ae,Ge,De,me.children,Le,ze,Ae)}"value"in Ve&&o(Z,"value",oe.value,Ve.value)}},B=(Z,me,oe,Ve,Le,ze,De,Fe,Ge)=>{const ae=me.el=Z?Z.el:i(""),te=me.anchor=Z?Z.anchor:i("");let{patchFlag:we,dynamicChildren:ye,slotScopeIds:$e}=me;$e&&(Fe=Fe?Fe.concat($e):$e),Z==null?(r(ae,oe,Ve),r(te,oe,Ve),k(me.children,oe,te,Le,ze,De,Fe,Ge)):we>0&&we&64&&ye&&Z.dynamicChildren?(M(Z.dynamicChildren,ye,oe,Le,ze,De,Fe),(me.key!=null||Le&&me===Le.subTree)&&Mb(Z,me,!0)):U(Z,me,oe,te,Le,ze,De,Fe,Ge)},z=(Z,me,oe,Ve,Le,ze,De,Fe,Ge)=>{me.slotScopeIds=Fe,Z==null?me.shapeFlag&512?Le.ctx.activate(me,oe,Ve,De,Ge):q(me,oe,Ve,Le,ze,De,Ge):$(Z,me,Ge)},q=(Z,me,oe,Ve,Le,ze,De)=>{const Fe=Z.component=yk(Z,Ve,Le);if(rm(Z)&&(Fe.ctx.renderer=Re),bk(Fe),Fe.asyncDep){if(Le&&Le.registerDep(Fe,L),!Z.el){const Ge=Fe.subTree=J(Da);v(null,Ge,me,oe)}return}L(Fe,Z,me,oe,Le,ze,De)},$=(Z,me,oe)=>{const Ve=me.component=Z.component;if(B7(Z,me,oe))if(Ve.asyncDep&&!Ve.asyncResolved){W(Ve,me,oe);return}else Ve.next=me,T7(Ve.update),Ve.update();else me.el=Z.el,Ve.vnode=me},L=(Z,me,oe,Ve,Le,ze,De)=>{const Fe=()=>{if(Z.isMounted){let{next:te,bu:we,u:ye,parent:$e,vnode:je}=Z,yt=te,ut;Dl(Z,!1),te?(te.el=je.el,W(Z,te,De)):te=je,we&&z0(we),(ut=te.props&&te.props.onVnodeBeforeUpdate)&&ys(ut,$e,te,je),Dl(Z,!0);const _t=xv(Z),Ft=Z.subTree;Z.subTree=_t,g(Ft,_t,f(Ft.el),pe(Ft),Z,Le,ze),te.el=_t.el,yt===null&&L7(Z,_t.el),ye&&ja(ye,Le),(ut=te.props&&te.props.onVnodeUpdated)&&ja(()=>ys(ut,$e,te,je),Le)}else{let te;const{el:we,props:ye}=me,{bm:$e,m:je,parent:yt}=Z,ut=Jd(me);if(Dl(Z,!1),$e&&z0($e),!ut&&(te=ye&&ye.onVnodeBeforeMount)&&ys(te,yt,me),Dl(Z,!0),we&&Ye){const _t=()=>{Z.subTree=xv(Z),Ye(we,Z.subTree,Z,Le,null)};ut?me.type.__asyncLoader().then(()=>!Z.isUnmounted&&_t()):_t()}else{const _t=Z.subTree=xv(Z);g(null,_t,oe,Ve,Z,Le,ze),me.el=_t.el}if(je&&ja(je,Le),!ut&&(te=ye&&ye.onVnodeMounted)){const _t=me;ja(()=>ys(te,yt,_t),Le)}(me.shapeFlag&256||yt&&Jd(yt.vnode)&&yt.vnode.shapeFlag&256)&&Z.a&&ja(Z.a,Le),Z.isMounted=!0,me=oe=Ve=null}},Ge=Z.effect=new ub(Fe,()=>bb(ae),Z.scope),ae=Z.update=()=>Ge.run();ae.id=Z.uid,Dl(Z,!0),ae()},W=(Z,me,oe)=>{me.component=Z;const Ve=Z.vnode.props;Z.vnode=me,Z.next=null,rk(Z,me.props,Ve,oe),sk(Z,me.children,oe),dd(),dw(),fd()},U=(Z,me,oe,Ve,Le,ze,De,Fe,Ge=!1)=>{const ae=Z&&Z.children,te=Z?Z.shapeFlag:0,we=me.children,{patchFlag:ye,shapeFlag:$e}=me;if(ye>0){if(ye&128){Q(ae,we,oe,Ve,Le,ze,De,Fe,Ge);return}else if(ye&256){F(ae,we,oe,Ve,Le,ze,De,Fe,Ge);return}}$e&8?(te&16&&Ae(ae,Le,ze),we!==ae&&u(oe,we)):te&16?$e&16?Q(ae,we,oe,Ve,Le,ze,De,Fe,Ge):Ae(ae,Le,ze,!0):(te&8&&u(oe,""),$e&16&&k(we,oe,Ve,Le,ze,De,Fe,Ge))},F=(Z,me,oe,Ve,Le,ze,De,Fe,Ge)=>{Z=Z||_u,me=me||_u;const ae=Z.length,te=me.length,we=Math.min(ae,te);let ye;for(ye=0;ye<we;ye++){const $e=me[ye]=Ge?Ki(me[ye]):bs(me[ye]);g(Z[ye],$e,oe,null,Le,ze,De,Fe,Ge)}ae>te?Ae(Z,Le,ze,!0,!1,we):k(me,oe,Ve,Le,ze,De,Fe,Ge,we)},Q=(Z,me,oe,Ve,Le,ze,De,Fe,Ge)=>{let ae=0;const te=me.length;let we=Z.length-1,ye=te-1;for(;ae<=we&&ae<=ye;){const $e=Z[ae],je=me[ae]=Ge?Ki(me[ae]):bs(me[ae]);if(Gl($e,je))g($e,je,oe,null,Le,ze,De,Fe,Ge);else break;ae++}for(;ae<=we&&ae<=ye;){const $e=Z[we],je=me[ye]=Ge?Ki(me[ye]):bs(me[ye]);if(Gl($e,je))g($e,je,oe,null,Le,ze,De,Fe,Ge);else break;we--,ye--}if(ae>we){if(ae<=ye){const $e=ye+1,je=$e<te?me[$e].el:Ve;for(;ae<=ye;)g(null,me[ae]=Ge?Ki(me[ae]):bs(me[ae]),oe,je,Le,ze,De,Fe,Ge),ae++}}else if(ae>ye)for(;ae<=we;)de(Z[ae],Le,ze,!0),ae++;else{const $e=ae,je=ae,yt=new Map;for(ae=je;ae<=ye;ae++){const ke=me[ae]=Ge?Ki(me[ae]):bs(me[ae]);ke.key!=null&&yt.set(ke.key,ae)}let ut,_t=0;const Ft=ye-je+1;let ht=!1,X=0;const He=new Array(Ft);for(ae=0;ae<Ft;ae++)He[ae]=0;for(ae=$e;ae<=we;ae++){const ke=Z[ae];if(_t>=Ft){de(ke,Le,ze,!0);continue}let fe;if(ke.key!=null)fe=yt.get(ke.key);else for(ut=je;ut<=ye;ut++)if(He[ut-je]===0&&Gl(ke,me[ut])){fe=ut;break}fe===void 0?de(ke,Le,ze,!0):(He[fe-je]=ae+1,fe>=X?X=fe:ht=!0,g(ke,me[fe],oe,null,Le,ze,De,Fe,Ge),_t++)}const ve=ht?ck(He):_u;for(ut=ve.length-1,ae=Ft-1;ae>=0;ae--){const ke=je+ae,fe=me[ke],tt=ke+1<te?me[ke+1].el:Ve;He[ae]===0?g(null,fe,oe,tt,Le,ze,De,Fe,Ge):ht&&(ut<0||ae!==ve[ut]?ne(fe,oe,tt,2):ut--)}}},ne=(Z,me,oe,Ve,Le=null)=>{const{el:ze,type:De,transition:Fe,children:Ge,shapeFlag:ae}=Z;if(ae&6){ne(Z.component.subTree,me,oe,Ve);return}if(ae&128){Z.suspense.move(me,oe,Ve);return}if(ae&64){De.move(Z,me,oe,Re);return}if(De===Et){r(ze,me,oe);for(let we=0;we<Ge.length;we++)ne(Ge[we],me,oe,Ve);r(Z.anchor,me,oe);return}if(De===Ev){w(Z,me,oe);return}if(Ve!==2&&ae&1&&Fe)if(Ve===0)Fe.beforeEnter(ze),r(ze,me,oe),ja(()=>Fe.enter(ze),Le);else{const{leave:we,delayLeave:ye,afterLeave:$e}=Fe,je=()=>r(ze,me,oe),yt=()=>{we(ze,()=>{je(),$e&&$e()})};ye?ye(ze,je,yt):yt()}else r(ze,me,oe)},de=(Z,me,oe,Ve=!1,Le=!1)=>{const{type:ze,props:De,ref:Fe,children:Ge,dynamicChildren:ae,shapeFlag:te,patchFlag:we,dirs:ye}=Z;if(Fe!=null&&Jg(Fe,null,oe,Z,!0),te&256){me.ctx.deactivate(Z);return}const $e=te&1&&ye,je=!Jd(Z);let yt;if(je&&(yt=De&&De.onVnodeBeforeUnmount)&&ys(yt,me,Z),te&6)ge(Z.component,oe,Ve);else{if(te&128){Z.suspense.unmount(oe,Ve);return}$e&&kl(Z,null,me,"beforeUnmount"),te&64?Z.type.remove(Z,me,oe,Le,Re,Ve):ae&&(ze!==Et||we>0&&we&64)?Ae(ae,me,oe,!1,!0):(ze===Et&&we&384||!Le&&te&16)&&Ae(Ge,me,oe),Ve&&ie(Z)}(je&&(yt=De&&De.onVnodeUnmounted)||$e)&&ja(()=>{yt&&ys(yt,me,Z),$e&&kl(Z,null,me,"unmounted")},oe)},ie=Z=>{const{type:me,el:oe,anchor:Ve,transition:Le}=Z;if(me===Et){ce(oe,Ve);return}if(me===Ev){S(Z);return}const ze=()=>{a(oe),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(Z.shapeFlag&1&&Le&&!Le.persisted){const{leave:De,delayLeave:Fe}=Le,Ge=()=>De(oe,ze);Fe?Fe(Z.el,ze,Ge):Ge()}else ze()},ce=(Z,me)=>{let oe;for(;Z!==me;)oe=h(Z),a(Z),Z=oe;a(me)},ge=(Z,me,oe)=>{const{bum:Ve,scope:Le,update:ze,subTree:De,um:Fe}=Z;Ve&&z0(Ve),Le.stop(),ze&&(ze.active=!1,de(De,Z,me,oe)),Fe&&ja(Fe,me),ja(()=>{Z.isUnmounted=!0},me),me&&me.pendingBranch&&!me.isUnmounted&&Z.asyncDep&&!Z.asyncResolved&&Z.suspenseId===me.pendingId&&(me.deps--,me.deps===0&&me.resolve())},Ae=(Z,me,oe,Ve=!1,Le=!1,ze=0)=>{for(let De=ze;De<Z.length;De++)de(Z[De],me,oe,Ve,Le)},pe=Z=>Z.shapeFlag&6?pe(Z.component.subTree):Z.shapeFlag&128?Z.suspense.next():h(Z.anchor||Z.el),Ie=(Z,me,oe)=>{Z==null?me._vnode&&de(me._vnode,null,null,!0):g(me._vnode||null,Z,me,null,null,null,oe),dw(),AA(),me._vnode=Z},Re={p:g,um:de,m:ne,r:ie,mt:q,mc:k,pc:U,pbc:M,n:pe,o:t};let Je,Ye;return e&&([Je,Ye]=e(Re)),{render:Ie,hydrate:Je,createApp:tk(Ie,Je)}}function Dl({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Mb(t,e,n=!1){const r=t.children,a=e.children;if(nt(r)&&nt(a))for(let o=0;o<r.length;o++){const s=r[o];let i=a[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=a[o]=Ki(a[o]),i.el=s.el),n||Mb(s,i)),i.type===pd&&(i.el=s.el)}}function ck(t){const e=t.slice(),n=[0];let r,a,o,s,i;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(a=n[n.length-1],t[a]<c){e[r]=a,n.push(r);continue}for(o=0,s=n.length-1;o<s;)i=o+s>>1,t[n[i]]<c?o=i+1:s=i;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const uk=t=>t.__isTeleport,tf=t=>t&&(t.disabled||t.disabled===""),xw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,e1=(t,e)=>{const n=t&&t.to;return Mt(n)?e?e(n):null:n},dk={__isTeleport:!0,process(t,e,n,r,a,o,s,i,l,c){const{mc:u,pc:f,pbc:h,o:{insert:p,querySelector:m,createText:g,createComment:y}}=c,v=tf(e.props);let{shapeFlag:A,children:w,dynamicChildren:S}=e;if(t==null){const C=e.el=g(""),E=e.anchor=g("");p(C,n,r),p(E,n,r);const I=e.target=e1(e.props,m),k=e.targetAnchor=g("");I&&(p(k,I),s=s||xw(I));const T=(M,D)=>{A&16&&u(w,M,D,a,o,s,i,l)};v?T(n,E):I&&T(I,k)}else{e.el=t.el;const C=e.anchor=t.anchor,E=e.target=t.target,I=e.targetAnchor=t.targetAnchor,k=tf(t.props),T=k?n:E,M=k?C:I;if(s=s||xw(E),S?(h(t.dynamicChildren,S,T,a,o,s,i),Mb(t,e,!0)):l||f(t,e,T,M,a,o,s,i,!1),v)k||Vh(e,n,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=e1(e.props,m);D&&Vh(e,D,null,c,0)}else k&&Vh(e,E,I,c,1)}GA(e)},remove(t,e,n,r,{um:a,o:{remove:o}},s){const{shapeFlag:i,children:l,anchor:c,targetAnchor:u,target:f,props:h}=t;if(f&&o(u),(s||!tf(h))&&(o(c),i&16))for(let p=0;p<l.length;p++){const m=l[p];a(m,e,n,!0,!!m.dynamicChildren)}},move:Vh,hydrate:fk};function Vh(t,e,n,{o:{insert:r},m:a},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:i,shapeFlag:l,children:c,props:u}=t,f=o===2;if(f&&r(s,e,n),(!f||tf(u))&&l&16)for(let h=0;h<c.length;h++)a(c[h],e,n,2);f&&r(i,e,n)}function fk(t,e,n,r,a,o,{o:{nextSibling:s,parentNode:i,querySelector:l}},c){const u=e.target=e1(e.props,l);if(u){const f=u._lpa||u.firstChild;if(e.shapeFlag&16)if(tf(e.props))e.anchor=c(s(t),e,i(t),n,r,a,o),e.targetAnchor=f;else{e.anchor=s(t);let h=f;for(;h;)if(h=s(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(f,e,u,n,r,a,o)}GA(e)}return e.anchor&&s(e.anchor)}const hk=dk;function GA(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Et=Symbol.for("v-fgt"),pd=Symbol.for("v-txt"),Da=Symbol.for("v-cmt"),Ev=Symbol.for("v-stc"),nf=[];let rs=null;function N(t=!1){nf.push(rs=t?null:[])}function pk(){nf.pop(),rs=nf[nf.length-1]||null}let If=1;function Cw(t){If+=t}function KA(t){return t.dynamicChildren=If>0?rs||_u:null,pk(),If>0&&rs&&rs.push(t),t}function ee(t,e,n,r,a,o){return KA(re(t,e,n,r,a,o,!0))}function Ue(t,e,n,r,a){return KA(J(t,e,n,r,a,!0))}function ur(t){return t?t.__v_isVNode===!0:!1}function Gl(t,e){return t.type===e.type&&t.key===e.key}const im="__vInternal",qA=({key:t})=>t??null,U0=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Mt(t)||jn(t)||Pt(t)?{i:ma,r:t,k:e,f:!!n}:t:null);function re(t,e=null,n=null,r=0,a=null,o=t===Et?0:1,s=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qA(e),ref:e&&U0(e),scopeId:nm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:ma};return i?(Tb(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Mt(n)?8:16),If>0&&!s&&rs&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&rs.push(l),l}const J=mk;function mk(t,e=null,n=null,r=0,a=null,o=!1){if((!t||t===LA)&&(t=Da),ur(t)){const i=pi(t,e,!0);return n&&Tb(i,n),If>0&&!o&&rs&&(i.shapeFlag&6?rs[rs.indexOf(t)]=i:rs.push(i)),i.patchFlag|=-2,i}if(xk(t)&&(t=t.__vccOpts),e){e=ul(e);let{class:i,style:l}=e;i&&!Mt(i)&&(e.class=V(i)),tn(l)&&(bA(l)&&!nt(l)&&(l=$r({},l)),e.style=bt(l))}const s=Mt(t)?1:N7(t)?128:uk(t)?64:tn(t)?4:Pt(t)?2:0;return re(t,e,n,r,a,s,o,!0)}function ul(t){return t?bA(t)||im in t?$r({},t):t:null}function pi(t,e,n=!1){const{props:r,ref:a,patchFlag:o,children:s}=t,i=e?un(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:i,key:i&&qA(i),ref:e&&e.ref?n&&a?nt(a)?a.concat(U0(e)):[a,U0(e)]:U0(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Et?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pi(t.ssContent),ssFallback:t.ssFallback&&pi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Zt(t=" ",e=0){return J(pd,null,t,e)}function Te(t="",e=!1){return e?(N(),Ue(Da,null,t)):J(Da,null,t)}function bs(t){return t==null||typeof t=="boolean"?J(Da):nt(t)?J(Et,null,t.slice()):typeof t=="object"?Ki(t):J(pd,null,String(t))}function Ki(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:pi(t)}function Tb(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(nt(e))n=16;else if(typeof e=="object")if(r&65){const a=e.default;a&&(a._c&&(a._d=!1),Tb(t,a()),a._c&&(a._d=!0));return}else{n=32;const a=e._;!a&&!(im in e)?e._ctx=ma:a===3&&ma&&(ma.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Pt(e)?(e={default:e,_ctx:ma},n=32):(e=String(e),r&64?(n=16,e=[Zt(e)]):n=8);t.children=e,t.shapeFlag|=n}function un(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const a in r)if(a==="class")e.class!==r.class&&(e.class=V([e.class,r.class]));else if(a==="style")e.style=bt([e.style,r.style]);else if(Xp(a)){const o=e[a],s=r[a];s&&o!==s&&!(nt(o)&&o.includes(s))&&(e[a]=o?[].concat(o,s):s)}else a!==""&&(e[a]=r[a])}return e}function ys(t,e,n,r=null){Lo(t,e,7,[n,r])}const vk=zA();let gk=0;function yk(t,e,n){const r=t.type,a=(e?e.appContext:t.appContext)||vk,o={uid:gk++,vnode:t,type:r,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new oA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:HA(r,a),emitsOptions:MA(r,a),emit:null,emitted:null,propsDefaults:xr,inheritAttrs:r.inheritAttrs,ctx:xr,data:xr,props:xr,attrs:xr,slots:xr,refs:xr,setupState:xr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=k7.bind(null,o),t.ce&&t.ce(o),o}let sa=null;const nn=()=>sa||ma;let Ib,Nc,Aw="__VUE_INSTANCE_SETTERS__";(Nc=Wg()[Aw])||(Nc=Wg()[Aw]=[]),Nc.push(t=>sa=t),Ib=t=>{Nc.length>1?Nc.forEach(e=>e(t)):Nc[0](t)};const Ou=t=>{Ib(t),t.scope.on()},dc=()=>{sa&&sa.scope.off(),Ib(null)};function jA(t){return t.vnode.shapeFlag&4}let Rf=!1;function bk(t,e=!1){Rf=e;const{props:n,children:r}=t.vnode,a=jA(t);nk(t,n,a,e),ok(t,r);const o=a?Sk(t,e):void 0;return Rf=!1,o}function Sk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=di(new Proxy(t.ctx,j7));const{setup:r}=n;if(r){const a=t.setupContext=r.length>1?XA(t):null;Ou(t),dd();const o=el(r,t,0,[t.props,a]);if(fd(),dc(),_f(o)){if(o.then(dc,dc),e)return o.then(s=>{Ew(t,s,e)}).catch(s=>{em(s,t,0)});t.asyncDep=o}else Ew(t,o,e)}else YA(t,e)}function Ew(t,e,n){Pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:tn(e)&&(t.setupState=_A(e)),YA(t,n)}let Mw;function YA(t,e,n){const r=t.type;if(!t.render){if(!e&&Mw&&!r.render){const a=r.template||Ab(t).template;if(a){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:i,compilerOptions:l}=r,c=$r($r({isCustomElement:o,delimiters:i},s),l);r.render=Mw(a,c)}}t.render=r.render||Dn}Ou(t),dd(),Y7(t),fd(),dc()}function _k(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ja(t,"get","$attrs"),e[n]}}))}function XA(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return _k(t)},slots:t.slots,emit:t.emit,expose:e}}function lm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(_A(di(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ef)return ef[n](t)},has(e,n){return n in e||n in ef}}))}function wk(t,e=!0){return Pt(t)?t.displayName||t.name:t.name||e&&t.__name}function xk(t){return Pt(t)&&"__vccOpts"in t}const P=(t,e)=>C7(t,e,Rf);function Lt(t,e,n){const r=arguments.length;return r===2?tn(e)&&!nt(e)?ur(e)?J(t,null,[e]):J(t,e):J(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ur(n)&&(n=[n]),J(t,e,n))}const Ck=Symbol.for("v-scx"),Ak=()=>St(Ck),Ek="3.3.4",Mk="http://www.w3.org/2000/svg",Kl=typeof document<"u"?document:null,Tw=Kl&&Kl.createElement("template"),Tk={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const a=e?Kl.createElementNS(Mk,t):Kl.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:t=>Kl.createTextNode(t),createComment:t=>Kl.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Kl.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,a,o){const s=n?n.previousSibling:e.lastChild;if(a&&(a===o||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{Tw.innerHTML=r?`<svg>${t}</svg>`:t;const i=Tw.content;if(r){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}e.insertBefore(i,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Ik(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Rk(t,e,n){const r=t.style,a=Mt(n);if(n&&!a){if(e&&!Mt(e))for(const o in e)n[o]==null&&t1(r,o,"");for(const o in n)t1(r,o,n[o])}else{const o=r.display;a?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const Iw=/\s*!important$/;function t1(t,e,n){if(nt(n))n.forEach(r=>t1(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=kk(t,e);Iw.test(n)?t.setProperty(_l(r),n.replace(Iw,""),"important"):t[r]=n}}const Rw=["Webkit","Moz","ms"],Mv={};function kk(t,e){const n=Mv[e];if(n)return n;let r=_o(e);if(r!=="filter"&&r in t)return Mv[e]=r;r=sh(r);for(let a=0;a<Rw.length;a++){const o=Rw[a]+r;if(o in t)return Mv[e]=o}return e}const kw="http://www.w3.org/1999/xlink";function Dk(t,e,n,r,a){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(kw,e.slice(6,e.length)):t.setAttributeNS(kw,e,n);else{const o=UR(e);n==null||o&&!nA(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function Pk(t,e,n,r,a,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,a,o),t[e]=n??"";return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){t._value=n;const c=i==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=nA(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Yi(t,e,n,r){t.addEventListener(e,n,r)}function Bk(t,e,n,r){t.removeEventListener(e,n,r)}function Lk(t,e,n,r,a=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[i,l]=Nk(e);if(r){const c=o[e]=zk(r,a);Yi(t,i,c,l)}else s&&(Bk(t,i,s,l),o[e]=void 0)}}const Dw=/(?:Once|Passive|Capture)$/;function Nk(t){let e;if(Dw.test(t)){e={};let r;for(;r=t.match(Dw);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_l(t.slice(2)),e]}let Tv=0;const Fk=Promise.resolve(),Ok=()=>Tv||(Fk.then(()=>Tv=0),Tv=Date.now());function zk(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Lo(Uk(r,n.value),e,5,[r])};return n.value=t,n.attached=Ok(),n}function Uk(t,e){if(nt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>a=>!a._stopped&&r&&r(a))}else return e}const Pw=/^on[a-z]/,Hk=(t,e,n,r,a=!1,o,s,i,l)=>{e==="class"?Ik(t,r,a):e==="style"?Rk(t,n,r):Xp(e)?sb(e)||Lk(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$k(t,e,r,a))?Pk(t,e,r,o,s,i,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Dk(t,e,r,a))};function $k(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Pw.test(e)&&Pt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Pw.test(e)&&Mt(n)?!1:e in t}const Di="transition",Ld="animation",Vr=(t,{slots:e})=>Lt(U7,ZA(t),e);Vr.displayName="Transition";const QA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Vk=Vr.props=$r({},RA,QA),Pl=(t,e=[])=>{nt(t)?t.forEach(n=>n(...e)):t&&t(...e)},Bw=t=>t?nt(t)?t.some(e=>e.length>1):t.length>1:!1;function ZA(t){const e={};for(const B in t)B in QA||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:r,duration:a,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:i=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:u=i,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=Wk(a),g=m&&m[0],y=m&&m[1],{onBeforeEnter:v,onEnter:A,onEnterCancelled:w,onLeave:S,onLeaveCancelled:C,onBeforeAppear:E=v,onAppear:I=A,onAppearCancelled:k=w}=e,T=(B,z,q)=>{$i(B,z?u:i),$i(B,z?c:s),q&&q()},M=(B,z)=>{B._isLeaving=!1,$i(B,f),$i(B,p),$i(B,h),z&&z()},D=B=>(z,q)=>{const $=B?I:A,L=()=>T(z,B,q);Pl($,[z,L]),Lw(()=>{$i(z,B?l:o),ei(z,B?u:i),Bw($)||Nw(z,r,g,L)})};return $r(e,{onBeforeEnter(B){Pl(v,[B]),ei(B,o),ei(B,s)},onBeforeAppear(B){Pl(E,[B]),ei(B,l),ei(B,c)},onEnter:D(!1),onAppear:D(!0),onLeave(B,z){B._isLeaving=!0;const q=()=>M(B,z);ei(B,f),eE(),ei(B,h),Lw(()=>{B._isLeaving&&($i(B,f),ei(B,p),Bw(S)||Nw(B,r,y,q))}),Pl(S,[B,q])},onEnterCancelled(B){T(B,!1),Pl(w,[B])},onAppearCancelled(B){T(B,!0),Pl(k,[B])},onLeaveCancelled(B){M(B),Pl(C,[B])}})}function Wk(t){if(t==null)return null;if(tn(t))return[Iv(t.enter),Iv(t.leave)];{const e=Iv(t);return[e,e]}}function Iv(t){return BR(t)}function ei(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function $i(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Lw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Gk=0;function Nw(t,e,n,r){const a=t._endId=++Gk,o=()=>{a===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:i,propCount:l}=JA(t,e);if(!s)return r();const c=s+"end";let u=0;const f=()=>{t.removeEventListener(c,h),o()},h=p=>{p.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},i+1),t.addEventListener(c,h)}function JA(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),a=r(`${Di}Delay`),o=r(`${Di}Duration`),s=Fw(a,o),i=r(`${Ld}Delay`),l=r(`${Ld}Duration`),c=Fw(i,l);let u=null,f=0,h=0;e===Di?s>0&&(u=Di,f=s,h=o.length):e===Ld?c>0&&(u=Ld,f=c,h=l.length):(f=Math.max(s,c),u=f>0?s>c?Di:Ld:null,h=u?u===Di?o.length:l.length:0);const p=u===Di&&/\b(transform|all)(,|$)/.test(r(`${Di}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:p}}function Fw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Ow(n)+Ow(t[r])))}function Ow(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function eE(){return document.body.offsetHeight}const tE=new WeakMap,nE=new WeakMap,rE={name:"TransitionGroup",props:$r({},Vk,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=nn(),r=IA();let a,o;return Fs(()=>{if(!a.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!Xk(a[0].el,n.vnode.el,s))return;a.forEach(qk),a.forEach(jk);const i=a.filter(Yk);eE(),i.forEach(l=>{const c=l.el,u=c.style;ei(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const f=c._moveCb=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,$i(c,s))};c.addEventListener("transitionend",f)})}),()=>{const s=zn(t),i=ZA(s);let l=s.tag||Et;a=o,o=e.default?_b(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&Tf(u,Mf(u,i,r,n))}if(a)for(let c=0;c<a.length;c++){const u=a[c];Tf(u,Mf(u,i,r,n)),tE.set(u,u.el.getBoundingClientRect())}return J(l,null,o)}}},Kk=t=>delete t.mode;rE.props;const aE=rE;function qk(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function jk(t){nE.set(t,t.el.getBoundingClientRect())}function Yk(t){const e=tE.get(t),n=nE.get(t),r=e.left-n.left,a=e.top-n.top;if(r||a){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${a}px)`,o.transitionDuration="0s",t}}function Xk(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(i=>i&&r.classList.remove(i))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(r);const{hasTransform:o}=JA(r);return a.removeChild(r),o}const zu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return nt(e)?n=>z0(e,n):e};function Qk(t){t.target.composing=!0}function zw(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cm={created(t,{modifiers:{lazy:e,trim:n,number:r}},a){t._assign=zu(a);const o=r||a.props&&a.props.type==="number";Yi(t,e?"change":"input",s=>{if(s.target.composing)return;let i=t.value;n&&(i=i.trim()),o&&(i=Vg(i)),t._assign(i)}),n&&Yi(t,"change",()=>{t.value=t.value.trim()}),e||(Yi(t,"compositionstart",Qk),Yi(t,"compositionend",zw),Yi(t,"change",zw))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:a}},o){if(t._assign=zu(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(a||t.type==="number")&&Vg(t.value)===e))return;const s=e??"";t.value!==s&&(t.value=s)}},gp={deep:!0,created(t,e,n){t._assign=zu(n),Yi(t,"change",()=>{const r=t._modelValue,a=sE(t),o=t.checked,s=t._assign;if(nt(r)){const i=rA(r,a),l=i!==-1;if(o&&!l)s(r.concat(a));else if(!o&&l){const c=[...r];c.splice(i,1),s(c)}}else if(Qp(r)){const i=new Set(r);o?i.add(a):i.delete(a),s(i)}else s(iE(t,o))})},mounted:Uw,beforeUpdate(t,e,n){t._assign=zu(n),Uw(t,e,n)}};function Uw(t,{value:e,oldValue:n},r){t._modelValue=e,nt(e)?t.checked=rA(e,r.props.value)>-1:Qp(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Nu(e,iE(t,!0)))}const oE={created(t,{value:e},n){t.checked=Nu(e,n.props.value),t._assign=zu(n),Yi(t,"change",()=>{t._assign(sE(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=zu(r),e!==n&&(t.checked=Nu(e,r.props.value))}};function sE(t){return"_value"in t?t._value:t.value}function iE(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Zk=["ctrl","shift","alt","meta"],Jk={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Zk.some(n=>t[`${n}Key`]&&!e.includes(n))},zt=(t,e)=>(n,...r)=>{for(let a=0;a<e.length;a++){const o=Jk[e[a]];if(o&&o(n,e))return}return t(n,...r)},eD={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vn=(t,e)=>n=>{if(!("key"in n))return;const r=_l(n.key);if(e.some(a=>a===r||eD[a]===r))return t(n)},En={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Nd(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Nd(t,!0),r.enter(t)):r.leave(t,()=>{Nd(t,!1)}):Nd(t,e))},beforeUnmount(t,{value:e}){Nd(t,e)}};function Nd(t,e){t.style.display=e?t._vod:"none"}const tD=$r({patchProp:Hk},Tk);let Hw;function lE(){return Hw||(Hw=ik(tD))}const dl=(...t)=>{lE().render(...t)},cE=(...t)=>{const e=lE().createApp(...t),{mount:n}=e;return e.mount=r=>{const a=nD(r);if(!a)return;const o=e._component;!Pt(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.innerHTML="";const s=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},e};function nD(t){return Mt(t)?document.querySelector(t):t}const rD="2.9.1",$w=Symbol("INSTALLED_KEY"),uE=Symbol(),rf="el",aD="is-",Bl=(t,e,n,r,a)=>{let o=`${t}-${e}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),a&&(o+=`--${a}`),o},dE=Symbol("namespaceContextKey"),Rb=t=>{const e=t||(nn()?St(dE,j(rf)):j(rf));return P(()=>d(e)||rf)},Ze=(t,e)=>{const n=Rb(e);return{namespace:n,b:(g="")=>Bl(n.value,t,g,"",""),e:g=>g?Bl(n.value,t,"",g,""):"",m:g=>g?Bl(n.value,t,"","",g):"",be:(g,y)=>g&&y?Bl(n.value,t,g,y,""):"",em:(g,y)=>g&&y?Bl(n.value,t,"",g,y):"",bm:(g,y)=>g&&y?Bl(n.value,t,g,"",y):"",bem:(g,y,v)=>g&&y&&v?Bl(n.value,t,g,y,v):"",is:(g,...y)=>{const v=y.length>=1?y[0]:!0;return g&&v?`${aD}${g}`:""},cssVar:g=>{const y={};for(const v in g)g[v]&&(y[`--${n.value}-${v}`]=g[v]);return y},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const y={};for(const v in g)g[v]&&(y[`--${n.value}-${t}-${v}`]=g[v]);return y},cssVarBlockName:g=>`--${n.value}-${t}-${g}`}};var oD=typeof global=="object"&&global&&global.Object===Object&&global;const fE=oD;var sD=typeof self=="object"&&self&&self.Object===Object&&self,iD=fE||sD||Function("return this")();const us=iD;var lD=us.Symbol;const zo=lD;var hE=Object.prototype,cD=hE.hasOwnProperty,uD=hE.toString,Fd=zo?zo.toStringTag:void 0;function dD(t){var e=cD.call(t,Fd),n=t[Fd];try{t[Fd]=void 0;var r=!0}catch{}var a=uD.call(t);return r&&(e?t[Fd]=n:delete t[Fd]),a}var fD=Object.prototype,hD=fD.toString;function pD(t){return hD.call(t)}var mD="[object Null]",vD="[object Undefined]",Vw=zo?zo.toStringTag:void 0;function Ec(t){return t==null?t===void 0?vD:mD:Vw&&Vw in Object(t)?dD(t):pD(t)}function Ts(t){return t!=null&&typeof t=="object"}var gD="[object Symbol]";function um(t){return typeof t=="symbol"||Ts(t)&&Ec(t)==gD}function kb(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}var yD=Array.isArray;const Va=yD;var bD=1/0,Ww=zo?zo.prototype:void 0,Gw=Ww?Ww.toString:void 0;function pE(t){if(typeof t=="string")return t;if(Va(t))return kb(t,pE)+"";if(um(t))return Gw?Gw.call(t):"";var e=t+"";return e=="0"&&1/t==-bD?"-0":e}var SD=/\s/;function _D(t){for(var e=t.length;e--&&SD.test(t.charAt(e)););return e}var wD=/^\s+/;function xD(t){return t&&t.slice(0,_D(t)+1).replace(wD,"")}function Wa(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Kw=0/0,CD=/^[-+]0x[0-9a-f]+$/i,AD=/^0b[01]+$/i,ED=/^0o[0-7]+$/i,MD=parseInt;function n1(t){if(typeof t=="number")return t;if(um(t))return Kw;if(Wa(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wa(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xD(t);var n=AD.test(t);return n||ED.test(t)?MD(t.slice(2),n?2:8):CD.test(t)?Kw:+t}var qw=1/0,TD=17976931348623157e292;function ID(t){if(!t)return t===0?t:0;if(t=n1(t),t===qw||t===-qw){var e=t<0?-1:1;return e*TD}return t===t?t:0}function RD(t){var e=ID(t),n=e%1;return e===e?n?e-n:e:0}function Db(t){return t}var kD="[object AsyncFunction]",DD="[object Function]",PD="[object GeneratorFunction]",BD="[object Proxy]";function Pb(t){if(!Wa(t))return!1;var e=Ec(t);return e==DD||e==PD||e==kD||e==BD}var LD=us["__core-js_shared__"];const Rv=LD;var jw=function(){var t=/[^.]+$/.exec(Rv&&Rv.keys&&Rv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ND(t){return!!jw&&jw in t}var FD=Function.prototype,OD=FD.toString;function Mc(t){if(t!=null){try{return OD.call(t)}catch{}try{return t+""}catch{}}return""}var zD=/[\\^$.*+?()[\]{}|]/g,UD=/^\[object .+?Constructor\]$/,HD=Function.prototype,$D=Object.prototype,VD=HD.toString,WD=$D.hasOwnProperty,GD=RegExp("^"+VD.call(WD).replace(zD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KD(t){if(!Wa(t)||ND(t))return!1;var e=Pb(t)?GD:UD;return e.test(Mc(t))}function qD(t,e){return t==null?void 0:t[e]}function Tc(t,e){var n=qD(t,e);return KD(n)?n:void 0}var jD=Tc(us,"WeakMap");const r1=jD;var Yw=Object.create,YD=function(){function t(){}return function(e){if(!Wa(e))return{};if(Yw)return Yw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const XD=YD;function QD(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ZD(){}function mE(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var JD=800,eP=16,tP=Date.now;function nP(t){var e=0,n=0;return function(){var r=tP(),a=eP-(r-n);if(n=r,a>0){if(++e>=JD)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function rP(t){return function(){return t}}var aP=function(){try{var t=Tc(Object,"defineProperty");return t({},"",{}),t}catch{}}();const yp=aP;var oP=yp?function(t,e){return yp(t,"toString",{configurable:!0,enumerable:!1,value:rP(e),writable:!0})}:Db;const sP=oP;var iP=nP(sP);const vE=iP;function lP(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function gE(t,e,n,r){for(var a=t.length,o=n+(r?1:-1);r?o--:++o<a;)if(e(t[o],o,t))return o;return-1}function cP(t){return t!==t}function uP(t,e,n){for(var r=n-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}function dP(t,e,n){return e===e?uP(t,e,n):gE(t,cP,n)}function fP(t,e){var n=t==null?0:t.length;return!!n&&dP(t,e,0)>-1}var hP=9007199254740991,pP=/^(?:0|[1-9]\d*)$/;function dm(t,e){var n=typeof t;return e=e??hP,!!e&&(n=="number"||n!="symbol"&&pP.test(t))&&t>-1&&t%1==0&&t<e}function Bb(t,e,n){e=="__proto__"&&yp?yp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ih(t,e){return t===e||t!==t&&e!==e}var mP=Object.prototype,vP=mP.hasOwnProperty;function Lb(t,e,n){var r=t[e];(!(vP.call(t,e)&&ih(r,n))||n===void 0&&!(e in t))&&Bb(t,e,n)}function md(t,e,n,r){var a=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var i=e[o],l=r?r(n[i],t[i],i,n,t):void 0;l===void 0&&(l=t[i]),a?Bb(n,i,l):Lb(n,i,l)}return n}var Xw=Math.max;function yE(t,e,n){return e=Xw(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,o=Xw(r.length-e,0),s=Array(o);++a<o;)s[a]=r[e+a];a=-1;for(var i=Array(e+1);++a<e;)i[a]=r[a];return i[e]=n(s),QD(t,this,i)}}function bE(t,e){return vE(yE(t,e,Db),t+"")}var gP=9007199254740991;function Nb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gP}function vd(t){return t!=null&&Nb(t.length)&&!Pb(t)}function yP(t,e,n){if(!Wa(n))return!1;var r=typeof e;return(r=="number"?vd(n)&&dm(e,n.length):r=="string"&&e in n)?ih(n[e],t):!1}function bP(t){return bE(function(e,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(a--,o):void 0,s&&yP(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),e=Object(e);++r<a;){var i=n[r];i&&t(e,i,r,o)}return e})}var SP=Object.prototype;function Fb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||SP;return t===n}function _P(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var wP="[object Arguments]";function Qw(t){return Ts(t)&&Ec(t)==wP}var SE=Object.prototype,xP=SE.hasOwnProperty,CP=SE.propertyIsEnumerable,AP=Qw(function(){return arguments}())?Qw:function(t){return Ts(t)&&xP.call(t,"callee")&&!CP.call(t,"callee")};const kf=AP;function EP(){return!1}var _E=typeof po=="object"&&po&&!po.nodeType&&po,Zw=_E&&typeof mo=="object"&&mo&&!mo.nodeType&&mo,MP=Zw&&Zw.exports===_E,Jw=MP?us.Buffer:void 0,TP=Jw?Jw.isBuffer:void 0,IP=TP||EP;const Df=IP;var RP="[object Arguments]",kP="[object Array]",DP="[object Boolean]",PP="[object Date]",BP="[object Error]",LP="[object Function]",NP="[object Map]",FP="[object Number]",OP="[object Object]",zP="[object RegExp]",UP="[object Set]",HP="[object String]",$P="[object WeakMap]",VP="[object ArrayBuffer]",WP="[object DataView]",GP="[object Float32Array]",KP="[object Float64Array]",qP="[object Int8Array]",jP="[object Int16Array]",YP="[object Int32Array]",XP="[object Uint8Array]",QP="[object Uint8ClampedArray]",ZP="[object Uint16Array]",JP="[object Uint32Array]",wr={};wr[GP]=wr[KP]=wr[qP]=wr[jP]=wr[YP]=wr[XP]=wr[QP]=wr[ZP]=wr[JP]=!0;wr[RP]=wr[kP]=wr[VP]=wr[DP]=wr[WP]=wr[PP]=wr[BP]=wr[LP]=wr[NP]=wr[FP]=wr[OP]=wr[zP]=wr[UP]=wr[HP]=wr[$P]=!1;function e9(t){return Ts(t)&&Nb(t.length)&&!!wr[Ec(t)]}function Ob(t){return function(e){return t(e)}}var wE=typeof po=="object"&&po&&!po.nodeType&&po,af=wE&&typeof mo=="object"&&mo&&!mo.nodeType&&mo,t9=af&&af.exports===wE,kv=t9&&fE.process,n9=function(){try{var t=af&&af.require&&af.require("util").types;return t||kv&&kv.binding&&kv.binding("util")}catch{}}();const Uu=n9;var e4=Uu&&Uu.isTypedArray,r9=e4?Ob(e4):e9;const zb=r9;var a9=Object.prototype,o9=a9.hasOwnProperty;function xE(t,e){var n=Va(t),r=!n&&kf(t),a=!n&&!r&&Df(t),o=!n&&!r&&!a&&zb(t),s=n||r||a||o,i=s?_P(t.length,String):[],l=i.length;for(var c in t)(e||o9.call(t,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||dm(c,l)))&&i.push(c);return i}function CE(t,e){return function(n){return t(e(n))}}var s9=CE(Object.keys,Object);const i9=s9;var l9=Object.prototype,c9=l9.hasOwnProperty;function u9(t){if(!Fb(t))return i9(t);var e=[];for(var n in Object(t))c9.call(t,n)&&n!="constructor"&&e.push(n);return e}function lh(t){return vd(t)?xE(t):u9(t)}function d9(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var f9=Object.prototype,h9=f9.hasOwnProperty;function p9(t){if(!Wa(t))return d9(t);var e=Fb(t),n=[];for(var r in t)r=="constructor"&&(e||!h9.call(t,r))||n.push(r);return n}function ch(t){return vd(t)?xE(t,!0):p9(t)}var m9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v9=/^\w*$/;function Ub(t,e){if(Va(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||um(t)?!0:v9.test(t)||!m9.test(t)||e!=null&&t in Object(e)}var g9=Tc(Object,"create");const Pf=g9;function y9(){this.__data__=Pf?Pf(null):{},this.size=0}function b9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var S9="__lodash_hash_undefined__",_9=Object.prototype,w9=_9.hasOwnProperty;function x9(t){var e=this.__data__;if(Pf){var n=e[t];return n===S9?void 0:n}return w9.call(e,t)?e[t]:void 0}var C9=Object.prototype,A9=C9.hasOwnProperty;function E9(t){var e=this.__data__;return Pf?e[t]!==void 0:A9.call(e,t)}var M9="__lodash_hash_undefined__";function T9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pf&&e===void 0?M9:e,this}function gc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gc.prototype.clear=y9;gc.prototype.delete=b9;gc.prototype.get=x9;gc.prototype.has=E9;gc.prototype.set=T9;function I9(){this.__data__=[],this.size=0}function fm(t,e){for(var n=t.length;n--;)if(ih(t[n][0],e))return n;return-1}var R9=Array.prototype,k9=R9.splice;function D9(t){var e=this.__data__,n=fm(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():k9.call(e,n,1),--this.size,!0}function P9(t){var e=this.__data__,n=fm(e,t);return n<0?void 0:e[n][1]}function B9(t){return fm(this.__data__,t)>-1}function L9(t,e){var n=this.__data__,r=fm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function _i(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_i.prototype.clear=I9;_i.prototype.delete=D9;_i.prototype.get=P9;_i.prototype.has=B9;_i.prototype.set=L9;var N9=Tc(us,"Map");const Bf=N9;function F9(){this.size=0,this.__data__={hash:new gc,map:new(Bf||_i),string:new gc}}function O9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function hm(t,e){var n=t.__data__;return O9(e)?n[typeof e=="string"?"string":"hash"]:n.map}function z9(t){var e=hm(this,t).delete(t);return this.size-=e?1:0,e}function U9(t){return hm(this,t).get(t)}function H9(t){return hm(this,t).has(t)}function $9(t,e){var n=hm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function wi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wi.prototype.clear=F9;wi.prototype.delete=z9;wi.prototype.get=U9;wi.prototype.has=H9;wi.prototype.set=$9;var V9="Expected a function";function pm(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(V9);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=t.apply(this,r);return n.cache=o.set(a,s)||o,s};return n.cache=new(pm.Cache||wi),n}pm.Cache=wi;var W9=500;function G9(t){var e=pm(t,function(r){return n.size===W9&&n.clear(),r}),n=e.cache;return e}var K9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q9=/\\(\\)?/g,j9=G9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(K9,function(n,r,a,o){e.push(a?o.replace(q9,"$1"):r||n)}),e});const Y9=j9;function X9(t){return t==null?"":pE(t)}function gd(t,e){return Va(t)?t:Ub(t,e)?[t]:Y9(X9(t))}var Q9=1/0;function yd(t){if(typeof t=="string"||um(t))return t;var e=t+"";return e=="0"&&1/t==-Q9?"-0":e}function mm(t,e){e=gd(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[yd(e[n++])];return n&&n==r?t:void 0}function Mr(t,e,n){var r=t==null?void 0:mm(t,e);return r===void 0?n:r}function Hb(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var t4=zo?zo.isConcatSpreadable:void 0;function Z9(t){return Va(t)||kf(t)||!!(t4&&t&&t[t4])}function uh(t,e,n,r,a){var o=-1,s=t.length;for(n||(n=Z9),a||(a=[]);++o<s;){var i=t[o];e>0&&n(i)?e>1?uh(i,e-1,n,r,a):Hb(a,i):r||(a[a.length]=i)}return a}function AE(t){var e=t==null?0:t.length;return e?uh(t,1):[]}function EE(t){return vE(yE(t,void 0,AE),t+"")}var J9=CE(Object.getPrototypeOf,Object);const $b=J9;var eB="[object Object]",tB=Function.prototype,nB=Object.prototype,ME=tB.toString,rB=nB.hasOwnProperty,aB=ME.call(Object);function TE(t){if(!Ts(t)||Ec(t)!=eB)return!1;var e=$b(t);if(e===null)return!0;var n=rB.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ME.call(n)==aB}function oB(t,e,n){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(a);++r<a;)o[r]=t[r+e];return o}function Ia(){if(!arguments.length)return[];var t=arguments[0];return Va(t)?t:[t]}function sB(){this.__data__=new _i,this.size=0}function iB(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function lB(t){return this.__data__.get(t)}function cB(t){return this.__data__.has(t)}var uB=200;function dB(t,e){var n=this.__data__;if(n instanceof _i){var r=n.__data__;if(!Bf||r.length<uB-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wi(r)}return n.set(t,e),this.size=n.size,this}function ls(t){var e=this.__data__=new _i(t);this.size=e.size}ls.prototype.clear=sB;ls.prototype.delete=iB;ls.prototype.get=lB;ls.prototype.has=cB;ls.prototype.set=dB;function fB(t,e){return t&&md(e,lh(e),t)}function hB(t,e){return t&&md(e,ch(e),t)}var IE=typeof po=="object"&&po&&!po.nodeType&&po,n4=IE&&typeof mo=="object"&&mo&&!mo.nodeType&&mo,pB=n4&&n4.exports===IE,r4=pB?us.Buffer:void 0,a4=r4?r4.allocUnsafe:void 0;function RE(t,e){if(e)return t.slice();var n=t.length,r=a4?a4(n):new t.constructor(n);return t.copy(r),r}function mB(t,e){for(var n=-1,r=t==null?0:t.length,a=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[a++]=s)}return o}function kE(){return[]}var vB=Object.prototype,gB=vB.propertyIsEnumerable,o4=Object.getOwnPropertySymbols,yB=o4?function(t){return t==null?[]:(t=Object(t),mB(o4(t),function(e){return gB.call(t,e)}))}:kE;const Vb=yB;function bB(t,e){return md(t,Vb(t),e)}var SB=Object.getOwnPropertySymbols,_B=SB?function(t){for(var e=[];t;)Hb(e,Vb(t)),t=$b(t);return e}:kE;const DE=_B;function wB(t,e){return md(t,DE(t),e)}function PE(t,e,n){var r=e(t);return Va(t)?r:Hb(r,n(t))}function a1(t){return PE(t,lh,Vb)}function BE(t){return PE(t,ch,DE)}var xB=Tc(us,"DataView");const o1=xB;var CB=Tc(us,"Promise");const s1=CB;var AB=Tc(us,"Set");const Au=AB;var s4="[object Map]",EB="[object Object]",i4="[object Promise]",l4="[object Set]",c4="[object WeakMap]",u4="[object DataView]",MB=Mc(o1),TB=Mc(Bf),IB=Mc(s1),RB=Mc(Au),kB=Mc(r1),$l=Ec;(o1&&$l(new o1(new ArrayBuffer(1)))!=u4||Bf&&$l(new Bf)!=s4||s1&&$l(s1.resolve())!=i4||Au&&$l(new Au)!=l4||r1&&$l(new r1)!=c4)&&($l=function(t){var e=Ec(t),n=e==EB?t.constructor:void 0,r=n?Mc(n):"";if(r)switch(r){case MB:return u4;case TB:return s4;case IB:return i4;case RB:return l4;case kB:return c4}return e});const Lf=$l;var DB=Object.prototype,PB=DB.hasOwnProperty;function BB(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&PB.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var LB=us.Uint8Array;const bp=LB;function Wb(t){var e=new t.constructor(t.byteLength);return new bp(e).set(new bp(t)),e}function NB(t,e){var n=e?Wb(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var FB=/\w*$/;function OB(t){var e=new t.constructor(t.source,FB.exec(t));return e.lastIndex=t.lastIndex,e}var d4=zo?zo.prototype:void 0,f4=d4?d4.valueOf:void 0;function zB(t){return f4?Object(f4.call(t)):{}}function LE(t,e){var n=e?Wb(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var UB="[object Boolean]",HB="[object Date]",$B="[object Map]",VB="[object Number]",WB="[object RegExp]",GB="[object Set]",KB="[object String]",qB="[object Symbol]",jB="[object ArrayBuffer]",YB="[object DataView]",XB="[object Float32Array]",QB="[object Float64Array]",ZB="[object Int8Array]",JB="[object Int16Array]",eL="[object Int32Array]",tL="[object Uint8Array]",nL="[object Uint8ClampedArray]",rL="[object Uint16Array]",aL="[object Uint32Array]";function oL(t,e,n){var r=t.constructor;switch(e){case jB:return Wb(t);case UB:case HB:return new r(+t);case YB:return NB(t,n);case XB:case QB:case ZB:case JB:case eL:case tL:case nL:case rL:case aL:return LE(t,n);case $B:return new r;case VB:case KB:return new r(t);case WB:return OB(t);case GB:return new r;case qB:return zB(t)}}function NE(t){return typeof t.constructor=="function"&&!Fb(t)?XD($b(t)):{}}var sL="[object Map]";function iL(t){return Ts(t)&&Lf(t)==sL}var h4=Uu&&Uu.isMap,lL=h4?Ob(h4):iL;const cL=lL;var uL="[object Set]";function dL(t){return Ts(t)&&Lf(t)==uL}var p4=Uu&&Uu.isSet,fL=p4?Ob(p4):dL;const hL=fL;var pL=1,mL=2,vL=4,FE="[object Arguments]",gL="[object Array]",yL="[object Boolean]",bL="[object Date]",SL="[object Error]",OE="[object Function]",_L="[object GeneratorFunction]",wL="[object Map]",xL="[object Number]",zE="[object Object]",CL="[object RegExp]",AL="[object Set]",EL="[object String]",ML="[object Symbol]",TL="[object WeakMap]",IL="[object ArrayBuffer]",RL="[object DataView]",kL="[object Float32Array]",DL="[object Float64Array]",PL="[object Int8Array]",BL="[object Int16Array]",LL="[object Int32Array]",NL="[object Uint8Array]",FL="[object Uint8ClampedArray]",OL="[object Uint16Array]",zL="[object Uint32Array]",yr={};yr[FE]=yr[gL]=yr[IL]=yr[RL]=yr[yL]=yr[bL]=yr[kL]=yr[DL]=yr[PL]=yr[BL]=yr[LL]=yr[wL]=yr[xL]=yr[zE]=yr[CL]=yr[AL]=yr[EL]=yr[ML]=yr[NL]=yr[FL]=yr[OL]=yr[zL]=!0;yr[SL]=yr[OE]=yr[TL]=!1;function Eu(t,e,n,r,a,o){var s,i=e&pL,l=e&mL,c=e&vL;if(n&&(s=a?n(t,r,a,o):n(t)),s!==void 0)return s;if(!Wa(t))return t;var u=Va(t);if(u){if(s=BB(t),!i)return mE(t,s)}else{var f=Lf(t),h=f==OE||f==_L;if(Df(t))return RE(t,i);if(f==zE||f==FE||h&&!a){if(s=l||h?{}:NE(t),!i)return l?wB(t,hB(s,t)):bB(t,fB(s,t))}else{if(!yr[f])return a?t:{};s=oL(t,f,i)}}o||(o=new ls);var p=o.get(t);if(p)return p;o.set(t,s),hL(t)?t.forEach(function(y){s.add(Eu(y,e,n,y,t,o))}):cL(t)&&t.forEach(function(y,v){s.set(v,Eu(y,e,n,v,t,o))});var m=c?l?BE:a1:l?ch:lh,g=u?void 0:m(t);return lP(g||t,function(y,v){g&&(v=y,y=t[v]),Lb(s,v,Eu(y,e,n,v,t,o))}),s}var UL=4;function m4(t){return Eu(t,UL)}var HL=1,$L=4;function Sp(t){return Eu(t,HL|$L)}var VL="__lodash_hash_undefined__";function WL(t){return this.__data__.set(t,VL),this}function GL(t){return this.__data__.has(t)}function Nf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wi;++e<n;)this.add(t[e])}Nf.prototype.add=Nf.prototype.push=WL;Nf.prototype.has=GL;function KL(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function UE(t,e){return t.has(e)}var qL=1,jL=2;function HE(t,e,n,r,a,o){var s=n&qL,i=t.length,l=e.length;if(i!=l&&!(s&&l>i))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&jL?new Nf:void 0;for(o.set(t,e),o.set(e,t);++f<i;){var m=t[f],g=e[f];if(r)var y=s?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!KL(e,function(v,A){if(!UE(p,A)&&(m===v||a(m,v,n,r,o)))return p.push(A)})){h=!1;break}}else if(!(m===g||a(m,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function YL(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n}function Gb(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var XL=1,QL=2,ZL="[object Boolean]",JL="[object Date]",eN="[object Error]",tN="[object Map]",nN="[object Number]",rN="[object RegExp]",aN="[object Set]",oN="[object String]",sN="[object Symbol]",iN="[object ArrayBuffer]",lN="[object DataView]",v4=zo?zo.prototype:void 0,Dv=v4?v4.valueOf:void 0;function cN(t,e,n,r,a,o,s){switch(n){case lN:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case iN:return!(t.byteLength!=e.byteLength||!o(new bp(t),new bp(e)));case ZL:case JL:case nN:return ih(+t,+e);case eN:return t.name==e.name&&t.message==e.message;case rN:case oN:return t==e+"";case tN:var i=YL;case aN:var l=r&XL;if(i||(i=Gb),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=QL,s.set(t,e);var u=HE(i(t),i(e),r,a,o,s);return s.delete(t),u;case sN:if(Dv)return Dv.call(t)==Dv.call(e)}return!1}var uN=1,dN=Object.prototype,fN=dN.hasOwnProperty;function hN(t,e,n,r,a,o){var s=n&uN,i=a1(t),l=i.length,c=a1(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=i[f];if(!(s?h in e:fN.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=s;++f<l;){h=i[f];var v=t[h],A=e[h];if(r)var w=s?r(A,v,h,e,t,o):r(v,A,h,t,e,o);if(!(w===void 0?v===A||a(v,A,n,r,o):w)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var S=t.constructor,C=e.constructor;S!=C&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(g=!1)}return o.delete(t),o.delete(e),g}var pN=1,g4="[object Arguments]",y4="[object Array]",Wh="[object Object]",mN=Object.prototype,b4=mN.hasOwnProperty;function vN(t,e,n,r,a,o){var s=Va(t),i=Va(e),l=s?y4:Lf(t),c=i?y4:Lf(e);l=l==g4?Wh:l,c=c==g4?Wh:c;var u=l==Wh,f=c==Wh,h=l==c;if(h&&Df(t)){if(!Df(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new ls),s||zb(t)?HE(t,e,n,r,a,o):cN(t,e,l,n,r,a,o);if(!(n&pN)){var p=u&&b4.call(t,"__wrapped__"),m=f&&b4.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return o||(o=new ls),a(g,y,n,r,o)}}return h?(o||(o=new ls),hN(t,e,n,r,a,o)):!1}function vm(t,e,n,r,a){return t===e?!0:t==null||e==null||!Ts(t)&&!Ts(e)?t!==t&&e!==e:vN(t,e,n,r,vm,a)}var gN=1,yN=2;function bN(t,e,n,r){var a=n.length,o=a,s=!r;if(t==null)return!o;for(t=Object(t);a--;){var i=n[a];if(s&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++a<o;){i=n[a];var l=i[0],c=t[l],u=i[1];if(s&&i[2]){if(c===void 0&&!(l in t))return!1}else{var f=new ls;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?vm(u,c,gN|yN,r,f):h))return!1}}return!0}function $E(t){return t===t&&!Wa(t)}function SN(t){for(var e=lh(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,$E(a)]}return e}function VE(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function _N(t){var e=SN(t);return e.length==1&&e[0][2]?VE(e[0][0],e[0][1]):function(n){return n===t||bN(n,t,e)}}function wN(t,e){return t!=null&&e in Object(t)}function xN(t,e,n){e=gd(e,t);for(var r=-1,a=e.length,o=!1;++r<a;){var s=yd(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=a?o:(a=t==null?0:t.length,!!a&&Nb(a)&&dm(s,a)&&(Va(t)||kf(t)))}function WE(t,e){return t!=null&&xN(t,e,wN)}var CN=1,AN=2;function EN(t,e){return Ub(t)&&$E(e)?VE(yd(t),e):function(n){var r=Mr(n,t);return r===void 0&&r===e?WE(n,t):vm(e,r,CN|AN)}}function MN(t){return function(e){return e==null?void 0:e[t]}}function TN(t){return function(e){return mm(e,t)}}function IN(t){return Ub(t)?MN(yd(t)):TN(t)}function GE(t){return typeof t=="function"?t:t==null?Db:typeof t=="object"?Va(t)?EN(t[0],t[1]):_N(t):IN(t)}function RN(t){return function(e,n,r){for(var a=-1,o=Object(e),s=r(e),i=s.length;i--;){var l=s[t?i:++a];if(n(o[l],l,o)===!1)break}return e}}var kN=RN();const KE=kN;function DN(t,e){return t&&KE(t,e,lh)}function PN(t,e){return function(n,r){if(n==null)return n;if(!vd(n))return t(n,r);for(var a=n.length,o=e?a:-1,s=Object(n);(e?o--:++o<a)&&r(s[o],o,s)!==!1;);return n}}var BN=PN(DN);const LN=BN;var NN=function(){return us.Date.now()};const Pv=NN;var FN="Expected a function",ON=Math.max,zN=Math.min;function eo(t,e,n){var r,a,o,s,i,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(FN);e=n1(e)||0,Wa(n)&&(u=!!n.leading,f="maxWait"in n,o=f?ON(n1(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(E){var I=r,k=a;return r=a=void 0,c=E,s=t.apply(k,I),s}function m(E){return c=E,i=setTimeout(v,e),u?p(E):s}function g(E){var I=E-l,k=E-c,T=e-I;return f?zN(T,o-k):T}function y(E){var I=E-l,k=E-c;return l===void 0||I>=e||I<0||f&&k>=o}function v(){var E=Pv();if(y(E))return A(E);i=setTimeout(v,g(E))}function A(E){return i=void 0,h&&r?p(E):(r=a=void 0,s)}function w(){i!==void 0&&clearTimeout(i),c=0,r=l=a=i=void 0}function S(){return i===void 0?s:A(Pv())}function C(){var E=Pv(),I=y(E);if(r=arguments,a=this,l=E,I){if(i===void 0)return m(l);if(f)return clearTimeout(i),i=setTimeout(v,e),p(l)}return i===void 0&&(i=setTimeout(v,e)),s}return C.cancel=w,C.flush=S,C}function i1(t,e,n){(n!==void 0&&!ih(t[e],n)||n===void 0&&!(e in t))&&Bb(t,e,n)}function qE(t){return Ts(t)&&vd(t)}function l1(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function UN(t){return md(t,ch(t))}function HN(t,e,n,r,a,o,s){var i=l1(t,n),l=l1(e,n),c=s.get(l);if(c){i1(t,n,c);return}var u=o?o(i,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var h=Va(l),p=!h&&Df(l),m=!h&&!p&&zb(l);u=l,h||p||m?Va(i)?u=i:qE(i)?u=mE(i):p?(f=!1,u=RE(l,!0)):m?(f=!1,u=LE(l,!0)):u=[]:TE(l)||kf(l)?(u=i,kf(i)?u=UN(i):(!Wa(i)||Pb(i))&&(u=NE(l))):f=!1}f&&(s.set(l,u),a(u,l,r,o,s),s.delete(l)),i1(t,n,u)}function jE(t,e,n,r,a){t!==e&&KE(e,function(o,s){if(a||(a=new ls),Wa(o))HN(t,e,s,n,jE,r,a);else{var i=r?r(l1(t,s),o,s+"",t,e,a):void 0;i===void 0&&(i=o),i1(t,s,i)}},ch)}function $N(t,e,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}function VN(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var WN=Math.max,GN=Math.min;function YE(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var a=r-1;return n!==void 0&&(a=RD(n),a=n<0?WN(r+a,0):GN(a,r-1)),gE(t,GE(e),a,!0)}function KN(t,e){var n=-1,r=vd(t)?Array(t.length):[];return LN(t,function(a,o,s){r[++n]=e(a,o,s)}),r}function qN(t,e){var n=Va(t)?kb:KN;return n(t,GE(e))}function jN(t,e){return uh(qN(t,e),1)}var YN=1/0;function XN(t){var e=t==null?0:t.length;return e?uh(t,YN):[]}function Ff(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var a=t[e];r[a[0]]=a[1]}return r}function QN(t,e){return e.length<2?t:mm(t,oB(e,0,-1))}function ia(t,e){return vm(t,e)}function qr(t){return t==null}function XE(t){return t===void 0}var ZN=bP(function(t,e,n){jE(t,e,n)});const QE=ZN;function JN(t,e){return e=gd(e,t),t=QN(t,e),t==null||delete t[yd(VN(e))]}function eF(t){return TE(t)?void 0:t}var tF=1,nF=2,rF=4,aF=EE(function(t,e){var n={};if(t==null)return n;var r=!1;e=kb(e,function(o){return o=gd(o,t),r||(r=o.length>1),o}),md(t,BE(t),n),r&&(n=Eu(n,tF|nF|rF,eF));for(var a=e.length;a--;)JN(n,e[a]);return n});const oF=aF;function ZE(t,e,n,r){if(!Wa(t))return t;e=gd(e,t);for(var a=-1,o=e.length,s=o-1,i=t;i!=null&&++a<o;){var l=yd(e[a]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(a!=s){var u=i[l];c=r?r(u,l,i):void 0,c===void 0&&(c=Wa(u)?u:dm(e[a+1])?[]:{})}Lb(i,l,c),i=i[l]}return t}function sF(t,e,n){for(var r=-1,a=e.length,o={};++r<a;){var s=e[r],i=mm(t,s);n(i,s)&&ZE(o,gd(s,t),i)}return o}function iF(t,e){return sF(t,e,function(n,r){return WE(t,r)})}var lF=EE(function(t,e){return t==null?{}:iF(t,e)});const as=lF;function cF(t,e,n){return t==null?t:ZE(t,e,n)}var uF="Expected a function";function fc(t,e,n){var r=!0,a=!0;if(typeof t!="function")throw new TypeError(uF);return Wa(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),eo(t,e,{leading:r,maxWait:e,trailing:a})}var dF=1/0,fF=Au&&1/Gb(new Au([,-0]))[1]==dF?function(t){return new Au(t)}:ZD;const hF=fF;var pF=200;function mF(t,e,n){var r=-1,a=fP,o=t.length,s=!0,i=[],l=i;if(n)s=!1,a=$N;else if(o>=pF){var c=e?null:hF(t);if(c)return Gb(c);s=!1,a=UE,l=new Nf}else l=e?[]:i;e:for(;++r<o;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),i.push(u)}else a(l,f,n)||(l!==i&&l.push(f),i.push(u))}return i}var vF=bE(function(t){return mF(uh(t,1,qE,!0))});const Bv=vF,Bn=t=>t===void 0,Kn=t=>typeof t=="boolean",Nt=t=>typeof t=="number",fo=t=>!t&&t!==0||nt(t)&&t.length===0||tn(t)&&!Object.keys(t).length,vo=t=>typeof Element>"u"?!1:t instanceof Element,yc=t=>qr(t),gF=t=>Mt(t)?!Number.isNaN(Number(t)):!1,gm=t=>t===window;var yF=Object.defineProperty,bF=Object.defineProperties,SF=Object.getOwnPropertyDescriptors,S4=Object.getOwnPropertySymbols,_F=Object.prototype.hasOwnProperty,wF=Object.prototype.propertyIsEnumerable,_4=(t,e,n)=>e in t?yF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xF=(t,e)=>{for(var n in e||(e={}))_F.call(e,n)&&_4(t,n,e[n]);if(S4)for(var n of S4(e))wF.call(e,n)&&_4(t,n,e[n]);return t},CF=(t,e)=>bF(t,SF(e));function c1(t,e){var n;const r=Xn();return ga(()=>{r.value=t()},CF(xF({},e),{flush:(n=e==null?void 0:e.flush)!=null?n:"sync"})),hd(r)}var w4;const Sn=typeof window<"u",AF=t=>typeof t<"u",u1=t=>typeof t=="function",EF=t=>typeof t=="string",Hu=()=>{},d1=Sn&&((w4=window==null?void 0:window.navigator)==null?void 0:w4.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function fl(t){return typeof t=="function"?t():d(t)}function JE(t,e){function n(...r){return new Promise((a,o)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(a).catch(o)})}return n}function MF(t,e={}){let n,r,a=Hu;const o=i=>{clearTimeout(i),a(),a=Hu};return i=>{const l=fl(t),c=fl(e.maxWait);return n&&o(n),l<=0||c!==void 0&&c<=0?(r&&(o(r),r=null),Promise.resolve(i())):new Promise((u,f)=>{a=e.rejectOnCancel?f:u,c&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,u(i())},c)),n=setTimeout(()=>{r&&o(r),r=null,u(i())},l)})}}function TF(t,e=!0,n=!0,r=!1){let a=0,o,s=!0,i=Hu,l;const c=()=>{o&&(clearTimeout(o),o=void 0,i(),i=Hu)};return f=>{const h=fl(t),p=Date.now()-a,m=()=>l=f();return c(),h<=0?(a=Date.now(),m()):(p>h&&(n||!s)?(a=Date.now(),m()):e&&(l=new Promise((g,y)=>{i=r?y:g,o=setTimeout(()=>{a=Date.now(),s=!0,g(m()),c()},Math.max(0,h-p))})),!n&&!o&&(o=setTimeout(()=>s=!0,h)),s=!1,l)}}function IF(t){return t}function RF(t,e){let n,r,a;const o=j(!0),s=()=>{o.value=!0,a()};Qe(t,s,{flush:"sync"});const i=u1(e)?e:e.get,l=u1(e)?void 0:e.set,c=S7((u,f)=>(r=u,a=f,{get(){return o.value&&(n=i(),o.value=!1),r(),n},set(h){l==null||l(h)}}));return Object.isExtensible(c)&&(c.trigger=s),c}function dh(t){return sA()?(iA(t),!0):!1}function kF(t,e=200,n={}){return JE(MF(e,n),t)}function DF(t,e=200,n={}){const r=j(t.value),a=kF(()=>{r.value=t.value},e,n);return Qe(t,()=>a()),r}function eM(t,e=200,n=!1,r=!0,a=!1){return JE(TF(e,n,r,a),t)}function Kb(t,e=!0){nn()?Yt(t):e?t():Bt(t)}function bc(t,e,n={}){const{immediate:r=!0}=n,a=j(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function i(){a.value=!1,s()}function l(...c){s(),a.value=!0,o=setTimeout(()=>{a.value=!1,o=null,t(...c)},fl(e))}return r&&(a.value=!0,Sn&&l()),dh(i),{isPending:hd(a),start:l,stop:i}}function za(t){var e;const n=fl(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Cl=Sn?window:void 0,PF=Sn?window.document:void 0;function Ln(...t){let e,n,r,a;if(EF(t[0])||Array.isArray(t[0])?([n,r,a]=t,e=Cl):[e,n,r,a]=t,!e)return Hu;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(u=>u()),o.length=0},i=(u,f,h,p)=>(u.addEventListener(f,h,p),()=>u.removeEventListener(f,h,p)),l=Qe(()=>[za(e),fl(a)],([u,f])=>{s(),u&&o.push(...n.flatMap(h=>r.map(p=>i(u,h,p,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return dh(c),c}let x4=!1;function qb(t,e,n={}){const{window:r=Cl,ignore:a=[],capture:o=!0,detectIframe:s=!1}=n;if(!r)return;d1&&!x4&&(x4=!0,Array.from(r.document.body.children).forEach(h=>h.addEventListener("click",Hu)));let i=!0;const l=h=>a.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(m=>m===h.target||h.composedPath().includes(m));{const m=za(p);return m&&(h.target===m||h.composedPath().includes(m))}}),u=[Ln(r,"click",h=>{const p=za(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(i=!l(h)),!i){i=!0;return}e(h)}},{passive:!0,capture:o}),Ln(r,"pointerdown",h=>{const p=za(t);p&&(i=!h.composedPath().includes(p)&&!l(h))},{passive:!0}),s&&Ln(r,"blur",h=>{var p;const m=za(t);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(r.document.activeElement))&&e(h)})].filter(Boolean);return()=>u.forEach(h=>h())}function BF(t={}){var e;const{window:n=Cl}=t,r=(e=t.document)!=null?e:n==null?void 0:n.document,a=RF(()=>null,()=>r==null?void 0:r.activeElement);return n&&(Ln(n,"blur",o=>{o.relatedTarget===null&&a.trigger()},!0),Ln(n,"focus",a.trigger,!0)),a}function tM(t,e=!1){const n=j(),r=()=>n.value=!!t();return r(),Kb(r,e),n}function LF(t){return JSON.parse(JSON.stringify(t))}const C4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A4="__vueuse_ssr_handlers__";C4[A4]=C4[A4]||{};function NF(t,e,{window:n=Cl,initialValue:r=""}={}){const a=j(r),o=P(()=>{var s;return za(e)||((s=n==null?void 0:n.document)==null?void 0:s.documentElement)});return Qe([o,()=>fl(t)],([s,i])=>{var l;if(s&&n){const c=(l=n.getComputedStyle(s).getPropertyValue(i))==null?void 0:l.trim();a.value=c||r}},{immediate:!0}),Qe(a,s=>{var i;(i=o.value)!=null&&i.style&&o.value.style.setProperty(fl(t),s)}),a}function FF({document:t=PF}={}){if(!t)return j("visible");const e=j(t.visibilityState);return Ln(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var E4=Object.getOwnPropertySymbols,OF=Object.prototype.hasOwnProperty,zF=Object.prototype.propertyIsEnumerable,UF=(t,e)=>{var n={};for(var r in t)OF.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&E4)for(var r of E4(t))e.indexOf(r)<0&&zF.call(t,r)&&(n[r]=t[r]);return n};function or(t,e,n={}){const r=n,{window:a=Cl}=r,o=UF(r,["window"]);let s;const i=tM(()=>a&&"ResizeObserver"in a),l=()=>{s&&(s.disconnect(),s=void 0)},c=Qe(()=>za(t),f=>{l(),i.value&&a&&f&&(s=new ResizeObserver(e),s.observe(f,o))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return dh(u),{isSupported:i,stop:u}}function M4(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:a=!0,immediate:o=!0}=e,s=j(0),i=j(0),l=j(0),c=j(0),u=j(0),f=j(0),h=j(0),p=j(0);function m(){const g=za(t);if(!g){n&&(s.value=0,i.value=0,l.value=0,c.value=0,u.value=0,f.value=0,h.value=0,p.value=0);return}const y=g.getBoundingClientRect();s.value=y.height,i.value=y.bottom,l.value=y.left,c.value=y.right,u.value=y.top,f.value=y.width,h.value=y.x,p.value=y.y}return or(t,m),Qe(()=>za(t),g=>!g&&m()),a&&Ln("scroll",m,{capture:!0,passive:!0}),r&&Ln("resize",m,{passive:!0}),Kb(()=>{o&&m()}),{height:s,bottom:i,left:l,right:c,top:u,width:f,x:h,y:p,update:m}}var T4=Object.getOwnPropertySymbols,HF=Object.prototype.hasOwnProperty,$F=Object.prototype.propertyIsEnumerable,VF=(t,e)=>{var n={};for(var r in t)HF.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&T4)for(var r of T4(t))e.indexOf(r)<0&&$F.call(t,r)&&(n[r]=t[r]);return n};function nM(t,e,n={}){const r=n,{window:a=Cl}=r,o=VF(r,["window"]);let s;const i=tM(()=>a&&"MutationObserver"in a),l=()=>{s&&(s.disconnect(),s=void 0)},c=Qe(()=>za(t),f=>{l(),i.value&&a&&f&&(s=new MutationObserver(e),s.observe(f,o))},{immediate:!0}),u=()=>{l(),c()};return dh(u),{isSupported:i,stop:u}}var I4;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(I4||(I4={}));var WF=Object.defineProperty,R4=Object.getOwnPropertySymbols,GF=Object.prototype.hasOwnProperty,KF=Object.prototype.propertyIsEnumerable,k4=(t,e,n)=>e in t?WF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qF=(t,e)=>{for(var n in e||(e={}))GF.call(e,n)&&k4(t,n,e[n]);if(R4)for(var n of R4(e))KF.call(e,n)&&k4(t,n,e[n]);return t};const jF={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};qF({linear:IF},jF);function rM(t,e,n,r={}){var a,o,s;const{clone:i=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:f}=r,h=nn(),p=n||(h==null?void 0:h.emit)||((a=h==null?void 0:h.$emit)==null?void 0:a.bind(h))||((s=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:s.bind(h==null?void 0:h.proxy));let m=c;e||(e="modelValue"),m=c||m||`update:${e.toString()}`;const g=v=>i?u1(i)?i(v):LF(v):v,y=()=>AF(t[e])?g(t[e]):f;if(l){const v=y(),A=j(v);return Qe(()=>t[e],w=>A.value=g(w)),Qe(A,w=>{(w!==t[e]||u)&&p(m,w)},{deep:u}),A}else return P({get(){return y()},set(v){p(m,v)}})}function YF({window:t=Cl}={}){if(!t)return j(!1);const e=j(t.document.hasFocus());return Ln(t,"blur",()=>{e.value=!1}),Ln(t,"focus",()=>{e.value=!0}),e}function XF(t={}){const{window:e=Cl,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:a=!0,includeScrollbar:o=!0}=t,s=j(n),i=j(r),l=()=>{e&&(o?(s.value=e.innerWidth,i.value=e.innerHeight):(s.value=e.document.documentElement.clientWidth,i.value=e.document.documentElement.clientHeight))};return l(),Kb(l),Ln("resize",l,{passive:!0}),a&&Ln("orientationchange",l,{passive:!0}),{width:s,height:i}}class QF extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Wr(t,e){throw new QF(`[${t}] ${e}`)}const D4={current:0},P4=j(0),aM=2e3,B4=Symbol("elZIndexContextKey"),oM=Symbol("zIndexContextKey"),bd=t=>{const e=nn()?St(B4,D4):D4,n=t||(nn()?St(oM,void 0):void 0),r=P(()=>{const s=d(n);return Nt(s)?s:aM}),a=P(()=>r.value+P4.value),o=()=>(e.current++,P4.value=e.current,a.value);return!Sn&&St(B4),{initialZIndex:r,currentZIndex:a,nextZIndex:o}};var ZF={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const JF=t=>(e,n)=>eO(e,n,d(t)),eO=(t,e,n)=>Mr(n,t,t).replace(/\{(\w+)\}/g,(r,a)=>{var o;return`${(o=e==null?void 0:e[a])!=null?o:`{${a}}`}`}),tO=t=>{const e=P(()=>d(t).name),n=jn(t)?t:j(t);return{lang:e,locale:n,t:JF(t)}},sM=Symbol("localeContextKey"),_n=t=>{const e=t||St(sM,j());return tO(P(()=>e.value||ZF))},iM="__epPropKey",xe=t=>t,nO=t=>tn(t)&&!!t[iM],ds=(t,e)=>{if(!tn(t)||nO(t))return t;const{values:n,required:r,default:a,type:o,validator:s}=t,l={type:o,required:!!r,validator:n||s?c=>{let u=!1,f=[];if(n&&(f=Array.from(n),xn(t,"default")&&f.push(a),u||(u=f.includes(c))),s&&(u||(u=s(c))),!u&&f.length>0){const h=[...new Set(f)].map(p=>JSON.stringify(p)).join(", ");A7(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[iM]:!0};return xn(t,"default")&&(l.default=a),l},at=t=>Ff(Object.entries(t).map(([e,n])=>[e,ds(n,e)])),Os=["","default","small","large"],Or=ds({type:String,values:Os,required:!1}),lM=Symbol("size"),cM=()=>{const t=St(lM,{});return P(()=>d(t.size)||"")},uM=Symbol("emptyValuesContextKey"),rO=["",void 0,null],aO=void 0,Sd=at({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>Pt(t)?!t():!t}}),ym=(t,e)=>{const n=nn()?St(uM,j({})):j({}),r=P(()=>t.emptyValues||n.value.emptyValues||rO),a=P(()=>Pt(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:Pt(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:aO),o=s=>r.value.includes(s);return r.value.includes(a.value),{emptyValues:r,valueOnClear:a,isEmptyValue:o}},$u=t=>Object.keys(t),dM=t=>Object.entries(t),H0=(t,e,n)=>({get value(){return Mr(t,e,n)},set value(r){cF(t,e,r)}}),_p=j();function bm(t,e=void 0){const n=nn()?St(uE,_p):_p;return t?P(()=>{var r,a;return(a=(r=n.value)==null?void 0:r[t])!=null?a:e}):n}function Sm(t,e){const n=bm(),r=Ze(t,P(()=>{var i;return((i=n.value)==null?void 0:i.namespace)||rf})),a=_n(P(()=>{var i;return(i=n.value)==null?void 0:i.locale})),o=bd(P(()=>{var i;return((i=n.value)==null?void 0:i.zIndex)||aM})),s=P(()=>{var i;return d(e)||((i=n.value)==null?void 0:i.size)||""});return jb(P(()=>d(n)||{})),{ns:r,locale:a,zIndex:o,size:s}}const jb=(t,e,n=!1)=>{var r;const a=!!nn(),o=a?bm():void 0,s=(r=e==null?void 0:e.provide)!=null?r:a?vn:void 0;if(!s)return;const i=P(()=>{const l=d(t);return o!=null&&o.value?oO(o.value,l):l});return s(uE,i),s(sM,P(()=>i.value.locale)),s(dE,P(()=>i.value.namespace)),s(oM,P(()=>i.value.zIndex)),s(lM,{size:P(()=>i.value.size||"")}),s(uM,P(()=>({emptyValues:i.value.emptyValues,valueOnClear:i.value.valueOnClear}))),(n||!_p.value)&&(_p.value=i.value),i},oO=(t,e)=>{const n=[...new Set([...$u(t),...$u(e)])],r={};for(const a of n)r[a]=e[a]!==void 0?e[a]:t[a];return r},sO=(t=[])=>({version:rD,install:(n,r)=>{n[$w]||(n[$w]=!0,t.forEach(a=>n.use(a)),r&&jb(r,n,!0))}}),Jt="update:modelValue",Fn="change",ya="input",iO=at({zIndex:{type:xe([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),lO={scroll:({scrollTop:t,fixed:e})=>Nt(t)&&Kn(e),[Fn]:t=>Kn(t)};var st=(t,e)=>{const n=t.__vccOpts||t;for(const[r,a]of e)n[r]=a;return n};function cO(t,e,n,r){const a=n-e;return t/=r/2,t<1?a/2*t*t*t+e:a/2*((t-=2)*t*t+2)+e}const hl=t=>Sn?window.requestAnimationFrame(t):setTimeout(t,16),Sc=t=>Sn?window.cancelAnimationFrame(t):clearTimeout(t),fM=(t="")=>t.split(" ").filter(e=>!!e.trim()),Ya=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Do=(t,e)=>{!t||!e.trim()||t.classList.add(...fM(e))},Pa=(t,e)=>{!t||!e.trim()||t.classList.remove(...fM(e))},ii=(t,e)=>{var n;if(!Sn||!t||!e)return"";let r=_o(e);r==="float"&&(r="cssFloat");try{const a=t.style[r];if(a)return a;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return o?o[r]:""}catch{return t.style[r]}},hM=(t,e,n)=>{if(!(!t||!e))if(tn(e))dM(e).forEach(([r,a])=>hM(t,r,a));else{const r=_o(e);t.style[r]=n}};function Sr(t,e="px"){if(!t)return"";if(Nt(t)||gF(t))return`${t}${e}`;if(Mt(t))return t}const uO=(t,e)=>{if(!Sn)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=ii(t,n);return["scroll","auto","overlay"].some(a=>r.includes(a))},Yb=(t,e)=>{if(!Sn)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(uO(n,e))return n;n=n.parentNode}return n};let Gh;const pM=t=>{var e;if(!Sn)return 0;if(Gh!==void 0)return Gh;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",n.appendChild(a);const o=a.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),Gh=r-o,Gh};function Xb(t,e){if(!Sn)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const a=e.offsetTop+n.reduce((l,c)=>l+c.offsetTop,0),o=a+e.offsetHeight,s=t.scrollTop,i=s+t.clientHeight;a<s?t.scrollTop=a:o>i&&(t.scrollTop=o-t.clientHeight)}function dO(t,e,n,r,a){const o=Date.now();let s;const i=()=>{const c=Date.now()-o,u=cO(c>r?r:c,e,n,r);gm(t)?t.scrollTo(window.pageXOffset,u):t.scrollTop=u,c<r?s=hl(i):Pt(a)&&a()};return i(),()=>{s&&Sc(s)}}const L4=(t,e)=>gm(e)?t.ownerDocument.documentElement:e,N4=t=>gm(t)?window.scrollY:t.scrollTop,mM="ElAffix",fO=he({name:mM}),hO=he({...fO,props:iO,emits:lO,setup(t,{expose:e,emit:n}){const r=t,a=Ze("affix"),o=Xn(),s=Xn(),i=Xn(),{height:l}=XF(),{height:c,width:u,top:f,bottom:h,update:p}=M4(s,{windowScroll:!1}),m=M4(o),g=j(!1),y=j(0),v=j(0),A=P(()=>({height:g.value?`${c.value}px`:"",width:g.value?`${u.value}px`:""})),w=P(()=>{if(!g.value)return{};const E=r.offset?Sr(r.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:r.position==="top"?E:"",bottom:r.position==="bottom"?E:"",transform:v.value?`translateY(${v.value}px)`:"",zIndex:r.zIndex}}),S=()=>{if(!i.value)return;y.value=i.value instanceof Window?document.documentElement.scrollTop:i.value.scrollTop||0;const{position:E,target:I,offset:k}=r,T=k+c.value;if(E==="top")if(I){const M=m.bottom.value-T;g.value=k>f.value&&m.bottom.value>0,v.value=M<0?M:0}else g.value=k>f.value;else if(I){const M=l.value-m.top.value-T;g.value=l.value-k<h.value&&l.value>m.top.value,v.value=M<0?-M:0}else g.value=l.value-k<h.value},C=()=>{p(),n("scroll",{scrollTop:y.value,fixed:g.value})};return Qe(g,E=>n("change",E)),Yt(()=>{var E;r.target?(o.value=(E=document.querySelector(r.target))!=null?E:void 0,o.value||Wr(mM,`Target does not exist: ${r.target}`)):o.value=document.documentElement,i.value=Yb(s.value,!0),p()}),Ln(i,"scroll",C),ga(S),e({update:S,updateRoot:p}),(E,I)=>(N(),ee("div",{ref_key:"root",ref:s,class:V(d(a).b()),style:bt(d(A))},[re("div",{class:V({[d(a).m("fixed")]:g.value}),style:bt(d(w))},[Me(E.$slots,"default")],6)],6))}});var pO=st(hO,[["__file","affix.vue"]]);const qt=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},vM=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),mO=(t,e)=>(t.install=n=>{n.directive(e,t)},t),hr=t=>(t.install=Dn,t),vO=qt(pO),gO=at({size:{type:xe([Number,String])},color:{type:String}}),yO=he({name:"ElIcon",inheritAttrs:!1}),bO=he({...yO,props:gO,setup(t){const e=t,n=Ze("icon"),r=P(()=>{const{size:a,color:o}=e;return!a&&!o?{}:{fontSize:Bn(a)?void 0:Sr(a),"--color":o}});return(a,o)=>(N(),ee("i",un({class:d(n).b(),style:d(r)},a.$attrs),[Me(a.$slots,"default")],16))}});var SO=st(bO,[["__file","icon.vue"]]);const Ct=qt(SO);/*! Element Plus Icons Vue v2.3.1 */var _O=he({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),xi=_O,wO=he({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),pl=wO,xO=he({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Ha=xO,CO=he({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Qb=CO,AO=he({name:"Back",__name:"back",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),re("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),EO=AO,MO=he({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),TO=MO,IO=he({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),gM=IO,RO=he({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),kO=RO,DO=he({name:"Check",__name:"check",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),fh=DO,PO=he({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),BO=PO,LO=he({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),re("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Zb=LO,NO=he({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Jb=NO,FO=he({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),re("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Ci=FO,OO=he({name:"Clock",__name:"clock",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),re("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),re("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),yM=OO,zO=he({name:"Close",__name:"close",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),cs=zO,UO=he({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),ml=UO,HO=he({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),vl=HO,$O=he({name:"Delete",__name:"delete",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),VO=$O,WO=he({name:"Document",__name:"document",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),GO=WO,KO=he({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),qO=KO,jO=he({name:"Hide",__name:"hide",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),re("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),YO=jO,XO=he({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),e2=XO,QO=he({name:"Loading",__name:"loading",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Is=QO,ZO=he({name:"Minus",__name:"minus",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),JO=ZO,ez=he({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),F4=ez,tz=he({name:"More",__name:"more",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),nz=tz,rz=he({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),az=rz,oz=he({name:"Plus",__name:"plus",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),bM=oz,sz=he({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),iz=sz,lz=he({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),cz=lz,uz=he({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),dz=uz,fz=he({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),hz=fz,pz=he({name:"Search",__name:"search",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),mz=pz,vz=he({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),gz=vz,yz=he({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),bz=yz,Sz=he({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Kh=Sz,_z=he({name:"Star",__name:"star",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),wz=_z,xz=he({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),SM=xz,Cz=he({name:"View",__name:"view",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),Az=Cz,Ez=he({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),_m=Ez,Mz=he({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),_M=Mz,Tz=he({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(N(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),Iz=Tz;const On=xe([String,Object,Function]),t2={Close:cs},n2={Close:cs,SuccessFilled:SM,InfoFilled:e2,WarningFilled:_m,CircleCloseFilled:Jb},gl={success:SM,warning:_m,error:Jb,info:e2},wm={validating:Is,success:Zb,error:Ci},Rz=["light","dark"],kz=at({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:$u(gl),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:Rz,default:"light"}}),Dz={close:t=>t instanceof MouseEvent},Pz=he({name:"ElAlert"}),Bz=he({...Pz,props:kz,emits:Dz,setup(t,{emit:e}){const n=t,{Close:r}=n2,a=zr(),o=Ze("alert"),s=j(!0),i=P(()=>gl[n.type]),l=P(()=>!!(n.description||a.default)),c=u=>{s.value=!1,e("close",u)};return(u,f)=>(N(),Ue(Vr,{name:d(o).b("fade"),persisted:""},{default:le(()=>[Qt(re("div",{class:V([d(o).b(),d(o).m(u.type),d(o).is("center",u.center),d(o).is(u.effect)]),role:"alert"},[u.showIcon&&d(i)?(N(),Ue(d(Ct),{key:0,class:V([d(o).e("icon"),{[d(o).is("big")]:d(l)}])},{default:le(()=>[(N(),Ue(ln(d(i))))]),_:1},8,["class"])):Te("v-if",!0),re("div",{class:V(d(o).e("content"))},[u.title||u.$slots.title?(N(),ee("span",{key:0,class:V([d(o).e("title"),{"with-description":d(l)}])},[Me(u.$slots,"title",{},()=>[Zt(rt(u.title),1)])],2)):Te("v-if",!0),d(l)?(N(),ee("p",{key:1,class:V(d(o).e("description"))},[Me(u.$slots,"default",{},()=>[Zt(rt(u.description),1)])],2)):Te("v-if",!0),u.closable?(N(),ee(Et,{key:2},[u.closeText?(N(),ee("div",{key:0,class:V([d(o).e("close-btn"),d(o).is("customed")]),onClick:c},rt(u.closeText),3)):(N(),Ue(d(Ct),{key:1,class:V(d(o).e("close-btn")),onClick:c},{default:le(()=>[J(d(r))]),_:1},8,["class"]))],64)):Te("v-if",!0)],2)],2),[[En,s.value]])]),_:3},8,["name"]))}});var Lz=st(Bz,[["__file","alert.vue"]]);const Nz=qt(Lz),xm=()=>Sn&&/firefox/i.test(window.navigator.userAgent);let jo;const Fz=`
  height:0 !important;
  visibility:hidden !important;
  ${xm()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Oz=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function zz(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),a=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Oz.map(s=>`${s}:${e.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:a,boxSizing:n}}function O4(t,e=1,n){var r;jo||(jo=document.createElement("textarea"),document.body.appendChild(jo));const{paddingSize:a,borderSize:o,boxSizing:s,contextStyle:i}=zz(t);jo.setAttribute("style",`${i};${Fz}`),jo.value=t.value||t.placeholder||"";let l=jo.scrollHeight;const c={};s==="border-box"?l=l+o:s==="content-box"&&(l=l-a),jo.value="";const u=jo.scrollHeight-a;if(Nt(e)){let f=u*e;s==="border-box"&&(f=f+a+o),l=Math.max(f,l),c.minHeight=`${f}px`}if(Nt(n)){let f=u*n;s==="border-box"&&(f=f+a+o),l=Math.min(f,l)}return c.height=`${l}px`,(r=jo.parentNode)==null||r.removeChild(jo),jo=void 0,c}const fr=t=>t,Uz=at({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),ca=t=>as(Uz,t),r2=at({id:{type:String,default:void 0},size:Or,disabled:Boolean,modelValue:{type:xe([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:xe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:On},prefixIcon:{type:On},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:xe([Object,Array,String]),default:()=>fr({})},autofocus:Boolean,rows:{type:Number,default:2},...ca(["ariaLabel"])}),Hz={[Jt]:t=>Mt(t),input:t=>Mt(t),change:t=>Mt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},$z=["class","style"],Vz=/^on[A-Z]/,hh=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=P(()=>((n==null?void 0:n.value)||[]).concat($z)),a=nn();return P(a?()=>{var o;return Ff(Object.entries((o=a.proxy)==null?void 0:o.$attrs).filter(([s])=>!r.value.includes(s)&&!(e&&Vz.test(s))))}:()=>({}))},Ic=Symbol("formContextKey"),Rs=Symbol("formItemContextKey"),z4={prefix:Math.floor(Math.random()*1e4),current:0},Wz=Symbol("elIdInjection"),a2=()=>nn()?St(Wz,z4):z4,la=t=>{const e=a2(),n=Rb();return c1(()=>d(t)||`${n.value}-id-${e.prefix}-${e.current++}`)},_a=()=>{const t=St(Ic,void 0),e=St(Rs,void 0);return{form:t,formItem:e}},Wo=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=j(!1)),r||(r=j(!1));const a=j();let o;const s=P(()=>{var i;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((i=e.inputIds)==null?void 0:i.length)<=1)});return Yt(()=>{o=Qe([Rn(t,"id"),n],([i,l])=>{const c=i??(l?void 0:la().value);c!==a.value&&(e!=null&&e.removeInputId&&(a.value&&e.removeInputId(a.value),!(r!=null&&r.value)&&!l&&c&&e.addInputId(c)),a.value=c)},{immediate:!0})}),wl(()=>{o&&o(),e!=null&&e.removeInputId&&a.value&&e.removeInputId(a.value)}),{isLabeledByFormItem:s,inputId:a}},wM=t=>{const e=nn();return P(()=>{var n,r;return(r=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:r[t]})},Dr=(t,e={})=>{const n=j(void 0),r=e.prop?n:wM("size"),a=e.global?n:cM(),o=e.form?{size:void 0}:St(Ic,void 0),s=e.formItem?{size:void 0}:St(Rs,void 0);return P(()=>r.value||d(t)||(s==null?void 0:s.size)||(o==null?void 0:o.size)||a.value||"")},wa=t=>{const e=wM("disabled"),n=St(Ic,void 0);return P(()=>e.value||d(t)||(n==null?void 0:n.disabled)||!1)};function Al(t,{beforeFocus:e,afterFocus:n,beforeBlur:r,afterBlur:a}={}){const o=nn(),{emit:s}=o,i=Xn(),l=j(!1),c=h=>{Pt(e)&&e(h)||l.value||(l.value=!0,s("focus",h),n==null||n())},u=h=>{var p;Pt(r)&&r(h)||h.relatedTarget&&((p=i.value)!=null&&p.contains(h.relatedTarget))||(l.value=!1,s("blur",h),a==null||a())},f=()=>{var h,p;(h=i.value)!=null&&h.contains(document.activeElement)&&i.value!==document.activeElement||(p=t.value)==null||p.focus()};return Qe(i,h=>{h&&h.setAttribute("tabindex","-1")}),Ln(i,"focus",c,!0),Ln(i,"blur",u,!0),Ln(i,"click",f,!0),{isFocused:l,wrapperRef:i,handleFocus:c,handleBlur:u}}const Gz=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function ph({afterComposition:t,emit:e}){const n=j(!1),r=i=>{e==null||e("compositionstart",i),n.value=!0},a=i=>{var l;e==null||e("compositionupdate",i);const c=(l=i.target)==null?void 0:l.value,u=c[c.length-1]||"";n.value=!Gz(u)},o=i=>{e==null||e("compositionend",i),n.value&&(n.value=!1,Bt(()=>t(i)))};return{isComposing:n,handleComposition:i=>{i.type==="compositionend"?o(i):a(i)},handleCompositionStart:r,handleCompositionUpdate:a,handleCompositionEnd:o}}function Kz(t){let e;function n(){if(t.value==null)return;const{selectionStart:a,selectionEnd:o,value:s}=t.value;if(a==null||o==null)return;const i=s.slice(0,Math.max(0,a)),l=s.slice(Math.max(0,o));e={selectionStart:a,selectionEnd:o,value:s,beforeTxt:i,afterTxt:l}}function r(){if(t.value==null||e==null)return;const{value:a}=t.value,{beforeTxt:o,afterTxt:s,selectionStart:i}=e;if(o==null||s==null||i==null)return;let l=a.length;if(a.endsWith(s))l=a.length-s.length;else if(a.startsWith(o))l=o.length;else{const c=o[i-1],u=a.indexOf(c,i-1);u!==-1&&(l=u+1)}t.value.setSelectionRange(l,l)}return[n,r]}const qz=he({name:"ElInput",inheritAttrs:!1}),jz=he({...qz,props:r2,emits:Hz,setup(t,{expose:e,emit:n}){const r=t,a=xl(),o=hh(),s=zr(),i=P(()=>[r.type==="textarea"?g.b():m.b(),m.m(h.value),m.is("disabled",p.value),m.is("exceed",de.value),{[m.b("group")]:s.prepend||s.append,[m.m("prefix")]:s.prefix||r.prefixIcon,[m.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[m.bm("suffix","password-clear")]:U.value&&F.value,[m.b("hidden")]:r.type==="hidden"},a.class]),l=P(()=>[m.e("wrapper"),m.is("focus",k.value)]),{form:c,formItem:u}=_a(),{inputId:f}=Wo(r,{formItemContext:u}),h=Dr(),p=wa(),m=Ze("input"),g=Ze("textarea"),y=Xn(),v=Xn(),A=j(!1),w=j(!1),S=j(),C=Xn(r.inputStyle),E=P(()=>y.value||v.value),{wrapperRef:I,isFocused:k,handleFocus:T,handleBlur:M}=Al(E,{beforeFocus(){return p.value},afterBlur(){var ye;r.validateEvent&&((ye=u==null?void 0:u.validate)==null||ye.call(u,"blur").catch($e=>void 0))}}),D=P(()=>{var ye;return(ye=c==null?void 0:c.statusIcon)!=null?ye:!1}),B=P(()=>(u==null?void 0:u.validateState)||""),z=P(()=>B.value&&wm[B.value]),q=P(()=>w.value?Az:YO),$=P(()=>[a.style]),L=P(()=>[r.inputStyle,C.value,{resize:r.resize}]),W=P(()=>qr(r.modelValue)?"":String(r.modelValue)),U=P(()=>r.clearable&&!p.value&&!r.readonly&&!!W.value&&(k.value||A.value)),F=P(()=>r.showPassword&&!p.value&&!!W.value&&(!!W.value||k.value)),Q=P(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!p.value&&!r.readonly&&!r.showPassword),ne=P(()=>W.value.length),de=P(()=>!!Q.value&&ne.value>Number(r.maxlength)),ie=P(()=>!!s.suffix||!!r.suffixIcon||U.value||r.showPassword||Q.value||!!B.value&&D.value),[ce,ge]=Kz(y);or(v,ye=>{if(Ie(),!Q.value||r.resize!=="both")return;const $e=ye[0],{width:je}=$e.contentRect;S.value={right:`calc(100% - ${je+15+6}px)`}});const Ae=()=>{const{type:ye,autosize:$e}=r;if(!(!Sn||ye!=="textarea"||!v.value))if($e){const je=tn($e)?$e.minRows:void 0,yt=tn($e)?$e.maxRows:void 0,ut=O4(v.value,je,yt);C.value={overflowY:"hidden",...ut},Bt(()=>{v.value.offsetHeight,C.value=ut})}else C.value={minHeight:O4(v.value).minHeight}},Ie=(ye=>{let $e=!1;return()=>{var je;if($e||!r.autosize)return;((je=v.value)==null?void 0:je.offsetParent)===null||(ye(),$e=!0)}})(Ae),Re=()=>{const ye=E.value,$e=r.formatter?r.formatter(W.value):W.value;!ye||ye.value===$e||(ye.value=$e)},Je=async ye=>{ce();let{value:$e}=ye.target;if(r.formatter&&($e=r.parser?r.parser($e):$e),!Z.value){if($e===W.value){Re();return}n(Jt,$e),n("input",$e),await Bt(),Re(),ge()}},Ye=ye=>{n("change",ye.target.value)},{isComposing:Z,handleCompositionStart:me,handleCompositionUpdate:oe,handleCompositionEnd:Ve}=ph({emit:n,afterComposition:Je}),Le=()=>{ce(),w.value=!w.value,setTimeout(ge)},ze=()=>{var ye;return(ye=E.value)==null?void 0:ye.focus()},De=()=>{var ye;return(ye=E.value)==null?void 0:ye.blur()},Fe=ye=>{A.value=!1,n("mouseleave",ye)},Ge=ye=>{A.value=!0,n("mouseenter",ye)},ae=ye=>{n("keydown",ye)},te=()=>{var ye;(ye=E.value)==null||ye.select()},we=()=>{n(Jt,""),n("change",""),n("clear"),n("input","")};return Qe(()=>r.modelValue,()=>{var ye;Bt(()=>Ae()),r.validateEvent&&((ye=u==null?void 0:u.validate)==null||ye.call(u,"change").catch($e=>void 0))}),Qe(W,()=>Re()),Qe(()=>r.type,async()=>{await Bt(),Re(),Ae()}),Yt(()=>{!r.formatter&&r.parser,Re(),Bt(Ae)}),e({input:y,textarea:v,ref:E,textareaStyle:L,autosize:Rn(r,"autosize"),isComposing:Z,focus:ze,blur:De,select:te,clear:we,resizeTextarea:Ae}),(ye,$e)=>(N(),ee("div",{class:V([d(i),{[d(m).bm("group","append")]:ye.$slots.append,[d(m).bm("group","prepend")]:ye.$slots.prepend}]),style:bt(d($)),onMouseenter:Ge,onMouseleave:Fe},[Te(" input "),ye.type!=="textarea"?(N(),ee(Et,{key:0},[Te(" prepend slot "),ye.$slots.prepend?(N(),ee("div",{key:0,class:V(d(m).be("group","prepend"))},[Me(ye.$slots,"prepend")],2)):Te("v-if",!0),re("div",{ref_key:"wrapperRef",ref:I,class:V(d(l))},[Te(" prefix slot "),ye.$slots.prefix||ye.prefixIcon?(N(),ee("span",{key:0,class:V(d(m).e("prefix"))},[re("span",{class:V(d(m).e("prefix-inner"))},[Me(ye.$slots,"prefix"),ye.prefixIcon?(N(),Ue(d(Ct),{key:0,class:V(d(m).e("icon"))},{default:le(()=>[(N(),Ue(ln(ye.prefixIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],2)):Te("v-if",!0),re("input",un({id:d(f),ref_key:"input",ref:y,class:d(m).e("inner")},d(o),{minlength:ye.minlength,maxlength:ye.maxlength,type:ye.showPassword?w.value?"text":"password":ye.type,disabled:d(p),readonly:ye.readonly,autocomplete:ye.autocomplete,tabindex:ye.tabindex,"aria-label":ye.ariaLabel,placeholder:ye.placeholder,style:ye.inputStyle,form:ye.form,autofocus:ye.autofocus,role:ye.containerRole,onCompositionstart:d(me),onCompositionupdate:d(oe),onCompositionend:d(Ve),onInput:Je,onChange:Ye,onKeydown:ae}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Te(" suffix slot "),d(ie)?(N(),ee("span",{key:1,class:V(d(m).e("suffix"))},[re("span",{class:V(d(m).e("suffix-inner"))},[!d(U)||!d(F)||!d(Q)?(N(),ee(Et,{key:0},[Me(ye.$slots,"suffix"),ye.suffixIcon?(N(),Ue(d(Ct),{key:0,class:V(d(m).e("icon"))},{default:le(()=>[(N(),Ue(ln(ye.suffixIcon)))]),_:1},8,["class"])):Te("v-if",!0)],64)):Te("v-if",!0),d(U)?(N(),Ue(d(Ct),{key:1,class:V([d(m).e("icon"),d(m).e("clear")]),onMousedown:zt(d(Dn),["prevent"]),onClick:we},{default:le(()=>[J(d(Ci))]),_:1},8,["class","onMousedown"])):Te("v-if",!0),d(F)?(N(),Ue(d(Ct),{key:2,class:V([d(m).e("icon"),d(m).e("password")]),onClick:Le},{default:le(()=>[(N(),Ue(ln(d(q))))]),_:1},8,["class"])):Te("v-if",!0),d(Q)?(N(),ee("span",{key:3,class:V(d(m).e("count"))},[re("span",{class:V(d(m).e("count-inner"))},rt(d(ne))+" / "+rt(ye.maxlength),3)],2)):Te("v-if",!0),d(B)&&d(z)&&d(D)?(N(),Ue(d(Ct),{key:4,class:V([d(m).e("icon"),d(m).e("validateIcon"),d(m).is("loading",d(B)==="validating")])},{default:le(()=>[(N(),Ue(ln(d(z))))]),_:1},8,["class"])):Te("v-if",!0)],2)],2)):Te("v-if",!0)],2),Te(" append slot "),ye.$slots.append?(N(),ee("div",{key:1,class:V(d(m).be("group","append"))},[Me(ye.$slots,"append")],2)):Te("v-if",!0)],64)):(N(),ee(Et,{key:1},[Te(" textarea "),re("textarea",un({id:d(f),ref_key:"textarea",ref:v,class:[d(g).e("inner"),d(m).is("focus",d(k))]},d(o),{minlength:ye.minlength,maxlength:ye.maxlength,tabindex:ye.tabindex,disabled:d(p),readonly:ye.readonly,autocomplete:ye.autocomplete,style:d(L),"aria-label":ye.ariaLabel,placeholder:ye.placeholder,form:ye.form,autofocus:ye.autofocus,rows:ye.rows,role:ye.containerRole,onCompositionstart:d(me),onCompositionupdate:d(oe),onCompositionend:d(Ve),onInput:Je,onFocus:d(T),onBlur:d(M),onChange:Ye,onKeydown:ae}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),d(Q)?(N(),ee("span",{key:0,style:bt(S.value),class:V(d(m).e("count"))},rt(d(ne))+" / "+rt(ye.maxlength),7)):Te("v-if",!0)],64))],38))}});var Yz=st(jz,[["__file","input.vue"]]);const ka=qt(Yz),Fc=4,xM={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Xz=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),o2=Symbol("scrollbarContextKey"),Qz=at({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Zz="Thumb",Jz=he({__name:"thumb",props:Qz,setup(t){const e=t,n=St(o2),r=Ze("scrollbar");n||Wr(Zz,"can not inject scrollbar context");const a=j(),o=j(),s=j({}),i=j(!1);let l=!1,c=!1,u=Sn?document.onselectstart:null;const f=P(()=>xM[e.vertical?"vertical":"horizontal"]),h=P(()=>Xz({size:e.size,move:e.move,bar:f.value})),p=P(()=>a.value[f.value.offset]**2/n.wrapElement[f.value.scrollSize]/e.ratio/o.value[f.value.offset]),m=E=>{var I;if(E.stopPropagation(),E.ctrlKey||[1,2].includes(E.button))return;(I=window.getSelection())==null||I.removeAllRanges(),y(E);const k=E.currentTarget;k&&(s.value[f.value.axis]=k[f.value.offset]-(E[f.value.client]-k.getBoundingClientRect()[f.value.direction]))},g=E=>{if(!o.value||!a.value||!n.wrapElement)return;const I=Math.abs(E.target.getBoundingClientRect()[f.value.direction]-E[f.value.client]),k=o.value[f.value.offset]/2,T=(I-k)*100*p.value/a.value[f.value.offset];n.wrapElement[f.value.scroll]=T*n.wrapElement[f.value.scrollSize]/100},y=E=>{E.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",A),u=document.onselectstart,document.onselectstart=()=>!1},v=E=>{if(!a.value||!o.value||l===!1)return;const I=s.value[f.value.axis];if(!I)return;const k=(a.value.getBoundingClientRect()[f.value.direction]-E[f.value.client])*-1,T=o.value[f.value.offset]-I,M=(k-T)*100*p.value/a.value[f.value.offset];n.wrapElement[f.value.scroll]=M*n.wrapElement[f.value.scrollSize]/100},A=()=>{l=!1,s.value[f.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",A),C(),c&&(i.value=!1)},w=()=>{c=!1,i.value=!!e.size},S=()=>{c=!0,i.value=l};Un(()=>{C(),document.removeEventListener("mouseup",A)});const C=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return Ln(Rn(n,"scrollbarElement"),"mousemove",w),Ln(Rn(n,"scrollbarElement"),"mouseleave",S),(E,I)=>(N(),Ue(Vr,{name:d(r).b("fade"),persisted:""},{default:le(()=>[Qt(re("div",{ref_key:"instance",ref:a,class:V([d(r).e("bar"),d(r).is(d(f).key)]),onMousedown:g},[re("div",{ref_key:"thumb",ref:o,class:V(d(r).e("thumb")),style:bt(d(h)),onMousedown:m},null,38)],34),[[En,E.always||i.value]])]),_:1},8,["name"]))}});var U4=st(Jz,[["__file","thumb.vue"]]);const eU=at({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),tU=he({__name:"bar",props:eU,setup(t,{expose:e}){const n=t,r=St(o2),a=j(0),o=j(0),s=j(""),i=j(""),l=j(1),c=j(1);return e({handleScroll:h=>{if(h){const p=h.offsetHeight-Fc,m=h.offsetWidth-Fc;o.value=h.scrollTop*100/p*l.value,a.value=h.scrollLeft*100/m*c.value}},update:()=>{const h=r==null?void 0:r.wrapElement;if(!h)return;const p=h.offsetHeight-Fc,m=h.offsetWidth-Fc,g=p**2/h.scrollHeight,y=m**2/h.scrollWidth,v=Math.max(g,n.minSize),A=Math.max(y,n.minSize);l.value=g/(p-g)/(v/(p-v)),c.value=y/(m-y)/(A/(m-A)),i.value=v+Fc<p?`${v}px`:"",s.value=A+Fc<m?`${A}px`:""}}),(h,p)=>(N(),ee(Et,null,[J(U4,{move:a.value,ratio:c.value,size:s.value,always:h.always},null,8,["move","ratio","size","always"]),J(U4,{move:o.value,ratio:l.value,size:i.value,vertical:"",always:h.always},null,8,["move","ratio","size","always"])],64))}});var nU=st(tU,[["__file","bar.vue"]]);const rU=at({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:xe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ca(["ariaLabel","ariaOrientation"])}),aU={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Nt)},oU="ElScrollbar",sU=he({name:oU}),iU=he({...sU,props:rU,emits:aU,setup(t,{expose:e,emit:n}){const r=t,a=Ze("scrollbar");let o,s,i=0,l=0;const c=j(),u=j(),f=j(),h=j(),p=P(()=>{const C={};return r.height&&(C.height=Sr(r.height)),r.maxHeight&&(C.maxHeight=Sr(r.maxHeight)),[r.wrapStyle,C]}),m=P(()=>[r.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!r.native}]),g=P(()=>[a.e("view"),r.viewClass]),y=()=>{var C;u.value&&((C=h.value)==null||C.handleScroll(u.value),i=u.value.scrollTop,l=u.value.scrollLeft,n("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};function v(C,E){tn(C)?u.value.scrollTo(C):Nt(C)&&Nt(E)&&u.value.scrollTo(C,E)}const A=C=>{Nt(C)&&(u.value.scrollTop=C)},w=C=>{Nt(C)&&(u.value.scrollLeft=C)},S=()=>{var C;(C=h.value)==null||C.update()};return Qe(()=>r.noresize,C=>{C?(o==null||o(),s==null||s()):({stop:o}=or(f,S),s=Ln("resize",S))},{immediate:!0}),Qe(()=>[r.maxHeight,r.height],()=>{r.native||Bt(()=>{var C;S(),u.value&&((C=h.value)==null||C.handleScroll(u.value))})}),vn(o2,Mn({scrollbarElement:c,wrapElement:u})),wb(()=>{u.value&&(u.value.scrollTop=i,u.value.scrollLeft=l)}),Yt(()=>{r.native||Bt(()=>{S()})}),Fs(()=>S()),e({wrapRef:u,update:S,scrollTo:v,setScrollTop:A,setScrollLeft:w,handleScroll:y}),(C,E)=>(N(),ee("div",{ref_key:"scrollbarRef",ref:c,class:V(d(a).b())},[re("div",{ref_key:"wrapRef",ref:u,class:V(d(m)),style:bt(d(p)),tabindex:C.tabindex,onScroll:y},[(N(),Ue(ln(C.tag),{id:C.id,ref_key:"resizeRef",ref:f,class:V(d(g)),style:bt(C.viewStyle),role:C.role,"aria-label":C.ariaLabel,"aria-orientation":C.ariaOrientation},{default:le(()=>[Me(C.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),C.native?Te("v-if",!0):(N(),Ue(nU,{key:0,ref_key:"barRef",ref:h,always:C.always,"min-size":C.minSize},null,8,["always","min-size"]))],2))}});var lU=st(iU,[["__file","scrollbar.vue"]]);const zs=qt(lU),s2=Symbol("popper"),CM=Symbol("popperContent"),cU=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],AM=at({role:{type:String,values:cU,default:"tooltip"}}),uU=he({name:"ElPopper",inheritAttrs:!1}),dU=he({...uU,props:AM,setup(t,{expose:e}){const n=t,r=j(),a=j(),o=j(),s=j(),i=P(()=>n.role),l={triggerRef:r,popperInstanceRef:a,contentRef:o,referenceRef:s,role:i};return e(l),vn(s2,l),(c,u)=>Me(c.$slots,"default")}});var fU=st(dU,[["__file","popper.vue"]]);const EM=at({arrowOffset:{type:Number,default:5}}),hU=he({name:"ElPopperArrow",inheritAttrs:!1}),pU=he({...hU,props:EM,setup(t,{expose:e}){const n=t,r=Ze("popper"),{arrowOffset:a,arrowRef:o,arrowStyle:s}=St(CM,void 0);return Qe(()=>n.arrowOffset,i=>{a.value=i}),Un(()=>{o.value=void 0}),e({arrowRef:o}),(i,l)=>(N(),ee("span",{ref_key:"arrowRef",ref:o,class:V(d(r).e("arrow")),style:bt(d(s)),"data-popper-arrow":""},null,6))}});var mU=st(pU,[["__file","arrow.vue"]]);const MM=at({virtualRef:{type:xe(Object)},virtualTriggering:Boolean,onMouseenter:{type:xe(Function)},onMouseleave:{type:xe(Function)},onClick:{type:xe(Function)},onKeydown:{type:xe(Function)},onFocus:{type:xe(Function)},onBlur:{type:xe(Function)},onContextmenu:{type:xe(Function)},id:String,open:Boolean}),TM=Symbol("elForwardRef"),vU=t=>{vn(TM,{setForwardRef:n=>{t.value=n}})},gU=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),yU='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',bU=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,H4=t=>Array.from(t.querySelectorAll(yU)).filter(e=>f1(e)&&bU(e)),f1=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},$0=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const a=document.createEvent(r);return a.initEvent(e,...n),t.dispatchEvent(a),t},IM=t=>!t.getAttribute("aria-owns"),RM=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const a=r.querySelectorAll(n),o=Array.prototype.indexOf.call(a,t);return a[o+e]||null},V0=t=>{t&&(t.focus(),!IM(t)&&t.click())},SU="ElOnlyChild",kM=he({name:SU,setup(t,{slots:e,attrs:n}){var r;const a=St(TM),o=gU((r=a==null?void 0:a.setForwardRef)!=null?r:Dn);return()=>{var s;const i=(s=e.default)==null?void 0:s.call(e,n);if(!i||i.length>1)return null;const l=DM(i);return l?Qt(pi(l,n),[[o]]):null}}});function DM(t){if(!t)return null;const e=t;for(const n of e){if(tn(n))switch(n.type){case Da:continue;case pd:case"svg":return $4(n);case Et:return DM(n.children);default:return n}return $4(n)}return null}function $4(t){const e=Ze("only-child");return J("span",{class:e.e("content")},[t])}const _U=he({name:"ElPopperTrigger",inheritAttrs:!1}),wU=he({..._U,props:MM,setup(t,{expose:e}){const n=t,{role:r,triggerRef:a}=St(s2,void 0);vU(a);const o=P(()=>i.value?n.id:void 0),s=P(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),i=P(()=>{if(r&&r.value!=="tooltip")return r.value}),l=P(()=>i.value?`${n.open}`:void 0);let c;const u=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Yt(()=>{Qe(()=>n.virtualRef,f=>{f&&(a.value=za(f))},{immediate:!0}),Qe(a,(f,h)=>{c==null||c(),c=void 0,vo(f)&&(u.forEach(p=>{var m;const g=n[p];g&&(f.addEventListener(p.slice(2).toLowerCase(),g),(m=h==null?void 0:h.removeEventListener)==null||m.call(h,p.slice(2).toLowerCase(),g))}),f1(f)&&(c=Qe([o,s,i,l],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((m,g)=>{qr(p[g])?f.removeAttribute(m):f.setAttribute(m,p[g])})},{immediate:!0}))),vo(h)&&f1(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>h.removeAttribute(p))},{immediate:!0})}),Un(()=>{if(c==null||c(),c=void 0,a.value&&vo(a.value)){const f=a.value;u.forEach(h=>{const p=n[h];p&&f.removeEventListener(h.slice(2).toLowerCase(),p)}),a.value=void 0}}),e({triggerRef:a}),(f,h)=>f.virtualTriggering?Te("v-if",!0):(N(),Ue(d(kM),un({key:0},f.$attrs,{"aria-controls":d(o),"aria-describedby":d(s),"aria-expanded":d(l),"aria-haspopup":d(i)}),{default:le(()=>[Me(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var xU=st(wU,[["__file","trigger.vue"]]);const Lv="focus-trap.focus-after-trapped",Nv="focus-trap.focus-after-released",CU="focus-trap.focusout-prevented",V4={cancelable:!0,bubbles:!1},AU={cancelable:!0,bubbles:!1},W4="focusAfterTrapped",G4="focusAfterReleased",i2=Symbol("elFocusTrap"),l2=j(),Cm=j(0),c2=j(0);let qh=0;const PM=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},K4=(t,e)=>{for(const n of t)if(!EU(n,e))return n},EU=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},MU=t=>{const e=PM(t),n=K4(e,t),r=K4(e.reverse(),t);return[n,r]},TU=t=>t instanceof HTMLInputElement&&"select"in t,Vi=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),c2.value=window.performance.now(),t!==n&&TU(t)&&e&&t.select()}};function q4(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const IU=()=>{let t=[];return{push:r=>{const a=t[0];a&&r!==a&&a.pause(),t=q4(t,r),t.unshift(r)},remove:r=>{var a,o;t=q4(t,r),(o=(a=t[0])==null?void 0:a.resume)==null||o.call(a)}}},RU=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(Vi(r,e),document.activeElement!==n)return},j4=IU(),kU=()=>Cm.value>c2.value,jh=()=>{l2.value="pointer",Cm.value=window.performance.now()},Y4=()=>{l2.value="keyboard",Cm.value=window.performance.now()},DU=()=>(Yt(()=>{qh===0&&(document.addEventListener("mousedown",jh),document.addEventListener("touchstart",jh),document.addEventListener("keydown",Y4)),qh++}),Un(()=>{qh--,qh<=0&&(document.removeEventListener("mousedown",jh),document.removeEventListener("touchstart",jh),document.removeEventListener("keydown",Y4))}),{focusReason:l2,lastUserFocusTimestamp:Cm,lastAutomatedFocusTimestamp:c2}),Yh=t=>new CustomEvent(CU,{...AU,detail:t}),mt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let cu=[];const X4=t=>{t.code===mt.esc&&cu.forEach(e=>e(t))},PU=t=>{Yt(()=>{cu.length===0&&document.addEventListener("keydown",X4),Sn&&cu.push(t)}),Un(()=>{cu=cu.filter(e=>e!==t),cu.length===0&&Sn&&document.removeEventListener("keydown",X4)})},BU=he({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[W4,G4,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=j();let r,a;const{focusReason:o}=DU();PU(m=>{t.trapped&&!s.paused&&e("release-requested",m)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},i=m=>{if(!t.loop&&!t.trapped||s.paused)return;const{code:g,altKey:y,ctrlKey:v,metaKey:A,currentTarget:w,shiftKey:S}=m,{loop:C}=t,E=g===mt.tab&&!y&&!v&&!A,I=document.activeElement;if(E&&I){const k=w,[T,M]=MU(k);if(T&&M){if(!S&&I===M){const B=Yh({focusReason:o.value});e("focusout-prevented",B),B.defaultPrevented||(m.preventDefault(),C&&Vi(T,!0))}else if(S&&[T,k].includes(I)){const B=Yh({focusReason:o.value});e("focusout-prevented",B),B.defaultPrevented||(m.preventDefault(),C&&Vi(M,!0))}}else if(I===k){const B=Yh({focusReason:o.value});e("focusout-prevented",B),B.defaultPrevented||m.preventDefault()}}};vn(i2,{focusTrapRef:n,onKeydown:i}),Qe(()=>t.focusTrapEl,m=>{m&&(n.value=m)},{immediate:!0}),Qe([n],([m],[g])=>{m&&(m.addEventListener("keydown",i),m.addEventListener("focusin",u),m.addEventListener("focusout",f)),g&&(g.removeEventListener("keydown",i),g.removeEventListener("focusin",u),g.removeEventListener("focusout",f))});const l=m=>{e(W4,m)},c=m=>e(G4,m),u=m=>{const g=d(n);if(!g)return;const y=m.target,v=m.relatedTarget,A=y&&g.contains(y);t.trapped||v&&g.contains(v)||(r=v),A&&e("focusin",m),!s.paused&&t.trapped&&(A?a=y:Vi(a,!0))},f=m=>{const g=d(n);if(!(s.paused||!g))if(t.trapped){const y=m.relatedTarget;!qr(y)&&!g.contains(y)&&setTimeout(()=>{if(!s.paused&&t.trapped){const v=Yh({focusReason:o.value});e("focusout-prevented",v),v.defaultPrevented||Vi(a,!0)}},0)}else{const y=m.target;y&&g.contains(y)||e("focusout",m)}};async function h(){await Bt();const m=d(n);if(m){j4.push(s);const g=m.contains(document.activeElement)?r:document.activeElement;if(r=g,!m.contains(g)){const v=new Event(Lv,V4);m.addEventListener(Lv,l),m.dispatchEvent(v),v.defaultPrevented||Bt(()=>{let A=t.focusStartEl;Mt(A)||(Vi(A),document.activeElement!==A&&(A="first")),A==="first"&&RU(PM(m),!0),(document.activeElement===g||A==="container")&&Vi(m)})}}}function p(){const m=d(n);if(m){m.removeEventListener(Lv,l);const g=new CustomEvent(Nv,{...V4,detail:{focusReason:o.value}});m.addEventListener(Nv,c),m.dispatchEvent(g),!g.defaultPrevented&&(o.value=="keyboard"||!kU()||m.contains(document.activeElement))&&Vi(r??document.body),m.removeEventListener(Nv,c),j4.remove(s)}}return Yt(()=>{t.trapped&&h(),Qe(()=>t.trapped,m=>{m?h():p()})}),Un(()=>{t.trapped&&p(),n.value&&(n.value.removeEventListener("keydown",i),n.value.removeEventListener("focusin",u),n.value.removeEventListener("focusout",f),n.value=void 0)}),{onKeydown:i}}});function LU(t,e,n,r,a,o){return Me(t.$slots,"default",{handleKeydown:t.onKeydown})}var _d=st(BU,[["render",LU],["__file","focus-trap.vue"]]),Xa="top",Uo="bottom",Ho="right",Qa="left",u2="auto",mh=[Xa,Uo,Ho,Qa],Vu="start",Of="end",NU="clippingParents",BM="viewport",Od="popper",FU="reference",Q4=mh.reduce(function(t,e){return t.concat([e+"-"+Vu,e+"-"+Of])},[]),Ai=[].concat(mh,[u2]).reduce(function(t,e){return t.concat([e,e+"-"+Vu,e+"-"+Of])},[]),OU="beforeRead",zU="read",UU="afterRead",HU="beforeMain",$U="main",VU="afterMain",WU="beforeWrite",GU="write",KU="afterWrite",qU=[OU,zU,UU,HU,$U,VU,WU,GU,KU];function ks(t){return t?(t.nodeName||"").toLowerCase():null}function fs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Wu(t){var e=fs(t).Element;return t instanceof e||t instanceof Element}function No(t){var e=fs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function d2(t){if(typeof ShadowRoot>"u")return!1;var e=fs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function jU(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},a=e.attributes[n]||{},o=e.elements[n];!No(o)||!ks(o)||(Object.assign(o.style,r),Object.keys(a).forEach(function(s){var i=a[s];i===!1?o.removeAttribute(s):o.setAttribute(s,i===!0?"":i)}))})}function YU(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var a=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),i=s.reduce(function(l,c){return l[c]="",l},{});!No(a)||!ks(a)||(Object.assign(a.style,i),Object.keys(o).forEach(function(l){a.removeAttribute(l)}))})}}var LM={name:"applyStyles",enabled:!0,phase:"write",fn:jU,effect:YU,requires:["computeStyles"]};function Ms(t){return t.split("-")[0]}var hc=Math.max,wp=Math.min,Gu=Math.round;function Ku(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,a=1;if(No(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(r=Gu(n.width)/s||1),o>0&&(a=Gu(n.height)/o||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function f2(t){var e=Ku(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function NM(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&d2(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function mi(t){return fs(t).getComputedStyle(t)}function XU(t){return["table","td","th"].indexOf(ks(t))>=0}function El(t){return((Wu(t)?t.ownerDocument:t.document)||window.document).documentElement}function Am(t){return ks(t)==="html"?t:t.assignedSlot||t.parentNode||(d2(t)?t.host:null)||El(t)}function Z4(t){return!No(t)||mi(t).position==="fixed"?null:t.offsetParent}function QU(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&No(t)){var r=mi(t);if(r.position==="fixed")return null}var a=Am(t);for(d2(a)&&(a=a.host);No(a)&&["html","body"].indexOf(ks(a))<0;){var o=mi(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function vh(t){for(var e=fs(t),n=Z4(t);n&&XU(n)&&mi(n).position==="static";)n=Z4(n);return n&&(ks(n)==="html"||ks(n)==="body"&&mi(n).position==="static")?e:n||QU(t)||e}function h2(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function of(t,e,n){return hc(t,wp(e,n))}function ZU(t,e,n){var r=of(t,e,n);return r>n?n:r}function FM(){return{top:0,right:0,bottom:0,left:0}}function OM(t){return Object.assign({},FM(),t)}function zM(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var JU=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,OM(typeof t!="number"?t:zM(t,mh))};function eH(t){var e,n=t.state,r=t.name,a=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,i=Ms(n.placement),l=h2(i),c=[Qa,Ho].indexOf(i)>=0,u=c?"height":"width";if(!(!o||!s)){var f=JU(a.padding,n),h=f2(o),p=l==="y"?Xa:Qa,m=l==="y"?Uo:Ho,g=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],v=vh(o),A=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,w=g/2-y/2,S=f[p],C=A-h[u]-f[m],E=A/2-h[u]/2+w,I=of(S,E,C),k=l;n.modifiersData[r]=(e={},e[k]=I,e.centerOffset=I-E,e)}}function tH(t){var e=t.state,n=t.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||!NM(e.elements.popper,a)||(e.elements.arrow=a))}var nH={name:"arrow",enabled:!0,phase:"main",fn:eH,effect:tH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qu(t){return t.split("-")[1]}var rH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aH(t){var e=t.x,n=t.y,r=window,a=r.devicePixelRatio||1;return{x:Gu(e*a)/a||0,y:Gu(n*a)/a||0}}function J4(t){var e,n=t.popper,r=t.popperRect,a=t.placement,o=t.variation,s=t.offsets,i=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,g=m===void 0?0:m,y=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=y.x,g=y.y;var v=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),w=Qa,S=Xa,C=window;if(c){var E=vh(n),I="clientHeight",k="clientWidth";if(E===fs(n)&&(E=El(n),mi(E).position!=="static"&&i==="absolute"&&(I="scrollHeight",k="scrollWidth")),E=E,a===Xa||(a===Qa||a===Ho)&&o===Of){S=Uo;var T=f&&E===C&&C.visualViewport?C.visualViewport.height:E[I];g-=T-r.height,g*=l?1:-1}if(a===Qa||(a===Xa||a===Uo)&&o===Of){w=Ho;var M=f&&E===C&&C.visualViewport?C.visualViewport.width:E[k];p-=M-r.width,p*=l?1:-1}}var D=Object.assign({position:i},c&&rH),B=u===!0?aH({x:p,y:g}):{x:p,y:g};if(p=B.x,g=B.y,l){var z;return Object.assign({},D,(z={},z[S]=A?"0":"",z[w]=v?"0":"",z.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",z))}return Object.assign({},D,(e={},e[S]=A?g+"px":"",e[w]=v?p+"px":"",e.transform="",e))}function oH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,a=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,i=n.roundOffsets,l=i===void 0?!0:i,c={placement:Ms(e.placement),variation:qu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,J4(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,J4(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var UM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oH,data:{}},Xh={passive:!0};function sH(t){var e=t.state,n=t.instance,r=t.options,a=r.scroll,o=a===void 0?!0:a,s=r.resize,i=s===void 0?!0:s,l=fs(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Xh)}),i&&l.addEventListener("resize",n.update,Xh),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Xh)}),i&&l.removeEventListener("resize",n.update,Xh)}}var HM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sH,data:{}},iH={left:"right",right:"left",bottom:"top",top:"bottom"};function W0(t){return t.replace(/left|right|bottom|top/g,function(e){return iH[e]})}var lH={start:"end",end:"start"};function ex(t){return t.replace(/start|end/g,function(e){return lH[e]})}function p2(t){var e=fs(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function m2(t){return Ku(El(t)).left+p2(t).scrollLeft}function cH(t){var e=fs(t),n=El(t),r=e.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,i=0;return r&&(a=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,i=r.offsetTop)),{width:a,height:o,x:s+m2(t),y:i}}function uH(t){var e,n=El(t),r=p2(t),a=(e=t.ownerDocument)==null?void 0:e.body,o=hc(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=hc(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-r.scrollLeft+m2(t),l=-r.scrollTop;return mi(a||n).direction==="rtl"&&(i+=hc(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:i,y:l}}function v2(t){var e=mi(t),n=e.overflow,r=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function $M(t){return["html","body","#document"].indexOf(ks(t))>=0?t.ownerDocument.body:No(t)&&v2(t)?t:$M(Am(t))}function sf(t,e){var n;e===void 0&&(e=[]);var r=$M(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),o=fs(r),s=a?[o].concat(o.visualViewport||[],v2(r)?r:[]):r,i=e.concat(s);return a?i:i.concat(sf(Am(s)))}function h1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dH(t){var e=Ku(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function tx(t,e){return e===BM?h1(cH(t)):Wu(e)?dH(e):h1(uH(El(t)))}function fH(t){var e=sf(Am(t)),n=["absolute","fixed"].indexOf(mi(t).position)>=0,r=n&&No(t)?vh(t):t;return Wu(r)?e.filter(function(a){return Wu(a)&&NM(a,r)&&ks(a)!=="body"}):[]}function hH(t,e,n){var r=e==="clippingParents"?fH(t):[].concat(e),a=[].concat(r,[n]),o=a[0],s=a.reduce(function(i,l){var c=tx(t,l);return i.top=hc(c.top,i.top),i.right=wp(c.right,i.right),i.bottom=wp(c.bottom,i.bottom),i.left=hc(c.left,i.left),i},tx(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function VM(t){var e=t.reference,n=t.element,r=t.placement,a=r?Ms(r):null,o=r?qu(r):null,s=e.x+e.width/2-n.width/2,i=e.y+e.height/2-n.height/2,l;switch(a){case Xa:l={x:s,y:e.y-n.height};break;case Uo:l={x:s,y:e.y+e.height};break;case Ho:l={x:e.x+e.width,y:i};break;case Qa:l={x:e.x-n.width,y:i};break;default:l={x:e.x,y:e.y}}var c=a?h2(a):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Vu:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Of:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function zf(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=r===void 0?t.placement:r,o=n.boundary,s=o===void 0?NU:o,i=n.rootBoundary,l=i===void 0?BM:i,c=n.elementContext,u=c===void 0?Od:c,f=n.altBoundary,h=f===void 0?!1:f,p=n.padding,m=p===void 0?0:p,g=OM(typeof m!="number"?m:zM(m,mh)),y=u===Od?FU:Od,v=t.rects.popper,A=t.elements[h?y:u],w=hH(Wu(A)?A:A.contextElement||El(t.elements.popper),s,l),S=Ku(t.elements.reference),C=VM({reference:S,element:v,strategy:"absolute",placement:a}),E=h1(Object.assign({},v,C)),I=u===Od?E:S,k={top:w.top-I.top+g.top,bottom:I.bottom-w.bottom+g.bottom,left:w.left-I.left+g.left,right:I.right-w.right+g.right},T=t.modifiersData.offset;if(u===Od&&T){var M=T[a];Object.keys(k).forEach(function(D){var B=[Ho,Uo].indexOf(D)>=0?1:-1,z=[Xa,Uo].indexOf(D)>=0?"y":"x";k[D]+=M[z]*B})}return k}function pH(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=n.boundary,o=n.rootBoundary,s=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Ai:l,u=qu(r),f=u?i?Q4:Q4.filter(function(m){return qu(m)===u}):mh,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,g){return m[g]=zf(t,{placement:g,boundary:a,rootBoundary:o,padding:s})[Ms(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function mH(t){if(Ms(t)===u2)return[];var e=W0(t);return[ex(t),e,ex(e)]}function vH(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var a=n.mainAxis,o=a===void 0?!0:a,s=n.altAxis,i=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,y=e.options.placement,v=Ms(y),A=v===y,w=l||(A||!m?[W0(y)]:mH(y)),S=[y].concat(w).reduce(function(ce,ge){return ce.concat(Ms(ge)===u2?pH(e,{placement:ge,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:g}):ge)},[]),C=e.rects.reference,E=e.rects.popper,I=new Map,k=!0,T=S[0],M=0;M<S.length;M++){var D=S[M],B=Ms(D),z=qu(D)===Vu,q=[Xa,Uo].indexOf(B)>=0,$=q?"width":"height",L=zf(e,{placement:D,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),W=q?z?Ho:Qa:z?Uo:Xa;C[$]>E[$]&&(W=W0(W));var U=W0(W),F=[];if(o&&F.push(L[B]<=0),i&&F.push(L[W]<=0,L[U]<=0),F.every(function(ce){return ce})){T=D,k=!1;break}I.set(D,F)}if(k)for(var Q=m?3:1,ne=function(ce){var ge=S.find(function(Ae){var pe=I.get(Ae);if(pe)return pe.slice(0,ce).every(function(Ie){return Ie})});if(ge)return T=ge,"break"},de=Q;de>0;de--){var ie=ne(de);if(ie==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}var gH={name:"flip",enabled:!0,phase:"main",fn:vH,requiresIfExists:["offset"],data:{_skip:!1}};function nx(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function rx(t){return[Xa,Ho,Uo,Qa].some(function(e){return t[e]>=0})}function yH(t){var e=t.state,n=t.name,r=e.rects.reference,a=e.rects.popper,o=e.modifiersData.preventOverflow,s=zf(e,{elementContext:"reference"}),i=zf(e,{altBoundary:!0}),l=nx(s,r),c=nx(i,a,o),u=rx(l),f=rx(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}var bH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yH};function SH(t,e,n){var r=Ms(t),a=[Qa,Xa].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],i=o[1];return s=s||0,i=(i||0)*a,[Qa,Ho].indexOf(r)>=0?{x:i,y:s}:{x:s,y:i}}function _H(t){var e=t.state,n=t.options,r=t.name,a=n.offset,o=a===void 0?[0,0]:a,s=Ai.reduce(function(u,f){return u[f]=SH(f,e.rects,o),u},{}),i=s[e.placement],l=i.x,c=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var wH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_H};function xH(t){var e=t.state,n=t.name;e.modifiersData[n]=VM({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var WM={name:"popperOffsets",enabled:!0,phase:"read",fn:xH,data:{}};function CH(t){return t==="x"?"y":"x"}function AH(t){var e=t.state,n=t.options,r=t.name,a=n.mainAxis,o=a===void 0?!0:a,s=n.altAxis,i=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,g=m===void 0?0:m,y=zf(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),v=Ms(e.placement),A=qu(e.placement),w=!A,S=h2(v),C=CH(S),E=e.modifiersData.popperOffsets,I=e.rects.reference,k=e.rects.popper,T=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,M=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(E){if(o){var z,q=S==="y"?Xa:Qa,$=S==="y"?Uo:Ho,L=S==="y"?"height":"width",W=E[S],U=W+y[q],F=W-y[$],Q=p?-k[L]/2:0,ne=A===Vu?I[L]:k[L],de=A===Vu?-k[L]:-I[L],ie=e.elements.arrow,ce=p&&ie?f2(ie):{width:0,height:0},ge=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:FM(),Ae=ge[q],pe=ge[$],Ie=of(0,I[L],ce[L]),Re=w?I[L]/2-Q-Ie-Ae-M.mainAxis:ne-Ie-Ae-M.mainAxis,Je=w?-I[L]/2+Q+Ie+pe+M.mainAxis:de+Ie+pe+M.mainAxis,Ye=e.elements.arrow&&vh(e.elements.arrow),Z=Ye?S==="y"?Ye.clientTop||0:Ye.clientLeft||0:0,me=(z=D==null?void 0:D[S])!=null?z:0,oe=W+Re-me-Z,Ve=W+Je-me,Le=of(p?wp(U,oe):U,W,p?hc(F,Ve):F);E[S]=Le,B[S]=Le-W}if(i){var ze,De=S==="x"?Xa:Qa,Fe=S==="x"?Uo:Ho,Ge=E[C],ae=C==="y"?"height":"width",te=Ge+y[De],we=Ge-y[Fe],ye=[Xa,Qa].indexOf(v)!==-1,$e=(ze=D==null?void 0:D[C])!=null?ze:0,je=ye?te:Ge-I[ae]-k[ae]-$e+M.altAxis,yt=ye?Ge+I[ae]+k[ae]-$e-M.altAxis:we,ut=p&&ye?ZU(je,Ge,yt):of(p?je:te,Ge,p?yt:we);E[C]=ut,B[C]=ut-Ge}e.modifiersData[r]=B}}var EH={name:"preventOverflow",enabled:!0,phase:"main",fn:AH,requiresIfExists:["offset"]};function MH(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function TH(t){return t===fs(t)||!No(t)?p2(t):MH(t)}function IH(t){var e=t.getBoundingClientRect(),n=Gu(e.width)/t.offsetWidth||1,r=Gu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function RH(t,e,n){n===void 0&&(n=!1);var r=No(e),a=No(e)&&IH(e),o=El(e),s=Ku(t,a),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ks(e)!=="body"||v2(o))&&(i=TH(e)),No(e)?(l=Ku(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=m2(o))),{x:s.left+i.scrollLeft-l.x,y:s.top+i.scrollTop-l.y,width:s.width,height:s.height}}function kH(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function a(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(i){if(!n.has(i)){var l=e.get(i);l&&a(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||a(o)}),r}function DH(t){var e=kH(t);return qU.reduce(function(n,r){return n.concat(e.filter(function(a){return a.phase===r}))},[])}function PH(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function BH(t){var e=t.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var ax={placement:"bottom",modifiers:[],strategy:"absolute"};function ox(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function g2(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,a=e.defaultOptions,o=a===void 0?ax:a;return function(s,i,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},ax,o),modifiersData:{},elements:{reference:s,popper:i},attributes:{},styles:{}},u=[],f=!1,h={state:c,setOptions:function(g){var y=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:Wu(s)?sf(s):s.contextElement?sf(s.contextElement):[],popper:sf(i)};var v=DH(BH([].concat(r,c.options.modifiers)));return c.orderedModifiers=v.filter(function(A){return A.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var g=c.elements,y=g.reference,v=g.popper;if(ox(y,v)){c.rects={reference:RH(y,vh(v),c.options.strategy==="fixed"),popper:f2(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var A=0;A<c.orderedModifiers.length;A++){if(c.reset===!0){c.reset=!1,A=-1;continue}var w=c.orderedModifiers[A],S=w.fn,C=w.options,E=C===void 0?{}:C,I=w.name;typeof S=="function"&&(c=S({state:c,options:E,name:I,instance:h})||c)}}}},update:PH(function(){return new Promise(function(g){h.forceUpdate(),g(c)})}),destroy:function(){m(),f=!0}};if(!ox(s,i))return h;h.setOptions(l).then(function(g){!f&&l.onFirstUpdate&&l.onFirstUpdate(g)});function p(){c.orderedModifiers.forEach(function(g){var y=g.name,v=g.options,A=v===void 0?{}:v,w=g.effect;if(typeof w=="function"){var S=w({state:c,name:y,instance:h,options:A}),C=function(){};u.push(S||C)}})}function m(){u.forEach(function(g){return g()}),u=[]}return h}}g2();var LH=[HM,WM,UM,LM];g2({defaultModifiers:LH});var NH=[HM,WM,UM,LM,wH,gH,EH,nH,bH],FH=g2({defaultModifiers:NH});const OH=["fixed","absolute"],zH=at({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:xe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ai,default:"bottom"},popperOptions:{type:xe(Object),default:()=>({})},strategy:{type:String,values:OH,default:"absolute"}}),GM=at({...zH,id:String,style:{type:xe([String,Array,Object])},className:{type:xe([String,Array,Object])},effect:{type:xe(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:xe([String,Array,Object])},popperStyle:{type:xe([String,Array,Object])},referenceEl:{type:xe(Object)},triggerTargetEl:{type:xe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...ca(["ariaLabel"])}),UH={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},HH=(t,e)=>{const n=j(!1),r=j();return{focusStartRef:r,trapped:n,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{t.visible&&!n.value&&(c.target&&(r.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{t.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},$H=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:a}=t,o={placement:n,strategy:r,...a,modifiers:[...WH(t),...e]};return GH(o,a==null?void 0:a.modifiers),o},VH=t=>{if(Sn)return za(t)};function WH(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function GH(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const KH=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=qH(l);Object.assign(s.value,c)},requires:["computeStyles"]},a=P(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:f}=d(n);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),o=Xn(),s=j({styles:{popper:{position:d(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return Qe(a,l=>{const c=d(o);c&&c.setOptions(l)},{deep:!0}),Qe([t,e],([l,c])=>{i(),!(!l||!c)&&(o.value=FH(l,c,d(a)))}),Un(()=>{i()}),{state:P(()=>{var l;return{...((l=d(o))==null?void 0:l.state)||{}}}),styles:P(()=>d(s).styles),attributes:P(()=>d(s).attributes),update:()=>{var l;return(l=d(o))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=d(o))==null?void 0:l.forceUpdate()},instanceRef:P(()=>d(o))}};function qH(t){const e=Object.keys(t.elements),n=Ff(e.map(a=>[a,t.styles[a]||{}])),r=Ff(e.map(a=>[a,t.attributes[a]]));return{styles:n,attributes:r}}const jH=0,YH=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:a}=St(s2,void 0),o=j(),s=j(),i=P(()=>({name:"eventListeners",enabled:!!t.visible})),l=P(()=>{var v;const A=d(o),w=(v=d(s))!=null?v:jH;return{name:"arrow",enabled:!XE(A),options:{element:A,padding:w}}}),c=P(()=>({onFirstUpdate:()=>{m()},...$H(t,[d(l),d(i)])})),u=P(()=>VH(t.referenceEl)||d(r)),{attributes:f,state:h,styles:p,update:m,forceUpdate:g,instanceRef:y}=KH(u,n,c);return Qe(y,v=>e.value=v),Yt(()=>{Qe(()=>{var v;return(v=d(u))==null?void 0:v.getBoundingClientRect()},()=>{m()})}),{attributes:f,arrowRef:o,contentRef:n,instanceRef:y,state:h,styles:p,role:a,forceUpdate:g,update:m}},XH=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:a}=bd(),o=Ze("popper"),s=P(()=>d(e).popper),i=j(Nt(t.zIndex)?t.zIndex:a()),l=P(()=>[o.b(),o.is("pure",t.pure),o.is(t.effect),t.popperClass]),c=P(()=>[{zIndex:d(i)},d(n).popper,t.popperStyle||{}]),u=P(()=>r.value==="dialog"?"false":void 0),f=P(()=>d(n).arrow||{});return{ariaModal:u,arrowStyle:f,contentAttrs:s,contentClass:l,contentStyle:c,contentZIndex:i,updateZIndex:()=>{i.value=Nt(t.zIndex)?t.zIndex:a()}}},QH=he({name:"ElPopperContent"}),ZH=he({...QH,props:GM,emits:UH,setup(t,{expose:e,emit:n}){const r=t,{focusStartRef:a,trapped:o,onFocusAfterReleased:s,onFocusAfterTrapped:i,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=HH(r,n),{attributes:f,arrowRef:h,contentRef:p,styles:m,instanceRef:g,role:y,update:v}=YH(r),{ariaModal:A,arrowStyle:w,contentAttrs:S,contentClass:C,contentStyle:E,updateZIndex:I}=XH(r,{styles:m,attributes:f,role:y}),k=St(Rs,void 0),T=j();vn(CM,{arrowStyle:w,arrowRef:h,arrowOffset:T}),k&&vn(Rs,{...k,addInputId:Dn,removeInputId:Dn});let M;const D=(z=!0)=>{v(),z&&I()},B=()=>{D(!1),r.visible&&r.focusOnShow?o.value=!0:r.visible===!1&&(o.value=!1)};return Yt(()=>{Qe(()=>r.triggerTargetEl,(z,q)=>{M==null||M(),M=void 0;const $=d(z||p.value),L=d(q||p.value);vo($)&&(M=Qe([y,()=>r.ariaLabel,A,()=>r.id],W=>{["role","aria-label","aria-modal","id"].forEach((U,F)=>{qr(W[F])?$.removeAttribute(U):$.setAttribute(U,W[F])})},{immediate:!0})),L!==$&&vo(L)&&["role","aria-label","aria-modal","id"].forEach(W=>{L.removeAttribute(W)})},{immediate:!0}),Qe(()=>r.visible,B,{immediate:!0})}),Un(()=>{M==null||M(),M=void 0}),e({popperContentRef:p,popperInstanceRef:g,updatePopper:D,contentStyle:E}),(z,q)=>(N(),ee("div",un({ref_key:"contentRef",ref:p},d(S),{style:d(E),class:d(C),tabindex:"-1",onMouseenter:$=>z.$emit("mouseenter",$),onMouseleave:$=>z.$emit("mouseleave",$)}),[J(d(_d),{trapped:d(o),"trap-on-focus-in":!0,"focus-trap-el":d(p),"focus-start-el":d(a),onFocusAfterTrapped:d(i),onFocusAfterReleased:d(s),onFocusin:d(l),onFocusoutPrevented:d(c),onReleaseRequested:d(u)},{default:le(()=>[Me(z.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var JH=st(ZH,[["__file","content.vue"]]);const KM=qt(fU),Em=Symbol("elTooltip");function sx(){let t;const e=(r,a)=>{n(),t=window.setTimeout(r,a)},n=()=>window.clearTimeout(t);return dh(()=>n()),{registerTimeout:e,cancelTimeout:n}}const e$=at({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),t$=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:a})=>{const{registerTimeout:o}=sx(),{registerTimeout:s,cancelTimeout:i}=sx();return{onOpen:u=>{o(()=>{r(u);const f=d(n);Nt(f)&&f>0&&s(()=>{a(u)},f)},d(t))},onClose:u=>{i(),o(()=>{a(u)},d(e))}}},Xr=at({...e$,...GM,appendTo:{type:xe([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:xe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...ca(["ariaLabel"])}),Uf=at({...MM,disabled:Boolean,trigger:{type:xe([String,Array]),default:"hover"},triggerKeys:{type:xe(Array),default:()=>[mt.enter,mt.numpadEnter,mt.space]}}),n$=ds({type:xe(Boolean),default:null}),r$=ds({type:xe(Function)}),qM=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],a={[t]:n$,[n]:r$};return{useModelToggle:({indicator:s,toggleReason:i,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:f})=>{const h=nn(),{emit:p}=h,m=h.props,g=P(()=>Pt(m[n])),y=P(()=>m[t]===null),v=I=>{s.value!==!0&&(s.value=!0,i&&(i.value=I),Pt(u)&&u(I))},A=I=>{s.value!==!1&&(s.value=!1,i&&(i.value=I),Pt(f)&&f(I))},w=I=>{if(m.disabled===!0||Pt(c)&&!c())return;const k=g.value&&Sn;k&&p(e,!0),(y.value||!k)&&v(I)},S=I=>{if(m.disabled===!0||!Sn)return;const k=g.value&&Sn;k&&p(e,!1),(y.value||!k)&&A(I)},C=I=>{Kn(I)&&(m.disabled&&I?g.value&&p(e,!1):s.value!==I&&(I?v():A()))},E=()=>{s.value?S():w()};return Qe(()=>m[t],C),l&&h.appContext.config.globalProperties.$route!==void 0&&Qe(()=>({...h.proxy.$route}),()=>{l.value&&s.value&&S()}),Yt(()=>{C(m[t])}),{hide:S,show:w,toggle:E,hasUpdateHandler:g}},useModelToggleProps:a,useModelToggleEmits:r}};qM("modelValue");const{useModelToggleProps:a$,useModelToggleEmits:o$,useModelToggle:s$}=qM("visible"),i$=at({...AM,...a$,...Xr,...Uf,...EM,showArrow:{type:Boolean,default:!0}}),l$=[...o$,"before-show","before-hide","show","hide","open","close"],c$=(t,e)=>nt(t)?t.includes(e):t===e,Oc=(t,e,n)=>r=>{c$(d(t),e)&&n(r)},br=(t,e,{checkForDefaultPrevented:n=!0}={})=>a=>{const o=t==null?void 0:t(a);if(n===!1||!o)return e==null?void 0:e(a)},ix=t=>e=>e.pointerType==="mouse"?t(e):void 0,u$=he({name:"ElTooltipTrigger"}),d$=he({...u$,props:Uf,setup(t,{expose:e}){const n=t,r=Ze("tooltip"),{controlled:a,id:o,open:s,onOpen:i,onClose:l,onToggle:c}=St(Em,void 0),u=j(null),f=()=>{if(d(a)||n.disabled)return!0},h=Rn(n,"trigger"),p=br(f,Oc(h,"hover",i)),m=br(f,Oc(h,"hover",l)),g=br(f,Oc(h,"click",S=>{S.button===0&&c(S)})),y=br(f,Oc(h,"focus",i)),v=br(f,Oc(h,"focus",l)),A=br(f,Oc(h,"contextmenu",S=>{S.preventDefault(),c(S)})),w=br(f,S=>{const{code:C}=S;n.triggerKeys.includes(C)&&(S.preventDefault(),c(S))});return e({triggerRef:u}),(S,C)=>(N(),Ue(d(xU),{id:d(o),"virtual-ref":S.virtualRef,open:d(s),"virtual-triggering":S.virtualTriggering,class:V(d(r).e("trigger")),onBlur:d(v),onClick:d(g),onContextmenu:d(A),onFocus:d(y),onMouseenter:d(p),onMouseleave:d(m),onKeydown:d(w)},{default:le(()=>[Me(S.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var f$=st(d$,[["__file","trigger.vue"]]);const h$=at({to:{type:xe([String,Object]),required:!0},disabled:Boolean}),p$=he({__name:"teleport",props:h$,setup(t){return(e,n)=>e.disabled?Me(e.$slots,"default",{key:0}):(N(),Ue(hk,{key:1,to:e.to},[Me(e.$slots,"default")],8,["to"]))}});var m$=st(p$,[["__file","teleport.vue"]]);const wd=qt(m$),jM=()=>{const t=Rb(),e=a2(),n=P(()=>`${t.value}-popper-container-${e.prefix}`),r=P(()=>`#${n.value}`);return{id:n,selector:r}},v$=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},g$=()=>{const{id:t,selector:e}=jM();return om(()=>{Sn&&(document.body.querySelector(e.value)||v$(t.value))}),{id:t,selector:e}},y$=he({name:"ElTooltipContent",inheritAttrs:!1}),b$=he({...y$,props:Xr,setup(t,{expose:e}){const n=t,{selector:r}=jM(),a=Ze("tooltip"),o=j();let s;const{controlled:i,id:l,open:c,trigger:u,onClose:f,onOpen:h,onShow:p,onHide:m,onBeforeShow:g,onBeforeHide:y}=St(Em,void 0),v=P(()=>n.transition||`${a.namespace.value}-fade-in-linear`),A=P(()=>n.persistent);Un(()=>{s==null||s()});const w=P(()=>d(A)?!0:d(c)),S=P(()=>n.disabled?!1:d(c)),C=P(()=>n.appendTo||r.value),E=P(()=>{var L;return(L=n.style)!=null?L:{}}),I=j(!0),k=()=>{m(),I.value=!0},T=()=>{if(d(i))return!0},M=br(T,()=>{n.enterable&&d(u)==="hover"&&h()}),D=br(T,()=>{d(u)==="hover"&&f()}),B=()=>{var L,W;(W=(L=o.value)==null?void 0:L.updatePopper)==null||W.call(L),g==null||g()},z=()=>{y==null||y()},q=()=>{p(),s=qb(P(()=>{var L;return(L=o.value)==null?void 0:L.popperContentRef}),()=>{if(d(i))return;d(u)!=="hover"&&f()})},$=()=>{n.virtualTriggering||f()};return Qe(()=>d(c),L=>{L?I.value=!1:s==null||s()},{flush:"post"}),Qe(()=>n.content,()=>{var L,W;(W=(L=o.value)==null?void 0:L.updatePopper)==null||W.call(L)}),e({contentRef:o}),(L,W)=>(N(),Ue(d(wd),{disabled:!L.teleported,to:d(C)},{default:le(()=>[J(Vr,{name:d(v),onAfterLeave:k,onBeforeEnter:B,onAfterEnter:q,onBeforeLeave:z},{default:le(()=>[d(w)?Qt((N(),Ue(d(JH),un({key:0,id:d(l),ref_key:"contentRef",ref:o},L.$attrs,{"aria-label":L.ariaLabel,"aria-hidden":I.value,"boundaries-padding":L.boundariesPadding,"fallback-placements":L.fallbackPlacements,"gpu-acceleration":L.gpuAcceleration,offset:L.offset,placement:L.placement,"popper-options":L.popperOptions,strategy:L.strategy,effect:L.effect,enterable:L.enterable,pure:L.pure,"popper-class":L.popperClass,"popper-style":[L.popperStyle,d(E)],"reference-el":L.referenceEl,"trigger-target-el":L.triggerTargetEl,visible:d(S),"z-index":L.zIndex,onMouseenter:d(M),onMouseleave:d(D),onBlur:$,onClose:d(f)}),{default:le(()=>[Me(L.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[En,d(S)]]):Te("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var S$=st(b$,[["__file","content.vue"]]);const _$=he({name:"ElTooltip"}),w$=he({..._$,props:i$,emits:l$,setup(t,{expose:e,emit:n}){const r=t;g$();const a=la(),o=j(),s=j(),i=()=>{var v;const A=d(o);A&&((v=A.popperInstanceRef)==null||v.update())},l=j(!1),c=j(),{show:u,hide:f,hasUpdateHandler:h}=s$({indicator:l,toggleReason:c}),{onOpen:p,onClose:m}=t$({showAfter:Rn(r,"showAfter"),hideAfter:Rn(r,"hideAfter"),autoClose:Rn(r,"autoClose"),open:u,close:f}),g=P(()=>Kn(r.visible)&&!h.value);vn(Em,{controlled:g,id:a,open:hd(l),trigger:Rn(r,"trigger"),onOpen:v=>{p(v)},onClose:v=>{m(v)},onToggle:v=>{d(l)?m(v):p(v)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:i}),Qe(()=>r.disabled,v=>{v&&l.value&&(l.value=!1)});const y=v=>{var A,w;const S=(w=(A=s.value)==null?void 0:A.contentRef)==null?void 0:w.popperContentRef,C=(v==null?void 0:v.relatedTarget)||document.activeElement;return S&&S.contains(C)};return DA(()=>l.value&&f()),e({popperRef:o,contentRef:s,isFocusInsideContent:y,updatePopper:i,onOpen:p,onClose:m,hide:f}),(v,A)=>(N(),Ue(d(KM),{ref_key:"popperRef",ref:o,role:v.role},{default:le(()=>[J(f$,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:le(()=>[v.$slots.default?Me(v.$slots,"default",{key:0}):Te("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),J(S$,{ref_key:"contentRef",ref:s,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:le(()=>[Me(v.$slots,"content",{},()=>[v.rawContent?(N(),ee("span",{key:0,innerHTML:v.content},null,8,["innerHTML"])):(N(),ee("span",{key:1},rt(v.content),1))]),v.showArrow?(N(),Ue(d(mU),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Te("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var x$=st(w$,[["__file","tooltip.vue"]]);const Sa=qt(x$),C$=at({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:xe(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:xe([Function,Array]),default:Dn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Xr.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...ca(["ariaLabel"])}),A$={[Jt]:t=>Mt(t),[ya]:t=>Mt(t),[Fn]:t=>Mt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>tn(t)},YM="ElAutocomplete",E$=he({name:YM,inheritAttrs:!1}),M$=he({...E$,props:C$,emits:A$,setup(t,{expose:e,emit:n}){const r=t,a=hh(),o=xl(),s=wa(),i=Ze("autocomplete"),l=j(),c=j(),u=j(),f=j();let h=!1,p=!1;const m=j([]),g=j(-1),y=j(""),v=j(!1),A=j(!1),w=j(!1),S=la(),C=P(()=>o.style),E=P(()=>(m.value.length>0||w.value)&&v.value),I=P(()=>!r.hideLoading&&w.value),k=P(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),T=()=>{E.value&&(y.value=`${l.value.$el.offsetWidth}px`)},M=()=>{g.value=-1},D=async pe=>{if(A.value)return;const Ie=Re=>{w.value=!1,!A.value&&(nt(Re)?(m.value=Re,g.value=r.highlightFirstItem?0:-1):Wr(YM,"autocomplete suggestions must be an array"))};if(w.value=!0,nt(r.fetchSuggestions))Ie(r.fetchSuggestions);else{const Re=await r.fetchSuggestions(pe,Ie);nt(Re)&&Ie(Re)}},B=eo(D,r.debounce),z=pe=>{const Ie=!!pe;if(n(ya,pe),n(Jt,pe),A.value=!1,v.value||(v.value=Ie),!r.triggerOnFocus&&!pe){A.value=!0,m.value=[];return}B(pe)},q=pe=>{var Ie;s.value||(((Ie=pe.target)==null?void 0:Ie.tagName)!=="INPUT"||k.value.includes(document.activeElement))&&(v.value=!0)},$=pe=>{n(Fn,pe)},L=pe=>{p?p=!1:(v.value=!0,n("focus",pe),r.triggerOnFocus&&!h&&B(String(r.modelValue)))},W=pe=>{setTimeout(()=>{var Ie;if((Ie=u.value)!=null&&Ie.isFocusInsideContent()){p=!0;return}v.value&&ne(),n("blur",pe)})},U=()=>{v.value=!1,n(Jt,""),n("clear")},F=async()=>{E.value&&g.value>=0&&g.value<m.value.length?ce(m.value[g.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),m.value=[],g.value=-1)},Q=pe=>{E.value&&(pe.preventDefault(),pe.stopPropagation(),ne())},ne=()=>{v.value=!1},de=()=>{var pe;(pe=l.value)==null||pe.focus()},ie=()=>{var pe;(pe=l.value)==null||pe.blur()},ce=async pe=>{n(ya,pe[r.valueKey]),n(Jt,pe[r.valueKey]),n("select",pe),m.value=[],g.value=-1},ge=pe=>{if(!E.value||w.value)return;if(pe<0){g.value=-1;return}pe>=m.value.length&&(pe=m.value.length-1);const Ie=c.value.querySelector(`.${i.be("suggestion","wrap")}`),Je=Ie.querySelectorAll(`.${i.be("suggestion","list")} li`)[pe],Ye=Ie.scrollTop,{offsetTop:Z,scrollHeight:me}=Je;Z+me>Ye+Ie.clientHeight&&(Ie.scrollTop+=me),Z<Ye&&(Ie.scrollTop-=me),g.value=pe,l.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${g.value}`)},Ae=qb(f,()=>{E.value&&ne()});return Un(()=>{Ae==null||Ae()}),Yt(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${g.value}`),h=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:g,activated:v,loading:w,inputRef:l,popperRef:u,suggestions:m,handleSelect:ce,handleKeyEnter:F,focus:de,blur:ie,close:ne,highlight:ge,getData:D}),(pe,Ie)=>(N(),Ue(d(Sa),{ref_key:"popperRef",ref:u,visible:d(E),placement:pe.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[d(i).e("popper"),pe.popperClass],teleported:pe.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${d(i).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:T,onHide:M},{content:le(()=>[re("div",{ref_key:"regionRef",ref:c,class:V([d(i).b("suggestion"),d(i).is("loading",d(I))]),style:bt({[pe.fitInputWidth?"width":"minWidth"]:y.value,outline:"none"}),role:"region"},[J(d(zs),{id:d(S),tag:"ul","wrap-class":d(i).be("suggestion","wrap"),"view-class":d(i).be("suggestion","list"),role:"listbox"},{default:le(()=>[d(I)?(N(),ee("li",{key:0},[Me(pe.$slots,"loading",{},()=>[J(d(Ct),{class:V(d(i).is("loading"))},{default:le(()=>[J(d(Is))]),_:1},8,["class"])])])):(N(!0),ee(Et,{key:1},fn(m.value,(Re,Je)=>(N(),ee("li",{id:`${d(S)}-item-${Je}`,key:Je,class:V({highlighted:g.value===Je}),role:"option","aria-selected":g.value===Je,onClick:Ye=>ce(Re)},[Me(pe.$slots,"default",{item:Re},()=>[Zt(rt(Re[pe.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:le(()=>[re("div",{ref_key:"listboxRef",ref:f,class:V([d(i).b(),pe.$attrs.class]),style:bt(d(C)),role:"combobox","aria-haspopup":"listbox","aria-expanded":d(E),"aria-owns":d(S)},[J(d(ka),un({ref_key:"inputRef",ref:l},d(a),{clearable:pe.clearable,disabled:d(s),name:pe.name,"model-value":pe.modelValue,"aria-label":pe.ariaLabel,onInput:z,onChange:$,onFocus:L,onBlur:W,onClear:U,onKeydown:[Vn(zt(Re=>ge(g.value-1),["prevent"]),["up"]),Vn(zt(Re=>ge(g.value+1),["prevent"]),["down"]),Vn(F,["enter"]),Vn(ne,["tab"]),Vn(Q,["esc"])],onMousedown:q}),Oo({_:2},[pe.$slots.prepend?{name:"prepend",fn:le(()=>[Me(pe.$slots,"prepend")])}:void 0,pe.$slots.append?{name:"append",fn:le(()=>[Me(pe.$slots,"append")])}:void 0,pe.$slots.prefix?{name:"prefix",fn:le(()=>[Me(pe.$slots,"prefix")])}:void 0,pe.$slots.suffix?{name:"suffix",fn:le(()=>[Me(pe.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var T$=st(M$,[["__file","autocomplete.vue"]]);const I$=qt(T$),R$=at({size:{type:[Number,String],values:Os,default:"",validator:t=>Nt(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:On},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:xe(String),default:"cover"}}),k$={error:t=>t instanceof Event},D$=he({name:"ElAvatar"}),P$=he({...D$,props:R$,emits:k$,setup(t,{emit:e}){const n=t,r=Ze("avatar"),a=j(!1),o=P(()=>{const{size:c,icon:u,shape:f}=n,h=[r.b()];return Mt(c)&&h.push(r.m(c)),u&&h.push(r.m("icon")),f&&h.push(r.m(f)),h}),s=P(()=>{const{size:c}=n;return Nt(c)?r.cssVarBlock({size:Sr(c)||""}):void 0}),i=P(()=>({objectFit:n.fit}));Qe(()=>n.src,()=>a.value=!1);function l(c){a.value=!0,e("error",c)}return(c,u)=>(N(),ee("span",{class:V(d(o)),style:bt(d(s))},[(c.src||c.srcSet)&&!a.value?(N(),ee("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:bt(d(i)),onError:l},null,44,["src","alt","srcset"])):c.icon?(N(),Ue(d(Ct),{key:1},{default:le(()=>[(N(),Ue(ln(c.icon)))]),_:1})):Me(c.$slots,"default",{key:2})],6))}});var B$=st(P$,[["__file","avatar.vue"]]);const L$=qt(B$),N$={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},F$={click:t=>t instanceof MouseEvent},O$=(t,e,n)=>{const r=Xn(),a=Xn(),o=j(!1),s=()=>{r.value&&(o.value=r.value.scrollTop>=t.visibilityHeight)},i=c=>{var u;(u=r.value)==null||u.scrollTo({top:0,behavior:"smooth"}),e("click",c)},l=eM(s,300,!0);return Ln(a,"scroll",l),Yt(()=>{var c;a.value=document,r.value=document.documentElement,t.target&&(r.value=(c=document.querySelector(t.target))!=null?c:void 0,r.value||Wr(n,`target does not exist: ${t.target}`),a.value=r.value),s()}),{visible:o,handleClick:i}},XM="ElBacktop",z$=he({name:XM}),U$=he({...z$,props:N$,emits:F$,setup(t,{emit:e}){const n=t,r=Ze("backtop"),{handleClick:a,visible:o}=O$(n,e,XM),s=P(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(i,l)=>(N(),Ue(Vr,{name:`${d(r).namespace.value}-fade-in`},{default:le(()=>[d(o)?(N(),ee("div",{key:0,style:bt(d(s)),class:V(d(r).b()),onClick:zt(d(a),["stop"])},[Me(i.$slots,"default",{},()=>[J(d(Ct),{class:V(d(r).e("icon"))},{default:le(()=>[J(d(kO))]),_:1},8,["class"])])],14,["onClick"])):Te("v-if",!0)]),_:3},8,["name"]))}});var H$=st(U$,[["__file","backtop.vue"]]);const $$=qt(H$),V$=at({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:xe([String,Object,Array])},offset:{type:xe(Array),default:[0,0]},badgeClass:{type:String}}),W$=he({name:"ElBadge"}),G$=he({...W$,props:V$,setup(t,{expose:e}){const n=t,r=Ze("badge"),a=P(()=>n.isDot?"":Nt(n.value)&&Nt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),o=P(()=>{var s,i,l,c,u;return[{backgroundColor:n.color,marginRight:Sr(-((i=(s=n.offset)==null?void 0:s[0])!=null?i:0)),marginTop:Sr((c=(l=n.offset)==null?void 0:l[1])!=null?c:0)},(u=n.badgeStyle)!=null?u:{}]});return e({content:a}),(s,i)=>(N(),ee("div",{class:V(d(r).b())},[Me(s.$slots,"default"),J(Vr,{name:`${d(r).namespace.value}-zoom-in-center`,persisted:""},{default:le(()=>[Qt(re("sup",{class:V([d(r).e("content"),d(r).em("content",s.type),d(r).is("fixed",!!s.$slots.default),d(r).is("dot",s.isDot),d(r).is("hide-zero",!s.showZero&&n.value===0),s.badgeClass]),style:bt(d(o))},[Me(s.$slots,"content",{value:d(a)},()=>[Zt(rt(d(a)),1)])],6),[[En,!s.hidden&&(d(a)||s.isDot||s.$slots.content)]])]),_:3},8,["name"])],2))}});var K$=st(G$,[["__file","badge.vue"]]);const QM=qt(K$),ZM=Symbol("breadcrumbKey"),q$=at({separator:{type:String,default:"/"},separatorIcon:{type:On}}),j$=he({name:"ElBreadcrumb"}),Y$=he({...j$,props:q$,setup(t){const e=t,{t:n}=_n(),r=Ze("breadcrumb"),a=j();return vn(ZM,e),Yt(()=>{const o=a.value.querySelectorAll(`.${r.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,s)=>(N(),ee("div",{ref_key:"breadcrumb",ref:a,class:V(d(r).b()),"aria-label":d(n)("el.breadcrumb.label"),role:"navigation"},[Me(o.$slots,"default")],10,["aria-label"]))}});var X$=st(Y$,[["__file","breadcrumb.vue"]]);const Q$=at({to:{type:xe([String,Object]),default:""},replace:Boolean}),Z$=he({name:"ElBreadcrumbItem"}),J$=he({...Z$,props:Q$,setup(t){const e=t,n=nn(),r=St(ZM,void 0),a=Ze("breadcrumb"),o=n.appContext.config.globalProperties.$router,s=j(),i=()=>{!e.to||!o||(e.replace?o.replace(e.to):o.push(e.to))};return(l,c)=>{var u,f;return N(),ee("span",{class:V(d(a).e("item"))},[re("span",{ref_key:"link",ref:s,class:V([d(a).e("inner"),d(a).is("link",!!l.to)]),role:"link",onClick:i},[Me(l.$slots,"default")],2),(u=d(r))!=null&&u.separatorIcon?(N(),Ue(d(Ct),{key:0,class:V(d(a).e("separator"))},{default:le(()=>[(N(),Ue(ln(d(r).separatorIcon)))]),_:1},8,["class"])):(N(),ee("span",{key:1,class:V(d(a).e("separator")),role:"presentation"},rt((f=d(r))==null?void 0:f.separator),3))],2)}}});var JM=st(J$,[["__file","breadcrumb-item.vue"]]);const eV=qt(X$,{BreadcrumbItem:JM}),tV=hr(JM),eT=Symbol("buttonGroupContextKey"),tl=({from:t,replacement:e,scope:n,version:r,ref:a,type:o="API"},s)=>{Qe(()=>d(s),i=>{},{immediate:!0})},nV=(t,e)=>{tl({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},P(()=>t.type==="text"));const n=St(eT,void 0),r=bm("button"),{form:a}=_a(),o=Dr(P(()=>n==null?void 0:n.size)),s=wa(),i=j(),l=zr(),c=P(()=>t.type||(n==null?void 0:n.type)||""),u=P(()=>{var m,g,y;return(y=(g=t.autoInsertSpace)!=null?g:(m=r.value)==null?void 0:m.autoInsertSpace)!=null?y:!1}),f=P(()=>t.tag==="button"?{ariaDisabled:s.value||t.loading,disabled:s.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),h=P(()=>{var m;const g=(m=l.default)==null?void 0:m.call(l);if(u.value&&(g==null?void 0:g.length)===1){const y=g[0];if((y==null?void 0:y.type)===pd){const v=y.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:s,_size:o,_type:c,_ref:i,_props:f,shouldAddSpace:h,handleClick:m=>{if(s.value||t.loading){m.stopPropagation();return}t.nativeType==="reset"&&(a==null||a.resetFields()),e("click",m)}}},p1=["default","primary","success","warning","info","danger","text",""],rV=["button","submit","reset"],m1=at({size:Or,disabled:Boolean,type:{type:String,values:p1,default:""},icon:{type:On},nativeType:{type:String,values:rV,default:"button"},loading:Boolean,loadingIcon:{type:On,default:()=>Is},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:xe([String,Object]),default:"button"}}),aV={click:t=>t instanceof MouseEvent};function ba(t,e){oV(t)&&(t="100%");var n=sV(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Qh(t){return Math.min(1,Math.max(0,t))}function oV(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function sV(t){return typeof t=="string"&&t.indexOf("%")!==-1}function tT(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Zh(t){return t<=1?"".concat(Number(t)*100,"%"):t}function tc(t){return t.length===1?"0"+t:String(t)}function iV(t,e,n){return{r:ba(t,255)*255,g:ba(e,255)*255,b:ba(n,255)*255}}function lx(t,e,n){t=ba(t,255),e=ba(e,255),n=ba(n,255);var r=Math.max(t,e,n),a=Math.min(t,e,n),o=0,s=0,i=(r+a)/2;if(r===a)s=0,o=0;else{var l=r-a;switch(s=i>.5?l/(2-r-a):l/(r+a),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:i}}function Fv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lV(t,e,n){var r,a,o;if(t=ba(t,360),e=ba(e,100),n=ba(n,100),e===0)a=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,i=2*n-s;r=Fv(i,s,t+1/3),a=Fv(i,s,t),o=Fv(i,s,t-1/3)}return{r:r*255,g:a*255,b:o*255}}function cx(t,e,n){t=ba(t,255),e=ba(e,255),n=ba(n,255);var r=Math.max(t,e,n),a=Math.min(t,e,n),o=0,s=r,i=r-a,l=r===0?0:i/r;if(r===a)o=0;else{switch(r){case t:o=(e-n)/i+(e<n?6:0);break;case e:o=(n-t)/i+2;break;case n:o=(t-e)/i+4;break}o/=6}return{h:o,s:l,v:s}}function cV(t,e,n){t=ba(t,360)*6,e=ba(e,100),n=ba(n,100);var r=Math.floor(t),a=t-r,o=n*(1-e),s=n*(1-a*e),i=n*(1-(1-a)*e),l=r%6,c=[n,s,o,o,i,n][l],u=[i,n,n,s,o,o][l],f=[o,o,i,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function ux(t,e,n,r){var a=[tc(Math.round(t).toString(16)),tc(Math.round(e).toString(16)),tc(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function uV(t,e,n,r,a){var o=[tc(Math.round(t).toString(16)),tc(Math.round(e).toString(16)),tc(Math.round(n).toString(16)),tc(dV(r))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function dV(t){return Math.round(parseFloat(t)*255).toString(16)}function dx(t){return lo(t)/255}function lo(t){return parseInt(t,16)}function fV(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var v1={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function hV(t){var e={r:0,g:0,b:0},n=1,r=null,a=null,o=null,s=!1,i=!1;return typeof t=="string"&&(t=vV(t)),typeof t=="object"&&(js(t.r)&&js(t.g)&&js(t.b)?(e=iV(t.r,t.g,t.b),s=!0,i=String(t.r).substr(-1)==="%"?"prgb":"rgb"):js(t.h)&&js(t.s)&&js(t.v)?(r=Zh(t.s),a=Zh(t.v),e=cV(t.h,r,a),s=!0,i="hsv"):js(t.h)&&js(t.s)&&js(t.l)&&(r=Zh(t.s),o=Zh(t.l),e=lV(t.h,r,o),s=!0,i="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=tT(n),{ok:s,format:t.format||i,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var pV="[-\\+]?\\d+%?",mV="[-\\+]?\\d*\\.\\d+%?",Qi="(?:".concat(mV,")|(?:").concat(pV,")"),Ov="[\\s|\\(]+(".concat(Qi,")[,|\\s]+(").concat(Qi,")[,|\\s]+(").concat(Qi,")\\s*\\)?"),zv="[\\s|\\(]+(".concat(Qi,")[,|\\s]+(").concat(Qi,")[,|\\s]+(").concat(Qi,")[,|\\s]+(").concat(Qi,")\\s*\\)?"),Zo={CSS_UNIT:new RegExp(Qi),rgb:new RegExp("rgb"+Ov),rgba:new RegExp("rgba"+zv),hsl:new RegExp("hsl"+Ov),hsla:new RegExp("hsla"+zv),hsv:new RegExp("hsv"+Ov),hsva:new RegExp("hsva"+zv),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function vV(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(v1[t])t=v1[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Zo.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Zo.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Zo.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Zo.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Zo.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Zo.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Zo.hex8.exec(t),n?{r:lo(n[1]),g:lo(n[2]),b:lo(n[3]),a:dx(n[4]),format:e?"name":"hex8"}:(n=Zo.hex6.exec(t),n?{r:lo(n[1]),g:lo(n[2]),b:lo(n[3]),format:e?"name":"hex"}:(n=Zo.hex4.exec(t),n?{r:lo(n[1]+n[1]),g:lo(n[2]+n[2]),b:lo(n[3]+n[3]),a:dx(n[4]+n[4]),format:e?"name":"hex8"}:(n=Zo.hex3.exec(t),n?{r:lo(n[1]+n[1]),g:lo(n[2]+n[2]),b:lo(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function js(t){return!!Zo.CSS_UNIT.exec(String(t))}var nT=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=fV(e)),this.originalInput=e;var a=hV(e);this.originalInput=e,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,a,o=e.r/255,s=e.g/255,i=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*n+.7152*r+.0722*a},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=tT(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=cx(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=cx(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),a=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=lx(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=lx(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),a=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),ux(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),uV(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ba(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ba(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+ux(this.r,this.g,this.b,!1),n=0,r=Object.entries(v1);n<r.length;n++){var a=r[n],o=a[0],s=a[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,a=this.a<1&&this.a>=0,o=!n&&a&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Qh(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Qh(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Qh(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Qh(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),a=new t(e).toRgb(),o=n/100,s={r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),a=360/n,o=[this];for(r.h=(r.h-(a*e>>1)+720)%360;--e;)r.h=(r.h+a)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,a=n.s,o=n.v,s=[],i=1/e;e--;)s.push(new t({h:r,s:a,v:o})),o=(o+i)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),a=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/a,g:(n.g*n.a+r.g*r.a*(1-n.a))/a,b:(n.b*n.a+r.b*r.a*(1-n.a))/a,a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,a=[this],o=360/e,s=1;s<e;s++)a.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return a},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Pi(t,e=20){return t.mix("#141414",e).toString()}function gV(t){const e=wa(),n=Ze("button");return P(()=>{let r={},a=t.color;if(a){const o=a.match(/var\((.*?)\)/);o&&(a=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const s=new nT(a),i=t.dark?s.tint(20).toString():Pi(s,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?Pi(s,90):s.tint(90).toString(),"text-color":a,"border-color":t.dark?Pi(s,50):s.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":i,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":i}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?Pi(s,90):s.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?Pi(s,50):s.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?Pi(s,80):s.tint(80).toString());else{const l=t.dark?Pi(s,30):s.tint(30).toString(),c=s.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":a,"text-color":c,"border-color":a,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":i,"active-border-color":i}),e.value){const u=t.dark?Pi(s,50):s.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=u,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=u}}}return r})}const yV=he({name:"ElButton"}),bV=he({...yV,props:m1,emits:aV,setup(t,{expose:e,emit:n}){const r=t,a=gV(r),o=Ze("button"),{_ref:s,_size:i,_type:l,_disabled:c,_props:u,shouldAddSpace:f,handleClick:h}=nV(r,n),p=P(()=>[o.b(),o.m(l.value),o.m(i.value),o.is("disabled",c.value),o.is("loading",r.loading),o.is("plain",r.plain),o.is("round",r.round),o.is("circle",r.circle),o.is("text",r.text),o.is("link",r.link),o.is("has-bg",r.bg)]);return e({ref:s,size:i,type:l,disabled:c,shouldAddSpace:f}),(m,g)=>(N(),Ue(ln(m.tag),un({ref_key:"_ref",ref:s},d(u),{class:d(p),style:d(a),onClick:d(h)}),{default:le(()=>[m.loading?(N(),ee(Et,{key:0},[m.$slots.loading?Me(m.$slots,"loading",{key:0}):(N(),Ue(d(Ct),{key:1,class:V(d(o).is("loading"))},{default:le(()=>[(N(),Ue(ln(m.loadingIcon)))]),_:1},8,["class"]))],64)):m.icon||m.$slots.icon?(N(),Ue(d(Ct),{key:1},{default:le(()=>[m.icon?(N(),Ue(ln(m.icon),{key:0})):Me(m.$slots,"icon",{key:1})]),_:3})):Te("v-if",!0),m.$slots.default?(N(),ee("span",{key:2,class:V({[d(o).em("text","expand")]:d(f)})},[Me(m.$slots,"default")],2)):Te("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var SV=st(bV,[["__file","button.vue"]]);const _V={size:m1.size,type:m1.type},wV=he({name:"ElButtonGroup"}),xV=he({...wV,props:_V,setup(t){const e=t;vn(eT,Mn({size:Rn(e,"size"),type:Rn(e,"type")}));const n=Ze("button");return(r,a)=>(N(),ee("div",{class:V(d(n).b("group"))},[Me(r.$slots,"default")],2))}});var rT=st(xV,[["__file","button-group.vue"]]);const Jr=qt(SV,{ButtonGroup:rT}),aT=hr(rT);var Us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){var n=1e3,r=6e4,a=36e5,o="millisecond",s="second",i="minute",l="hour",c="day",u="week",f="month",h="quarter",p="year",m="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var $=["th","st","nd","rd"],L=q%100;return"["+q+($[(L-20)%10]||$[L]||$[0])+"]"}},w=function(q,$,L){var W=String(q);return!W||W.length>=$?q:""+Array($+1-W.length).join(L)+q},S={s:w,z:function(q){var $=-q.utcOffset(),L=Math.abs($),W=Math.floor(L/60),U=L%60;return($<=0?"+":"-")+w(W,2,"0")+":"+w(U,2,"0")},m:function q($,L){if($.date()<L.date())return-q(L,$);var W=12*(L.year()-$.year())+(L.month()-$.month()),U=$.clone().add(W,f),F=L-U<0,Q=$.clone().add(W+(F?-1:1),f);return+(-(W+(L-U)/(F?U-Q:Q-U))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:f,y:p,w:u,d:c,D:m,h:l,m:i,s,ms:o,Q:h}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},C="en",E={};E[C]=A;var I="$isDayjsObject",k=function(q){return q instanceof B||!(!q||!q[I])},T=function q($,L,W){var U;if(!$)return C;if(typeof $=="string"){var F=$.toLowerCase();E[F]&&(U=F),L&&(E[F]=L,U=F);var Q=$.split("-");if(!U&&Q.length>1)return q(Q[0])}else{var ne=$.name;E[ne]=$,U=ne}return!W&&U&&(C=U),U||!W&&C},M=function(q,$){if(k(q))return q.clone();var L=typeof $=="object"?$:{};return L.date=q,L.args=arguments,new B(L)},D=S;D.l=T,D.i=k,D.w=function(q,$){return M(q,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var B=function(){function q(L){this.$L=T(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[I]=!0}var $=q.prototype;return $.parse=function(L){this.$d=function(W){var U=W.date,F=W.utc;if(U===null)return new Date(NaN);if(D.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var Q=U.match(y);if(Q){var ne=Q[2]-1||0,de=(Q[7]||"0").substring(0,3);return F?new Date(Date.UTC(Q[1],ne,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,de)):new Date(Q[1],ne,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,de)}}return new Date(U)}(L),this.init()},$.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},$.$utils=function(){return D},$.isValid=function(){return this.$d.toString()!==g},$.isSame=function(L,W){var U=M(L);return this.startOf(W)<=U&&U<=this.endOf(W)},$.isAfter=function(L,W){return M(L)<this.startOf(W)},$.isBefore=function(L,W){return this.endOf(W)<M(L)},$.$g=function(L,W,U){return D.u(L)?this[W]:this.set(U,L)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(L,W){var U=this,F=!!D.u(W)||W,Q=D.p(L),ne=function(Re,Je){var Ye=D.w(U.$u?Date.UTC(U.$y,Je,Re):new Date(U.$y,Je,Re),U);return F?Ye:Ye.endOf(c)},de=function(Re,Je){return D.w(U.toDate()[Re].apply(U.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(Je)),U)},ie=this.$W,ce=this.$M,ge=this.$D,Ae="set"+(this.$u?"UTC":"");switch(Q){case p:return F?ne(1,0):ne(31,11);case f:return F?ne(1,ce):ne(0,ce+1);case u:var pe=this.$locale().weekStart||0,Ie=(ie<pe?ie+7:ie)-pe;return ne(F?ge-Ie:ge+(6-Ie),ce);case c:case m:return de(Ae+"Hours",0);case l:return de(Ae+"Minutes",1);case i:return de(Ae+"Seconds",2);case s:return de(Ae+"Milliseconds",3);default:return this.clone()}},$.endOf=function(L){return this.startOf(L,!1)},$.$set=function(L,W){var U,F=D.p(L),Q="set"+(this.$u?"UTC":""),ne=(U={},U[c]=Q+"Date",U[m]=Q+"Date",U[f]=Q+"Month",U[p]=Q+"FullYear",U[l]=Q+"Hours",U[i]=Q+"Minutes",U[s]=Q+"Seconds",U[o]=Q+"Milliseconds",U)[F],de=F===c?this.$D+(W-this.$W):W;if(F===f||F===p){var ie=this.clone().set(m,1);ie.$d[ne](de),ie.init(),this.$d=ie.set(m,Math.min(this.$D,ie.daysInMonth())).$d}else ne&&this.$d[ne](de);return this.init(),this},$.set=function(L,W){return this.clone().$set(L,W)},$.get=function(L){return this[D.p(L)]()},$.add=function(L,W){var U,F=this;L=Number(L);var Q=D.p(W),ne=function(ce){var ge=M(F);return D.w(ge.date(ge.date()+Math.round(ce*L)),F)};if(Q===f)return this.set(f,this.$M+L);if(Q===p)return this.set(p,this.$y+L);if(Q===c)return ne(1);if(Q===u)return ne(7);var de=(U={},U[i]=r,U[l]=a,U[s]=n,U)[Q]||1,ie=this.$d.getTime()+L*de;return D.w(ie,this)},$.subtract=function(L,W){return this.add(-1*L,W)},$.format=function(L){var W=this,U=this.$locale();if(!this.isValid())return U.invalidDate||g;var F=L||"YYYY-MM-DDTHH:mm:ssZ",Q=D.z(this),ne=this.$H,de=this.$m,ie=this.$M,ce=U.weekdays,ge=U.months,Ae=U.meridiem,pe=function(Je,Ye,Z,me){return Je&&(Je[Ye]||Je(W,F))||Z[Ye].slice(0,me)},Ie=function(Je){return D.s(ne%12||12,Je,"0")},Re=Ae||function(Je,Ye,Z){var me=Je<12?"AM":"PM";return Z?me.toLowerCase():me};return F.replace(v,function(Je,Ye){return Ye||function(Z){switch(Z){case"YY":return String(W.$y).slice(-2);case"YYYY":return D.s(W.$y,4,"0");case"M":return ie+1;case"MM":return D.s(ie+1,2,"0");case"MMM":return pe(U.monthsShort,ie,ge,3);case"MMMM":return pe(ge,ie);case"D":return W.$D;case"DD":return D.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return pe(U.weekdaysMin,W.$W,ce,2);case"ddd":return pe(U.weekdaysShort,W.$W,ce,3);case"dddd":return ce[W.$W];case"H":return String(ne);case"HH":return D.s(ne,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return Re(ne,de,!0);case"A":return Re(ne,de,!1);case"m":return String(de);case"mm":return D.s(de,2,"0");case"s":return String(W.$s);case"ss":return D.s(W.$s,2,"0");case"SSS":return D.s(W.$ms,3,"0");case"Z":return Q}return null}(Je)||Q.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(L,W,U){var F,Q=this,ne=D.p(W),de=M(L),ie=(de.utcOffset()-this.utcOffset())*r,ce=this-de,ge=function(){return D.m(Q,de)};switch(ne){case p:F=ge()/12;break;case f:F=ge();break;case h:F=ge()/3;break;case u:F=(ce-ie)/6048e5;break;case c:F=(ce-ie)/864e5;break;case l:F=ce/a;break;case i:F=ce/r;break;case s:F=ce/n;break;default:F=ce}return U?F:D.a(F)},$.daysInMonth=function(){return this.endOf(f).$D},$.$locale=function(){return E[this.$L]},$.locale=function(L,W){if(!L)return this.$L;var U=this.clone(),F=T(L,W,!0);return F&&(U.$L=F),U},$.clone=function(){return D.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},q}(),z=B.prototype;return M.prototype=z,[["$ms",o],["$s",s],["$m",i],["$H",l],["$W",c],["$M",f],["$y",p],["$D",m]].forEach(function(q){z[q[1]]=function($){return this.$g($,q[0],q[1])}}),M.extend=function(q,$){return q.$i||(q($,B,M),q.$i=!0),M},M.locale=T,M.isDayjs=k,M.unix=function(q){return M(1e3*q)},M.en=E[C],M.Ls=E,M.p={},M})})(oT);var CV=oT.exports;const Wt=Hs(CV),Uv=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],nl=t=>Array.from(Array.from({length:t}).keys()),sT=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),iT=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),fx=function(t,e){const n=ll(t),r=ll(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},hx=function(t,e){const n=nt(t),r=nt(e);return n&&r?t.length!==e.length?!1:t.every((a,o)=>fx(a,e[o])):!n&&!r?fx(t,e):!1},px=function(t,e,n){const r=fo(e)||e==="x"?Wt(t).locale(n):Wt(t,e).locale(n);return r.isValid()?r:void 0},mx=function(t,e,n){return fo(e)?t:e==="x"?+t:Wt(t).locale(n).format(e)},Hv=(t,e)=>{var n;const r=[],a=e==null?void 0:e();for(let o=0;o<t;o++)r.push((n=a==null?void 0:a.includes(o))!=null?n:!1);return r},Jh=t=>nt(t)?t.map(e=>e.toDate()):t.toDate(),AV=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return nl(e).map((r,a)=>n-(e-a-1))},EV=t=>{const e=t.daysInMonth();return nl(e).map((n,r)=>r+1)},MV=t=>nl(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),TV=at({selectedDay:{type:xe(Object)},range:{type:xe(Array)},date:{type:xe(Object),required:!0},hideHeader:{type:Boolean}}),IV={pick:t=>tn(t)};var lT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){return function(n,r,a){var o=r.prototype,s=function(f){return f&&(f.indexOf?f:f.s)},i=function(f,h,p,m,g){var y=f.name?f:f.$locale(),v=s(y[h]),A=s(y[p]),w=v||A.map(function(C){return C.slice(0,m)});if(!g)return w;var S=y.weekStart;return w.map(function(C,E){return w[(E+(S||0))%7]})},l=function(){return a.Ls[a.locale()]},c=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,y){return g||y.slice(1)})}(f.formats[h.toUpperCase()])},u=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):i(f,"months")},monthsShort:function(h){return h?h.format("MMM"):i(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):i(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):i(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):i(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(h){return c(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return i(l(),"months")},a.monthsShort=function(){return i(l(),"monthsShort","months",3)},a.weekdays=function(f){return i(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return i(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return i(l(),"weekdaysMin","weekdays",2,f)}}})})(lT);var RV=lT.exports;const cT=Hs(RV),kV=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],$v=["sun","mon","tue","wed","thu","fri","sat"],DV=(t,e)=>{Wt.extend(cT);const n=Wt.localeData().firstDayOfWeek(),{t:r,lang:a}=_n(),o=Wt().locale(a.value),s=P(()=>!!t.range&&!!t.range.length),i=P(()=>{let h=[];if(s.value){const[p,m]=t.range,g=nl(m.date()-p.date()+1).map(A=>({text:p.date()+A,type:"current"}));let y=g.length%7;y=y===0?0:7-y;const v=nl(y).map((A,w)=>({text:w+1,type:"next"}));h=g.concat(v)}else{const p=t.date.startOf("month").day(),m=AV(t.date,(p-n+7)%7).map(A=>({text:A,type:"prev"})),g=EV(t.date).map(A=>({text:A,type:"current"}));h=[...m,...g];const y=7-(h.length%7||7),v=nl(y).map((A,w)=>({text:w+1,type:"next"}));h=h.concat(v)}return MV(h)}),l=P(()=>{const h=n;return h===0?$v.map(p=>r(`el.datepicker.weeks.${p}`)):$v.slice(h).concat($v.slice(0,h)).map(p=>r(`el.datepicker.weeks.${p}`))}),c=(h,p)=>{switch(p){case"prev":return t.date.startOf("month").subtract(1,"month").date(h);case"next":return t.date.startOf("month").add(1,"month").date(h);case"current":return t.date.date(h)}};return{now:o,isInRange:s,rows:i,weekDays:l,getFormattedDate:c,handlePickDay:({text:h,type:p})=>{const m=c(h,p);e("pick",m)},getSlotData:({text:h,type:p})=>{const m=c(h,p);return{isSelected:m.isSame(t.selectedDay),type:`${p}-month`,day:m.format("YYYY-MM-DD"),date:m.toDate()}}}},PV=he({name:"DateTable"}),BV=he({...PV,props:TV,emits:IV,setup(t,{expose:e,emit:n}){const r=t,{isInRange:a,now:o,rows:s,weekDays:i,getFormattedDate:l,handlePickDay:c,getSlotData:u}=DV(r,n),f=Ze("calendar-table"),h=Ze("calendar-day"),p=({text:m,type:g})=>{const y=[g];if(g==="current"){const v=l(m,g);v.isSame(r.selectedDay,"day")&&y.push(h.is("selected")),v.isSame(o,"day")&&y.push(h.is("today"))}return y};return e({getFormattedDate:l}),(m,g)=>(N(),ee("table",{class:V([d(f).b(),d(f).is("range",d(a))]),cellspacing:"0",cellpadding:"0"},[m.hideHeader?Te("v-if",!0):(N(),ee("thead",{key:0},[re("tr",null,[(N(!0),ee(Et,null,fn(d(i),y=>(N(),ee("th",{key:y,scope:"col"},rt(y),1))),128))])])),re("tbody",null,[(N(!0),ee(Et,null,fn(d(s),(y,v)=>(N(),ee("tr",{key:v,class:V({[d(f).e("row")]:!0,[d(f).em("row","hide-border")]:v===0&&m.hideHeader})},[(N(!0),ee(Et,null,fn(y,(A,w)=>(N(),ee("td",{key:w,class:V(p(A)),onClick:S=>d(c)(A)},[re("div",{class:V(d(h).b())},[Me(m.$slots,"date-cell",{data:d(u)(A)},()=>[re("span",null,rt(A.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var vx=st(BV,[["__file","date-table.vue"]]);const LV=(t,e)=>{const n=t.endOf("month"),r=e.startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r;return[[t,n],[o.startOf("week"),e]]},NV=(t,e)=>{const n=t.endOf("month"),r=t.add(1,"month").startOf("month"),a=n.isSame(r,"week")?r.add(1,"week"):r,o=a.endOf("month"),s=e.startOf("month"),i=o.isSame(s,"week")?s.add(1,"week"):s;return[[t,n],[a.startOf("week"),o],[i.startOf("week"),e]]},FV=(t,e,n)=>{const{lang:r}=_n(),a=j(),o=Wt().locale(r.value),s=P({get(){return t.modelValue?l.value:a.value},set(y){if(!y)return;a.value=y;const v=y.toDate();e(ya,v),e(Jt,v)}}),i=P(()=>{if(!t.range||!nt(t.range)||t.range.length!==2||t.range.some(w=>!ll(w)))return[];const y=t.range.map(w=>Wt(w).locale(r.value)),[v,A]=y;return v.isAfter(A)?[]:v.isSame(A,"month")?p(v,A):v.add(1,"month").month()!==A.month()?[]:p(v,A)}),l=P(()=>t.modelValue?Wt(t.modelValue).locale(r.value):s.value||(i.value.length?i.value[0][0]:o)),c=P(()=>l.value.subtract(1,"month").date(1)),u=P(()=>l.value.add(1,"month").date(1)),f=P(()=>l.value.subtract(1,"year").date(1)),h=P(()=>l.value.add(1,"year").date(1)),p=(y,v)=>{const A=y.startOf("week"),w=v.endOf("week"),S=A.get("month"),C=w.get("month");return S===C?[[A,w]]:(S+1)%12===C?LV(A,w):S+2===C||(S+1)%11===C?NV(A,w):[]},m=y=>{s.value=y};return{calculateValidatedDateRange:p,date:l,realSelectedDay:s,pickDay:m,selectDate:y=>{const A={"prev-month":c.value,"next-month":u.value,"prev-year":f.value,"next-year":h.value,today:o}[y];A.isSame(l.value,"day")||m(A)},validatedRange:i}},OV=t=>nt(t)&&t.length===2&&t.every(e=>ll(e)),zV=at({modelValue:{type:Date},range:{type:xe(Array),validator:OV}}),UV={[Jt]:t=>ll(t),[ya]:t=>ll(t)},HV="ElCalendar",$V=he({name:HV}),VV=he({...$V,props:zV,emits:UV,setup(t,{expose:e,emit:n}){const r=t,a=Ze("calendar"),{calculateValidatedDateRange:o,date:s,pickDay:i,realSelectedDay:l,selectDate:c,validatedRange:u}=FV(r,n),{t:f}=_n(),h=P(()=>{const p=`el.datepicker.month${s.value.format("M")}`;return`${s.value.year()} ${f("el.datepicker.year")} ${f(p)}`});return e({selectedDay:l,pickDay:i,selectDate:c,calculateValidatedDateRange:o}),(p,m)=>(N(),ee("div",{class:V(d(a).b())},[re("div",{class:V(d(a).e("header"))},[Me(p.$slots,"header",{date:d(h)},()=>[re("div",{class:V(d(a).e("title"))},rt(d(h)),3),d(u).length===0?(N(),ee("div",{key:0,class:V(d(a).e("button-group"))},[J(d(aT),null,{default:le(()=>[J(d(Jr),{size:"small",onClick:g=>d(c)("prev-month")},{default:le(()=>[Zt(rt(d(f)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),J(d(Jr),{size:"small",onClick:g=>d(c)("today")},{default:le(()=>[Zt(rt(d(f)("el.datepicker.today")),1)]),_:1},8,["onClick"]),J(d(Jr),{size:"small",onClick:g=>d(c)("next-month")},{default:le(()=>[Zt(rt(d(f)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Te("v-if",!0)])],2),d(u).length===0?(N(),ee("div",{key:0,class:V(d(a).e("body"))},[J(vx,{date:d(s),"selected-day":d(l),onPick:d(i)},Oo({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:le(g=>[Me(p.$slots,"date-cell",ns(ul(g)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(N(),ee("div",{key:1,class:V(d(a).e("body"))},[(N(!0),ee(Et,null,fn(d(u),(g,y)=>(N(),Ue(vx,{key:y,date:g[0],"selected-day":d(l),range:g,"hide-header":y!==0,onPick:d(i)},Oo({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:le(v=>[Me(p.$slots,"date-cell",ns(ul(v)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var WV=st(VV,[["__file","calendar.vue"]]);const GV=qt(WV),KV=at({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:xe([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),qV=he({name:"ElCard"}),jV=he({...qV,props:KV,setup(t){const e=Ze("card");return(n,r)=>(N(),ee("div",{class:V([d(e).b(),d(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(N(),ee("div",{key:0,class:V(d(e).e("header"))},[Me(n.$slots,"header",{},()=>[Zt(rt(n.header),1)])],2)):Te("v-if",!0),re("div",{class:V([d(e).e("body"),n.bodyClass]),style:bt(n.bodyStyle)},[Me(n.$slots,"default")],6),n.$slots.footer||n.footer?(N(),ee("div",{key:1,class:V(d(e).e("footer"))},[Me(n.$slots,"footer",{},()=>[Zt(rt(n.footer),1)])],2)):Te("v-if",!0)],2))}});var YV=st(jV,[["__file","card.vue"]]);const XV=qt(YV),QV=at({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),ZV={change:(t,e)=>[t,e].every(Nt)},uT=Symbol("carouselContextKey"),g1="ElCarouselItem";var Mo=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Mo||{});function y1(t){return ur(t)&&t.type===Et}function JV(t){return ur(t)&&t.type===Da}function eW(t){return ur(t)&&!y1(t)&&!JV(t)}const tW=t=>{if(!ur(t))return{};const e=t.props||{},n=(ur(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(a=>{xn(n[a],"default")&&(r[a]=n[a].default)}),Object.keys(e).forEach(a=>{r[_o(a)]=e[a]}),r},nW=t=>{if(!nt(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},rl=t=>{const e=nt(t)?t:[t],n=[];return e.forEach(r=>{var a;nt(r)?n.push(...rl(r)):ur(r)&&((a=r.component)!=null&&a.subTree)?n.push(r,...rl(r.component.subTree)):ur(r)&&nt(r.children)?n.push(...rl(r.children)):n.push(r)}),n},rW=(t,e,n)=>rl(t.subTree).filter(o=>{var s;return ur(o)&&((s=o.type)==null?void 0:s.name)===e&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),y2=(t,e)=>{const n={},r=Xn([]);return{children:r,addChild:s=>{n[s.uid]=s,r.value=rW(t,e,n)},removeChild:s=>{delete n[s],r.value=r.value.filter(i=>i.uid!==s)}}},gx=300,aW=(t,e,n)=>{const{children:r,addChild:a,removeChild:o}=y2(nn(),g1),s=zr(),i=j(-1),l=j(null),c=j(!1),u=j(),f=j(0),h=j(!0),p=j(!0),m=j(!1),g=P(()=>t.arrow!=="never"&&!d(A)),y=P(()=>r.value.some(Ae=>Ae.props.label.toString().length>0)),v=P(()=>t.type==="card"),A=P(()=>t.direction==="vertical"),w=P(()=>t.height!=="auto"?{height:t.height}:{height:`${f.value}px`,overflow:"hidden"}),S=fc(Ae=>{M(Ae)},gx,{trailing:!0}),C=fc(Ae=>{F(Ae)},gx),E=Ae=>h.value?i.value<=1?Ae<=1:Ae>1:!0;function I(){l.value&&(clearInterval(l.value),l.value=null)}function k(){t.interval<=0||!t.autoplay||l.value||(l.value=setInterval(()=>T(),t.interval))}const T=()=>{p.value||(m.value=!0),p.value=!1,i.value<r.value.length-1?i.value=i.value+1:t.loop?i.value=0:m.value=!1};function M(Ae){if(p.value||(m.value=!0),p.value=!1,Mt(Ae)){const Re=r.value.filter(Je=>Je.props.name===Ae);Re.length>0&&(Ae=r.value.indexOf(Re[0]))}if(Ae=Number(Ae),Number.isNaN(Ae)||Ae!==Math.floor(Ae))return;const pe=r.value.length,Ie=i.value;Ae<0?i.value=t.loop?pe-1:0:Ae>=pe?i.value=t.loop?0:pe-1:i.value=Ae,Ie===i.value&&D(Ie),de()}function D(Ae){r.value.forEach((pe,Ie)=>{pe.translateItem(Ie,i.value,Ae)})}function B(Ae,pe){var Ie,Re,Je,Ye;const Z=d(r),me=Z.length;if(me===0||!Ae.states.inStage)return!1;const oe=pe+1,Ve=pe-1,Le=me-1,ze=Z[Le].states.active,De=Z[0].states.active,Fe=(Re=(Ie=Z[oe])==null?void 0:Ie.states)==null?void 0:Re.active,Ge=(Ye=(Je=Z[Ve])==null?void 0:Je.states)==null?void 0:Ye.active;return pe===Le&&De||Fe?"left":pe===0&&ze||Ge?"right":!1}function z(){c.value=!0,t.pauseOnHover&&I()}function q(){c.value=!1,k()}function $(){m.value=!1}function L(Ae){d(A)||r.value.forEach((pe,Ie)=>{Ae===B(pe,Ie)&&(pe.states.hover=!0)})}function W(){d(A)||r.value.forEach(Ae=>{Ae.states.hover=!1})}function U(Ae){Ae!==i.value&&(p.value||(m.value=!0)),i.value=Ae}function F(Ae){t.trigger==="hover"&&Ae!==i.value&&(i.value=Ae,p.value||(m.value=!0))}function Q(){M(i.value-1)}function ne(){M(i.value+1)}function de(){I(),t.pauseOnHover||k()}function ie(Ae){t.height==="auto"&&(f.value=Ae)}function ce(){var Ae;const pe=(Ae=s.default)==null?void 0:Ae.call(s);if(!pe)return null;const Re=rl(pe).filter(Je=>ur(Je)&&Je.type.name===g1);return(Re==null?void 0:Re.length)===2&&t.loop&&!v.value?(h.value=!0,Re):(h.value=!1,null)}Qe(()=>i.value,(Ae,pe)=>{D(pe),h.value&&(Ae=Ae%2,pe=pe%2),pe>-1&&e("change",Ae,pe)}),Qe(()=>t.autoplay,Ae=>{Ae?k():I()}),Qe(()=>t.loop,()=>{M(i.value)}),Qe(()=>t.interval,()=>{de()});const ge=Xn();return Yt(()=>{Qe(()=>r.value,()=>{r.value.length>0&&M(t.initialIndex)},{immediate:!0}),ge.value=or(u.value,()=>{D()}),k()}),Un(()=>{I(),u.value&&ge.value&&ge.value.stop()}),vn(uT,{root:u,isCardType:v,isVertical:A,items:r,loop:t.loop,cardScale:t.cardScale,addItem:a,removeItem:o,setActiveItem:M,setContainerHeight:ie}),{root:u,activeIndex:i,arrowDisplay:g,hasLabel:y,hover:c,isCardType:v,isTransitioning:m,items:r,isVertical:A,containerStyle:w,isItemsTwoLength:h,handleButtonEnter:L,handleTransitionEnd:$,handleButtonLeave:W,handleIndicatorClick:U,handleMouseEnter:z,handleMouseLeave:q,setActiveItem:M,prev:Q,next:ne,PlaceholderItem:ce,isTwoLengthShow:E,throttledArrowClick:S,throttledIndicatorHover:C}},oW="ElCarousel",sW=he({name:oW}),iW=he({...sW,props:QV,emits:ZV,setup(t,{expose:e,emit:n}){const r=t,{root:a,activeIndex:o,arrowDisplay:s,hasLabel:i,hover:l,isCardType:c,items:u,isVertical:f,containerStyle:h,handleButtonEnter:p,handleButtonLeave:m,isTransitioning:g,handleIndicatorClick:y,handleMouseEnter:v,handleMouseLeave:A,handleTransitionEnd:w,setActiveItem:S,prev:C,next:E,PlaceholderItem:I,isTwoLengthShow:k,throttledArrowClick:T,throttledIndicatorHover:M}=aW(r,n),D=Ze("carousel"),{t:B}=_n(),z=P(()=>{const L=[D.b(),D.m(r.direction)];return d(c)&&L.push(D.m("card")),L}),q=P(()=>{const L=[D.e("container")];return r.motionBlur&&d(g)&&u.value.length>1&&L.push(d(f)?`${D.namespace.value}-transitioning-vertical`:`${D.namespace.value}-transitioning`),L}),$=P(()=>{const L=[D.e("indicators"),D.em("indicators",r.direction)];return d(i)&&L.push(D.em("indicators","labels")),r.indicatorPosition==="outside"&&L.push(D.em("indicators","outside")),d(f)&&L.push(D.em("indicators","right")),L});return e({activeIndex:o,setActiveItem:S,prev:C,next:E}),(L,W)=>(N(),ee("div",{ref_key:"root",ref:a,class:V(d(z)),onMouseenter:zt(d(v),["stop"]),onMouseleave:zt(d(A),["stop"])},[d(s)?(N(),Ue(Vr,{key:0,name:"carousel-arrow-left",persisted:""},{default:le(()=>[Qt(re("button",{type:"button",class:V([d(D).e("arrow"),d(D).em("arrow","left")]),"aria-label":d(B)("el.carousel.leftArrow"),onMouseenter:U=>d(p)("left"),onMouseleave:d(m),onClick:zt(U=>d(T)(d(o)-1),["stop"])},[J(d(Ct),null,{default:le(()=>[J(d(pl))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[En,(L.arrow==="always"||d(l))&&(r.loop||d(o)>0)]])]),_:1})):Te("v-if",!0),d(s)?(N(),Ue(Vr,{key:1,name:"carousel-arrow-right",persisted:""},{default:le(()=>[Qt(re("button",{type:"button",class:V([d(D).e("arrow"),d(D).em("arrow","right")]),"aria-label":d(B)("el.carousel.rightArrow"),onMouseenter:U=>d(p)("right"),onMouseleave:d(m),onClick:zt(U=>d(T)(d(o)+1),["stop"])},[J(d(Ct),null,{default:le(()=>[J(d(Ha))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[En,(L.arrow==="always"||d(l))&&(r.loop||d(o)<d(u).length-1)]])]),_:1})):Te("v-if",!0),re("div",{class:V(d(q)),style:bt(d(h)),onTransitionend:d(w)},[J(d(I)),Me(L.$slots,"default")],46,["onTransitionend"]),L.indicatorPosition!=="none"?(N(),ee("ul",{key:2,class:V(d($))},[(N(!0),ee(Et,null,fn(d(u),(U,F)=>Qt((N(),ee("li",{key:F,class:V([d(D).e("indicator"),d(D).em("indicator",L.direction),d(D).is("active",F===d(o))]),onMouseenter:Q=>d(M)(F),onClick:zt(Q=>d(y)(F),["stop"])},[re("button",{class:V(d(D).e("button")),"aria-label":d(B)("el.carousel.indicator",{index:F+1})},[d(i)?(N(),ee("span",{key:0},rt(U.props.label),1)):Te("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[En,d(k)(F)]])),128))],2)):Te("v-if",!0),r.motionBlur?(N(),ee("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[re("defs",null,[re("filter",{id:"elCarouselHorizontal"},[re("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),re("filter",{id:"elCarouselVertical"},[re("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Te("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var lW=st(iW,[["__file","carousel.vue"]]);const cW=at({name:{type:String,default:""},label:{type:[String,Number],default:""}}),uW=t=>{const e=St(uT),n=nn(),r=j(),a=j(!1),o=j(0),s=j(1),i=j(!1),l=j(!1),c=j(!1),u=j(!1),{isCardType:f,isVertical:h,cardScale:p}=e;function m(w,S,C){const E=C-1,I=S-1,k=S+1,T=C/2;return S===0&&w===E?-1:S===E&&w===0?C:w<I&&S-w>=T?C+1:w>k&&w-S>=T?-2:w}function g(w,S){var C,E;const I=d(h)?((C=e.root.value)==null?void 0:C.offsetHeight)||0:((E=e.root.value)==null?void 0:E.offsetWidth)||0;return c.value?I*((2-p)*(w-S)+1)/4:w<S?-(1+p)*I/4:(3+p)*I/4}function y(w,S,C){const E=e.root.value;return E?((C?E.offsetHeight:E.offsetWidth)||0)*(w-S):0}const v=(w,S,C)=>{var E;const I=d(f),k=(E=e.items.value.length)!=null?E:Number.NaN,T=w===S;!I&&!Bn(C)&&(u.value=T||w===C),!T&&k>2&&e.loop&&(w=m(w,S,k));const M=d(h);i.value=T,I?(c.value=Math.round(Math.abs(w-S))<=1,o.value=g(w,S),s.value=d(i)?1:p):o.value=y(w,S,M),l.value=!0,T&&r.value&&e.setContainerHeight(r.value.offsetHeight)};function A(){if(e&&d(f)){const w=e.items.value.findIndex(({uid:S})=>S===n.uid);e.setActiveItem(w)}}return Yt(()=>{e.addItem({props:t,states:Mn({hover:a,translate:o,scale:s,active:i,ready:l,inStage:c,animating:u}),uid:n.uid,translateItem:v})}),wl(()=>{e.removeItem(n.uid)}),{carouselItemRef:r,active:i,animating:u,hover:a,inStage:c,isVertical:h,translate:o,isCardType:f,scale:s,ready:l,handleItemClick:A}},dW=he({name:g1}),fW=he({...dW,props:cW,setup(t){const e=t,n=Ze("carousel"),{carouselItemRef:r,active:a,animating:o,hover:s,inStage:i,isVertical:l,translate:c,isCardType:u,scale:f,ready:h,handleItemClick:p}=uW(e),m=P(()=>[n.e("item"),n.is("active",a.value),n.is("in-stage",i.value),n.is("hover",s.value),n.is("animating",o.value),{[n.em("item","card")]:u.value,[n.em("item","card-vertical")]:u.value&&l.value}]),g=P(()=>{const v=`${`translate${d(l)?"Y":"X"}`}(${d(c)}px)`,A=`scale(${d(f)})`;return{transform:[v,A].join(" ")}});return(y,v)=>Qt((N(),ee("div",{ref_key:"carouselItemRef",ref:r,class:V(d(m)),style:bt(d(g)),onClick:d(p)},[d(u)?Qt((N(),ee("div",{key:0,class:V(d(n).e("mask"))},null,2)),[[En,!d(a)]]):Te("v-if",!0),Me(y.$slots,"default")],14,["onClick"])),[[En,d(h)]])}});var dT=st(fW,[["__file","carousel-item.vue"]]);const hW=qt(lW,{CarouselItem:dT}),pW=hr(dT),fT={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Or,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...ca(["ariaControls"])},hT={[Jt]:t=>Mt(t)||Nt(t)||Kn(t),change:t=>Mt(t)||Nt(t)||Kn(t)},xd=Symbol("checkboxGroupContextKey"),mW=({model:t,isChecked:e})=>{const n=St(xd,void 0),r=P(()=>{var o,s;const i=(o=n==null?void 0:n.max)==null?void 0:o.value,l=(s=n==null?void 0:n.min)==null?void 0:s.value;return!Bn(i)&&t.value.length>=i&&!e.value||!Bn(l)&&t.value.length<=l&&e.value});return{isDisabled:wa(P(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},vW=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:a,isLabeledByFormItem:o})=>{const s=St(xd,void 0),{formItem:i}=_a(),{emit:l}=nn();function c(m){var g,y,v,A;return[!0,t.trueValue,t.trueLabel].includes(m)?(y=(g=t.trueValue)!=null?g:t.trueLabel)!=null?y:!0:(A=(v=t.falseValue)!=null?v:t.falseLabel)!=null?A:!1}function u(m,g){l("change",c(m),g)}function f(m){if(n.value)return;const g=m.target;l("change",c(g.checked),m)}async function h(m){n.value||!r.value&&!a.value&&o.value&&(m.composedPath().some(v=>v.tagName==="LABEL")||(e.value=c([!1,t.falseValue,t.falseLabel].includes(e.value)),await Bt(),u(e.value,m)))}const p=P(()=>(s==null?void 0:s.validateEvent)||t.validateEvent);return Qe(()=>t.modelValue,()=>{p.value&&(i==null||i.validate("change").catch(m=>void 0))}),{handleChange:f,onClickRoot:h}},gW=t=>{const e=j(!1),{emit:n}=nn(),r=St(xd,void 0),a=P(()=>Bn(r)===!1),o=j(!1),s=P({get(){var i,l;return a.value?(i=r==null?void 0:r.modelValue)==null?void 0:i.value:(l=t.modelValue)!=null?l:e.value},set(i){var l,c;a.value&&nt(i)?(o.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&i.length>(r==null?void 0:r.max.value)&&i.length>s.value.length,o.value===!1&&((c=r==null?void 0:r.changeEvent)==null||c.call(r,i))):(n(Jt,i),e.value=i)}});return{model:s,isGroup:a,isLimitExceeded:o}},yW=(t,e,{model:n})=>{const r=St(xd,void 0),a=j(!1),o=P(()=>yc(t.value)?t.label:t.value),s=P(()=>{const u=n.value;return Kn(u)?u:nt(u)?tn(o.value)?u.map(zn).some(f=>ia(f,o.value)):u.map(zn).includes(o.value):u!=null?u===t.trueValue||u===t.trueLabel:!!u}),i=Dr(P(()=>{var u;return(u=r==null?void 0:r.size)==null?void 0:u.value}),{prop:!0}),l=Dr(P(()=>{var u;return(u=r==null?void 0:r.size)==null?void 0:u.value})),c=P(()=>!!e.default||!yc(o.value));return{checkboxButtonSize:i,isChecked:s,isFocused:a,checkboxSize:l,hasOwnLabel:c,actualValue:o}},pT=(t,e)=>{const{formItem:n}=_a(),{model:r,isGroup:a,isLimitExceeded:o}=gW(t),{isFocused:s,isChecked:i,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,actualValue:f}=yW(t,e,{model:r}),{isDisabled:h}=mW({model:r,isChecked:i}),{inputId:p,isLabeledByFormItem:m}=Wo(t,{formItemContext:n,disableIdGeneration:u,disableIdManagement:a}),{handleChange:g,onClickRoot:y}=vW(t,{model:r,isLimitExceeded:o,hasOwnLabel:u,isDisabled:h,isLabeledByFormItem:m});return(()=>{function A(){var w,S;nt(r.value)&&!r.value.includes(f.value)?r.value.push(f.value):r.value=(S=(w=t.trueValue)!=null?w:t.trueLabel)!=null?S:!0}t.checked&&A()})(),tl({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>a.value&&yc(t.value))),tl({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>!!t.trueLabel)),tl({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>!!t.falseLabel)),{inputId:p,isLabeledByFormItem:m,isChecked:i,isDisabled:h,isFocused:s,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:r,actualValue:f,handleChange:g,onClickRoot:y}},bW=he({name:"ElCheckbox"}),SW=he({...bW,props:fT,emits:hT,setup(t){const e=t,n=zr(),{inputId:r,isLabeledByFormItem:a,isChecked:o,isDisabled:s,isFocused:i,checkboxSize:l,hasOwnLabel:c,model:u,actualValue:f,handleChange:h,onClickRoot:p}=pT(e,n),m=Ze("checkbox"),g=P(()=>[m.b(),m.m(l.value),m.is("disabled",s.value),m.is("bordered",e.border),m.is("checked",o.value)]),y=P(()=>[m.e("input"),m.is("disabled",s.value),m.is("checked",o.value),m.is("indeterminate",e.indeterminate),m.is("focus",i.value)]);return(v,A)=>(N(),Ue(ln(!d(c)&&d(a)?"span":"label"),{class:V(d(g)),"aria-controls":v.indeterminate?v.ariaControls:null,onClick:d(p)},{default:le(()=>{var w,S,C,E;return[re("span",{class:V(d(y))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?Qt((N(),ee("input",{key:0,id:d(r),"onUpdate:modelValue":I=>jn(u)?u.value=I:null,class:V(d(m).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:d(s),"true-value":(S=(w=v.trueValue)!=null?w:v.trueLabel)!=null?S:!0,"false-value":(E=(C=v.falseValue)!=null?C:v.falseLabel)!=null?E:!1,onChange:d(h),onFocus:I=>i.value=!0,onBlur:I=>i.value=!1,onClick:zt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[gp,d(u)]]):Qt((N(),ee("input",{key:1,id:d(r),"onUpdate:modelValue":I=>jn(u)?u.value=I:null,class:V(d(m).e("original")),type:"checkbox",indeterminate:v.indeterminate,disabled:d(s),value:d(f),name:v.name,tabindex:v.tabindex,onChange:d(h),onFocus:I=>i.value=!0,onBlur:I=>i.value=!1,onClick:zt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[gp,d(u)]]),re("span",{class:V(d(m).e("inner"))},null,2)],2),d(c)?(N(),ee("span",{key:0,class:V(d(m).e("label"))},[Me(v.$slots,"default"),v.$slots.default?Te("v-if",!0):(N(),ee(Et,{key:0},[Zt(rt(v.label),1)],64))],2)):Te("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var _W=st(SW,[["__file","checkbox.vue"]]);const wW=he({name:"ElCheckboxButton"}),xW=he({...wW,props:fT,emits:hT,setup(t){const e=t,n=zr(),{isFocused:r,isChecked:a,isDisabled:o,checkboxButtonSize:s,model:i,actualValue:l,handleChange:c}=pT(e,n),u=St(xd,void 0),f=Ze("checkbox"),h=P(()=>{var m,g,y,v;const A=(g=(m=u==null?void 0:u.fill)==null?void 0:m.value)!=null?g:"";return{backgroundColor:A,borderColor:A,color:(v=(y=u==null?void 0:u.textColor)==null?void 0:y.value)!=null?v:"",boxShadow:A?`-1px 0 0 0 ${A}`:void 0}}),p=P(()=>[f.b("button"),f.bm("button",s.value),f.is("disabled",o.value),f.is("checked",a.value),f.is("focus",r.value)]);return(m,g)=>{var y,v,A,w;return N(),ee("label",{class:V(d(p))},[m.trueValue||m.falseValue||m.trueLabel||m.falseLabel?Qt((N(),ee("input",{key:0,"onUpdate:modelValue":S=>jn(i)?i.value=S:null,class:V(d(f).be("button","original")),type:"checkbox",name:m.name,tabindex:m.tabindex,disabled:d(o),"true-value":(v=(y=m.trueValue)!=null?y:m.trueLabel)!=null?v:!0,"false-value":(w=(A=m.falseValue)!=null?A:m.falseLabel)!=null?w:!1,onChange:d(c),onFocus:S=>r.value=!0,onBlur:S=>r.value=!1,onClick:zt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[gp,d(i)]]):Qt((N(),ee("input",{key:1,"onUpdate:modelValue":S=>jn(i)?i.value=S:null,class:V(d(f).be("button","original")),type:"checkbox",name:m.name,tabindex:m.tabindex,disabled:d(o),value:d(l),onChange:d(c),onFocus:S=>r.value=!0,onBlur:S=>r.value=!1,onClick:zt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[gp,d(i)]]),m.$slots.default||m.label?(N(),ee("span",{key:2,class:V(d(f).be("button","inner")),style:bt(d(a)?d(h):void 0)},[Me(m.$slots,"default",{},()=>[Zt(rt(m.label),1)])],6)):Te("v-if",!0)],2)}}});var mT=st(xW,[["__file","checkbox-button.vue"]]);const CW=at({modelValue:{type:xe(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Or,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...ca(["ariaLabel"])}),AW={[Jt]:t=>nt(t),change:t=>nt(t)},EW=he({name:"ElCheckboxGroup"}),MW=he({...EW,props:CW,emits:AW,setup(t,{emit:e}){const n=t,r=Ze("checkbox"),{formItem:a}=_a(),{inputId:o,isLabeledByFormItem:s}=Wo(n,{formItemContext:a}),i=async c=>{e(Jt,c),await Bt(),e("change",c)},l=P({get(){return n.modelValue},set(c){i(c)}});return vn(xd,{...as(jr(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:i}),Qe(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(c=>void 0))}),(c,u)=>{var f;return N(),Ue(ln(c.tag),{id:d(o),class:V(d(r).b("group")),role:"group","aria-label":d(s)?void 0:c.ariaLabel||"checkbox-group","aria-labelledby":d(s)?(f=d(a))==null?void 0:f.labelId:void 0},{default:le(()=>[Me(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var vT=st(MW,[["__file","checkbox-group.vue"]]);const $o=qt(_W,{CheckboxButton:mT,CheckboxGroup:vT}),TW=hr(mT),gT=hr(vT),yT=at({modelValue:{type:[String,Number,Boolean],default:void 0},size:Or,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),IW=at({...yT,border:Boolean}),bT={[Jt]:t=>Mt(t)||Nt(t)||Kn(t),[Fn]:t=>Mt(t)||Nt(t)||Kn(t)},ST=Symbol("radioGroupKey"),_T=(t,e)=>{const n=j(),r=St(ST,void 0),a=P(()=>!!r),o=P(()=>yc(t.value)?t.label:t.value),s=P({get(){return a.value?r.modelValue:t.modelValue},set(f){a.value?r.changeEvent(f):e&&e(Jt,f),n.value.checked=t.modelValue===o.value}}),i=Dr(P(()=>r==null?void 0:r.size)),l=wa(P(()=>r==null?void 0:r.disabled)),c=j(!1),u=P(()=>l.value||a.value&&s.value!==o.value?-1:0);return tl({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},P(()=>a.value&&yc(t.value))),{radioRef:n,isGroup:a,radioGroup:r,focus:c,size:i,disabled:l,tabIndex:u,modelValue:s,actualValue:o}},RW=he({name:"ElRadio"}),kW=he({...RW,props:IW,emits:bT,setup(t,{emit:e}){const n=t,r=Ze("radio"),{radioRef:a,radioGroup:o,focus:s,size:i,disabled:l,modelValue:c,actualValue:u}=_T(n,e);function f(){Bt(()=>e("change",c.value))}return(h,p)=>{var m;return N(),ee("label",{class:V([d(r).b(),d(r).is("disabled",d(l)),d(r).is("focus",d(s)),d(r).is("bordered",h.border),d(r).is("checked",d(c)===d(u)),d(r).m(d(i))])},[re("span",{class:V([d(r).e("input"),d(r).is("disabled",d(l)),d(r).is("checked",d(c)===d(u))])},[Qt(re("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":g=>jn(c)?c.value=g:null,class:V(d(r).e("original")),value:d(u),name:h.name||((m=d(o))==null?void 0:m.name),disabled:d(l),checked:d(c)===d(u),type:"radio",onFocus:g=>s.value=!0,onBlur:g=>s.value=!1,onChange:f,onClick:zt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[oE,d(c)]]),re("span",{class:V(d(r).e("inner"))},null,2)],2),re("span",{class:V(d(r).e("label")),onKeydown:zt(()=>{},["stop"])},[Me(h.$slots,"default",{},()=>[Zt(rt(h.label),1)])],42,["onKeydown"])],2)}}});var DW=st(kW,[["__file","radio.vue"]]);const PW=at({...yT}),BW=he({name:"ElRadioButton"}),LW=he({...BW,props:PW,setup(t){const e=t,n=Ze("radio"),{radioRef:r,focus:a,size:o,disabled:s,modelValue:i,radioGroup:l,actualValue:c}=_T(e),u=P(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(f,h)=>{var p;return N(),ee("label",{class:V([d(n).b("button"),d(n).is("active",d(i)===d(c)),d(n).is("disabled",d(s)),d(n).is("focus",d(a)),d(n).bm("button",d(o))])},[Qt(re("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":m=>jn(i)?i.value=m:null,class:V(d(n).be("button","original-radio")),value:d(c),type:"radio",name:f.name||((p=d(l))==null?void 0:p.name),disabled:d(s),onFocus:m=>a.value=!0,onBlur:m=>a.value=!1,onClick:zt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[oE,d(i)]]),re("span",{class:V(d(n).be("button","inner")),style:bt(d(i)===d(c)?d(u):{}),onKeydown:zt(()=>{},["stop"])},[Me(f.$slots,"default",{},()=>[Zt(rt(f.label),1)])],46,["onKeydown"])],2)}}});var wT=st(LW,[["__file","radio-button.vue"]]);const NW=at({id:{type:String,default:void 0},size:Or,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...ca(["ariaLabel"])}),FW=bT,OW=he({name:"ElRadioGroup"}),zW=he({...OW,props:NW,emits:FW,setup(t,{emit:e}){const n=t,r=Ze("radio"),a=la(),o=j(),{formItem:s}=_a(),{inputId:i,isLabeledByFormItem:l}=Wo(n,{formItemContext:s}),c=f=>{e(Jt,f),Bt(()=>e("change",f))};Yt(()=>{const f=o.value.querySelectorAll("[type=radio]"),h=f[0];!Array.from(f).some(p=>p.checked)&&h&&(h.tabIndex=0)});const u=P(()=>n.name||a.value);return vn(ST,Mn({...jr(n),changeEvent:c,name:u})),Qe(()=>n.modelValue,()=>{n.validateEvent&&(s==null||s.validate("change").catch(f=>void 0))}),(f,h)=>(N(),ee("div",{id:d(i),ref_key:"radioGroupRef",ref:o,class:V(d(r).b("group")),role:"radiogroup","aria-label":d(l)?void 0:f.ariaLabel||"radio-group","aria-labelledby":d(l)?d(s).labelId:void 0},[Me(f.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var xT=st(zW,[["__file","radio-group.vue"]]);const CT=qt(DW,{RadioButton:wT,RadioGroup:xT}),UW=hr(xT),HW=hr(wT);var $W=he({name:"NodeContent",setup(){return{ns:Ze("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:r,label:a}=e,{renderLabelFn:o}=n;return Lt("span",{class:t.e("label")},o?o({node:e,data:r}):a)}});const b2=Symbol(),VW=he({name:"ElCascaderNode",components:{ElCheckbox:$o,ElRadio:CT,NodeContent:$W,ElIcon:Ct,Check:fh,Loading:Is,ArrowRight:Ha},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=St(b2),r=Ze("cascader-node"),a=P(()=>n.isHoverMenu),o=P(()=>n.config.multiple),s=P(()=>n.config.checkStrictly),i=P(()=>{var E;return(E=n.checkedNodes[0])==null?void 0:E.uid}),l=P(()=>t.node.isDisabled),c=P(()=>t.node.isLeaf),u=P(()=>s.value&&!c.value||!l.value),f=P(()=>p(n.expandingNode)),h=P(()=>s.value&&n.checkedNodes.some(p)),p=E=>{var I;const{level:k,uid:T}=t.node;return((I=E==null?void 0:E.pathNodes[k-1])==null?void 0:I.uid)===T},m=()=>{f.value||n.expandNode(t.node)},g=E=>{const{node:I}=t;E!==I.checked&&n.handleCheckChange(I,E)},y=()=>{n.lazyLoad(t.node,()=>{c.value||m()})},v=E=>{a.value&&(A(),!c.value&&e("expand",E))},A=()=>{const{node:E}=t;!u.value||E.loading||(E.loaded?m():y())},w=()=>{a.value&&!c.value||(c.value&&!l.value&&!s.value&&!o.value?C(!0):A())},S=E=>{s.value?(g(E),t.node.loaded&&m()):C(E)},C=E=>{t.node.loaded?(g(E),!s.value&&m()):y()};return{panel:n,isHoverMenu:a,multiple:o,checkStrictly:s,checkedNodeId:i,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:f,inCheckedPath:h,ns:r,handleHoverExpand:v,handleExpand:A,handleClick:w,handleCheck:C,handleSelectCheck:S}}});function WW(t,e,n,r,a,o){const s=ct("el-checkbox"),i=ct("el-radio"),l=ct("check"),c=ct("el-icon"),u=ct("node-content"),f=ct("loading"),h=ct("arrow-right");return N(),ee("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:V([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[Te(" prefix "),t.multiple?(N(),Ue(s,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:zt(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(N(),Ue(i,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:zt(()=>{},["stop"])},{default:le(()=>[Te(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),re("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(N(),Ue(c,{key:2,class:V(t.ns.e("prefix"))},{default:le(()=>[J(l)]),_:1},8,["class"])):Te("v-if",!0),Te(" content "),J(u),Te(" postfix "),t.isLeaf?Te("v-if",!0):(N(),ee(Et,{key:3},[t.node.loading?(N(),Ue(c,{key:0,class:V([t.ns.is("loading"),t.ns.e("postfix")])},{default:le(()=>[J(f)]),_:1},8,["class"])):(N(),Ue(c,{key:1,class:V(["arrow-right",t.ns.e("postfix")])},{default:le(()=>[J(h)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var GW=st(VW,[["render",WW],["__file","node.vue"]]);const KW=he({name:"ElCascaderMenu",components:{Loading:Is,ElIcon:Ct,ElScrollbar:zs,ElCascaderNode:GW},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=nn(),n=Ze("cascader-menu"),{t:r}=_n(),a=la();let o=null,s=null;const i=St(b2),l=j(null),c=P(()=>!t.nodes.length),u=P(()=>!i.initialLoaded),f=P(()=>`${a.value}-${t.index}`),h=y=>{o=y.target},p=y=>{if(!(!i.isHoverMenu||!o||!l.value))if(o.contains(y.target)){m();const v=e.vnode.el,{left:A}=v.getBoundingClientRect(),{offsetWidth:w,offsetHeight:S}=v,C=y.clientX-A,E=o.offsetTop,I=E+o.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${C} ${E} L${w} 0 V${E} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${C} ${I} L${w} ${S} V${I} Z" />
        `}else s||(s=window.setTimeout(g,i.config.hoverThreshold))},m=()=>{s&&(clearTimeout(s),s=null)},g=()=>{l.value&&(l.value.innerHTML="",m())};return{ns:n,panel:i,hoverZone:l,isEmpty:c,isLoading:u,menuId:f,t:r,handleExpand:h,handleMouseMove:p,clearHoverZone:g}}});function qW(t,e,n,r,a,o){const s=ct("el-cascader-node"),i=ct("loading"),l=ct("el-icon"),c=ct("el-scrollbar");return N(),Ue(c,{key:t.menuId,tag:"ul",role:"menu",class:V(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:le(()=>{var u;return[(N(!0),ee(Et,null,fn(t.nodes,f=>(N(),Ue(s,{key:f.uid,node:f,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(N(),ee("div",{key:0,class:V(t.ns.e("empty-text"))},[J(l,{size:"14",class:V(t.ns.is("loading"))},{default:le(()=>[J(i)]),_:1},8,["class"]),Zt(" "+rt(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(N(),ee("div",{key:1,class:V(t.ns.e("empty-text"))},[Me(t.$slots,"empty",{},()=>[Zt(rt(t.t("el.cascader.noData")),1)])],2)):(u=t.panel)!=null&&u.isHoverMenu?(N(),ee("svg",{key:2,ref:"hoverZone",class:V(t.ns.e("hover-zone"))},null,2)):Te("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var jW=st(KW,[["render",qW],["__file","menu.vue"]]);const S2=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),ws=t=>sh(t);let YW=0;const XW=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let b1=class S1{constructor(e,n,r,a=!1){this.data=e,this.config=n,this.parent=r,this.root=a,this.uid=YW++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:s,children:i}=n,l=e[i],c=XW(this);this.level=a?0:r?r.level+1:1,this.value=e[o],this.label=e[s],this.pathNodes=c,this.pathValues=c.map(u=>u.value),this.pathLabels=c.map(u=>u.label),this.childrenData=l,this.children=(l||[]).map(u=>new S1(u,n,this)),this.loaded=!n.lazy||this.isLeaf||!fo(l)}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:a,checkStrictly:o}=r;return(Pt(a)?a(e,this):!!e[a])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:a}=this,{lazy:o,leaf:s}=n,i=Pt(s)?s(e,this):e[s];return Bn(i)?o&&!a?!1:!(nt(r)&&r.length):!!i}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,a=new S1(e,this.config,this);return nt(n)?n.push(e):this.childrenData=[e],r.push(a),a}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e,...n){const r=`onParent${ws(e)}`;this.children.forEach(a=>{a&&(a.broadcast(e,...n),a[r]&&a[r](...n))})}emit(e,...n){const{parent:r}=this,a=`onChild${ws(e)}`;r&&(r[a]&&r[a](...n),r.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(a=>!a.isDisabled),r=n.length?n.every(a=>a.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((a,o)=>{const s=o.checked?1:o.indeterminate?.5:0;return a+s},0);this.checked=this.loaded&&this.children.filter(a=>!a.isDisabled).every(a=>a.loaded&&a.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const _1=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(_1(r.children,e))),n),[]);class yx{constructor(e,n){this.config=n;const r=(e||[]).map(a=>new b1(a,this.config));this.nodes=r,this.allNodes=_1(r,!1),this.leafNodes=_1(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new b1(e,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,n){e.forEach(r=>this.appendNode(r,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(a=>ia(a.value,e)||ia(a.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:a})=>ia(e.value,r)&&e.level===a)||null}}const AT=at({modelValue:{type:xe([Number,String,Array])},options:{type:xe(Array),default:()=>[]},props:{type:xe(Object),default:()=>({})}}),QW={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Dn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},ZW=t=>P(()=>({...QW,...t.props})),bx=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},JW=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():IM(t)&&t.click()},eG=(t,e)=>{const n=e.slice(0),r=n.map(o=>o.uid),a=t.reduce((o,s)=>{const i=r.indexOf(s.uid);return i>-1&&(o.push(s),n.splice(i,1),r.splice(i,1)),o},[]);return a.push(...n),a},Sx=t=>[...new Set(t)],Oa=t=>!t&&t!==0?[]:nt(t)?t:[t],tG=he({name:"ElCascaderPanel",components:{ElCascaderMenu:jW},props:{...AT,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Jt,Fn,"close","expand-change"],setup(t,{emit:e,slots:n}){let r=!1;const a=Ze("cascader"),o=ZW(t);let s=null;const i=j(!0),l=j([]),c=j(null),u=j([]),f=j(null),h=j([]),p=P(()=>o.value.expandTrigger==="hover"),m=P(()=>t.renderLabel||n.default),g=()=>{const{options:B}=t,z=o.value;r=!1,s=new yx(B,z),u.value=[s.getNodes()],z.lazy&&fo(t.options)?(i.value=!1,y(void 0,q=>{q&&(s=new yx(q,z),u.value=[s.getNodes()]),i.value=!0,k(!1,!0)})):k(!1,!0)},y=(B,z)=>{const q=o.value;B=B||new b1({},q,void 0,!0),B.loading=!0;const $=L=>{const W=B,U=W.root?null:W;L&&(s==null||s.appendNodes(L,U)),W.loading=!1,W.loaded=!0,W.childrenData=W.childrenData||[],z&&z(L)};q.lazyLoad(B,$)},v=(B,z)=>{var q;const{level:$}=B,L=u.value.slice(0,$);let W;B.isLeaf?W=B.pathNodes[$-2]:(W=B,L.push(B.children)),((q=f.value)==null?void 0:q.uid)!==(W==null?void 0:W.uid)&&(f.value=B,u.value=L,!z&&e("expand-change",(B==null?void 0:B.pathValues)||[]))},A=(B,z,q=!0)=>{const{checkStrictly:$,multiple:L}=o.value,W=h.value[0];r=!0,!L&&(W==null||W.doCheck(!1)),B.doCheck(z),I(),q&&!L&&!$&&e("close"),!q&&!L&&!$&&w(B)},w=B=>{B&&(B=B.parent,w(B),B&&v(B))},S=B=>s==null?void 0:s.getFlattedNodes(B),C=B=>{var z;return(z=S(B))==null?void 0:z.filter(q=>q.checked!==!1)},E=()=>{h.value.forEach(B=>B.doCheck(!1)),I(),u.value=u.value.slice(0,1),f.value=null,e("expand-change",[])},I=()=>{var B;const{checkStrictly:z,multiple:q}=o.value,$=h.value,L=C(!z),W=eG($,L),U=W.map(F=>F.valueByOption);h.value=W,c.value=q?U:(B=U[0])!=null?B:null},k=(B=!1,z=!1)=>{const{modelValue:q}=t,{lazy:$,multiple:L,checkStrictly:W}=o.value,U=!W;if(!(!i.value||r||!z&&ia(q,c.value)))if($&&!B){const Q=Sx(XN(Oa(q))).map(ne=>s==null?void 0:s.getNodeByValue(ne)).filter(ne=>!!ne&&!ne.loaded&&!ne.loading);Q.length?Q.forEach(ne=>{y(ne,()=>k(!1,z))}):k(!0,z)}else{const F=L?Oa(q):[q],Q=Sx(F.map(ne=>s==null?void 0:s.getNodeByValue(ne,U)));T(Q,z),c.value=Sp(q)}},T=(B,z=!0)=>{const{checkStrictly:q}=o.value,$=h.value,L=B.filter(F=>!!F&&(q||F.isLeaf)),W=s==null?void 0:s.getSameNode(f.value),U=z&&W||L[0];U?U.pathNodes.forEach(F=>v(F,!0)):f.value=null,$.forEach(F=>F.doCheck(!1)),Mn(L).forEach(F=>F.doCheck(!0)),h.value=L,Bt(M)},M=()=>{Sn&&l.value.forEach(B=>{const z=B==null?void 0:B.$el;if(z){const q=z.querySelector(`.${a.namespace.value}-scrollbar__wrap`),$=z.querySelector(`.${a.b("node")}.${a.is("active")}`)||z.querySelector(`.${a.b("node")}.in-active-path`);Xb(q,$)}})},D=B=>{const z=B.target,{code:q}=B;switch(q){case mt.up:case mt.down:{B.preventDefault();const $=q===mt.up?-1:1;V0(RM(z,$,`.${a.b("node")}[tabindex="-1"]`));break}case mt.left:{B.preventDefault();const $=l.value[bx(z)-1],L=$==null?void 0:$.$el.querySelector(`.${a.b("node")}[aria-expanded="true"]`);V0(L);break}case mt.right:{B.preventDefault();const $=l.value[bx(z)+1],L=$==null?void 0:$.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`);V0(L);break}case mt.enter:case mt.numpadEnter:JW(z);break}};return vn(b2,Mn({config:o,expandingNode:f,checkedNodes:h,isHoverMenu:p,initialLoaded:i,renderLabelFn:m,lazyLoad:y,expandNode:v,handleCheckChange:A})),Qe([o,()=>t.options],g,{deep:!0,immediate:!0}),Qe(()=>t.modelValue,()=>{r=!1,k()},{deep:!0}),Qe(()=>c.value,B=>{ia(B,t.modelValue)||(e(Jt,B),e(Fn,B))}),BA(()=>l.value=[]),Yt(()=>!fo(t.modelValue)&&k()),{ns:a,menuList:l,menus:u,checkedNodes:h,handleKeyDown:D,handleCheckChange:A,getFlattedNodes:S,getCheckedNodes:C,clearCheckedNodes:E,calculateCheckedValue:I,scrollToExpandingNode:M}}});function nG(t,e,n,r,a,o){const s=ct("el-cascader-menu");return N(),ee("div",{class:V([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(N(!0),ee(Et,null,fn(t.menus,(i,l)=>(N(),Ue(s,{key:l,ref_for:!0,ref:c=>t.menuList[l]=c,index:l,nodes:[...i]},{empty:le(()=>[Me(t.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var rG=st(tG,[["render",nG],["__file","index.vue"]]);const ET=qt(rG),vi=at({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Os},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),aG={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},oG=he({name:"ElTag"}),sG=he({...oG,props:vi,emits:aG,setup(t,{emit:e}){const n=t,r=Dr(),a=Ze("tag"),o=P(()=>{const{type:c,hit:u,effect:f,closable:h,round:p}=n;return[a.b(),a.is("closable",h),a.m(c||"primary"),a.m(r.value),a.m(f),a.is("hit",u),a.is("round",p)]}),s=c=>{e("close",c)},i=c=>{e("click",c)},l=c=>{var u,f,h;(h=(f=(u=c==null?void 0:c.component)==null?void 0:u.subTree)==null?void 0:f.component)!=null&&h.bum&&(c.component.subTree.component.bum=null)};return(c,u)=>c.disableTransitions?(N(),ee("span",{key:0,class:V(d(o)),style:bt({backgroundColor:c.color}),onClick:i},[re("span",{class:V(d(a).e("content"))},[Me(c.$slots,"default")],2),c.closable?(N(),Ue(d(Ct),{key:0,class:V(d(a).e("close")),onClick:zt(s,["stop"])},{default:le(()=>[J(d(cs))]),_:1},8,["class","onClick"])):Te("v-if",!0)],6)):(N(),Ue(Vr,{key:1,name:`${d(a).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:le(()=>[re("span",{class:V(d(o)),style:bt({backgroundColor:c.color}),onClick:i},[re("span",{class:V(d(a).e("content"))},[Me(c.$slots,"default")],2),c.closable?(N(),Ue(d(Ct),{key:0,class:V(d(a).e("close")),onClick:zt(s,["stop"])},{default:le(()=>[J(d(cs))]),_:1},8,["class","onClick"])):Te("v-if",!0)],6)]),_:3},8,["name"]))}});var iG=st(sG,[["__file","tag.vue"]]);const ju=qt(iG),lG=at({...AT,size:Or,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:xe(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:xe(Function),default:()=>!0},placement:{type:xe(String),values:Ai,default:"bottom-start"},fallbackPlacements:{type:xe(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Xr.teleported,tagType:{...vi.type,default:"info"},tagEffect:{...vi.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Sd}),cG={[Jt]:t=>!0,[Fn]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>Kn(t),expandChange:t=>!!t,removeTag:t=>!!t},Wi=new Map;if(Sn){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of Wi.values())for(const{documentHandler:r}of n)r(e,t);t=void 0}})}function _x(t,e){let n=[];return nt(e.arg)?n=e.arg:vo(e.arg)&&n.push(e.arg),function(r,a){const o=e.instance.popperRef,s=r.target,i=a==null?void 0:a.target,l=!e||!e.instance,c=!s||!i,u=t.contains(s)||t.contains(i),f=t===s,h=n.length&&n.some(m=>m==null?void 0:m.contains(s))||n.length&&n.includes(i),p=o&&(o.contains(s)||o.contains(i));l||c||u||f||h||p||e.value(r,a)}}const gi={beforeMount(t,e){Wi.has(t)||Wi.set(t,[]),Wi.get(t).push({documentHandler:_x(t,e),bindingFn:e.value})},updated(t,e){Wi.has(t)||Wi.set(t,[]);const n=Wi.get(t),r=n.findIndex(o=>o.bindingFn===e.oldValue),a={documentHandler:_x(t,e),bindingFn:e.value};r>=0?n.splice(r,1,a):n.push(a)},unmounted(t){Wi.delete(t)}},uG="ElCascader",dG=he({name:uG}),fG=he({...dG,props:lG,emits:cG,setup(t,{expose:e,emit:n}){const r=t,a={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ve})=>{const{modifiersData:ke,placement:fe}=ve;["right","left","bottom","top"].includes(fe)||(ke.arrow.x=35)},requires:["arrow"]}]},o=xl();let s=0,i=0;const l=Ze("cascader"),c=Ze("input"),{t:u}=_n(),{form:f,formItem:h}=_a(),{valueOnClear:p}=ym(r),{isComposing:m,handleComposition:g}=ph({afterComposition(ve){var ke;const fe=(ke=ve.target)==null?void 0:ke.value;X(fe)}}),y=j(null),v=j(null),A=j(null),w=j(null),S=j(null),C=j(!1),E=j(!1),I=j(!1),k=j(!1),T=j(""),M=j(""),D=j([]),B=j([]),z=j([]),q=P(()=>o.style),$=P(()=>r.disabled||(f==null?void 0:f.disabled)),L=P(()=>r.placeholder||u("el.cascader.placeholder")),W=P(()=>M.value||D.value.length>0||m.value?"":L.value),U=Dr(),F=P(()=>U.value==="small"?"small":"default"),Q=P(()=>!!r.props.multiple),ne=P(()=>!r.filterable||Q.value),de=P(()=>Q.value?M.value:T.value),ie=P(()=>{var ve;return((ve=w.value)==null?void 0:ve.checkedNodes)||[]}),ce=P(()=>!r.clearable||$.value||I.value||!E.value?!1:!!ie.value.length),ge=P(()=>{const{showAllLevels:ve,separator:ke}=r,fe=ie.value;return fe.length?Q.value?"":fe[0].calcText(ve,ke):""}),Ae=P(()=>(h==null?void 0:h.validateState)||""),pe=P({get(){return Sp(r.modelValue)},set(ve){const ke=ve??p.value;n(Jt,ke),n(Fn,ke),r.validateEvent&&(h==null||h.validate("change").catch(fe=>void 0))}}),Ie=P(()=>[l.b(),l.m(U.value),l.is("disabled",$.value),o.class]),Re=P(()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",C.value)]),Je=P(()=>l.is("focus",C.value||k.value)),Ye=P(()=>{var ve,ke;return(ke=(ve=y.value)==null?void 0:ve.popperRef)==null?void 0:ke.contentRef}),Z=ve=>{var ke,fe,tt;$.value||(ve=ve??!C.value,ve!==C.value&&(C.value=ve,(fe=(ke=v.value)==null?void 0:ke.input)==null||fe.setAttribute("aria-expanded",`${ve}`),ve?(me(),Bt((tt=w.value)==null?void 0:tt.scrollToExpandingNode)):r.filterable&&$e(),n("visibleChange",ve)))},me=()=>{Bt(()=>{var ve;(ve=y.value)==null||ve.updatePopper()})},oe=()=>{I.value=!1},Ve=ve=>{const{showAllLevels:ke,separator:fe}=r;return{node:ve,key:ve.uid,text:ve.calcText(ke,fe),hitState:!1,closable:!$.value&&!ve.isDisabled,isCollapseTag:!1}},Le=ve=>{var ke;const fe=ve.node;fe.doCheck(!1),(ke=w.value)==null||ke.calculateCheckedValue(),n("removeTag",fe.valueByOption)},ze=()=>{if(!Q.value)return;const ve=ie.value,ke=[],fe=[];if(ve.forEach(tt=>fe.push(Ve(tt))),B.value=fe,ve.length){ve.slice(0,r.maxCollapseTags).forEach(Oe=>ke.push(Ve(Oe)));const tt=ve.slice(r.maxCollapseTags),Rt=tt.length;Rt&&(r.collapseTags?ke.push({key:-1,text:`+ ${Rt}`,closable:!1,isCollapseTag:!0}):tt.forEach(Oe=>ke.push(Ve(Oe))))}D.value=ke},De=()=>{var ve,ke;const{filterMethod:fe,showAllLevels:tt,separator:Rt}=r,Oe=(ke=(ve=w.value)==null?void 0:ve.getFlattedNodes(!r.props.checkStrictly))==null?void 0:ke.filter(Tt=>Tt.isDisabled?!1:(Tt.calcText(tt,Rt),fe(Tt,de.value)));Q.value&&(D.value.forEach(Tt=>{Tt.hitState=!1}),B.value.forEach(Tt=>{Tt.hitState=!1})),I.value=!0,z.value=Oe,me()},Fe=()=>{var ve;let ke;I.value&&S.value?ke=S.value.$el.querySelector(`.${l.e("suggestion-item")}`):ke=(ve=w.value)==null?void 0:ve.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),ke&&(ke.focus(),!I.value&&ke.click())},Ge=()=>{var ve,ke;const fe=(ve=v.value)==null?void 0:ve.input,tt=A.value,Rt=(ke=S.value)==null?void 0:ke.$el;if(!(!Sn||!fe)){if(Rt){const Oe=Rt.querySelector(`.${l.e("suggestion-list")}`);Oe.style.minWidth=`${fe.offsetWidth}px`}if(tt){const{offsetHeight:Oe}=tt,Tt=D.value.length>0?`${Math.max(Oe,s)-2}px`:`${s}px`;fe.style.height=Tt,me()}}},ae=ve=>{var ke;return(ke=w.value)==null?void 0:ke.getCheckedNodes(ve)},te=ve=>{me(),n("expandChange",ve)},we=ve=>{if(!m.value)switch(ve.code){case mt.enter:case mt.numpadEnter:Z();break;case mt.down:Z(!0),Bt(Fe),ve.preventDefault();break;case mt.esc:C.value===!0&&(ve.preventDefault(),ve.stopPropagation(),Z(!1));break;case mt.tab:Z(!1);break}},ye=()=>{var ve;(ve=w.value)==null||ve.clearCheckedNodes(),!C.value&&r.filterable&&$e(),Z(!1),n("clear")},$e=()=>{const{value:ve}=ge;T.value=ve,M.value=ve},je=ve=>{var ke,fe;const{checked:tt}=ve;Q.value?(ke=w.value)==null||ke.handleCheckChange(ve,!tt,!1):(!tt&&((fe=w.value)==null||fe.handleCheckChange(ve,!0,!1)),Z(!1))},yt=ve=>{const ke=ve.target,{code:fe}=ve;switch(fe){case mt.up:case mt.down:{const tt=fe===mt.up?-1:1;V0(RM(ke,tt,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case mt.enter:case mt.numpadEnter:ke.click();break}},ut=()=>{const ve=D.value,ke=ve[ve.length-1];i=M.value?0:i+1,!(!ke||!i||r.collapseTags&&ve.length>1)&&(ke.hitState?Le(ke):ke.hitState=!0)},_t=ve=>{const ke=ve.target,fe=l.e("search-input");ke.className===fe&&(k.value=!0),n("focus",ve)},Ft=ve=>{k.value=!1,n("blur",ve)},ht=eo(()=>{const{value:ve}=de;if(!ve)return;const ke=r.beforeFilter(ve);_f(ke)?ke.then(De).catch(()=>{}):ke!==!1?De():oe()},r.debounce),X=(ve,ke)=>{!C.value&&Z(!0),!(ke!=null&&ke.isComposing)&&(ve?ht():oe())},He=ve=>Number.parseFloat(NF(c.cssVarName("input-height"),ve).value)-2;return Qe(I,me),Qe([ie,$,()=>r.collapseTags],ze),Qe(D,()=>{Bt(()=>Ge())}),Qe(U,async()=>{await Bt();const ve=v.value.input;s=He(ve)||s,Ge()}),Qe(ge,$e,{immediate:!0}),Yt(()=>{const ve=v.value.input,ke=He(ve);s=ve.offsetHeight||ke,or(ve,Ge)}),e({getCheckedNodes:ae,cascaderPanelRef:w,togglePopperVisible:Z,contentRef:Ye,presentText:ge}),(ve,ke)=>(N(),Ue(d(Sa),{ref_key:"tooltipRef",ref:y,visible:C.value,teleported:ve.teleported,"popper-class":[d(l).e("dropdown"),ve.popperClass],"popper-options":a,"fallback-placements":ve.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:ve.placement,transition:`${d(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:ve.persistent,onHide:oe},{default:le(()=>[Qt((N(),ee("div",{class:V(d(Ie)),style:bt(d(q)),onClick:()=>Z(d(ne)?void 0:!0),onKeydown:we,onMouseenter:fe=>E.value=!0,onMouseleave:fe=>E.value=!1},[J(d(ka),{ref_key:"input",ref:v,modelValue:T.value,"onUpdate:modelValue":fe=>T.value=fe,placeholder:d(W),readonly:d(ne),disabled:d($),"validate-event":!1,size:d(U),class:V(d(Je)),tabindex:d(Q)&&ve.filterable&&!d($)?-1:void 0,onCompositionstart:d(g),onCompositionupdate:d(g),onCompositionend:d(g),onFocus:_t,onBlur:Ft,onInput:X},{suffix:le(()=>[d(ce)?(N(),Ue(d(Ct),{key:"clear",class:V([d(c).e("icon"),"icon-circle-close"]),onClick:zt(ye,["stop"])},{default:le(()=>[J(d(Ci))]),_:1},8,["class","onClick"])):(N(),Ue(d(Ct),{key:"arrow-down",class:V(d(Re)),onClick:zt(fe=>Z(),["stop"])},{default:le(()=>[J(d(xi))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),d(Q)?(N(),ee("div",{key:0,ref_key:"tagWrapper",ref:A,class:V([d(l).e("tags"),d(l).is("validate",!!d(Ae))])},[(N(!0),ee(Et,null,fn(D.value,fe=>(N(),Ue(d(ju),{key:fe.key,type:ve.tagType,size:d(F),effect:ve.tagEffect,hit:fe.hitState,closable:fe.closable,"disable-transitions":"",onClose:tt=>Le(fe)},{default:le(()=>[fe.isCollapseTag===!1?(N(),ee("span",{key:0},rt(fe.text),1)):(N(),Ue(d(Sa),{key:1,disabled:C.value||!ve.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:le(()=>[re("span",null,rt(fe.text),1)]),content:le(()=>[re("div",{class:V(d(l).e("collapse-tags"))},[(N(!0),ee(Et,null,fn(B.value.slice(ve.maxCollapseTags),(tt,Rt)=>(N(),ee("div",{key:Rt,class:V(d(l).e("collapse-tag"))},[(N(),Ue(d(ju),{key:tt.key,class:"in-tooltip",type:ve.tagType,size:d(F),effect:ve.tagEffect,hit:tt.hitState,closable:tt.closable,"disable-transitions":"",onClose:Oe=>Le(tt)},{default:le(()=>[re("span",null,rt(tt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),ve.filterable&&!d($)?Qt((N(),ee("input",{key:0,"onUpdate:modelValue":fe=>M.value=fe,type:"text",class:V(d(l).e("search-input")),placeholder:d(ge)?"":d(L),onInput:fe=>X(M.value,fe),onClick:zt(fe=>Z(!0),["stop"]),onKeydown:Vn(ut,["delete"]),onCompositionstart:d(g),onCompositionupdate:d(g),onCompositionend:d(g),onFocus:_t,onBlur:Ft},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[cm,M.value]]):Te("v-if",!0)],2)):Te("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[d(gi),()=>Z(!1),d(Ye)]])]),content:le(()=>[Qt(J(d(ET),{ref_key:"cascaderPanelRef",ref:w,modelValue:d(pe),"onUpdate:modelValue":fe=>jn(pe)?pe.value=fe:null,options:ve.options,props:r.props,border:!1,"render-label":ve.$slots.default,onExpandChange:te,onClose:fe=>ve.$nextTick(()=>Z(!1))},{empty:le(()=>[Me(ve.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[En,!I.value]]),ve.filterable?Qt((N(),Ue(d(zs),{key:0,ref_key:"suggestionPanel",ref:S,tag:"ul",class:V(d(l).e("suggestion-panel")),"view-class":d(l).e("suggestion-list"),onKeydown:yt},{default:le(()=>[z.value.length?(N(!0),ee(Et,{key:0},fn(z.value,fe=>(N(),ee("li",{key:fe.uid,class:V([d(l).e("suggestion-item"),d(l).is("checked",fe.checked)]),tabindex:-1,onClick:tt=>je(fe)},[re("span",null,rt(fe.text),1),fe.checked?(N(),Ue(d(Ct),{key:0},{default:le(()=>[J(d(fh))]),_:1})):Te("v-if",!0)],10,["onClick"]))),128)):Me(ve.$slots,"empty",{key:1},()=>[re("li",{class:V(d(l).e("empty-text"))},rt(d(u)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[En,I.value]]):Te("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var hG=st(fG,[["__file","cascader.vue"]]);const pG=qt(hG),mG=at({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),vG={"update:checked":t=>Kn(t),[Fn]:t=>Kn(t)},gG=he({name:"ElCheckTag"}),yG=he({...gG,props:mG,emits:vG,setup(t,{emit:e}){const n=t,r=Ze("check-tag"),a=P(()=>n.disabled),o=P(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",a.value),r.m(n.type||"primary")]),s=()=>{if(a.value)return;const i=!n.checked;e(Fn,i),e("update:checked",i)};return(i,l)=>(N(),ee("span",{class:V(d(o)),onClick:s},[Me(i.$slots,"default")],2))}});var bG=st(yG,[["__file","check-tag.vue"]]);const SG=qt(bG),_G=at({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:xe([Number,Object]),default:()=>fr({})},sm:{type:xe([Number,Object]),default:()=>fr({})},md:{type:xe([Number,Object]),default:()=>fr({})},lg:{type:xe([Number,Object]),default:()=>fr({})},xl:{type:xe([Number,Object]),default:()=>fr({})}}),MT=Symbol("rowContextKey"),wG=he({name:"ElCol"}),xG=he({...wG,props:_G,setup(t){const e=t,{gutter:n}=St(MT,{gutter:P(()=>0)}),r=Ze("col"),a=P(()=>{const s={};return n.value&&(s.paddingLeft=s.paddingRight=`${n.value/2}px`),s}),o=P(()=>{const s=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];Nt(u)&&(c==="span"?s.push(r.b(`${e[c]}`)):u>0&&s.push(r.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{Nt(e[c])?s.push(r.b(`${c}-${e[c]}`)):tn(e[c])&&Object.entries(e[c]).forEach(([u,f])=>{s.push(u!=="span"?r.b(`${c}-${u}-${f}`):r.b(`${c}-${f}`))})}),n.value&&s.push(r.is("guttered")),[r.b(),s]});return(s,i)=>(N(),Ue(ln(s.tag),{class:V(d(o)),style:bt(d(a))},{default:le(()=>[Me(s.$slots,"default")]),_:3},8,["class","style"]))}});var CG=st(xG,[["__file","col.vue"]]);const AG=qt(CG),wx=t=>Nt(t)||Mt(t)||nt(t),EG=at({accordion:Boolean,modelValue:{type:xe([Array,String,Number]),default:()=>fr([])}}),MG={[Jt]:wx,[Fn]:wx},TT=Symbol("collapseContextKey"),TG=(t,e)=>{const n=j(Ia(t.modelValue)),r=o=>{n.value=o;const s=t.accordion?n.value[0]:n.value;e(Jt,s),e(Fn,s)},a=o=>{if(t.accordion)r([n.value[0]===o?"":o]);else{const s=[...n.value],i=s.indexOf(o);i>-1?s.splice(i,1):s.push(o),r(s)}};return Qe(()=>t.modelValue,()=>n.value=Ia(t.modelValue),{deep:!0}),vn(TT,{activeNames:n,handleItemClick:a}),{activeNames:n,setActiveNames:r}},IG=()=>{const t=Ze("collapse");return{rootKls:P(()=>t.b())}},RG=he({name:"ElCollapse"}),kG=he({...RG,props:EG,emits:MG,setup(t,{expose:e,emit:n}){const r=t,{activeNames:a,setActiveNames:o}=TG(r,n),{rootKls:s}=IG();return e({activeNames:a,setActiveNames:o}),(i,l)=>(N(),ee("div",{class:V(d(s))},[Me(i.$slots,"default")],2))}});var DG=st(kG,[["__file","collapse.vue"]]);const PG=he({name:"ElCollapseTransition"}),BG=he({...PG,setup(t){const e=Ze("collapse-transition"),n=a=>{a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom},r={beforeEnter(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.style.height&&(a.dataset.elExistsHeight=a.style.height),a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0},enter(a){requestAnimationFrame(()=>{a.dataset.oldOverflow=a.style.overflow,a.dataset.elExistsHeight?a.style.maxHeight=a.dataset.elExistsHeight:a.scrollHeight!==0?a.style.maxHeight=`${a.scrollHeight}px`:a.style.maxHeight=0,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom,a.style.overflow="hidden"})},afterEnter(a){a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow},enterCancelled(a){n(a)},beforeLeave(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.dataset.oldOverflow=a.style.overflow,a.style.maxHeight=`${a.scrollHeight}px`,a.style.overflow="hidden"},leave(a){a.scrollHeight!==0&&(a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0)},afterLeave(a){n(a)},leaveCancelled(a){n(a)}};return(a,o)=>(N(),Ue(Vr,un({name:d(e).b()},q7(r)),{default:le(()=>[Me(a.$slots,"default")]),_:3},16,["name"]))}});var LG=st(BG,[["__file","collapse-transition.vue"]]);const Mm=qt(LG),NG=at({title:{type:String,default:""},name:{type:xe([String,Number]),default:void 0},icon:{type:On,default:Ha},disabled:Boolean}),FG=t=>{const e=St(TT),{namespace:n}=Ze("collapse"),r=j(!1),a=j(!1),o=a2(),s=P(()=>o.current++),i=P(()=>{var h;return(h=t.name)!=null?h:`${n.value}-id-${o.prefix}-${d(s)}`}),l=P(()=>e==null?void 0:e.activeNames.value.includes(d(i)));return{focusing:r,id:s,isActive:l,handleFocus:()=>{setTimeout(()=>{a.value?a.value=!1:r.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(d(i)),r.value=!1,a.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(d(i))}}},OG=(t,{focusing:e,isActive:n,id:r})=>{const a=Ze("collapse"),o=P(()=>[a.b("item"),a.is("active",d(n)),a.is("disabled",t.disabled)]),s=P(()=>[a.be("item","header"),a.is("active",d(n)),{focusing:d(e)&&!t.disabled}]),i=P(()=>[a.be("item","arrow"),a.is("active",d(n))]),l=P(()=>a.be("item","wrap")),c=P(()=>a.be("item","content")),u=P(()=>a.b(`content-${d(r)}`)),f=P(()=>a.b(`head-${d(r)}`));return{arrowKls:i,headKls:s,rootKls:o,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:f}},zG=he({name:"ElCollapseItem"}),UG=he({...zG,props:NG,setup(t,{expose:e}){const n=t,{focusing:r,id:a,isActive:o,handleFocus:s,handleHeaderClick:i,handleEnterClick:l}=FG(n),{arrowKls:c,headKls:u,rootKls:f,itemWrapperKls:h,itemContentKls:p,scopedContentId:m,scopedHeadId:g}=OG(n,{focusing:r,isActive:o,id:a});return e({isActive:o}),(y,v)=>(N(),ee("div",{class:V(d(f))},[re("button",{id:d(g),class:V(d(u)),"aria-expanded":d(o),"aria-controls":d(m),"aria-describedby":d(m),tabindex:y.disabled?-1:0,type:"button",onClick:d(i),onKeydown:Vn(zt(d(l),["stop","prevent"]),["space","enter"]),onFocus:d(s),onBlur:A=>r.value=!1},[Me(y.$slots,"title",{},()=>[Zt(rt(y.title),1)]),Me(y.$slots,"icon",{isActive:d(o)},()=>[J(d(Ct),{class:V(d(c))},{default:le(()=>[(N(),Ue(ln(y.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),J(d(Mm),null,{default:le(()=>[Qt(re("div",{id:d(m),role:"region",class:V(d(h)),"aria-hidden":!d(o),"aria-labelledby":d(g)},[re("div",{class:V(d(p))},[Me(y.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[En,d(o)]])]),_:3})],2))}});var IT=st(UG,[["__file","collapse-item.vue"]]);const HG=qt(DG,{CollapseItem:IT}),$G=hr(IT),VG=at({color:{type:xe(Object),required:!0},vertical:{type:Boolean,default:!1}});let Vv=!1;function Hf(t,e){if(!Sn)return;const n=function(o){var s;(s=e.drag)==null||s.call(e,o)},r=function(o){var s;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,Vv=!1,(s=e.end)==null||s.call(e,o)},a=function(o){var s;Vv||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),Vv=!0,(s=e.start)==null||s.call(e,o))};t.addEventListener("mousedown",a),t.addEventListener("touchstart",a,{passive:!1})}const WG=(t,e)=>{if(!Sn||!t||!e)return!1;const n=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},xx=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},w1=(t,e)=>Math.abs(xx(t)-xx(e)),_2=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},GG=t=>{const e=nn(),{t:n}=_n(),r=Xn(),a=Xn(),o=P(()=>t.color.get("alpha")),s=P(()=>n("el.colorpicker.alphaLabel"));function i(f){var h;f.target!==r.value&&l(f),(h=r.value)==null||h.focus()}function l(f){if(!a.value||!r.value)return;const p=e.vnode.el.getBoundingClientRect(),{clientX:m,clientY:g}=_2(f);if(t.vertical){let y=g-p.top;y=Math.max(r.value.offsetHeight/2,y),y=Math.min(y,p.height-r.value.offsetHeight/2),t.color.set("alpha",Math.round((y-r.value.offsetHeight/2)/(p.height-r.value.offsetHeight)*100))}else{let y=m-p.left;y=Math.max(r.value.offsetWidth/2,y),y=Math.min(y,p.width-r.value.offsetWidth/2),t.color.set("alpha",Math.round((y-r.value.offsetWidth/2)/(p.width-r.value.offsetWidth)*100))}}function c(f){const{code:h,shiftKey:p}=f,m=p?10:1;switch(h){case mt.left:case mt.down:f.preventDefault(),f.stopPropagation(),u(-m);break;case mt.right:case mt.up:f.preventDefault(),f.stopPropagation(),u(m);break}}function u(f){let h=o.value+f;h=h<0?0:h>100?100:h,t.color.set("alpha",h)}return{thumb:r,bar:a,alpha:o,alphaLabel:s,handleDrag:l,handleClick:i,handleKeydown:c}},KG=(t,{bar:e,thumb:n,handleDrag:r})=>{const a=nn(),o=Ze("color-alpha-slider"),s=j(0),i=j(0),l=j();function c(){if(!n.value||t.vertical)return 0;const A=a.vnode.el,w=t.color.get("alpha");return A?Math.round(w*(A.offsetWidth-n.value.offsetWidth/2)/100):0}function u(){if(!n.value)return 0;const A=a.vnode.el;if(!t.vertical)return 0;const w=t.color.get("alpha");return A?Math.round(w*(A.offsetHeight-n.value.offsetHeight/2)/100):0}function f(){if(t.color&&t.color.value){const{r:A,g:w,b:S}=t.color.toRgb();return`linear-gradient(to right, rgba(${A}, ${w}, ${S}, 0) 0%, rgba(${A}, ${w}, ${S}, 1) 100%)`}return""}function h(){s.value=c(),i.value=u(),l.value=f()}Yt(()=>{if(!e.value||!n.value)return;const A={drag:w=>{r(w)},end:w=>{r(w)}};Hf(e.value,A),Hf(n.value,A),h()}),Qe(()=>t.color.get("alpha"),()=>h()),Qe(()=>t.color.value,()=>h());const p=P(()=>[o.b(),o.is("vertical",t.vertical)]),m=P(()=>o.e("bar")),g=P(()=>o.e("thumb")),y=P(()=>({background:l.value})),v=P(()=>({left:Sr(s.value),top:Sr(i.value)}));return{rootKls:p,barKls:m,barStyle:y,thumbKls:g,thumbStyle:v,update:h}},qG="ElColorAlphaSlider",jG=he({name:qG}),YG=he({...jG,props:VG,setup(t,{expose:e}){const n=t,{alpha:r,alphaLabel:a,bar:o,thumb:s,handleDrag:i,handleClick:l,handleKeydown:c}=GG(n),{rootKls:u,barKls:f,barStyle:h,thumbKls:p,thumbStyle:m,update:g}=KG(n,{bar:o,thumb:s,handleDrag:i});return e({update:g,bar:o,thumb:s}),(y,v)=>(N(),ee("div",{class:V(d(u))},[re("div",{ref_key:"bar",ref:o,class:V(d(f)),style:bt(d(h)),onClick:d(l)},null,14,["onClick"]),re("div",{ref_key:"thumb",ref:s,class:V(d(p)),style:bt(d(m)),"aria-label":d(a),"aria-valuenow":d(r),"aria-orientation":y.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:d(c)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var XG=st(YG,[["__file","alpha-slider.vue"]]);const QG=he({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Ze("color-hue-slider"),n=nn(),r=j(),a=j(),o=j(0),s=j(0),i=P(()=>t.color.get("hue"));Qe(()=>i.value,()=>{h()});function l(p){p.target!==r.value&&c(p)}function c(p){if(!a.value||!r.value)return;const g=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:v}=_2(p);let A;if(t.vertical){let w=v-g.top;w=Math.min(w,g.height-r.value.offsetHeight/2),w=Math.max(r.value.offsetHeight/2,w),A=Math.round((w-r.value.offsetHeight/2)/(g.height-r.value.offsetHeight)*360)}else{let w=y-g.left;w=Math.min(w,g.width-r.value.offsetWidth/2),w=Math.max(r.value.offsetWidth/2,w),A=Math.round((w-r.value.offsetWidth/2)/(g.width-r.value.offsetWidth)*360)}t.color.set("hue",A)}function u(){if(!r.value)return 0;const p=n.vnode.el;if(t.vertical)return 0;const m=t.color.get("hue");return p?Math.round(m*(p.offsetWidth-r.value.offsetWidth/2)/360):0}function f(){if(!r.value)return 0;const p=n.vnode.el;if(!t.vertical)return 0;const m=t.color.get("hue");return p?Math.round(m*(p.offsetHeight-r.value.offsetHeight/2)/360):0}function h(){o.value=u(),s.value=f()}return Yt(()=>{if(!a.value||!r.value)return;const p={drag:m=>{c(m)},end:m=>{c(m)}};Hf(a.value,p),Hf(r.value,p),h()}),{bar:a,thumb:r,thumbLeft:o,thumbTop:s,hueValue:i,handleClick:l,update:h,ns:e}}});function ZG(t,e,n,r,a,o){return N(),ee("div",{class:V([t.ns.b(),t.ns.is("vertical",t.vertical)])},[re("div",{ref:"bar",class:V(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),re("div",{ref:"thumb",class:V(t.ns.e("thumb")),style:bt({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var JG=st(QG,[["render",ZG],["__file","hue-slider.vue"]]);const eK=at({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Or,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Xr.teleported,predefine:{type:xe(Array)},validateEvent:{type:Boolean,default:!0},...ca(["ariaLabel"])}),tK={[Jt]:t=>Mt(t)||qr(t),[Fn]:t=>Mt(t)||qr(t),activeChange:t=>Mt(t)||qr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},RT=Symbol("colorPickerContextKey"),Cx=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},nK=function(t){return Mt(t)&&t.includes(".")&&Number.parseFloat(t)===1},rK=function(t){return Mt(t)&&t.includes("%")},Mu=function(t,e){nK(t)&&(t="100%");const n=rK(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},Ax={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},G0=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${Ax[e]||e}${Ax[n]||n}`},Ex=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${G0(t)}${G0(e)}${G0(n)}`},Wv={A:10,B:11,C:12,D:13,E:14,F:15},Ll=function(t){return t.length===2?(Wv[t[0].toUpperCase()]||+t[0])*16+(Wv[t[1].toUpperCase()]||+t[1]):Wv[t[1].toUpperCase()]||+t[1]},aK=function(t,e,n){e=e/100,n=n/100;let r=e;const a=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,r*=a<=1?a:2-a;const o=(n+e)/2,s=n===0?2*r/(a+r):2*e/(n+e);return{h:t,s:s*100,v:o*100}},Mx=(t,e,n)=>{t=Mu(t,255),e=Mu(e,255),n=Mu(n,255);const r=Math.max(t,e,n),a=Math.min(t,e,n);let o;const s=r,i=r-a,l=r===0?0:i/r;if(r===a)o=0;else{switch(r){case t:{o=(e-n)/i+(e<n?6:0);break}case e:{o=(n-t)/i+2;break}case n:{o=(t-e)/i+4;break}}o/=6}return{h:o*360,s:l*100,v:s*100}},zd=function(t,e,n){t=Mu(t,360)*6,e=Mu(e,100),n=Mu(n,100);const r=Math.floor(t),a=t-r,o=n*(1-e),s=n*(1-a*e),i=n*(1-(1-a)*e),l=r%6,c=[n,s,o,o,i,n][l],u=[i,n,n,s,o,o][l],f=[o,o,i,n,n,s][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(f*255)}};let lf=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)xn(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)xn(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return zd(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,a,o)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,o)=>o>2?Number.parseFloat(a):Number.parseInt(a,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:a,s:o,v:s}=aK(r[0],r[1],r[2]);n(a,o,s)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,o)=>o>2?Number.parseFloat(a):Number.parseInt(a,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,o)=>o>2?Number.parseFloat(a):Number.parseInt(a,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:a,s:o,v:s}=Mx(r[0],r[1],r[2]);n(a,o,s)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let a,o,s;r.length===3?(a=Ll(r[0]+r[0]),o=Ll(r[1]+r[1]),s=Ll(r[2]+r[2])):(r.length===6||r.length===8)&&(a=Ll(r.slice(0,2)),o=Ll(r.slice(2,4)),s=Ll(r.slice(4,6))),r.length===8?this._alpha=Ll(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:i,s:l,v:c}=Mx(a,o,s);n(i,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:a,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const s=Cx(e,n/100,r/100);this.value=`hsla(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${Ex(zd(e,n,r))}${G0(a*255/100)}`;break}default:{const{r:s,g:i,b:l}=zd(e,n,r);this.value=`rgba(${s}, ${i}, ${l}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const s=Cx(e,n/100,r/100);this.value=`hsl(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:s,g:i,b:l}=zd(e,n,r);this.value=`rgb(${s}, ${i}, ${l})`;break}default:this.value=Ex(zd(e,n,r))}}};const oK=he({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=Ze("color-predefine"),{currentColor:n}=St(RT),r=j(o(t.colors,t.color));Qe(()=>n.value,s=>{const i=new lf;i.fromString(s),r.value.forEach(l=>{l.selected=i.compare(l)})}),ga(()=>{r.value=o(t.colors,t.color)});function a(s){t.color.fromString(t.colors[s])}function o(s,i){return s.map(l=>{const c=new lf;return c.enableAlpha=t.enableAlpha,c.format="rgba",c.fromString(l),c.selected=c.value===i.value,c})}return{rgbaColors:r,handleSelect:a,ns:e}}});function sK(t,e,n,r,a,o){return N(),ee("div",{class:V(t.ns.b())},[re("div",{class:V(t.ns.e("colors"))},[(N(!0),ee(Et,null,fn(t.rgbaColors,(s,i)=>(N(),ee("div",{key:t.colors[i],class:V([t.ns.e("color-selector"),t.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:l=>t.handleSelect(i)},[re("div",{style:bt({backgroundColor:s.value})},null,4)],10,["onClick"]))),128))],2)],2)}var iK=st(oK,[["render",sK],["__file","predefine.vue"]]);const lK=he({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Ze("color-svpanel"),n=nn(),r=j(0),a=j(0),o=j("hsl(0, 100%, 50%)"),s=P(()=>{const c=t.color.get("hue"),u=t.color.get("value");return{hue:c,value:u}});function i(){const c=t.color.get("saturation"),u=t.color.get("value"),f=n.vnode.el,{clientWidth:h,clientHeight:p}=f;a.value=c*h/100,r.value=(100-u)*p/100,o.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(c){const f=n.vnode.el.getBoundingClientRect(),{clientX:h,clientY:p}=_2(c);let m=h-f.left,g=p-f.top;m=Math.max(0,m),m=Math.min(m,f.width),g=Math.max(0,g),g=Math.min(g,f.height),a.value=m,r.value=g,t.color.set({saturation:m/f.width*100,value:100-g/f.height*100})}return Qe(()=>s.value,()=>{i()}),Yt(()=>{Hf(n.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),i()}),{cursorTop:r,cursorLeft:a,background:o,colorValue:s,handleDrag:l,update:i,ns:e}}});function cK(t,e,n,r,a,o){return N(),ee("div",{class:V(t.ns.b()),style:bt({backgroundColor:t.background})},[re("div",{class:V(t.ns.e("white"))},null,2),re("div",{class:V(t.ns.e("black"))},null,2),re("div",{class:V(t.ns.e("cursor")),style:bt({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[re("div")],6)],6)}var uK=st(lK,[["render",cK],["__file","sv-panel.vue"]]);const dK=he({name:"ElColorPicker"}),fK=he({...dK,props:eK,emits:tK,setup(t,{expose:e,emit:n}){const r=t,{t:a}=_n(),o=Ze("color"),{formItem:s}=_a(),i=Dr(),l=wa(),{inputId:c,isLabeledByFormItem:u}=Wo(r,{formItemContext:s}),f=j(),h=j(),p=j(),m=j(),g=j(),y=j(),{isFocused:v,handleFocus:A,handleBlur:w}=Al(g,{beforeFocus(){return l.value},beforeBlur(Re){var Je;return(Je=m.value)==null?void 0:Je.isFocusInsideContent(Re)},afterBlur(){$(!1),F()}});let S=!0;const C=Mn(new lf({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),E=j(!1),I=j(!1),k=j(""),T=P(()=>!r.modelValue&&!I.value?"transparent":q(C,r.showAlpha)),M=P(()=>!r.modelValue&&!I.value?"":C.value),D=P(()=>u.value?void 0:r.ariaLabel||a("el.colorpicker.defaultLabel")),B=P(()=>u.value?s==null?void 0:s.labelId:void 0),z=P(()=>[o.b("picker"),o.is("disabled",l.value),o.bm("picker",i.value),o.is("focused",v.value)]);function q(Re,Je){if(!(Re instanceof lf))throw new TypeError("color should be instance of _color Class");const{r:Ye,g:Z,b:me}=Re.toRgb();return Je?`rgba(${Ye}, ${Z}, ${me}, ${Re.get("alpha")/100})`:`rgb(${Ye}, ${Z}, ${me})`}function $(Re){E.value=Re}const L=eo($,100,{leading:!0});function W(){l.value||$(!0)}function U(){L(!1),F()}function F(){Bt(()=>{r.modelValue?C.fromString(r.modelValue):(C.value="",Bt(()=>{I.value=!1}))})}function Q(){l.value||L(!E.value)}function ne(){C.fromString(k.value)}function de(){const Re=C.value;n(Jt,Re),n("change",Re),r.validateEvent&&(s==null||s.validate("change").catch(Je=>void 0)),L(!1),Bt(()=>{const Je=new lf({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});C.compare(Je)||F()})}function ie(){L(!1),n(Jt,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(s==null||s.validate("change").catch(Re=>void 0)),F()}function ce(){E.value&&(U(),v.value&&pe())}function ge(Re){Re.preventDefault(),Re.stopPropagation(),$(!1),F()}function Ae(Re){switch(Re.code){case mt.enter:case mt.numpadEnter:case mt.space:Re.preventDefault(),Re.stopPropagation(),W(),y.value.focus();break;case mt.esc:ge(Re);break}}function pe(){g.value.focus()}function Ie(){g.value.blur()}return Yt(()=>{r.modelValue&&(k.value=M.value)}),Qe(()=>r.modelValue,Re=>{Re?Re&&Re!==C.value&&(S=!1,C.fromString(Re)):I.value=!1}),Qe(()=>[r.colorFormat,r.showAlpha],()=>{C.enableAlpha=r.showAlpha,C.format=r.colorFormat||C.format,C.doOnChange(),n(Jt,C.value)}),Qe(()=>M.value,Re=>{k.value=Re,S&&n("activeChange",Re),S=!0}),Qe(()=>C.value,()=>{!r.modelValue&&!I.value&&(I.value=!0)}),Qe(()=>E.value,()=>{Bt(()=>{var Re,Je,Ye;(Re=f.value)==null||Re.update(),(Je=h.value)==null||Je.update(),(Ye=p.value)==null||Ye.update()})}),vn(RT,{currentColor:M}),e({color:C,show:W,hide:U,focus:pe,blur:Ie}),(Re,Je)=>(N(),Ue(d(Sa),{ref_key:"popper",ref:m,visible:E.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[d(o).be("picker","panel"),d(o).b("dropdown"),Re.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Re.teleported,transition:`${d(o).namespace.value}-zoom-in-top`,persistent:"",onHide:Ye=>$(!1)},{content:le(()=>[Qt((N(),ee("div",{onKeydown:Vn(ge,["esc"])},[re("div",{class:V(d(o).be("dropdown","main-wrapper"))},[J(JG,{ref_key:"hue",ref:f,class:"hue-slider",color:d(C),vertical:""},null,8,["color"]),J(uK,{ref_key:"sv",ref:h,color:d(C)},null,8,["color"])],2),Re.showAlpha?(N(),Ue(XG,{key:0,ref_key:"alpha",ref:p,color:d(C)},null,8,["color"])):Te("v-if",!0),Re.predefine?(N(),Ue(iK,{key:1,ref:"predefine","enable-alpha":Re.showAlpha,color:d(C),colors:Re.predefine},null,8,["enable-alpha","color","colors"])):Te("v-if",!0),re("div",{class:V(d(o).be("dropdown","btns"))},[re("span",{class:V(d(o).be("dropdown","value"))},[J(d(ka),{ref_key:"inputRef",ref:y,modelValue:k.value,"onUpdate:modelValue":Ye=>k.value=Ye,"validate-event":!1,size:"small",onKeyup:Vn(ne,["enter"]),onBlur:ne},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),J(d(Jr),{class:V(d(o).be("dropdown","link-btn")),text:"",size:"small",onClick:ie},{default:le(()=>[Zt(rt(d(a)("el.colorpicker.clear")),1)]),_:1},8,["class"]),J(d(Jr),{plain:"",size:"small",class:V(d(o).be("dropdown","btn")),onClick:de},{default:le(()=>[Zt(rt(d(a)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[d(gi),ce]])]),default:le(()=>[re("div",un({id:d(c),ref_key:"triggerRef",ref:g},Re.$attrs,{class:d(z),role:"button","aria-label":d(D),"aria-labelledby":d(B),"aria-description":d(a)("el.colorpicker.description",{color:Re.modelValue||""}),"aria-disabled":d(l),tabindex:d(l)?-1:Re.tabindex,onKeydown:Ae,onFocus:d(A),onBlur:d(w)}),[d(l)?(N(),ee("div",{key:0,class:V(d(o).be("picker","mask"))},null,2)):Te("v-if",!0),re("div",{class:V(d(o).be("picker","trigger")),onClick:Q},[re("span",{class:V([d(o).be("picker","color"),d(o).is("alpha",Re.showAlpha)])},[re("span",{class:V(d(o).be("picker","color-inner")),style:bt({backgroundColor:d(T)})},[Qt(J(d(Ct),{class:V([d(o).be("picker","icon"),d(o).is("icon-arrow-down")])},{default:le(()=>[J(d(xi))]),_:1},8,["class"]),[[En,Re.modelValue||I.value]]),Qt(J(d(Ct),{class:V([d(o).be("picker","empty"),d(o).is("icon-close")])},{default:le(()=>[J(d(cs))]),_:1},8,["class"]),[[En,!Re.modelValue&&!I.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var hK=st(fK,[["__file","color-picker.vue"]]);const pK=qt(hK),mK=at({a11y:{type:Boolean,default:!0},locale:{type:xe(Object)},size:Or,button:{type:xe(Object)},experimentalFeatures:{type:xe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:xe(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Sd}),Jo={},vK=he({name:"ElConfigProvider",props:mK,setup(t,{slots:e}){Qe(()=>t.message,r=>{Object.assign(Jo,r??{})},{immediate:!0,deep:!0});const n=jb(t);return()=>Me(e,"default",{config:n==null?void 0:n.value})}}),gK=qt(vK),yK=he({name:"ElContainer"}),bK=he({...yK,props:{direction:{type:String}},setup(t){const e=t,n=zr(),r=Ze("container"),a=P(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(s=>{const i=s.type.name;return i==="ElHeader"||i==="ElFooter"}):!1);return(o,s)=>(N(),ee("section",{class:V([d(r).b(),d(r).is("vertical",d(a))])},[Me(o.$slots,"default")],2))}});var SK=st(bK,[["__file","container.vue"]]);const _K=he({name:"ElAside"}),wK=he({..._K,props:{width:{type:String,default:null}},setup(t){const e=t,n=Ze("aside"),r=P(()=>e.width?n.cssVarBlock({width:e.width}):{});return(a,o)=>(N(),ee("aside",{class:V(d(n).b()),style:bt(d(r))},[Me(a.$slots,"default")],6))}});var kT=st(wK,[["__file","aside.vue"]]);const xK=he({name:"ElFooter"}),CK=he({...xK,props:{height:{type:String,default:null}},setup(t){const e=t,n=Ze("footer"),r=P(()=>e.height?n.cssVarBlock({height:e.height}):{});return(a,o)=>(N(),ee("footer",{class:V(d(n).b()),style:bt(d(r))},[Me(a.$slots,"default")],6))}});var DT=st(CK,[["__file","footer.vue"]]);const AK=he({name:"ElHeader"}),EK=he({...AK,props:{height:{type:String,default:null}},setup(t){const e=t,n=Ze("header"),r=P(()=>e.height?n.cssVarBlock({height:e.height}):{});return(a,o)=>(N(),ee("header",{class:V(d(n).b()),style:bt(d(r))},[Me(a.$slots,"default")],6))}});var PT=st(EK,[["__file","header.vue"]]);const MK=he({name:"ElMain"}),TK=he({...MK,setup(t){const e=Ze("main");return(n,r)=>(N(),ee("main",{class:V(d(e).b())},[Me(n.$slots,"default")],2))}});var BT=st(TK,[["__file","main.vue"]]);const IK=qt(SK,{Aside:kT,Footer:DT,Header:PT,Main:BT}),RK=hr(kT),kK=hr(DT),DK=hr(PT),PK=hr(BT);var LT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,o=/\d\d/,s=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,l={},c=function(y){return(y=+y)+(y>68?1900:2e3)},u=function(y){return function(v){this[y]=+v}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var A=v.match(/([+-]|\d\d)/g),w=60*A[1]+(+A[2]||0);return w===0?0:A[0]==="+"?-w:w}(y)}],h=function(y){var v=l[y];return v&&(v.indexOf?v:v.s.concat(v.f))},p=function(y,v){var A,w=l.meridiem;if(w){for(var S=1;S<=24;S+=1)if(y.indexOf(w(S,0,v))>-1){A=S>12;break}}else A=y===(v?"pm":"PM");return A},m={A:[i,function(y){this.afternoon=p(y,!1)}],a:[i,function(y){this.afternoon=p(y,!0)}],Q:[a,function(y){this.month=3*(y-1)+1}],S:[a,function(y){this.milliseconds=100*+y}],SS:[o,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[o,u("day")],Do:[i,function(y){var v=l.ordinal,A=y.match(/\d+/);if(this.day=A[0],v)for(var w=1;w<=31;w+=1)v(w).replace(/\[|\]/g,"")===y&&(this.day=w)}],w:[s,u("week")],ww:[o,u("week")],M:[s,u("month")],MM:[o,u("month")],MMM:[i,function(y){var v=h("months"),A=(h("monthsShort")||v.map(function(w){return w.slice(0,3)})).indexOf(y)+1;if(A<1)throw new Error;this.month=A%12||A}],MMMM:[i,function(y){var v=h("months").indexOf(y)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[o,function(y){this.year=c(y)}],YYYY:[/\d{4}/,u("year")],Z:f,ZZ:f};function g(y){var v,A;v=y,A=l&&l.formats;for(var w=(y=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,D,B){var z=B&&B.toUpperCase();return D||A[B]||n[B]||A[z].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(q,$,L){return $||L.slice(1)})})).match(r),S=w.length,C=0;C<S;C+=1){var E=w[C],I=m[E],k=I&&I[0],T=I&&I[1];w[C]=T?{regex:k,parser:T}:E.replace(/^\[|\]$/g,"")}return function(M){for(var D={},B=0,z=0;B<S;B+=1){var q=w[B];if(typeof q=="string")z+=q.length;else{var $=q.regex,L=q.parser,W=M.slice(z),U=$.exec(W)[0];L.call(D,U),M=M.replace(U,"")}}return function(F){var Q=F.afternoon;if(Q!==void 0){var ne=F.hours;Q?ne<12&&(F.hours+=12):ne===12&&(F.hours=0),delete F.afternoon}}(D),D}}return function(y,v,A){A.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(c=y.parseTwoDigitYear);var w=v.prototype,S=w.parse;w.parse=function(C){var E=C.date,I=C.utc,k=C.args;this.$u=I;var T=k[1];if(typeof T=="string"){var M=k[2]===!0,D=k[3]===!0,B=M||D,z=k[2];D&&(z=k[2]),l=this.$locale(),!M&&z&&(l=A.Ls[z]),this.$d=function(W,U,F,Q){try{if(["x","X"].indexOf(U)>-1)return new Date((U==="X"?1e3:1)*W);var ne=g(U)(W),de=ne.year,ie=ne.month,ce=ne.day,ge=ne.hours,Ae=ne.minutes,pe=ne.seconds,Ie=ne.milliseconds,Re=ne.zone,Je=ne.week,Ye=new Date,Z=ce||(de||ie?1:Ye.getDate()),me=de||Ye.getFullYear(),oe=0;de&&!ie||(oe=ie>0?ie-1:Ye.getMonth());var Ve,Le=ge||0,ze=Ae||0,De=pe||0,Fe=Ie||0;return Re?new Date(Date.UTC(me,oe,Z,Le,ze,De,Fe+60*Re.offset*1e3)):F?new Date(Date.UTC(me,oe,Z,Le,ze,De,Fe)):(Ve=new Date(me,oe,Z,Le,ze,De,Fe),Je&&(Ve=Q(Ve).week(Je).toDate()),Ve)}catch{return new Date("")}}(E,T,I,A),this.init(),z&&z!==!0&&(this.$L=this.locale(z).$L),B&&E!=this.format(T)&&(this.$d=new Date("")),l={}}else if(T instanceof Array)for(var q=T.length,$=1;$<=q;$+=1){k[1]=T[$-1];var L=A.apply(this,k);if(L.isValid()){this.$d=L.$d,this.$L=L.$L,this.init();break}$===q&&(this.$d=new Date(""))}else S.call(this,C)}}})})(LT);var BK=LT.exports;const w2=Hs(BK);var NT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){return function(n,r){var a=r.prototype,o=a.format;a.format=function(s){var i=this,l=this.$locale();if(!this.isValid())return o.bind(this)(s);var c=this.$utils(),u=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return l.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return l.ordinal(i.week(),"W");case"w":case"ww":return c.s(i.week(),f==="w"?1:2,"0");case"W":case"WW":return c.s(i.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return c.s(String(i.$H===0?24:i.$H),f==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return f}});return o.bind(this)(u)}}})})(NT);var LK=NT.exports;const NK=Hs(LK);var FT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){var n="week",r="year";return function(a,o,s){var i=o.prototype;i.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=s(this).startOf(r).add(1,r).date(c),f=s(this).endOf(n);if(u.isBefore(f))return 1}var h=s(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),p=this.diff(h,n,!0);return p<0?s(this).startOf("week").week():Math.ceil(p)},i.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(FT);var FK=FT.exports;const OK=Hs(FK);var OT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){return function(n,r){r.prototype.weekYear=function(){var a=this.month(),o=this.week(),s=this.year();return o===1&&a===11?s+1:a===0&&o>=52?s-1:s}}})})(OT);var zK=OT.exports;const UK=Hs(zK);var zT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){return function(n,r,a){r.prototype.dayOfYear=function(o){var s=Math.round((a(this).startOf("day")-a(this).startOf("year"))/864e5)+1;return o==null?s:this.add(o-s,"day")}}})})(zT);var HK=zT.exports;const $K=Hs(HK);var UT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,o){return this.isSame(a,o)||this.isAfter(a,o)}}})})(UT);var VK=UT.exports;const WK=Hs(VK);var HT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Us,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,o){return this.isSame(a,o)||this.isBefore(a,o)}}})})(HT);var GK=HT.exports;const KK=Hs(GK),Tx=["hours","minutes","seconds"],x1="HH:mm:ss",uu="YYYY-MM-DD",qK={date:uu,dates:uu,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${uu} ${x1}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:uu,datetimerange:`${uu} ${x1}`},$T=at({disabledHours:{type:xe(Function)},disabledMinutes:{type:xe(Function)},disabledSeconds:{type:xe(Function)}}),VT=at({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),x2=at({id:{type:xe([Array,String])},name:{type:xe([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:xe([String,Object]),default:Ci},editable:{type:Boolean,default:!0},prefixIcon:{type:xe([String,Object]),default:""},size:Or,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:xe(Object),default:()=>({})},modelValue:{type:xe([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:xe([Date,Array])},defaultTime:{type:xe([Date,Array])},isRange:Boolean,...$T,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:xe([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:xe(String),values:Ai,default:"bottom"},fallbackPlacements:{type:xe(Array),default:["bottom","top","right","left"]},...Sd,...ca(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),jK=at({id:{type:xe(Array)},name:{type:xe(Array)},modelValue:{type:xe([Array,String])},startPlaceholder:String,endPlaceholder:String}),YK=he({name:"PickerRangeTrigger",inheritAttrs:!1}),XK=he({...YK,props:jK,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:e,emit:n}){const r=hh(),a=Ze("date"),o=Ze("range"),s=j(),i=j(),{wrapperRef:l,isFocused:c}=Al(s),u=S=>{n("click",S)},f=S=>{n("mouseenter",S)},h=S=>{n("mouseleave",S)},p=S=>{n("mouseenter",S)},m=S=>{n("startInput",S)},g=S=>{n("endInput",S)},y=S=>{n("startChange",S)},v=S=>{n("endChange",S)};return e({focus:()=>{var S;(S=s.value)==null||S.focus()},blur:()=>{var S,C;(S=s.value)==null||S.blur(),(C=i.value)==null||C.blur()}}),(S,C)=>(N(),ee("div",{ref_key:"wrapperRef",ref:l,class:V([d(a).is("active",d(c)),S.$attrs.class]),style:bt(S.$attrs.style),onClick:u,onMouseenter:f,onMouseleave:h,onTouchstartPassive:p},[Me(S.$slots,"prefix"),re("input",un(d(r),{id:S.id&&S.id[0],ref_key:"inputRef",ref:s,name:S.name&&S.name[0],placeholder:S.startPlaceholder,value:S.modelValue&&S.modelValue[0],class:d(o).b("input"),onInput:m,onChange:y}),null,16,["id","name","placeholder","value"]),Me(S.$slots,"range-separator"),re("input",un(d(r),{id:S.id&&S.id[1],ref_key:"endInputRef",ref:i,name:S.name&&S.name[1],placeholder:S.endPlaceholder,value:S.modelValue&&S.modelValue[1],class:d(o).b("input"),onInput:g,onChange:v}),null,16,["id","name","placeholder","value"]),Me(S.$slots,"suffix")],38))}});var QK=st(XK,[["__file","picker-range-trigger.vue"]]);const ZK=he({name:"Picker"}),JK=he({...ZK,props:x2,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,a=xl(),{lang:o}=_n(),s=Ze("date"),i=Ze("input"),l=Ze("range"),{form:c,formItem:u}=_a(),f=St("ElPopperOptions",{}),{valueOnClear:h}=ym(r,null),p=j(),m=j(),g=j(!1),y=j(!1),v=j(null);let A=!1;const{isFocused:w,handleFocus:S,handleBlur:C}=Al(m,{beforeFocus(){return r.readonly||F.value},afterFocus(){g.value=!0},beforeBlur(fe){var tt;return!A&&((tt=p.value)==null?void 0:tt.isFocusInsideContent(fe))},afterBlur(){Ge(),g.value=!1,A=!1,r.validateEvent&&(u==null||u.validate("blur").catch(fe=>void 0))}}),E=P(()=>[s.b("editor"),s.bm("editor",r.type),i.e("wrapper"),s.is("disabled",F.value),s.is("active",g.value),l.b("editor"),Le?l.bm("editor",Le.value):"",a.class]),I=P(()=>[i.e("icon"),l.e("close-icon"),Ie.value?"":l.e("close-icon--hidden")]);Qe(g,fe=>{fe?Bt(()=>{fe&&(v.value=r.modelValue)}):(Fe.value=null,Bt(()=>{k(r.modelValue)}))});const k=(fe,tt)=>{(tt||!hx(fe,v.value))&&(n("change",fe),r.validateEvent&&(u==null||u.validate("change").catch(Rt=>void 0)))},T=fe=>{if(!hx(r.modelValue,fe)){let tt;nt(fe)?tt=fe.map(Rt=>mx(Rt,r.valueFormat,o.value)):fe&&(tt=mx(fe,r.valueFormat,o.value)),n("update:modelValue",fe&&tt,o.value)}},M=fe=>{n("keydown",fe)},D=P(()=>m.value?Array.from(m.value.$el.querySelectorAll("input")):[]),B=(fe,tt,Rt)=>{const Oe=D.value;Oe.length&&(!Rt||Rt==="min"?(Oe[0].setSelectionRange(fe,tt),Oe[0].focus()):Rt==="max"&&(Oe[1].setSelectionRange(fe,tt),Oe[1].focus()))},z=(fe="",tt=!1)=>{g.value=tt;let Rt;nt(fe)?Rt=fe.map(Oe=>Oe.toDate()):Rt=fe&&fe.toDate(),Fe.value=null,T(Rt)},q=()=>{y.value=!0},$=()=>{n("visible-change",!0)},L=()=>{y.value=!1,g.value=!1,n("visible-change",!1)},W=()=>{g.value=!0},U=()=>{g.value=!1},F=P(()=>r.disabled||(c==null?void 0:c.disabled)),Q=P(()=>{let fe;if(Je.value?Ft.value.getDefaultValue&&(fe=Ft.value.getDefaultValue()):nt(r.modelValue)?fe=r.modelValue.map(tt=>px(tt,r.valueFormat,o.value)):fe=px(r.modelValue,r.valueFormat,o.value),Ft.value.getRangeAvailableTime){const tt=Ft.value.getRangeAvailableTime(fe);ia(tt,fe)||(fe=tt,Je.value||T(Jh(fe)))}return nt(fe)&&fe.some(tt=>!tt)&&(fe=[]),fe}),ne=P(()=>{if(!Ft.value.panelReady)return"";const fe=te(Q.value);return nt(Fe.value)?[Fe.value[0]||fe&&fe[0]||"",Fe.value[1]||fe&&fe[1]||""]:Fe.value!==null?Fe.value:!ie.value&&Je.value||!g.value&&Je.value?"":fe?ce.value||ge.value||Ae.value?fe.join(", "):fe:""}),de=P(()=>r.type.includes("time")),ie=P(()=>r.type.startsWith("time")),ce=P(()=>r.type==="dates"),ge=P(()=>r.type==="months"),Ae=P(()=>r.type==="years"),pe=P(()=>r.prefixIcon||(de.value?yM:TO)),Ie=j(!1),Re=fe=>{r.readonly||F.value||(Ie.value&&(fe.stopPropagation(),Ft.value.handleClear?Ft.value.handleClear():T(h.value),k(h.value,!0),Ie.value=!1,L()),n("clear"))},Je=P(()=>{const{modelValue:fe}=r;return!fe||nt(fe)&&!fe.filter(Boolean).length}),Ye=async fe=>{var tt;r.readonly||F.value||(((tt=fe.target)==null?void 0:tt.tagName)!=="INPUT"||w.value)&&(g.value=!0)},Z=()=>{r.readonly||F.value||!Je.value&&r.clearable&&(Ie.value=!0)},me=()=>{Ie.value=!1},oe=fe=>{var tt;r.readonly||F.value||(((tt=fe.touches[0].target)==null?void 0:tt.tagName)!=="INPUT"||w.value)&&(g.value=!0)},Ve=P(()=>r.type.includes("range")),Le=Dr(),ze=P(()=>{var fe,tt;return(tt=(fe=d(p))==null?void 0:fe.popperRef)==null?void 0:tt.contentRef}),De=qb(m,fe=>{const tt=d(ze),Rt=za(m);tt&&(fe.target===tt||fe.composedPath().includes(tt))||fe.target===Rt||Rt&&fe.composedPath().includes(Rt)||(g.value=!1)});Un(()=>{De==null||De()});const Fe=j(null),Ge=()=>{if(Fe.value){const fe=ae(ne.value);fe&&we(fe)&&(T(Jh(fe)),Fe.value=null)}Fe.value===""&&(T(h.value),k(h.value),Fe.value=null)},ae=fe=>fe?Ft.value.parseUserInput(fe):null,te=fe=>fe?Ft.value.formatToString(fe):null,we=fe=>Ft.value.isValidValue(fe),ye=async fe=>{if(r.readonly||F.value)return;const{code:tt}=fe;if(M(fe),tt===mt.esc){g.value===!0&&(g.value=!1,fe.preventDefault(),fe.stopPropagation());return}if(tt===mt.down&&(Ft.value.handleFocusPicker&&(fe.preventDefault(),fe.stopPropagation()),g.value===!1&&(g.value=!0,await Bt()),Ft.value.handleFocusPicker)){Ft.value.handleFocusPicker();return}if(tt===mt.tab){A=!0;return}if(tt===mt.enter||tt===mt.numpadEnter){(Fe.value===null||Fe.value===""||we(ae(ne.value)))&&(Ge(),g.value=!1),fe.stopPropagation();return}if(Fe.value){fe.stopPropagation();return}Ft.value.handleKeydownInput&&Ft.value.handleKeydownInput(fe)},$e=fe=>{Fe.value=fe,g.value||(g.value=!0)},je=fe=>{const tt=fe.target;Fe.value?Fe.value=[tt.value,Fe.value[1]]:Fe.value=[tt.value,null]},yt=fe=>{const tt=fe.target;Fe.value?Fe.value=[Fe.value[0],tt.value]:Fe.value=[null,tt.value]},ut=()=>{var fe;const tt=Fe.value,Rt=ae(tt&&tt[0]),Oe=d(Q);if(Rt&&Rt.isValid()){Fe.value=[te(Rt),((fe=ne.value)==null?void 0:fe[1])||null];const Tt=[Rt,Oe&&(Oe[1]||null)];we(Tt)&&(T(Jh(Tt)),Fe.value=null)}},_t=()=>{var fe;const tt=d(Fe),Rt=ae(tt&&tt[1]),Oe=d(Q);if(Rt&&Rt.isValid()){Fe.value=[((fe=d(ne))==null?void 0:fe[0])||null,te(Rt)];const Tt=[Oe&&Oe[0],Rt];we(Tt)&&(T(Jh(Tt)),Fe.value=null)}},Ft=j({}),ht=fe=>{Ft.value[fe[0]]=fe[1],Ft.value.panelReady=!0},X=fe=>{n("calendar-change",fe)},He=(fe,tt,Rt)=>{n("panel-change",fe,tt,Rt)},ve=()=>{var fe;(fe=m.value)==null||fe.focus()},ke=()=>{var fe;(fe=m.value)==null||fe.blur()};return vn("EP_PICKER_BASE",{props:r}),e({focus:ve,blur:ke,handleOpen:W,handleClose:U,onPick:z}),(fe,tt)=>(N(),Ue(d(Sa),un({ref_key:"refPopper",ref:p,visible:g.value,effect:"light",pure:"",trigger:"click"},fe.$attrs,{role:"dialog",teleported:"",transition:`${d(s).namespace.value}-zoom-in-top`,"popper-class":[`${d(s).namespace.value}-picker__popper`,fe.popperClass],"popper-options":d(f),"fallback-placements":fe.fallbackPlacements,"gpu-acceleration":!1,placement:fe.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:q,onShow:$,onHide:L}),{default:le(()=>[d(Ve)?(N(),Ue(QK,{key:1,id:fe.id,ref_key:"inputRef",ref:m,"model-value":d(ne),name:fe.name,disabled:d(F),readonly:!fe.editable||fe.readonly,"start-placeholder":fe.startPlaceholder,"end-placeholder":fe.endPlaceholder,class:V(d(E)),style:bt(fe.$attrs.style),"aria-label":fe.ariaLabel,tabindex:fe.tabindex,autocomplete:"off",role:"combobox",onClick:Ye,onFocus:d(S),onBlur:d(C),onStartInput:je,onStartChange:ut,onEndInput:yt,onEndChange:_t,onMousedown:Ye,onMouseenter:Z,onMouseleave:me,onTouchstartPassive:oe,onKeydown:ye},{prefix:le(()=>[d(pe)?(N(),Ue(d(Ct),{key:0,class:V([d(i).e("icon"),d(l).e("icon")])},{default:le(()=>[(N(),Ue(ln(d(pe))))]),_:1},8,["class"])):Te("v-if",!0)]),"range-separator":le(()=>[Me(fe.$slots,"range-separator",{},()=>[re("span",{class:V(d(l).b("separator"))},rt(fe.rangeSeparator),3)])]),suffix:le(()=>[fe.clearIcon?(N(),Ue(d(Ct),{key:0,class:V(d(I)),onMousedown:zt(d(Dn),["prevent"]),onClick:Re},{default:le(()=>[(N(),Ue(ln(fe.clearIcon)))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(N(),Ue(d(ka),{key:0,id:fe.id,ref_key:"inputRef",ref:m,"container-role":"combobox","model-value":d(ne),name:fe.name,size:d(Le),disabled:d(F),placeholder:fe.placeholder,class:V([d(s).b("editor"),d(s).bm("editor",fe.type),fe.$attrs.class]),style:bt(fe.$attrs.style),readonly:!fe.editable||fe.readonly||d(ce)||d(ge)||d(Ae)||fe.type==="week","aria-label":fe.ariaLabel,tabindex:fe.tabindex,"validate-event":!1,onInput:$e,onFocus:d(S),onBlur:d(C),onKeydown:ye,onChange:Ge,onMousedown:Ye,onMouseenter:Z,onMouseleave:me,onTouchstartPassive:oe,onClick:zt(()=>{},["stop"])},{prefix:le(()=>[d(pe)?(N(),Ue(d(Ct),{key:0,class:V(d(i).e("icon")),onMousedown:zt(Ye,["prevent"]),onTouchstartPassive:oe},{default:le(()=>[(N(),Ue(ln(d(pe))))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),suffix:le(()=>[Ie.value&&fe.clearIcon?(N(),Ue(d(Ct),{key:0,class:V(`${d(i).e("icon")} clear-icon`),onMousedown:zt(d(Dn),["prevent"]),onClick:Re},{default:le(()=>[(N(),Ue(ln(fe.clearIcon)))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:le(()=>[Me(fe.$slots,"default",{visible:g.value,actualVisible:y.value,parsedValue:d(Q),format:fe.format,dateFormat:fe.dateFormat,timeFormat:fe.timeFormat,unlinkPanels:fe.unlinkPanels,type:fe.type,defaultValue:fe.defaultValue,showNow:fe.showNow,onPick:z,onSelectRange:B,onSetPickerOption:ht,onCalendarChange:X,onPanelChange:He,onMousedown:zt(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var WT=st(JK,[["__file","picker.vue"]]);const eq=at({...VT,datetimeRole:String,parsedValue:{type:xe(Object)}}),GT=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(s,i,l,c)=>{const u={hour:t,minute:e,second:n};let f=s;return["hour","minute","second"].forEach(h=>{if(u[h]){let p;const m=u[h];switch(h){case"minute":{p=m(f.hour(),i,c);break}case"second":{p=m(f.hour(),f.minute(),i,c);break}default:{p=m(i,c);break}}if(p!=null&&p.length&&!p.includes(f[h]())){const g=l?0:p.length-1;f=f[h](p[g])}}}),f},a={};return{timePickerOptions:a,getAvailableTime:r,onSetOption:([s,i])=>{a[s]=i}}},Gv=t=>{const e=(r,a)=>r||a,n=r=>r!==!0;return t.map(e).filter(n)},KT=(t,e,n)=>({getHoursList:(s,i)=>Hv(24,t&&(()=>t==null?void 0:t(s,i))),getMinutesList:(s,i,l)=>Hv(60,e&&(()=>e==null?void 0:e(s,i,l))),getSecondsList:(s,i,l,c)=>Hv(60,n&&(()=>n==null?void 0:n(s,i,l,c)))}),qT=(t,e,n)=>{const{getHoursList:r,getMinutesList:a,getSecondsList:o}=KT(t,e,n);return{getAvailableHours:(c,u)=>Gv(r(c,u)),getAvailableMinutes:(c,u,f)=>Gv(a(c,u,f)),getAvailableSeconds:(c,u,f,h)=>Gv(o(c,u,f,h))}},jT=t=>{const e=j(t.parsedValue);return Qe(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},tq=at({role:{type:String,required:!0},spinnerDate:{type:xe(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:xe(String),default:""},...$T}),nq=100,rq=600,xp={beforeMount(t,e){const n=e.value,{interval:r=nq,delay:a=rq}=Pt(n)?{}:n;let o,s;const i=()=>Pt(n)?n():n.handler(),l=()=>{s&&(clearTimeout(s),s=void 0),o&&(clearInterval(o),o=void 0)};t.addEventListener("mousedown",c=>{c.button===0&&(l(),i(),document.addEventListener("mouseup",()=>l(),{once:!0}),s=setTimeout(()=>{o=setInterval(()=>{i()},r)},a))})}},aq=he({__name:"basic-time-spinner",props:tq,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,r=St("EP_PICKER_BASE"),{isRange:a}=r.props,o=Ze("time"),{getHoursList:s,getMinutesList:i,getSecondsList:l}=KT(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let c=!1;const u=j(),f=j(),h=j(),p=j(),m={hours:f,minutes:h,seconds:p},g=P(()=>n.showSeconds?Tx:Tx.slice(0,2)),y=P(()=>{const{spinnerDate:ne}=n,de=ne.hour(),ie=ne.minute(),ce=ne.second();return{hours:de,minutes:ie,seconds:ce}}),v=P(()=>{const{hours:ne,minutes:de}=d(y),{role:ie,spinnerDate:ce}=n,ge=a?void 0:ce;return{hours:s(ie,ge),minutes:i(ne,ie,ge),seconds:l(ne,de,ie,ge)}}),A=P(()=>{const{hours:ne,minutes:de,seconds:ie}=d(y);return{hours:Uv(ne,23),minutes:Uv(de,59),seconds:Uv(ie,59)}}),w=eo(ne=>{c=!1,E(ne)},200),S=ne=>{if(!!!n.amPmMode)return"";const ie=n.amPmMode==="A";let ce=ne<12?" am":" pm";return ie&&(ce=ce.toUpperCase()),ce},C=ne=>{let de;switch(ne){case"hours":de=[0,2];break;case"minutes":de=[3,5];break;case"seconds":de=[6,8];break}const[ie,ce]=de;e("select-range",ie,ce),u.value=ne},E=ne=>{T(ne,d(y)[ne])},I=()=>{E("hours"),E("minutes"),E("seconds")},k=ne=>ne.querySelector(`.${o.namespace.value}-scrollbar__wrap`),T=(ne,de)=>{if(n.arrowControl)return;const ie=d(m[ne]);ie&&ie.$el&&(k(ie.$el).scrollTop=Math.max(0,de*M(ne)))},M=ne=>{const de=d(m[ne]),ie=de==null?void 0:de.$el.querySelector("li");return ie&&Number.parseFloat(ii(ie,"height"))||0},D=()=>{z(1)},B=()=>{z(-1)},z=ne=>{u.value||C("hours");const de=u.value,ie=d(y)[de],ce=u.value==="hours"?24:60,ge=q(de,ie,ne,ce);$(de,ge),T(de,ge),Bt(()=>C(de))},q=(ne,de,ie,ce)=>{let ge=(de+ie+ce)%ce;const Ae=d(v)[ne];for(;Ae[ge]&&ge!==de;)ge=(ge+ie+ce)%ce;return ge},$=(ne,de)=>{if(d(v)[ne][de])return;const{hours:ge,minutes:Ae,seconds:pe}=d(y);let Ie;switch(ne){case"hours":Ie=n.spinnerDate.hour(de).minute(Ae).second(pe);break;case"minutes":Ie=n.spinnerDate.hour(ge).minute(de).second(pe);break;case"seconds":Ie=n.spinnerDate.hour(ge).minute(Ae).second(de);break}e("change",Ie)},L=(ne,{value:de,disabled:ie})=>{ie||($(ne,de),C(ne),T(ne,de))},W=ne=>{const de=d(m[ne]);if(!de)return;c=!0,w(ne);const ie=Math.min(Math.round((k(de.$el).scrollTop-(U(ne)*.5-10)/M(ne)+3)/M(ne)),ne==="hours"?23:59);$(ne,ie)},U=ne=>d(m[ne]).$el.offsetHeight,F=()=>{const ne=de=>{const ie=d(m[de]);ie&&ie.$el&&(k(ie.$el).onscroll=()=>{W(de)})};ne("hours"),ne("minutes"),ne("seconds")};Yt(()=>{Bt(()=>{!n.arrowControl&&F(),I(),n.role==="start"&&C("hours")})});const Q=(ne,de)=>{m[de].value=ne??void 0};return e("set-option",[`${n.role}_scrollDown`,z]),e("set-option",[`${n.role}_emitSelectRange`,C]),Qe(()=>n.spinnerDate,()=>{c||I()}),(ne,de)=>(N(),ee("div",{class:V([d(o).b("spinner"),{"has-seconds":ne.showSeconds}])},[ne.arrowControl?Te("v-if",!0):(N(!0),ee(Et,{key:0},fn(d(g),ie=>(N(),Ue(d(zs),{key:ie,ref_for:!0,ref:ce=>Q(ce,ie),class:V(d(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":d(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:ce=>C(ie),onMousemove:ce=>E(ie)},{default:le(()=>[(N(!0),ee(Et,null,fn(d(v)[ie],(ce,ge)=>(N(),ee("li",{key:ge,class:V([d(o).be("spinner","item"),d(o).is("active",ge===d(y)[ie]),d(o).is("disabled",ce)]),onClick:Ae=>L(ie,{value:ge,disabled:ce})},[ie==="hours"?(N(),ee(Et,{key:0},[Zt(rt(("0"+(ne.amPmMode?ge%12||12:ge)).slice(-2))+rt(S(ge)),1)],64)):(N(),ee(Et,{key:1},[Zt(rt(("0"+ge).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),ne.arrowControl?(N(!0),ee(Et,{key:1},fn(d(g),ie=>(N(),ee("div",{key:ie,class:V([d(o).be("spinner","wrapper"),d(o).is("arrow")]),onMouseenter:ce=>C(ie)},[Qt((N(),Ue(d(Ct),{class:V(["arrow-up",d(o).be("spinner","arrow")])},{default:le(()=>[J(d(Qb))]),_:1},8,["class"])),[[d(xp),B]]),Qt((N(),Ue(d(Ct),{class:V(["arrow-down",d(o).be("spinner","arrow")])},{default:le(()=>[J(d(xi))]),_:1},8,["class"])),[[d(xp),D]]),re("ul",{class:V(d(o).be("spinner","list"))},[(N(!0),ee(Et,null,fn(d(A)[ie],(ce,ge)=>(N(),ee("li",{key:ge,class:V([d(o).be("spinner","item"),d(o).is("active",ce===d(y)[ie]),d(o).is("disabled",d(v)[ie][ce])])},[d(Nt)(ce)?(N(),ee(Et,{key:0},[ie==="hours"?(N(),ee(Et,{key:0},[Zt(rt(("0"+(ne.amPmMode?ce%12||12:ce)).slice(-2))+rt(S(ce)),1)],64)):(N(),ee(Et,{key:1},[Zt(rt(("0"+ce).slice(-2)),1)],64))],64)):Te("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Te("v-if",!0)],2))}});var C1=st(aq,[["__file","basic-time-spinner.vue"]]);const oq=he({__name:"panel-time-pick",props:eq,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=St("EP_PICKER_BASE"),{arrowControl:a,disabledHours:o,disabledMinutes:s,disabledSeconds:i,defaultValue:l}=r.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:f}=qT(o,s,i),h=Ze("time"),{t:p,lang:m}=_n(),g=j([0,2]),y=jT(n),v=P(()=>Bn(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),A=P(()=>n.format.includes("ss")),w=P(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),S=U=>{const F=Wt(U).locale(m.value),Q=q(F);return F.isSame(Q)},C=()=>{e("pick",y.value,!1)},E=(U=!1,F=!1)=>{F||e("pick",n.parsedValue,U)},I=U=>{if(!n.visible)return;const F=q(U).millisecond(0);e("pick",F,!0)},k=(U,F)=>{e("select-range",U,F),g.value=[U,F]},T=U=>{const F=[0,3].concat(A.value?[6]:[]),Q=["hours","minutes"].concat(A.value?["seconds"]:[]),de=(F.indexOf(g.value[0])+U+F.length)%F.length;D.start_emitSelectRange(Q[de])},M=U=>{const F=U.code,{left:Q,right:ne,up:de,down:ie}=mt;if([Q,ne].includes(F)){T(F===Q?-1:1),U.preventDefault();return}if([de,ie].includes(F)){const ce=F===de?-1:1;D.start_scrollDown(ce),U.preventDefault();return}},{timePickerOptions:D,onSetOption:B,getAvailableTime:z}=GT({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:f}),q=U=>z(U,n.datetimeRole||"",!0),$=U=>U?Wt(U,n.format).locale(m.value):null,L=U=>U?U.format(n.format):null,W=()=>Wt(l).locale(m.value);return e("set-picker-option",["isValidValue",S]),e("set-picker-option",["formatToString",L]),e("set-picker-option",["parseUserInput",$]),e("set-picker-option",["handleKeydownInput",M]),e("set-picker-option",["getRangeAvailableTime",q]),e("set-picker-option",["getDefaultValue",W]),(U,F)=>(N(),Ue(Vr,{name:d(v)},{default:le(()=>[U.actualVisible||U.visible?(N(),ee("div",{key:0,class:V(d(h).b("panel"))},[re("div",{class:V([d(h).be("panel","content"),{"has-seconds":d(A)}])},[J(C1,{ref:"spinner",role:U.datetimeRole||"start","arrow-control":d(a),"show-seconds":d(A),"am-pm-mode":d(w),"spinner-date":U.parsedValue,"disabled-hours":d(o),"disabled-minutes":d(s),"disabled-seconds":d(i),onChange:I,onSetOption:d(B),onSelectRange:k},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),re("div",{class:V(d(h).be("panel","footer"))},[re("button",{type:"button",class:V([d(h).be("panel","btn"),"cancel"]),onClick:C},rt(d(p)("el.datepicker.cancel")),3),re("button",{type:"button",class:V([d(h).be("panel","btn"),"confirm"]),onClick:Q=>E()},rt(d(p)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Te("v-if",!0)]),_:1},8,["name"]))}});var Cp=st(oq,[["__file","panel-time-pick.vue"]]);const sq=at({...VT,parsedValue:{type:xe(Array)}}),iq=he({__name:"panel-time-range",props:sq,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=(Ye,Z)=>{const me=[];for(let oe=Ye;oe<=Z;oe++)me.push(oe);return me},{t:a,lang:o}=_n(),s=Ze("time"),i=Ze("picker"),l=St("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:f,disabledSeconds:h,defaultValue:p}=l.props,m=P(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),S.value?"has-seconds":""]),g=P(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),S.value?"has-seconds":""]),y=P(()=>n.parsedValue[0]),v=P(()=>n.parsedValue[1]),A=jT(n),w=()=>{e("pick",A.value,!1)},S=P(()=>n.format.includes("ss")),C=P(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),E=(Ye=!1)=>{e("pick",[y.value,v.value],Ye)},I=Ye=>{M(Ye.millisecond(0),v.value)},k=Ye=>{M(y.value,Ye.millisecond(0))},T=Ye=>{const Z=Ye.map(oe=>Wt(oe).locale(o.value)),me=ne(Z);return Z[0].isSame(me[0])&&Z[1].isSame(me[1])},M=(Ye,Z)=>{n.visible&&e("pick",[Ye,Z],!0)},D=P(()=>y.value>v.value),B=j([0,2]),z=(Ye,Z)=>{e("select-range",Ye,Z,"min"),B.value=[Ye,Z]},q=P(()=>S.value?11:8),$=(Ye,Z)=>{e("select-range",Ye,Z,"max");const me=d(q);B.value=[Ye+me,Z+me]},L=Ye=>{const Z=S.value?[0,3,6,11,14,17]:[0,3,8,11],me=["hours","minutes"].concat(S.value?["seconds"]:[]),Ve=(Z.indexOf(B.value[0])+Ye+Z.length)%Z.length,Le=Z.length/2;Ve<Le?ge.start_emitSelectRange(me[Ve]):ge.end_emitSelectRange(me[Ve-Le])},W=Ye=>{const Z=Ye.code,{left:me,right:oe,up:Ve,down:Le}=mt;if([me,oe].includes(Z)){L(Z===me?-1:1),Ye.preventDefault();return}if([Ve,Le].includes(Z)){const ze=Z===Ve?-1:1,De=B.value[0]<q.value?"start":"end";ge[`${De}_scrollDown`](ze),Ye.preventDefault();return}},U=(Ye,Z)=>{const me=u?u(Ye):[],oe=Ye==="start",Le=(Z||(oe?v.value:y.value)).hour(),ze=oe?r(Le+1,23):r(0,Le-1);return Bv(me,ze)},F=(Ye,Z,me)=>{const oe=f?f(Ye,Z):[],Ve=Z==="start",Le=me||(Ve?v.value:y.value),ze=Le.hour();if(Ye!==ze)return oe;const De=Le.minute(),Fe=Ve?r(De+1,59):r(0,De-1);return Bv(oe,Fe)},Q=(Ye,Z,me,oe)=>{const Ve=h?h(Ye,Z,me):[],Le=me==="start",ze=oe||(Le?v.value:y.value),De=ze.hour(),Fe=ze.minute();if(Ye!==De||Z!==Fe)return Ve;const Ge=ze.second(),ae=Le?r(Ge+1,59):r(0,Ge-1);return Bv(Ve,ae)},ne=([Ye,Z])=>[Ae(Ye,"start",!0,Z),Ae(Z,"end",!1,Ye)],{getAvailableHours:de,getAvailableMinutes:ie,getAvailableSeconds:ce}=qT(U,F,Q),{timePickerOptions:ge,getAvailableTime:Ae,onSetOption:pe}=GT({getAvailableHours:de,getAvailableMinutes:ie,getAvailableSeconds:ce}),Ie=Ye=>Ye?nt(Ye)?Ye.map(Z=>Wt(Z,n.format).locale(o.value)):Wt(Ye,n.format).locale(o.value):null,Re=Ye=>Ye?nt(Ye)?Ye.map(Z=>Z.format(n.format)):Ye.format(n.format):null,Je=()=>{if(nt(p))return p.map(Z=>Wt(Z).locale(o.value));const Ye=Wt(p).locale(o.value);return[Ye,Ye.add(60,"m")]};return e("set-picker-option",["formatToString",Re]),e("set-picker-option",["parseUserInput",Ie]),e("set-picker-option",["isValidValue",T]),e("set-picker-option",["handleKeydownInput",W]),e("set-picker-option",["getDefaultValue",Je]),e("set-picker-option",["getRangeAvailableTime",ne]),(Ye,Z)=>Ye.actualVisible?(N(),ee("div",{key:0,class:V([d(s).b("range-picker"),d(i).b("panel")])},[re("div",{class:V(d(s).be("range-picker","content"))},[re("div",{class:V(d(s).be("range-picker","cell"))},[re("div",{class:V(d(s).be("range-picker","header"))},rt(d(a)("el.datepicker.startTime")),3),re("div",{class:V(d(m))},[J(C1,{ref:"minSpinner",role:"start","show-seconds":d(S),"am-pm-mode":d(C),"arrow-control":d(c),"spinner-date":d(y),"disabled-hours":U,"disabled-minutes":F,"disabled-seconds":Q,onChange:I,onSetOption:d(pe),onSelectRange:z},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),re("div",{class:V(d(s).be("range-picker","cell"))},[re("div",{class:V(d(s).be("range-picker","header"))},rt(d(a)("el.datepicker.endTime")),3),re("div",{class:V(d(g))},[J(C1,{ref:"maxSpinner",role:"end","show-seconds":d(S),"am-pm-mode":d(C),"arrow-control":d(c),"spinner-date":d(v),"disabled-hours":U,"disabled-minutes":F,"disabled-seconds":Q,onChange:k,onSetOption:d(pe),onSelectRange:$},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),re("div",{class:V(d(s).be("panel","footer"))},[re("button",{type:"button",class:V([d(s).be("panel","btn"),"cancel"]),onClick:me=>w()},rt(d(a)("el.datepicker.cancel")),11,["onClick"]),re("button",{type:"button",class:V([d(s).be("panel","btn"),"confirm"]),disabled:d(D),onClick:me=>E()},rt(d(a)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Te("v-if",!0)}});var lq=st(iq,[["__file","panel-time-range.vue"]]);Wt.extend(w2);var cq=he({name:"ElTimePicker",install:null,props:{...x2,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=j(),[r,a]=t.isRange?["timerange",lq]:["time",Cp],o=s=>e.emit("update:modelValue",s);return vn("ElPopperOptions",t.popperOptions),e.expose({focus:()=>{var s;(s=n.value)==null||s.focus()},blur:()=>{var s;(s=n.value)==null||s.blur()},handleOpen:()=>{var s;(s=n.value)==null||s.handleOpen()},handleClose:()=>{var s;(s=n.value)==null||s.handleClose()}}),()=>{var s;const i=(s=t.format)!=null?s:x1;return J(WT,un(t,{ref:n,type:r,format:i,"onUpdate:modelValue":o}),{default:l=>J(a,l,null)})}}});const uq=qt(cq),Tm=Symbol(),dq=at({...x2,type:{type:xe(String),default:"date"}}),fq=["date","dates","year","years","month","months","week","range"],C2=at({disabledDate:{type:xe(Function)},date:{type:xe(Object),required:!0},minDate:{type:xe(Object)},maxDate:{type:xe(Object)},parsedValue:{type:xe([Object,Array])},rangeState:{type:xe(Object),default:()=>({endDate:null,selecting:!1})}}),YT=at({type:{type:xe(String),required:!0,values:kV},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),A2=at({unlinkPanels:Boolean,parsedValue:{type:xe(Array)}}),E2=t=>({type:String,values:fq,default:t}),hq=at({...YT,parsedValue:{type:xe([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Yu=t=>{if(!nt(t))return!1;const[e,n]=t;return Wt.isDayjs(e)&&Wt.isDayjs(n)&&e.isSameOrBefore(n)},M2=(t,{lang:e,unit:n,unlinkPanels:r})=>{let a;if(nt(t)){let[o,s]=t.map(i=>Wt(i).locale(e));return r||(s=o.add(1,n)),[o,s]}else t?a=Wt(t):a=Wt();return a=a.locale(e),[a,a.add(1,n)]},pq=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:a,now:o,unit:s,relativeDateGetter:i,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<t.row;u++){const f=e[u];for(let h=0;h<t.column;h++){let p=f[h+n];p||(p={row:u,column:h,type:"normal",inRange:!1,start:!1,end:!1});const m=u*t.column+h,g=i(m);p.dayjs=g,p.date=g.toDate(),p.timestamp=g.valueOf(),p.type="normal",p.inRange=!!(r&&g.isSameOrAfter(r,s)&&a&&g.isSameOrBefore(a,s))||!!(r&&g.isSameOrBefore(r,s)&&a&&g.isSameOrAfter(a,s)),r!=null&&r.isSameOrAfter(a)?(p.start=!!a&&g.isSame(a,s),p.end=r&&g.isSame(r,s)):(p.start=!!r&&g.isSame(r,s),p.end=!!a&&g.isSame(a,s)),g.isSame(o,s)&&(p.type="today"),l==null||l(p,{rowIndex:u,columnIndex:h}),f[h+n]=p}c==null||c(f)}},Ap=(t,e,n)=>{const r=Wt().locale(n).startOf("month").month(e).year(t),a=r.daysInMonth();return nl(a).map(o=>r.add(o,"day").toDate())},$f=(t,e,n,r)=>{const a=Wt().year(t).month(e).startOf("month"),o=Ap(t,e,n).find(s=>!(r!=null&&r(s)));return o?Wt(o).locale(n):a.locale(n)},A1=(t,e,n)=>{const r=t.year();if(!(n!=null&&n(t.toDate())))return t.locale(e);const a=t.month();if(!Ap(r,a,e).every(n))return $f(r,a,e,n);for(let o=0;o<12;o++)if(!Ap(r,o,e).every(n))return $f(r,o,e,n);return t},mq=at({...C2,cellClassName:{type:xe(Function)},showWeekNumber:Boolean,selectionMode:E2("date")}),vq=["changerange","pick","select"],E1=(t="")=>["normal","today"].includes(t),gq=(t,e)=>{const{lang:n}=_n(),r=j(),a=j(),o=j(),s=j(),i=j([[],[],[],[],[],[]]);let l=!1;const c=t.date.$locale().weekStart||7,u=t.date.locale("en").localeData().weekdaysShort().map(F=>F.toLowerCase()),f=P(()=>c>3?7-c:-c),h=P(()=>{const F=t.date.startOf("month");return F.subtract(F.day()||7,"day")}),p=P(()=>u.concat(u).slice(c,c+7)),m=P(()=>AE(d(S)).some(F=>F.isCurrent)),g=P(()=>{const F=t.date.startOf("month"),Q=F.day()||7,ne=F.daysInMonth(),de=F.subtract(1,"month").daysInMonth();return{startOfMonthDay:Q,dateCountOfMonth:ne,dateCountOfLastMonth:de}}),y=P(()=>t.selectionMode==="dates"?Oa(t.parsedValue):[]),v=(F,{count:Q,rowIndex:ne,columnIndex:de})=>{const{startOfMonthDay:ie,dateCountOfMonth:ce,dateCountOfLastMonth:ge}=d(g),Ae=d(f);if(ne>=0&&ne<=1){const pe=ie+Ae<0?7+ie+Ae:ie+Ae;if(de+ne*7>=pe)return F.text=Q,!0;F.text=ge-(pe-de%7)+1+ne*7,F.type="prev-month"}else return Q<=ce?F.text=Q:(F.text=Q-ce,F.type="next-month"),!0;return!1},A=(F,{columnIndex:Q,rowIndex:ne},de)=>{const{disabledDate:ie,cellClassName:ce}=t,ge=d(y),Ae=v(F,{count:de,rowIndex:ne,columnIndex:Q}),pe=F.dayjs.toDate();return F.selected=ge.find(Ie=>Ie.isSame(F.dayjs,"day")),F.isSelected=!!F.selected,F.isCurrent=E(F),F.disabled=ie==null?void 0:ie(pe),F.customClass=ce==null?void 0:ce(pe),Ae},w=F=>{if(t.selectionMode==="week"){const[Q,ne]=t.showWeekNumber?[1,7]:[0,6],de=U(F[Q+1]);F[Q].inRange=de,F[Q].start=de,F[ne].inRange=de,F[ne].end=de}},S=P(()=>{const{minDate:F,maxDate:Q,rangeState:ne,showWeekNumber:de}=t,ie=d(f),ce=d(i),ge="day";let Ae=1;if(de)for(let pe=0;pe<6;pe++)ce[pe][0]||(ce[pe][0]={type:"week",text:d(h).add(pe*7+1,ge).week()});return pq({row:6,column:7},ce,{startDate:F,columnIndexOffset:de?1:0,nextEndDate:ne.endDate||Q||ne.selecting&&F||null,now:Wt().locale(d(n)).startOf(ge),unit:ge,relativeDateGetter:pe=>d(h).add(pe-ie,ge),setCellMetadata:(...pe)=>{A(...pe,Ae)&&(Ae+=1)},setRowMetadata:w}),ce});Qe(()=>t.date,async()=>{var F;(F=d(r))!=null&&F.contains(document.activeElement)&&(await Bt(),await C())});const C=async()=>{var F;return(F=d(a))==null?void 0:F.focus()},E=F=>t.selectionMode==="date"&&E1(F.type)&&I(F,t.parsedValue),I=(F,Q)=>Q?Wt(Q).locale(d(n)).isSame(t.date.date(Number(F.text)),"day"):!1,k=(F,Q)=>{const ne=F*7+(Q-(t.showWeekNumber?1:0))-d(f);return d(h).add(ne,"day")},T=F=>{var Q;if(!t.rangeState.selecting)return;let ne=F.target;if(ne.tagName==="SPAN"&&(ne=(Q=ne.parentNode)==null?void 0:Q.parentNode),ne.tagName==="DIV"&&(ne=ne.parentNode),ne.tagName!=="TD")return;const de=ne.parentNode.rowIndex-1,ie=ne.cellIndex;d(S)[de][ie].disabled||(de!==d(o)||ie!==d(s))&&(o.value=de,s.value=ie,e("changerange",{selecting:!0,endDate:k(de,ie)}))},M=F=>!d(m)&&(F==null?void 0:F.text)===1&&F.type==="normal"||F.isCurrent,D=F=>{l||d(m)||t.selectionMode!=="date"||W(F,!0)},B=F=>{F.target.closest("td")&&(l=!0)},z=F=>{F.target.closest("td")&&(l=!1)},q=F=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:F,maxDate:null}),e("select",!0)):(F>=t.minDate?e("pick",{minDate:t.minDate,maxDate:F}):e("pick",{minDate:F,maxDate:t.minDate}),e("select",!1))},$=F=>{const Q=F.week(),ne=`${F.year()}w${Q}`;e("pick",{year:F.year(),week:Q,value:ne,date:F.startOf("week")})},L=(F,Q)=>{const ne=Q?Oa(t.parsedValue).filter(de=>(de==null?void 0:de.valueOf())!==F.valueOf()):Oa(t.parsedValue).concat([F]);e("pick",ne)},W=(F,Q=!1)=>{const ne=F.target.closest("td");if(!ne)return;const de=ne.parentNode.rowIndex-1,ie=ne.cellIndex,ce=d(S)[de][ie];if(ce.disabled||ce.type==="week")return;const ge=k(de,ie);switch(t.selectionMode){case"range":{q(ge);break}case"date":{e("pick",ge,Q);break}case"week":{$(ge);break}case"dates":{L(ge,!!ce.selected);break}}},U=F=>{if(t.selectionMode!=="week")return!1;let Q=t.date.startOf("day");if(F.type==="prev-month"&&(Q=Q.subtract(1,"month")),F.type==="next-month"&&(Q=Q.add(1,"month")),Q=Q.date(Number.parseInt(F.text,10)),t.parsedValue&&!nt(t.parsedValue)){const ne=(t.parsedValue.day()-c+7)%7-1;return t.parsedValue.subtract(ne,"day").isSame(Q,"day")}return!1};return{WEEKS:p,rows:S,tbodyRef:r,currentCellRef:a,focus:C,isCurrent:E,isWeekActive:U,isSelectedCell:M,handlePickDate:W,handleMouseUp:z,handleMouseDown:B,handleMouseMove:T,handleFocus:D}},yq=(t,{isCurrent:e,isWeekActive:n})=>{const r=Ze("date-table"),{t:a}=_n(),o=P(()=>[r.b(),{"is-week-mode":t.selectionMode==="week"}]),s=P(()=>a("el.datepicker.dateTablePrompt")),i=P(()=>a("el.datepicker.week"));return{tableKls:o,tableLabel:s,weekLabel:i,getCellClasses:u=>{const f=[];return E1(u.type)&&!u.disabled?(f.push("available"),u.type==="today"&&f.push("today")):f.push(u.type),e(u)&&f.push("current"),u.inRange&&(E1(u.type)||t.selectionMode==="week")&&(f.push("in-range"),u.start&&f.push("start-date"),u.end&&f.push("end-date")),u.disabled&&f.push("disabled"),u.selected&&f.push("selected"),u.customClass&&f.push(u.customClass),f.join(" ")},getRowKls:u=>[r.e("row"),{current:n(u)}],t:a}},bq=at({cell:{type:xe(Object)}});var T2=he({name:"ElDatePickerCell",props:bq,setup(t){const e=Ze("date-table-cell"),{slots:n}=St(Tm);return()=>{const{cell:r}=t;return Me(n,"default",{...r},()=>{var a;return[J("div",{class:e.b()},[J("span",{class:e.e("text")},[(a=r==null?void 0:r.renderText)!=null?a:r==null?void 0:r.text])])]})}}});const Sq=he({__name:"basic-date-table",props:mq,emits:vq,setup(t,{expose:e,emit:n}){const r=t,{WEEKS:a,rows:o,tbodyRef:s,currentCellRef:i,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:f,handlePickDate:h,handleMouseUp:p,handleMouseDown:m,handleMouseMove:g,handleFocus:y}=gq(r,n),{tableLabel:v,tableKls:A,weekLabel:w,getCellClasses:S,getRowKls:C,t:E}=yq(r,{isCurrent:c,isWeekActive:u});return e({focus:l}),(I,k)=>(N(),ee("table",{"aria-label":d(v),class:V(d(A)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:d(h),onMousemove:d(g),onMousedown:zt(d(m),["prevent"]),onMouseup:d(p)},[re("tbody",{ref_key:"tbodyRef",ref:s},[re("tr",null,[I.showWeekNumber?(N(),ee("th",{key:0,scope:"col"},rt(d(w)),1)):Te("v-if",!0),(N(!0),ee(Et,null,fn(d(a),(T,M)=>(N(),ee("th",{key:M,"aria-label":d(E)("el.datepicker.weeksFull."+T),scope:"col"},rt(d(E)("el.datepicker.weeks."+T)),9,["aria-label"]))),128))]),(N(!0),ee(Et,null,fn(d(o),(T,M)=>(N(),ee("tr",{key:M,class:V(d(C)(T[1]))},[(N(!0),ee(Et,null,fn(T,(D,B)=>(N(),ee("td",{key:`${M}.${B}`,ref_for:!0,ref:z=>d(f)(D)&&(i.value=z),class:V(d(S)(D)),"aria-current":D.isCurrent?"date":void 0,"aria-selected":D.isCurrent,tabindex:d(f)(D)?0:-1,onFocus:d(y)},[J(d(T2),{cell:D},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var M1=st(Sq,[["__file","basic-date-table.vue"]]);const _q=at({...C2,selectionMode:E2("month")}),wq=he({__name:"basic-month-table",props:_q,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,a=Ze("month-table"),{t:o,lang:s}=_n(),i=j(),l=j(),c=j(r.date.locale("en").localeData().monthsShort().map(w=>w.toLowerCase())),u=j([[],[],[]]),f=j(),h=j(),p=P(()=>{var w,S;const C=u.value,E=Wt().locale(s.value).startOf("month");for(let I=0;I<3;I++){const k=C[I];for(let T=0;T<4;T++){const M=k[T]||(k[T]={row:I,column:T,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});M.type="normal";const D=I*4+T,B=r.date.startOf("year").month(D),z=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;M.inRange=!!(r.minDate&&B.isSameOrAfter(r.minDate,"month")&&z&&B.isSameOrBefore(z,"month"))||!!(r.minDate&&B.isSameOrBefore(r.minDate,"month")&&z&&B.isSameOrAfter(z,"month")),(w=r.minDate)!=null&&w.isSameOrAfter(z)?(M.start=!!(z&&B.isSame(z,"month")),M.end=r.minDate&&B.isSame(r.minDate,"month")):(M.start=!!(r.minDate&&B.isSame(r.minDate,"month")),M.end=!!(z&&B.isSame(z,"month"))),E.isSame(B)&&(M.type="today"),M.text=D,M.disabled=((S=r.disabledDate)==null?void 0:S.call(r,B.toDate()))||!1}}return C}),m=()=>{var w;(w=l.value)==null||w.focus()},g=w=>{const S={},C=r.date.year(),E=new Date,I=w.text;return S.disabled=r.disabledDate?Ap(C,I,s.value).every(r.disabledDate):!1,S.current=Oa(r.parsedValue).findIndex(k=>Wt.isDayjs(k)&&k.year()===C&&k.month()===I)>=0,S.today=E.getFullYear()===C&&E.getMonth()===I,w.inRange&&(S["in-range"]=!0,w.start&&(S["start-date"]=!0),w.end&&(S["end-date"]=!0)),S},y=w=>{const S=r.date.year(),C=w.text;return Oa(r.date).findIndex(E=>E.year()===S&&E.month()===C)>=0},v=w=>{var S;if(!r.rangeState.selecting)return;let C=w.target;if(C.tagName==="SPAN"&&(C=(S=C.parentNode)==null?void 0:S.parentNode),C.tagName==="DIV"&&(C=C.parentNode),C.tagName!=="TD")return;const E=C.parentNode.rowIndex,I=C.cellIndex;p.value[E][I].disabled||(E!==f.value||I!==h.value)&&(f.value=E,h.value=I,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(E*4+I)}))},A=w=>{var S;const C=(S=w.target)==null?void 0:S.closest("td");if((C==null?void 0:C.tagName)!=="TD"||Ya(C,"disabled"))return;const E=C.cellIndex,k=C.parentNode.rowIndex*4+E,T=r.date.startOf("year").month(k);if(r.selectionMode==="months"){if(w.type==="keydown"){n("pick",Oa(r.parsedValue),!1);return}const M=$f(r.date.year(),k,s.value,r.disabledDate),D=Ya(C,"current")?Oa(r.parsedValue).filter(B=>(B==null?void 0:B.month())!==M.month()):Oa(r.parsedValue).concat([Wt(M)]);n("pick",D)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&T>=r.minDate?n("pick",{minDate:r.minDate,maxDate:T}):n("pick",{minDate:T,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:T,maxDate:null}),n("select",!0)):n("pick",k)};return Qe(()=>r.date,async()=>{var w,S;(w=i.value)!=null&&w.contains(document.activeElement)&&(await Bt(),(S=l.value)==null||S.focus())}),e({focus:m}),(w,S)=>(N(),ee("table",{role:"grid","aria-label":d(o)("el.datepicker.monthTablePrompt"),class:V(d(a).b()),onClick:A,onMousemove:v},[re("tbody",{ref_key:"tbodyRef",ref:i},[(N(!0),ee(Et,null,fn(d(p),(C,E)=>(N(),ee("tr",{key:E},[(N(!0),ee(Et,null,fn(C,(I,k)=>(N(),ee("td",{key:k,ref_for:!0,ref:T=>y(I)&&(l.value=T),class:V(g(I)),"aria-selected":`${y(I)}`,"aria-label":d(o)(`el.datepicker.month${+I.text+1}`),tabindex:y(I)?0:-1,onKeydown:[Vn(zt(A,["prevent","stop"]),["space"]),Vn(zt(A,["prevent","stop"]),["enter"])]},[J(d(T2),{cell:{...I,renderText:d(o)("el.datepicker.months."+c.value[I.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var T1=st(wq,[["__file","basic-month-table.vue"]]);const xq=at({...C2,selectionMode:E2("year")}),Cq=he({__name:"basic-year-table",props:xq,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,a=(S,C)=>{const E=Wt(String(S)).locale(C).startOf("year"),k=E.endOf("year").dayOfYear();return nl(k).map(T=>E.add(T,"day").toDate())},o=Ze("year-table"),{t:s,lang:i}=_n(),l=j(),c=j(),u=P(()=>Math.floor(r.date.year()/10)*10),f=j([[],[],[]]),h=j(),p=j(),m=P(()=>{var S;const C=f.value,E=Wt().locale(i.value).startOf("year");for(let I=0;I<3;I++){const k=C[I];for(let T=0;T<4&&!(I*4+T>=10);T++){let M=k[T];M||(M={row:I,column:T,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),M.type="normal";const D=I*4+T+u.value,B=Wt().year(D),z=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;M.inRange=!!(r.minDate&&B.isSameOrAfter(r.minDate,"year")&&z&&B.isSameOrBefore(z,"year"))||!!(r.minDate&&B.isSameOrBefore(r.minDate,"year")&&z&&B.isSameOrAfter(z,"year")),(S=r.minDate)!=null&&S.isSameOrAfter(z)?(M.start=!!(z&&B.isSame(z,"year")),M.end=!!(r.minDate&&B.isSame(r.minDate,"year"))):(M.start=!!(r.minDate&&B.isSame(r.minDate,"year")),M.end=!!(z&&B.isSame(z,"year"))),E.isSame(B)&&(M.type="today"),M.text=D;const $=B.toDate();M.disabled=r.disabledDate&&r.disabledDate($)||!1,k[T]=M}}return C}),g=()=>{var S;(S=c.value)==null||S.focus()},y=S=>{const C={},E=Wt().locale(i.value),I=S.text;return C.disabled=r.disabledDate?a(I,i.value).every(r.disabledDate):!1,C.today=E.year()===I,C.current=Oa(r.parsedValue).findIndex(k=>k.year()===I)>=0,S.inRange&&(C["in-range"]=!0,S.start&&(C["start-date"]=!0),S.end&&(C["end-date"]=!0)),C},v=S=>{const C=S.text;return Oa(r.date).findIndex(E=>E.year()===C)>=0},A=S=>{var C;const E=(C=S.target)==null?void 0:C.closest("td");if(!E||!E.textContent||Ya(E,"disabled"))return;const I=E.cellIndex,T=E.parentNode.rowIndex*4+I+u.value,M=Wt().year(T);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&M>=r.minDate?n("pick",{minDate:r.minDate,maxDate:M}):n("pick",{minDate:M,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:M,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(S.type==="keydown"){n("pick",Oa(r.parsedValue),!1);return}const D=A1(M.startOf("year"),i.value,r.disabledDate),B=Ya(E,"current")?Oa(r.parsedValue).filter(z=>(z==null?void 0:z.year())!==T):Oa(r.parsedValue).concat([D]);n("pick",B)}else n("pick",T)},w=S=>{var C;if(!r.rangeState.selecting)return;const E=(C=S.target)==null?void 0:C.closest("td");if(!E)return;const I=E.parentNode.rowIndex,k=E.cellIndex;m.value[I][k].disabled||(I!==h.value||k!==p.value)&&(h.value=I,p.value=k,n("changerange",{selecting:!0,endDate:Wt().year(u.value).add(I*4+k,"year")}))};return Qe(()=>r.date,async()=>{var S,C;(S=l.value)!=null&&S.contains(document.activeElement)&&(await Bt(),(C=c.value)==null||C.focus())}),e({focus:g}),(S,C)=>(N(),ee("table",{role:"grid","aria-label":d(s)("el.datepicker.yearTablePrompt"),class:V(d(o).b()),onClick:A,onMousemove:w},[re("tbody",{ref_key:"tbodyRef",ref:l},[(N(!0),ee(Et,null,fn(d(m),(E,I)=>(N(),ee("tr",{key:I},[(N(!0),ee(Et,null,fn(E,(k,T)=>(N(),ee("td",{key:`${I}_${T}`,ref_for:!0,ref:M=>v(k)&&(c.value=M),class:V(["available",y(k)]),"aria-selected":v(k),"aria-label":String(k.text),tabindex:v(k)?0:-1,onKeydown:[Vn(zt(A,["prevent","stop"]),["space"]),Vn(zt(A,["prevent","stop"]),["enter"])]},[J(d(T2),{cell:k},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var I1=st(Cq,[["__file","basic-year-table.vue"]]);const Aq=he({__name:"panel-date-pick",props:hq,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,r=(X,He,ve)=>!0,a=Ze("picker-panel"),o=Ze("date-picker"),s=xl(),i=zr(),{t:l,lang:c}=_n(),u=St("EP_PICKER_BASE"),f=St(Em),{shortcuts:h,disabledDate:p,cellClassName:m,defaultTime:g}=u.props,y=Rn(u.props,"defaultValue"),v=j(),A=j(Wt().locale(c.value)),w=j(!1);let S=!1;const C=P(()=>Wt(g).locale(c.value)),E=P(()=>A.value.month()),I=P(()=>A.value.year()),k=j([]),T=j(null),M=j(null),D=X=>k.value.length>0?r(X,k.value,n.format||"HH:mm:ss"):!0,B=X=>g&&!Ve.value&&!w.value&&!S?C.value.year(X.year()).month(X.month()).date(X.date()):pe.value?X.millisecond(0):X.startOf("day"),z=(X,...He)=>{if(!X)e("pick",X,...He);else if(nt(X)){const ve=X.map(B);e("pick",ve,...He)}else e("pick",B(X),...He);T.value=null,M.value=null,w.value=!1,S=!1},q=async(X,He)=>{if(Q.value==="date"){X=X;let ve=n.parsedValue?n.parsedValue.year(X.year()).month(X.month()).date(X.date()):X;D(ve)||(ve=k.value[0][0].year(X.year()).month(X.month()).date(X.date())),A.value=ve,z(ve,pe.value||He),n.type==="datetime"&&(await Bt(),ut())}else Q.value==="week"?z(X.date):Q.value==="dates"&&z(X,!0)},$=X=>{const He=X?"add":"subtract";A.value=A.value[He](1,"month"),ht("month")},L=X=>{const He=A.value,ve=X?"add":"subtract";A.value=W.value==="year"?He[ve](10,"year"):He[ve](1,"year"),ht("year")},W=j("date"),U=P(()=>{const X=l("el.datepicker.year");if(W.value==="year"){const He=Math.floor(I.value/10)*10;return X?`${He} ${X} - ${He+9} ${X}`:`${He} - ${He+9}`}return`${I.value} ${X}`}),F=X=>{const He=Pt(X.value)?X.value():X.value;if(He){S=!0,z(Wt(He).locale(c.value));return}X.onClick&&X.onClick({attrs:s,slots:i,emit:e})},Q=P(()=>{const{type:X}=n;return["week","month","months","year","years","dates"].includes(X)?X:"date"}),ne=P(()=>Q.value==="dates"||Q.value==="months"||Q.value==="years"),de=P(()=>Q.value==="date"?W.value:Q.value),ie=P(()=>!!h.length),ce=async(X,He)=>{Q.value==="month"?(A.value=$f(A.value.year(),X,c.value,p),z(A.value,!1)):Q.value==="months"?z(X,He??!0):(A.value=$f(A.value.year(),X,c.value,p),W.value="date",["month","year","date","week"].includes(Q.value)&&(z(A.value,!0),await Bt(),ut())),ht("month")},ge=async(X,He)=>{if(Q.value==="year"){const ve=A.value.startOf("year").year(X);A.value=A1(ve,c.value,p),z(A.value,!1)}else if(Q.value==="years")z(X,He??!0);else{const ve=A.value.year(X);A.value=A1(ve,c.value,p),W.value="month",["month","year","date","week"].includes(Q.value)&&(z(A.value,!0),await Bt(),ut())}ht("year")},Ae=async X=>{W.value=X,await Bt(),ut()},pe=P(()=>n.type==="datetime"||n.type==="datetimerange"),Ie=P(()=>{const X=pe.value||Q.value==="dates",He=Q.value==="years",ve=Q.value==="months",ke=W.value==="date",fe=W.value==="year",tt=W.value==="month";return X&&ke||He&&fe||ve&&tt}),Re=P(()=>p?n.parsedValue?nt(n.parsedValue)?p(n.parsedValue[0].toDate()):p(n.parsedValue.toDate()):!0:!1),Je=()=>{if(ne.value)z(n.parsedValue);else{let X=n.parsedValue;if(!X){const He=Wt(g).locale(c.value),ve=yt();X=He.year(ve.year()).month(ve.month()).date(ve.date())}A.value=X,z(X)}},Ye=P(()=>p?p(Wt().locale(c.value).toDate()):!1),Z=()=>{const He=Wt().locale(c.value).toDate();w.value=!0,(!p||!p(He))&&D(He)&&(A.value=Wt().locale(c.value),z(A.value))},me=P(()=>n.timeFormat||iT(n.format)),oe=P(()=>n.dateFormat||sT(n.format)),Ve=P(()=>{if(M.value)return M.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||A.value).format(me.value)}),Le=P(()=>{if(T.value)return T.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||A.value).format(oe.value)}),ze=j(!1),De=()=>{ze.value=!0},Fe=()=>{ze.value=!1},Ge=X=>({hour:X.hour(),minute:X.minute(),second:X.second(),year:X.year(),month:X.month(),date:X.date()}),ae=(X,He,ve)=>{const{hour:ke,minute:fe,second:tt}=Ge(X),Rt=n.parsedValue?n.parsedValue.hour(ke).minute(fe).second(tt):X;A.value=Rt,z(A.value,!0),ve||(ze.value=He)},te=X=>{const He=Wt(X,me.value).locale(c.value);if(He.isValid()&&D(He)){const{year:ve,month:ke,date:fe}=Ge(A.value);A.value=He.year(ve).month(ke).date(fe),M.value=null,ze.value=!1,z(A.value,!0)}},we=X=>{const He=Wt(X,oe.value).locale(c.value);if(He.isValid()){if(p&&p(He.toDate()))return;const{hour:ve,minute:ke,second:fe}=Ge(A.value);A.value=He.hour(ve).minute(ke).second(fe),T.value=null,z(A.value,!0)}},ye=X=>Wt.isDayjs(X)&&X.isValid()&&(p?!p(X.toDate()):!0),$e=X=>nt(X)?X.map(He=>He.format(n.format)):X.format(n.format),je=X=>Wt(X,n.format).locale(c.value),yt=()=>{const X=Wt(y.value).locale(c.value);if(!y.value){const He=C.value;return Wt().hour(He.hour()).minute(He.minute()).second(He.second()).locale(c.value)}return X},ut=async()=>{var X;["week","month","year","date"].includes(Q.value)&&((X=v.value)==null||X.focus(),Q.value==="week"&&Ft(mt.down))},_t=X=>{const{code:He}=X;[mt.up,mt.down,mt.left,mt.right,mt.home,mt.end,mt.pageUp,mt.pageDown].includes(He)&&(Ft(He),X.stopPropagation(),X.preventDefault()),[mt.enter,mt.space,mt.numpadEnter].includes(He)&&T.value===null&&M.value===null&&(X.preventDefault(),z(A.value,!1))},Ft=X=>{var He;const{up:ve,down:ke,left:fe,right:tt,home:Rt,end:Oe,pageUp:Tt,pageDown:ot}=mt,dt={year:{[ve]:-4,[ke]:4,[fe]:-1,[tt]:1,offset:(gt,an)=>gt.setFullYear(gt.getFullYear()+an)},month:{[ve]:-4,[ke]:4,[fe]:-1,[tt]:1,offset:(gt,an)=>gt.setMonth(gt.getMonth()+an)},week:{[ve]:-1,[ke]:1,[fe]:-1,[tt]:1,offset:(gt,an)=>gt.setDate(gt.getDate()+an*7)},date:{[ve]:-7,[ke]:7,[fe]:-1,[tt]:1,[Rt]:gt=>-gt.getDay(),[Oe]:gt=>-gt.getDay()+6,[Tt]:gt=>-new Date(gt.getFullYear(),gt.getMonth(),0).getDate(),[ot]:gt=>new Date(gt.getFullYear(),gt.getMonth()+1,0).getDate(),offset:(gt,an)=>gt.setDate(gt.getDate()+an)}},It=A.value.toDate();for(;Math.abs(A.value.diff(It,"year",!0))<1;){const gt=dt[de.value];if(!gt)return;if(gt.offset(It,Pt(gt[X])?gt[X](It):(He=gt[X])!=null?He:0),p&&p(It))break;const an=Wt(It).locale(c.value);A.value=an,e("pick",an,!0);break}},ht=X=>{e("panel-change",A.value.toDate(),X,W.value)};return Qe(()=>Q.value,X=>{if(["month","year"].includes(X)){W.value=X;return}else if(X==="years"){W.value="year";return}else if(X==="months"){W.value="month";return}W.value="date"},{immediate:!0}),Qe(()=>W.value,()=>{f==null||f.updatePopper()}),Qe(()=>y.value,X=>{X&&(A.value=yt())},{immediate:!0}),Qe(()=>n.parsedValue,X=>{if(X){if(ne.value||nt(X))return;A.value=X}else A.value=yt()},{immediate:!0}),e("set-picker-option",["isValidValue",ye]),e("set-picker-option",["formatToString",$e]),e("set-picker-option",["parseUserInput",je]),e("set-picker-option",["handleFocusPicker",ut]),(X,He)=>(N(),ee("div",{class:V([d(a).b(),d(o).b(),{"has-sidebar":X.$slots.sidebar||d(ie),"has-time":d(pe)}])},[re("div",{class:V(d(a).e("body-wrapper"))},[Me(X.$slots,"sidebar",{class:V(d(a).e("sidebar"))}),d(ie)?(N(),ee("div",{key:0,class:V(d(a).e("sidebar"))},[(N(!0),ee(Et,null,fn(d(h),(ve,ke)=>(N(),ee("button",{key:ke,type:"button",class:V(d(a).e("shortcut")),onClick:fe=>F(ve)},rt(ve.text),11,["onClick"]))),128))],2)):Te("v-if",!0),re("div",{class:V(d(a).e("body"))},[d(pe)?(N(),ee("div",{key:0,class:V(d(o).e("time-header"))},[re("span",{class:V(d(o).e("editor-wrap"))},[J(d(ka),{placeholder:d(l)("el.datepicker.selectDate"),"model-value":d(Le),size:"small","validate-event":!1,onInput:ve=>T.value=ve,onChange:we},null,8,["placeholder","model-value","onInput"])],2),Qt((N(),ee("span",{class:V(d(o).e("editor-wrap"))},[J(d(ka),{placeholder:d(l)("el.datepicker.selectTime"),"model-value":d(Ve),size:"small","validate-event":!1,onFocus:De,onInput:ve=>M.value=ve,onChange:te},null,8,["placeholder","model-value","onInput"]),J(d(Cp),{visible:ze.value,format:d(me),"parsed-value":A.value,onPick:ae},null,8,["visible","format","parsed-value"])],2)),[[d(gi),Fe]])],2)):Te("v-if",!0),Qt(re("div",{class:V([d(o).e("header"),(W.value==="year"||W.value==="month")&&d(o).e("header--bordered")])},[re("span",{class:V(d(o).e("prev-btn"))},[re("button",{type:"button","aria-label":d(l)("el.datepicker.prevYear"),class:V(["d-arrow-left",d(a).e("icon-btn")]),onClick:ve=>L(!1)},[Me(X.$slots,"prev-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(ml))]),_:1})])],10,["aria-label","onClick"]),Qt(re("button",{type:"button","aria-label":d(l)("el.datepicker.prevMonth"),class:V([d(a).e("icon-btn"),"arrow-left"]),onClick:ve=>$(!1)},[Me(X.$slots,"prev-month",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(pl))]),_:1})])],10,["aria-label","onClick"]),[[En,W.value==="date"]])],2),re("span",{role:"button",class:V(d(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Vn(ve=>Ae("year"),["enter"]),onClick:ve=>Ae("year")},rt(d(U)),43,["onKeydown","onClick"]),Qt(re("span",{role:"button","aria-live":"polite",tabindex:"0",class:V([d(o).e("header-label"),{active:W.value==="month"}]),onKeydown:Vn(ve=>Ae("month"),["enter"]),onClick:ve=>Ae("month")},rt(d(l)(`el.datepicker.month${d(E)+1}`)),43,["onKeydown","onClick"]),[[En,W.value==="date"]]),re("span",{class:V(d(o).e("next-btn"))},[Qt(re("button",{type:"button","aria-label":d(l)("el.datepicker.nextMonth"),class:V([d(a).e("icon-btn"),"arrow-right"]),onClick:ve=>$(!0)},[Me(X.$slots,"next-month",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(Ha))]),_:1})])],10,["aria-label","onClick"]),[[En,W.value==="date"]]),re("button",{type:"button","aria-label":d(l)("el.datepicker.nextYear"),class:V([d(a).e("icon-btn"),"d-arrow-right"]),onClick:ve=>L(!0)},[Me(X.$slots,"next-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(vl))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[En,W.value!=="time"]]),re("div",{class:V(d(a).e("content")),onKeydown:_t},[W.value==="date"?(N(),Ue(M1,{key:0,ref_key:"currentViewRef",ref:v,"selection-mode":d(Q),date:A.value,"parsed-value":X.parsedValue,"disabled-date":d(p),"cell-class-name":d(m),onPick:q},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Te("v-if",!0),W.value==="year"?(N(),Ue(I1,{key:1,ref_key:"currentViewRef",ref:v,"selection-mode":d(Q),date:A.value,"disabled-date":d(p),"parsed-value":X.parsedValue,onPick:ge},null,8,["selection-mode","date","disabled-date","parsed-value"])):Te("v-if",!0),W.value==="month"?(N(),Ue(T1,{key:2,ref_key:"currentViewRef",ref:v,"selection-mode":d(Q),date:A.value,"parsed-value":X.parsedValue,"disabled-date":d(p),onPick:ce},null,8,["selection-mode","date","parsed-value","disabled-date"])):Te("v-if",!0)],34)],2)],2),Qt(re("div",{class:V(d(a).e("footer"))},[Qt(J(d(Jr),{text:"",size:"small",class:V(d(a).e("link-btn")),disabled:d(Ye),onClick:Z},{default:le(()=>[Zt(rt(d(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[En,!d(ne)&&X.showNow]]),J(d(Jr),{plain:"",size:"small",class:V(d(a).e("link-btn")),disabled:d(Re),onClick:Je},{default:le(()=>[Zt(rt(d(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[En,d(Ie)]])],2))}});var Eq=st(Aq,[["__file","panel-date-pick.vue"]]);const Mq=at({...YT,...A2,visible:Boolean}),XT=t=>{const{emit:e}=nn(),n=xl(),r=zr();return o=>{const s=Pt(o.value)?o.value():o.value;if(s){e("pick",[Wt(s[0]).locale(t.value),Wt(s[1]).locale(t.value)]);return}o.onClick&&o.onClick({attrs:n,slots:r,emit:e})}},QT=(t,{defaultValue:e,leftDate:n,rightDate:r,unit:a,onParsedValueChanged:o})=>{const{emit:s}=nn(),{pickerNs:i}=St(Tm),l=Ze("date-range-picker"),{t:c,lang:u}=_n(),f=XT(u),h=j(),p=j(),m=j({endDate:null,selecting:!1}),g=S=>{m.value=S},y=(S=!1)=>{const C=d(h),E=d(p);Yu([C,E])&&s("pick",[C,E],S)},v=S=>{m.value.selecting=S,S||(m.value.endDate=null)},A=S=>{if(nt(S)&&S.length===2){const[C,E]=S;h.value=C,n.value=C,p.value=E,o(d(h),d(p))}else w()},w=()=>{const[S,C]=M2(d(e),{lang:d(u),unit:a,unlinkPanels:t.unlinkPanels});h.value=void 0,p.value=void 0,n.value=S,r.value=C};return Qe(e,S=>{S&&w()},{immediate:!0}),Qe(()=>t.parsedValue,A,{immediate:!0}),{minDate:h,maxDate:p,rangeState:m,lang:u,ppNs:i,drpNs:l,handleChangeRange:g,handleRangeConfirm:y,handleShortcutClick:f,onSelect:v,onReset:A,t:c}},e0="month",Tq=he({__name:"panel-date-range",props:Mq,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=St("EP_PICKER_BASE"),{disabledDate:a,cellClassName:o,defaultTime:s,clearable:i}=r.props,l=Rn(r.props,"format"),c=Rn(r.props,"shortcuts"),u=Rn(r.props,"defaultValue"),{lang:f}=_n(),h=j(Wt().locale(f.value)),p=j(Wt().locale(f.value).add(1,e0)),{minDate:m,maxDate:g,rangeState:y,ppNs:v,drpNs:A,handleChangeRange:w,handleRangeConfirm:S,handleShortcutClick:C,onSelect:E,onReset:I,t:k}=QT(n,{defaultValue:u,leftDate:h,rightDate:p,unit:e0,onParsedValueChanged:He});Qe(()=>n.visible,ve=>{!ve&&y.value.selecting&&(I(n.parsedValue),E(!1))});const T=j({min:null,max:null}),M=j({min:null,max:null}),D=P(()=>`${h.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${h.value.month()+1}`)}`),B=P(()=>`${p.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${p.value.month()+1}`)}`),z=P(()=>h.value.year()),q=P(()=>h.value.month()),$=P(()=>p.value.year()),L=P(()=>p.value.month()),W=P(()=>!!c.value.length),U=P(()=>T.value.min!==null?T.value.min:m.value?m.value.format(ie.value):""),F=P(()=>T.value.max!==null?T.value.max:g.value||m.value?(g.value||m.value).format(ie.value):""),Q=P(()=>M.value.min!==null?M.value.min:m.value?m.value.format(de.value):""),ne=P(()=>M.value.max!==null?M.value.max:g.value||m.value?(g.value||m.value).format(de.value):""),de=P(()=>n.timeFormat||iT(l.value)),ie=P(()=>n.dateFormat||sT(l.value)),ce=ve=>Yu(ve)&&(a?!a(ve[0].toDate())&&!a(ve[1].toDate()):!0),ge=()=>{h.value=h.value.subtract(1,"year"),n.unlinkPanels||(p.value=h.value.add(1,"month")),me("year")},Ae=()=>{h.value=h.value.subtract(1,"month"),n.unlinkPanels||(p.value=h.value.add(1,"month")),me("month")},pe=()=>{n.unlinkPanels?p.value=p.value.add(1,"year"):(h.value=h.value.add(1,"year"),p.value=h.value.add(1,"month")),me("year")},Ie=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(h.value=h.value.add(1,"month"),p.value=h.value.add(1,"month")),me("month")},Re=()=>{h.value=h.value.add(1,"year"),me("year")},Je=()=>{h.value=h.value.add(1,"month"),me("month")},Ye=()=>{p.value=p.value.subtract(1,"year"),me("year")},Z=()=>{p.value=p.value.subtract(1,"month"),me("month")},me=ve=>{e("panel-change",[h.value.toDate(),p.value.toDate()],ve)},oe=P(()=>{const ve=(q.value+1)%12,ke=q.value+1>=12?1:0;return n.unlinkPanels&&new Date(z.value+ke,ve)<new Date($.value,L.value)}),Ve=P(()=>n.unlinkPanels&&$.value*12+L.value-(z.value*12+q.value+1)>=12),Le=P(()=>!(m.value&&g.value&&!y.value.selecting&&Yu([m.value,g.value]))),ze=P(()=>n.type==="datetime"||n.type==="datetimerange"),De=(ve,ke)=>{if(ve)return s?Wt(s[ke]||s).locale(f.value).year(ve.year()).month(ve.month()).date(ve.date()):ve},Fe=(ve,ke=!0)=>{const fe=ve.minDate,tt=ve.maxDate,Rt=De(fe,0),Oe=De(tt,1);g.value===Oe&&m.value===Rt||(e("calendar-change",[fe.toDate(),tt&&tt.toDate()]),g.value=Oe,m.value=Rt,!(!ke||ze.value)&&S())},Ge=j(!1),ae=j(!1),te=()=>{Ge.value=!1},we=()=>{ae.value=!1},ye=(ve,ke)=>{T.value[ke]=ve;const fe=Wt(ve,ie.value).locale(f.value);if(fe.isValid()){if(a&&a(fe.toDate()))return;ke==="min"?(h.value=fe,m.value=(m.value||h.value).year(fe.year()).month(fe.month()).date(fe.date()),!n.unlinkPanels&&(!g.value||g.value.isBefore(m.value))&&(p.value=fe.add(1,"month"),g.value=m.value.add(1,"month"))):(p.value=fe,g.value=(g.value||p.value).year(fe.year()).month(fe.month()).date(fe.date()),!n.unlinkPanels&&(!m.value||m.value.isAfter(g.value))&&(h.value=fe.subtract(1,"month"),m.value=g.value.subtract(1,"month")))}},$e=(ve,ke)=>{T.value[ke]=null},je=(ve,ke)=>{M.value[ke]=ve;const fe=Wt(ve,de.value).locale(f.value);fe.isValid()&&(ke==="min"?(Ge.value=!0,m.value=(m.value||h.value).hour(fe.hour()).minute(fe.minute()).second(fe.second())):(ae.value=!0,g.value=(g.value||p.value).hour(fe.hour()).minute(fe.minute()).second(fe.second()),p.value=g.value))},yt=(ve,ke)=>{M.value[ke]=null,ke==="min"?(h.value=m.value,Ge.value=!1,(!g.value||g.value.isBefore(m.value))&&(g.value=m.value)):(p.value=g.value,ae.value=!1,g.value&&g.value.isBefore(m.value)&&(m.value=g.value))},ut=(ve,ke,fe)=>{M.value.min||(ve&&(h.value=ve,m.value=(m.value||h.value).hour(ve.hour()).minute(ve.minute()).second(ve.second())),fe||(Ge.value=ke),(!g.value||g.value.isBefore(m.value))&&(g.value=m.value,p.value=ve))},_t=(ve,ke,fe)=>{M.value.max||(ve&&(p.value=ve,g.value=(g.value||p.value).hour(ve.hour()).minute(ve.minute()).second(ve.second())),fe||(ae.value=ke),g.value&&g.value.isBefore(m.value)&&(m.value=g.value))},Ft=()=>{h.value=M2(d(u),{lang:d(f),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=h.value.add(1,"month"),g.value=void 0,m.value=void 0,e("pick",null)},ht=ve=>nt(ve)?ve.map(ke=>ke.format(l.value)):ve.format(l.value),X=ve=>nt(ve)?ve.map(ke=>Wt(ke,l.value).locale(f.value)):Wt(ve,l.value).locale(f.value);function He(ve,ke){if(n.unlinkPanels&&ke){const fe=(ve==null?void 0:ve.year())||0,tt=(ve==null?void 0:ve.month())||0,Rt=ke.year(),Oe=ke.month();p.value=fe===Rt&&tt===Oe?ke.add(1,e0):ke}else p.value=h.value.add(1,e0),ke&&(p.value=p.value.hour(ke.hour()).minute(ke.minute()).second(ke.second()))}return e("set-picker-option",["isValidValue",ce]),e("set-picker-option",["parseUserInput",X]),e("set-picker-option",["formatToString",ht]),e("set-picker-option",["handleClear",Ft]),(ve,ke)=>(N(),ee("div",{class:V([d(v).b(),d(A).b(),{"has-sidebar":ve.$slots.sidebar||d(W),"has-time":d(ze)}])},[re("div",{class:V(d(v).e("body-wrapper"))},[Me(ve.$slots,"sidebar",{class:V(d(v).e("sidebar"))}),d(W)?(N(),ee("div",{key:0,class:V(d(v).e("sidebar"))},[(N(!0),ee(Et,null,fn(d(c),(fe,tt)=>(N(),ee("button",{key:tt,type:"button",class:V(d(v).e("shortcut")),onClick:Rt=>d(C)(fe)},rt(fe.text),11,["onClick"]))),128))],2)):Te("v-if",!0),re("div",{class:V(d(v).e("body"))},[d(ze)?(N(),ee("div",{key:0,class:V(d(A).e("time-header"))},[re("span",{class:V(d(A).e("editors-wrap"))},[re("span",{class:V(d(A).e("time-picker-wrap"))},[J(d(ka),{size:"small",disabled:d(y).selecting,placeholder:d(k)("el.datepicker.startDate"),class:V(d(A).e("editor")),"model-value":d(U),"validate-event":!1,onInput:fe=>ye(fe,"min"),onChange:fe=>$e(fe,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Qt((N(),ee("span",{class:V(d(A).e("time-picker-wrap"))},[J(d(ka),{size:"small",class:V(d(A).e("editor")),disabled:d(y).selecting,placeholder:d(k)("el.datepicker.startTime"),"model-value":d(Q),"validate-event":!1,onFocus:fe=>Ge.value=!0,onInput:fe=>je(fe,"min"),onChange:fe=>yt(fe,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),J(d(Cp),{visible:Ge.value,format:d(de),"datetime-role":"start","parsed-value":h.value,onPick:ut},null,8,["visible","format","parsed-value"])],2)),[[d(gi),te]])],2),re("span",null,[J(d(Ct),null,{default:le(()=>[J(d(Ha))]),_:1})]),re("span",{class:V([d(A).e("editors-wrap"),"is-right"])},[re("span",{class:V(d(A).e("time-picker-wrap"))},[J(d(ka),{size:"small",class:V(d(A).e("editor")),disabled:d(y).selecting,placeholder:d(k)("el.datepicker.endDate"),"model-value":d(F),readonly:!d(m),"validate-event":!1,onInput:fe=>ye(fe,"max"),onChange:fe=>$e(fe,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Qt((N(),ee("span",{class:V(d(A).e("time-picker-wrap"))},[J(d(ka),{size:"small",class:V(d(A).e("editor")),disabled:d(y).selecting,placeholder:d(k)("el.datepicker.endTime"),"model-value":d(ne),readonly:!d(m),"validate-event":!1,onFocus:fe=>d(m)&&(ae.value=!0),onInput:fe=>je(fe,"max"),onChange:fe=>yt(fe,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),J(d(Cp),{"datetime-role":"end",visible:ae.value,format:d(de),"parsed-value":p.value,onPick:_t},null,8,["visible","format","parsed-value"])],2)),[[d(gi),we]])],2)],2)):Te("v-if",!0),re("div",{class:V([[d(v).e("content"),d(A).e("content")],"is-left"])},[re("div",{class:V(d(A).e("header"))},[re("button",{type:"button",class:V([d(v).e("icon-btn"),"d-arrow-left"]),"aria-label":d(k)("el.datepicker.prevYear"),onClick:ge},[Me(ve.$slots,"prev-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(ml))]),_:1})])],10,["aria-label"]),re("button",{type:"button",class:V([d(v).e("icon-btn"),"arrow-left"]),"aria-label":d(k)("el.datepicker.prevMonth"),onClick:Ae},[Me(ve.$slots,"prev-month",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(pl))]),_:1})])],10,["aria-label"]),ve.unlinkPanels?(N(),ee("button",{key:0,type:"button",disabled:!d(Ve),class:V([[d(v).e("icon-btn"),{"is-disabled":!d(Ve)}],"d-arrow-right"]),"aria-label":d(k)("el.datepicker.nextYear"),onClick:Re},[Me(ve.$slots,"next-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(vl))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),ve.unlinkPanels?(N(),ee("button",{key:1,type:"button",disabled:!d(oe),class:V([[d(v).e("icon-btn"),{"is-disabled":!d(oe)}],"arrow-right"]),"aria-label":d(k)("el.datepicker.nextMonth"),onClick:Je},[Me(ve.$slots,"next-month",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(Ha))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),re("div",null,rt(d(D)),1)],2),J(M1,{"selection-mode":"range",date:h.value,"min-date":d(m),"max-date":d(g),"range-state":d(y),"disabled-date":d(a),"cell-class-name":d(o),onChangerange:d(w),onPick:Fe,onSelect:d(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),re("div",{class:V([[d(v).e("content"),d(A).e("content")],"is-right"])},[re("div",{class:V(d(A).e("header"))},[ve.unlinkPanels?(N(),ee("button",{key:0,type:"button",disabled:!d(Ve),class:V([[d(v).e("icon-btn"),{"is-disabled":!d(Ve)}],"d-arrow-left"]),"aria-label":d(k)("el.datepicker.prevYear"),onClick:Ye},[Me(ve.$slots,"prev-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(ml))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),ve.unlinkPanels?(N(),ee("button",{key:1,type:"button",disabled:!d(oe),class:V([[d(v).e("icon-btn"),{"is-disabled":!d(oe)}],"arrow-left"]),"aria-label":d(k)("el.datepicker.prevMonth"),onClick:Z},[Me(ve.$slots,"prev-month",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(pl))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),re("button",{type:"button","aria-label":d(k)("el.datepicker.nextYear"),class:V([d(v).e("icon-btn"),"d-arrow-right"]),onClick:pe},[Me(ve.$slots,"next-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(vl))]),_:1})])],10,["aria-label"]),re("button",{type:"button",class:V([d(v).e("icon-btn"),"arrow-right"]),"aria-label":d(k)("el.datepicker.nextMonth"),onClick:Ie},[Me(ve.$slots,"next-month",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(Ha))]),_:1})])],10,["aria-label"]),re("div",null,rt(d(B)),1)],2),J(M1,{"selection-mode":"range",date:p.value,"min-date":d(m),"max-date":d(g),"range-state":d(y),"disabled-date":d(a),"cell-class-name":d(o),onChangerange:d(w),onPick:Fe,onSelect:d(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),d(ze)?(N(),ee("div",{key:0,class:V(d(v).e("footer"))},[d(i)?(N(),Ue(d(Jr),{key:0,text:"",size:"small",class:V(d(v).e("link-btn")),onClick:Ft},{default:le(()=>[Zt(rt(d(k)("el.datepicker.clear")),1)]),_:1},8,["class"])):Te("v-if",!0),J(d(Jr),{plain:"",size:"small",class:V(d(v).e("link-btn")),disabled:d(Le),onClick:fe=>d(S)(!1)},{default:le(()=>[Zt(rt(d(k)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Te("v-if",!0)],2))}});var Iq=st(Tq,[["__file","panel-date-range.vue"]]);const Rq=at({...A2}),kq=["pick","set-picker-option","calendar-change"],Dq=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=_n(),a=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},o=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},s=()=>{e.value=e.value.add(1,"year")},i=()=>{n.value=n.value.subtract(1,"year")},l=P(()=>`${e.value.year()} ${r("el.datepicker.year")}`),c=P(()=>`${n.value.year()} ${r("el.datepicker.year")}`),u=P(()=>e.value.year()),f=P(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:a,rightNextYear:o,leftNextYear:s,rightPrevYear:i,leftLabel:l,rightLabel:c,leftYear:u,rightYear:f}},t0="year",Pq=he({name:"DatePickerMonthRange"}),Bq=he({...Pq,props:Rq,emits:kq,setup(t,{emit:e}){const n=t,{lang:r}=_n(),a=St("EP_PICKER_BASE"),{shortcuts:o,disabledDate:s}=a.props,i=Rn(a.props,"format"),l=Rn(a.props,"defaultValue"),c=j(Wt().locale(r.value)),u=j(Wt().locale(r.value).add(1,t0)),{minDate:f,maxDate:h,rangeState:p,ppNs:m,drpNs:g,handleChangeRange:y,handleRangeConfirm:v,handleShortcutClick:A,onSelect:w}=QT(n,{defaultValue:l,leftDate:c,rightDate:u,unit:t0,onParsedValueChanged:U}),S=P(()=>!!o.length),{leftPrevYear:C,rightNextYear:E,leftNextYear:I,rightPrevYear:k,leftLabel:T,rightLabel:M,leftYear:D,rightYear:B}=Dq({unlinkPanels:Rn(n,"unlinkPanels"),leftDate:c,rightDate:u}),z=P(()=>n.unlinkPanels&&B.value>D.value+1),q=(F,Q=!0)=>{const ne=F.minDate,de=F.maxDate;h.value===de&&f.value===ne||(e("calendar-change",[ne.toDate(),de&&de.toDate()]),h.value=de,f.value=ne,Q&&v())},$=()=>{c.value=M2(d(l),{lang:d(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],u.value=c.value.add(1,"year"),e("pick",null)},L=F=>nt(F)?F.map(Q=>Q.format(i.value)):F.format(i.value),W=F=>nt(F)?F.map(Q=>Wt(Q,i.value).locale(r.value)):Wt(F,i.value).locale(r.value);function U(F,Q){if(n.unlinkPanels&&Q){const ne=(F==null?void 0:F.year())||0,de=Q.year();u.value=ne===de?Q.add(1,t0):Q}else u.value=c.value.add(1,t0)}return e("set-picker-option",["isValidValue",Yu]),e("set-picker-option",["formatToString",L]),e("set-picker-option",["parseUserInput",W]),e("set-picker-option",["handleClear",$]),(F,Q)=>(N(),ee("div",{class:V([d(m).b(),d(g).b(),{"has-sidebar":!!F.$slots.sidebar||d(S)}])},[re("div",{class:V(d(m).e("body-wrapper"))},[Me(F.$slots,"sidebar",{class:V(d(m).e("sidebar"))}),d(S)?(N(),ee("div",{key:0,class:V(d(m).e("sidebar"))},[(N(!0),ee(Et,null,fn(d(o),(ne,de)=>(N(),ee("button",{key:de,type:"button",class:V(d(m).e("shortcut")),onClick:ie=>d(A)(ne)},rt(ne.text),11,["onClick"]))),128))],2)):Te("v-if",!0),re("div",{class:V(d(m).e("body"))},[re("div",{class:V([[d(m).e("content"),d(g).e("content")],"is-left"])},[re("div",{class:V(d(g).e("header"))},[re("button",{type:"button",class:V([d(m).e("icon-btn"),"d-arrow-left"]),onClick:d(C)},[Me(F.$slots,"prev-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(ml))]),_:1})])],10,["onClick"]),F.unlinkPanels?(N(),ee("button",{key:0,type:"button",disabled:!d(z),class:V([[d(m).e("icon-btn"),{[d(m).is("disabled")]:!d(z)}],"d-arrow-right"]),onClick:d(I)},[Me(F.$slots,"next-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(vl))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),re("div",null,rt(d(T)),1)],2),J(T1,{"selection-mode":"range",date:c.value,"min-date":d(f),"max-date":d(h),"range-state":d(p),"disabled-date":d(s),onChangerange:d(y),onPick:q,onSelect:d(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),re("div",{class:V([[d(m).e("content"),d(g).e("content")],"is-right"])},[re("div",{class:V(d(g).e("header"))},[F.unlinkPanels?(N(),ee("button",{key:0,type:"button",disabled:!d(z),class:V([[d(m).e("icon-btn"),{"is-disabled":!d(z)}],"d-arrow-left"]),onClick:d(k)},[Me(F.$slots,"prev-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(ml))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),re("button",{type:"button",class:V([d(m).e("icon-btn"),"d-arrow-right"]),onClick:d(E)},[Me(F.$slots,"next-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(vl))]),_:1})])],10,["onClick"]),re("div",null,rt(d(M)),1)],2),J(T1,{"selection-mode":"range",date:u.value,"min-date":d(f),"max-date":d(h),"range-state":d(p),"disabled-date":d(s),onChangerange:d(y),onPick:q,onSelect:d(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Lq=st(Bq,[["__file","panel-month-range.vue"]]);const Nq=at({...A2}),Fq=["pick","set-picker-option","calendar-change"],Oq=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const r=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},a=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},o=()=>{e.value=e.value.add(10,"year")},s=()=>{n.value=n.value.subtract(10,"year")},i=P(()=>{const f=Math.floor(e.value.year()/10)*10;return`${f}-${f+9}`}),l=P(()=>{const f=Math.floor(n.value.year()/10)*10;return`${f}-${f+9}`}),c=P(()=>Math.floor(e.value.year()/10)*10+9),u=P(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:a,leftNextYear:o,rightPrevYear:s,leftLabel:i,rightLabel:l,leftYear:c,rightYear:u}},Ix="year",zq=he({name:"DatePickerYearRange"}),Uq=he({...zq,props:Nq,emits:Fq,setup(t,{emit:e}){const n=t,{lang:r}=_n(),a=j(Wt().locale(r.value)),o=j(a.value.add(10,"year")),{pickerNs:s}=St(Tm),i=Ze("date-range-picker"),l=P(()=>!!q.length),c=P(()=>[s.b(),i.b(),{"has-sidebar":!!zr().sidebar||l.value}]),u=P(()=>({content:[s.e("content"),i.e("content"),"is-left"],arrowLeftBtn:[s.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),{[s.is("disabled")]:!C.value},"d-arrow-right"]})),f=P(()=>({content:[s.e("content"),i.e("content"),"is-right"],arrowLeftBtn:[s.e("icon-btn"),{"is-disabled":!C.value},"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),"d-arrow-right"]})),h=XT(r),{leftPrevYear:p,rightNextYear:m,leftNextYear:g,rightPrevYear:y,leftLabel:v,rightLabel:A,leftYear:w,rightYear:S}=Oq({unlinkPanels:Rn(n,"unlinkPanels"),leftDate:a,rightDate:o}),C=P(()=>n.unlinkPanels&&S.value>w.value+1),E=j(),I=j(),k=j({endDate:null,selecting:!1}),T=ie=>{k.value=ie},M=(ie,ce=!0)=>{const ge=ie.minDate,Ae=ie.maxDate;I.value===Ae&&E.value===ge||(e("calendar-change",[ge.toDate(),Ae&&Ae.toDate()]),I.value=Ae,E.value=ge,ce&&D())},D=(ie=!1)=>{Yu([E.value,I.value])&&e("pick",[E.value,I.value],ie)},B=ie=>{k.value.selecting=ie,ie||(k.value.endDate=null)},z=St("EP_PICKER_BASE"),{shortcuts:q,disabledDate:$}=z.props,L=Rn(z.props,"format"),W=Rn(z.props,"defaultValue"),U=()=>{let ie;if(nt(W.value)){const ce=Wt(W.value[0]);let ge=Wt(W.value[1]);return n.unlinkPanels||(ge=ce.add(10,Ix)),[ce,ge]}else W.value?ie=Wt(W.value):ie=Wt();return ie=ie.locale(r.value),[ie,ie.add(10,Ix)]};Qe(()=>W.value,ie=>{if(ie){const ce=U();a.value=ce[0],o.value=ce[1]}},{immediate:!0}),Qe(()=>n.parsedValue,ie=>{if(ie&&ie.length===2)if(E.value=ie[0],I.value=ie[1],a.value=E.value,n.unlinkPanels&&I.value){const ce=E.value.year(),ge=I.value.year();o.value=ce===ge?I.value.add(10,"year"):I.value}else o.value=a.value.add(10,"year");else{const ce=U();E.value=void 0,I.value=void 0,a.value=ce[0],o.value=ce[1]}},{immediate:!0});const F=ie=>nt(ie)?ie.map(ce=>Wt(ce,L.value).locale(r.value)):Wt(ie,L.value).locale(r.value),Q=ie=>nt(ie)?ie.map(ce=>ce.format(L.value)):ie.format(L.value),ne=ie=>Yu(ie)&&($?!$(ie[0].toDate())&&!$(ie[1].toDate()):!0),de=()=>{const ie=U();a.value=ie[0],o.value=ie[1],I.value=void 0,E.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",ne]),e("set-picker-option",["parseUserInput",F]),e("set-picker-option",["formatToString",Q]),e("set-picker-option",["handleClear",de]),(ie,ce)=>(N(),ee("div",{class:V(d(c))},[re("div",{class:V(d(s).e("body-wrapper"))},[Me(ie.$slots,"sidebar",{class:V(d(s).e("sidebar"))}),d(l)?(N(),ee("div",{key:0,class:V(d(s).e("sidebar"))},[(N(!0),ee(Et,null,fn(d(q),(ge,Ae)=>(N(),ee("button",{key:Ae,type:"button",class:V(d(s).e("shortcut")),onClick:pe=>d(h)(ge)},rt(ge.text),11,["onClick"]))),128))],2)):Te("v-if",!0),re("div",{class:V(d(s).e("body"))},[re("div",{class:V(d(u).content)},[re("div",{class:V(d(i).e("header"))},[re("button",{type:"button",class:V(d(u).arrowLeftBtn),onClick:d(p)},[Me(ie.$slots,"prev-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(ml))]),_:1})])],10,["onClick"]),ie.unlinkPanels?(N(),ee("button",{key:0,type:"button",disabled:!d(C),class:V(d(u).arrowRightBtn),onClick:d(g)},[Me(ie.$slots,"next-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(vl))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),re("div",null,rt(d(v)),1)],2),J(I1,{"selection-mode":"range",date:a.value,"min-date":E.value,"max-date":I.value,"range-state":k.value,"disabled-date":d($),onChangerange:T,onPick:M,onSelect:B},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),re("div",{class:V(d(f).content)},[re("div",{class:V(d(i).e("header"))},[ie.unlinkPanels?(N(),ee("button",{key:0,type:"button",disabled:!d(C),class:V(d(f).arrowLeftBtn),onClick:d(y)},[Me(ie.$slots,"prev-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(ml))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),re("button",{type:"button",class:V(d(f).arrowRightBtn),onClick:d(m)},[Me(ie.$slots,"next-year",{},()=>[J(d(Ct),null,{default:le(()=>[J(d(vl))]),_:1})])],10,["onClick"]),re("div",null,rt(d(A)),1)],2),J(I1,{"selection-mode":"range",date:o.value,"min-date":E.value,"max-date":I.value,"range-state":k.value,"disabled-date":d($),onChangerange:T,onPick:M,onSelect:B},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var Hq=st(Uq,[["__file","panel-year-range.vue"]]);const $q=function(t){switch(t){case"daterange":case"datetimerange":return Iq;case"monthrange":return Lq;case"yearrange":return Hq;default:return Eq}};Wt.extend(cT);Wt.extend(NK);Wt.extend(w2);Wt.extend(OK);Wt.extend(UK);Wt.extend($K);Wt.extend(WK);Wt.extend(KK);var Vq=he({name:"ElDatePicker",install:null,props:dq,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:r}){const a=Ze("picker-panel");vn("ElPopperOptions",Mn(Rn(t,"popperOptions"))),vn(Tm,{slots:r,pickerNs:a});const o=j();e({focus:()=>{var l;(l=o.value)==null||l.focus()},blur:()=>{var l;(l=o.value)==null||l.blur()},handleOpen:()=>{var l;(l=o.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=o.value)==null||l.handleClose()}});const i=l=>{n("update:modelValue",l)};return()=>{var l;const c=(l=t.format)!=null?l:qK[t.type]||uu,u=$q(t.type);return J(WT,un(t,{format:c,type:t.type,ref:o,"onUpdate:modelValue":i}),{default:f=>J(u,f,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const Wq=qt(Vq),I2=Symbol("elDescriptions");var Ud=he({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:St(I2,{})}},render(){var t;const e=tW(this.cell),n=(((t=this.cell)==null?void 0:t.dirs)||[]).map(v=>{const{dir:A,arg:w,modifiers:S,value:C}=v;return[A,C,w,S]}),{border:r,direction:a}=this.descriptions,o=a==="vertical",s=()=>{var v,A,w;return((w=(A=(v=this.cell)==null?void 0:v.children)==null?void 0:A.label)==null?void 0:w.call(A))||e.label},i=()=>{var v,A,w;return(w=(A=(v=this.cell)==null?void 0:v.children)==null?void 0:A.default)==null?void 0:w.call(A)},l=e.span,c=e.rowspan,u=e.align?`is-${e.align}`:"",f=e.labelAlign?`is-${e.labelAlign}`:u,h=e.className,p=e.labelClassName,m=this.type==="label"&&(e.labelWidth||this.descriptions.labelWidth)||e.width,g={width:Sr(m),minWidth:Sr(e.minWidth)},y=Ze("descriptions");switch(this.type){case"label":return Qt(Lt(this.tag,{style:g,class:[y.e("cell"),y.e("label"),y.is("bordered-label",r),y.is("vertical-label",o),f,p],colSpan:o?l:1,rowspan:o?1:c},s()),n);case"content":return Qt(Lt(this.tag,{style:g,class:[y.e("cell"),y.e("content"),y.is("bordered-content",r),y.is("vertical-content",o),u,h],colSpan:o?l:l*2-1,rowspan:o?c*2-1:c},i()),n);default:{const v=s();return Qt(Lt("td",{style:g,class:[y.e("cell"),u],colSpan:l,rowspan:c},[qr(v)?void 0:Lt("span",{class:[y.e("label"),p]},v),Lt("span",{class:[y.e("content"),h]},i())]),n)}}}});const Gq=at({row:{type:xe(Array),default:()=>[]}}),Kq=he({name:"ElDescriptionsRow"}),qq=he({...Kq,props:Gq,setup(t){const e=St(I2,{});return(n,r)=>d(e).direction==="vertical"?(N(),ee(Et,{key:0},[re("tr",null,[(N(!0),ee(Et,null,fn(n.row,(a,o)=>(N(),Ue(d(Ud),{key:`tr1-${o}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),re("tr",null,[(N(!0),ee(Et,null,fn(n.row,(a,o)=>(N(),Ue(d(Ud),{key:`tr2-${o}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(N(),ee("tr",{key:1},[(N(!0),ee(Et,null,fn(n.row,(a,o)=>(N(),ee(Et,{key:`tr3-${o}`},[d(e).border?(N(),ee(Et,{key:0},[J(d(Ud),{cell:a,tag:"td",type:"label"},null,8,["cell"]),J(d(Ud),{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(N(),Ue(d(Ud),{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var jq=st(qq,[["__file","descriptions-row.vue"]]);const Yq=at({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Or,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),Xq=he({name:"ElDescriptions"}),Qq=he({...Xq,props:Yq,setup(t){const e=t,n=Ze("descriptions"),r=Dr(),a=zr();vn(I2,e);const o=P(()=>[n.b(),n.m(r.value)]),s=(l,c,u,f=!1)=>(l.props||(l.props={}),c>u&&(l.props.span=u),f&&(l.props.span=c),l),i=()=>{if(!a.default)return[];const l=rl(a.default()).filter(m=>{var g;return((g=m==null?void 0:m.type)==null?void 0:g.name)==="ElDescriptionsItem"}),c=[];let u=[],f=e.column,h=0;const p=[];return l.forEach((m,g)=>{var y,v,A;const w=((y=m.props)==null?void 0:y.span)||1,S=((v=m.props)==null?void 0:v.rowspan)||1,C=c.length;if(p[C]||(p[C]=0),S>1)for(let E=1;E<S;E++)p[A=C+E]||(p[A]=0),p[C+E]++,h++;if(p[C]>0&&(f-=p[C],p[C]=0),g<l.length-1&&(h+=w>f?f:w),g===l.length-1){const E=e.column-h%e.column;u.push(s(m,E,f,!0)),c.push(u);return}w<f?(f-=w,u.push(m)):(u.push(s(m,w,f)),c.push(u),f=e.column,u=[])}),c};return(l,c)=>(N(),ee("div",{class:V(d(o))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(N(),ee("div",{key:0,class:V(d(n).e("header"))},[re("div",{class:V(d(n).e("title"))},[Me(l.$slots,"title",{},()=>[Zt(rt(l.title),1)])],2),re("div",{class:V(d(n).e("extra"))},[Me(l.$slots,"extra",{},()=>[Zt(rt(l.extra),1)])],2)],2)):Te("v-if",!0),re("div",{class:V(d(n).e("body"))},[re("table",{class:V([d(n).e("table"),d(n).is("bordered",l.border)])},[re("tbody",null,[(N(!0),ee(Et,null,fn(i(),(u,f)=>(N(),Ue(jq,{key:f,row:u},null,8,["row"]))),128))])],2)],2)],2))}});var Zq=st(Qq,[["__file","description.vue"]]);const Jq=at({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),ZT=he({name:"ElDescriptionsItem",props:Jq}),ej=qt(Zq,{DescriptionsItem:ZT}),tj=hr(ZT),R2=t=>{if(!t)return{onClick:Dn,onMousedown:Dn,onMouseup:Dn};let e=!1,n=!1;return{onClick:s=>{e&&n&&t(s),e=n=!1},onMousedown:s=>{e=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},nj=at({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:xe([String,Array,Object])},zIndex:{type:xe([String,Number])}}),rj={click:t=>t instanceof MouseEvent},aj="overlay";var oj=he({name:"ElOverlay",props:nj,emits:rj,setup(t,{slots:e,emit:n}){const r=Ze(aj),a=l=>{n("click",l)},{onClick:o,onMousedown:s,onMouseup:i}=R2(t.customMaskEvent?void 0:a);return()=>t.mask?J("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:o,onMousedown:s,onMouseup:i},[Me(e,"default")],Mo.STYLE|Mo.CLASS|Mo.PROPS,["onClick","onMouseup","onMousedown"]):Lt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Me(e,"default")])}});const k2=oj,JT=Symbol("dialogInjectionKey"),e5=at({center:Boolean,alignCenter:Boolean,closeIcon:{type:On},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),sj={close:()=>!0},t5=(t,e,n,r)=>{let a={offsetX:0,offsetY:0};const o=c=>{const u=c.clientX,f=c.clientY,{offsetX:h,offsetY:p}=a,m=t.value.getBoundingClientRect(),g=m.left,y=m.top,v=m.width,A=m.height,w=document.documentElement.clientWidth,S=document.documentElement.clientHeight,C=-g+h,E=-y+p,I=w-g-v+h,k=S-y-A+p,T=D=>{let B=h+D.clientX-u,z=p+D.clientY-f;r!=null&&r.value||(B=Math.min(Math.max(B,C),I),z=Math.min(Math.max(z,E),k)),a={offsetX:B,offsetY:z},t.value&&(t.value.style.transform=`translate(${Sr(B)}, ${Sr(z)})`)},M=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",M)},s=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",o)},i=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",o)},l=()=>{a={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return Yt(()=>{ga(()=>{n.value?s():i()})}),Un(()=>{i()}),{resetPosition:l}},Im=(...t)=>e=>{t.forEach(n=>{Pt(n)?n(e):n.value=e})},ij=he({name:"ElDialogContent"}),lj=he({...ij,props:e5,emits:sj,setup(t,{expose:e}){const n=t,{t:r}=_n(),{Close:a}=t2,{dialogRef:o,headerRef:s,bodyId:i,ns:l,style:c}=St(JT),{focusTrapRef:u}=St(i2),f=P(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),h=Im(u,o),p=P(()=>n.draggable),m=P(()=>n.overflow),{resetPosition:g}=t5(o,s,p,m);return e({resetPosition:g}),(y,v)=>(N(),ee("div",{ref:d(h),class:V(d(f)),style:bt(d(c)),tabindex:"-1"},[re("header",{ref_key:"headerRef",ref:s,class:V([d(l).e("header"),{"show-close":y.showClose}])},[Me(y.$slots,"header",{},()=>[re("span",{role:"heading","aria-level":y.ariaLevel,class:V(d(l).e("title"))},rt(y.title),11,["aria-level"])]),y.showClose?(N(),ee("button",{key:0,"aria-label":d(r)("el.dialog.close"),class:V(d(l).e("headerbtn")),type:"button",onClick:A=>y.$emit("close")},[J(d(Ct),{class:V(d(l).e("close"))},{default:le(()=>[(N(),Ue(ln(y.closeIcon||d(a))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Te("v-if",!0)],2),re("div",{id:d(i),class:V(d(l).e("body"))},[Me(y.$slots,"default")],10,["id"]),y.$slots.footer?(N(),ee("footer",{key:0,class:V(d(l).e("footer"))},[Me(y.$slots,"footer")],2)):Te("v-if",!0)],6))}});var cj=st(lj,[["__file","dialog-content.vue"]]);const n5=at({...e5,appendToBody:Boolean,appendTo:{type:xe([String,Object]),default:"body"},beforeClose:{type:xe(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),r5={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Jt]:t=>Kn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},D2=(t,e={})=>{jn(t)||Wr("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Ze("popup"),r=P(()=>n.bm("parent","hidden"));if(!Sn||Ya(document.body,r.value))return;let a=0,o=!1,s="0";const i=()=>{setTimeout(()=>{typeof document>"u"||(Pa(document==null?void 0:document.body,r.value),o&&document&&(document.body.style.width=s))},200)};Qe(t,l=>{if(!l){i();return}o=!Ya(document.body,r.value),o&&(s=document.body.style.width),a=pM(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,u=ii(document.body,"overflowY");a>0&&(c||u==="scroll")&&o&&(document.body.style.width=`calc(100% - ${a}px)`),Do(document.body,r.value)}),iA(()=>i())},a5=(t,e)=>{var n;const a=nn().emit,{nextZIndex:o}=bd();let s="";const i=la(),l=la(),c=j(!1),u=j(!1),f=j(!1),h=j((n=t.zIndex)!=null?n:o());let p,m;const g=bm("namespace",rf),y=P(()=>{const $={},L=`--${g.value}-dialog`;return t.fullscreen||(t.top&&($[`${L}-margin-top`]=t.top),t.width&&($[`${L}-width`]=Sr(t.width))),$}),v=P(()=>t.alignCenter?{display:"flex"}:{});function A(){a("opened")}function w(){a("closed"),a(Jt,!1),t.destroyOnClose&&(f.value=!1)}function S(){a("close")}function C(){m==null||m(),p==null||p(),t.openDelay&&t.openDelay>0?{stop:p}=bc(()=>T(),t.openDelay):T()}function E(){p==null||p(),m==null||m(),t.closeDelay&&t.closeDelay>0?{stop:m}=bc(()=>M(),t.closeDelay):M()}function I(){function $(L){L||(u.value=!0,c.value=!1)}t.beforeClose?t.beforeClose($):E()}function k(){t.closeOnClickModal&&I()}function T(){Sn&&(c.value=!0)}function M(){c.value=!1}function D(){a("openAutoFocus")}function B(){a("closeAutoFocus")}function z($){var L;((L=$.detail)==null?void 0:L.focusReason)==="pointer"&&$.preventDefault()}t.lockScroll&&D2(c);function q(){t.closeOnPressEscape&&I()}return Qe(()=>t.modelValue,$=>{$?(u.value=!1,C(),f.value=!0,h.value=XE(t.zIndex)?o():h.value++,Bt(()=>{a("open"),e.value&&(e.value.scrollTop=0)})):c.value&&E()}),Qe(()=>t.fullscreen,$=>{e.value&&($?(s=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=s)}),Yt(()=>{t.modelValue&&(c.value=!0,f.value=!0,C())}),{afterEnter:A,afterLeave:w,beforeLeave:S,handleClose:I,onModalClick:k,close:E,doClose:M,onOpenAutoFocus:D,onCloseAutoFocus:B,onCloseRequested:q,onFocusoutPrevented:z,titleId:i,bodyId:l,closed:u,style:y,overlayDialogStyle:v,rendered:f,visible:c,zIndex:h}},uj=he({name:"ElDialog",inheritAttrs:!1}),dj=he({...uj,props:n5,emits:r5,setup(t,{expose:e}){const n=t,r=zr();tl({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},P(()=>!!r.title));const a=Ze("dialog"),o=j(),s=j(),i=j(),{visible:l,titleId:c,bodyId:u,style:f,overlayDialogStyle:h,rendered:p,zIndex:m,afterEnter:g,afterLeave:y,beforeLeave:v,handleClose:A,onModalClick:w,onOpenAutoFocus:S,onCloseAutoFocus:C,onCloseRequested:E,onFocusoutPrevented:I}=a5(n,o);vn(JT,{dialogRef:o,headerRef:s,bodyId:u,ns:a,rendered:p,style:f});const k=R2(w),T=P(()=>n.draggable&&!n.fullscreen);return e({visible:l,dialogContentRef:i,resetPosition:()=>{var D;(D=i.value)==null||D.resetPosition()}}),(D,B)=>(N(),Ue(d(wd),{to:D.appendTo,disabled:D.appendTo!=="body"?!1:!D.appendToBody},{default:le(()=>[J(Vr,{name:"dialog-fade",onAfterEnter:d(g),onAfterLeave:d(y),onBeforeLeave:d(v),persisted:""},{default:le(()=>[Qt(J(d(k2),{"custom-mask-event":"",mask:D.modal,"overlay-class":D.modalClass,"z-index":d(m)},{default:le(()=>[re("div",{role:"dialog","aria-modal":"true","aria-label":D.title||void 0,"aria-labelledby":D.title?void 0:d(c),"aria-describedby":d(u),class:V(`${d(a).namespace.value}-overlay-dialog`),style:bt(d(h)),onClick:d(k).onClick,onMousedown:d(k).onMousedown,onMouseup:d(k).onMouseup},[J(d(_d),{loop:"",trapped:d(l),"focus-start-el":"container",onFocusAfterTrapped:d(S),onFocusAfterReleased:d(C),onFocusoutPrevented:d(I),onReleaseRequested:d(E)},{default:le(()=>[d(p)?(N(),Ue(cj,un({key:0,ref_key:"dialogContentRef",ref:i},D.$attrs,{center:D.center,"align-center":D.alignCenter,"close-icon":D.closeIcon,draggable:d(T),overflow:D.overflow,fullscreen:D.fullscreen,"show-close":D.showClose,title:D.title,"aria-level":D.headerAriaLevel,onClose:d(A)}),Oo({header:le(()=>[D.$slots.title?Me(D.$slots,"title",{key:1}):Me(D.$slots,"header",{key:0,close:d(A),titleId:d(c),titleClass:d(a).e("title")})]),default:le(()=>[Me(D.$slots,"default")]),_:2},[D.$slots.footer?{name:"footer",fn:le(()=>[Me(D.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Te("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[En,d(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var fj=st(dj,[["__file","dialog.vue"]]);const hj=qt(fj),pj=at({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:xe(String),default:"solid"}}),mj=he({name:"ElDivider"}),vj=he({...mj,props:pj,setup(t){const e=t,n=Ze("divider"),r=P(()=>n.cssVar({"border-style":e.borderStyle}));return(a,o)=>(N(),ee("div",{class:V([d(n).b(),d(n).m(a.direction)]),style:bt(d(r)),role:"separator"},[a.$slots.default&&a.direction!=="vertical"?(N(),ee("div",{key:0,class:V([d(n).e("text"),d(n).is(a.contentPosition)])},[Me(a.$slots,"default")],2)):Te("v-if",!0)],6))}});var gj=st(vj,[["__file","divider.vue"]]);const o5=qt(gj),yj=at({...n5,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),bj=r5,Sj=he({name:"ElDrawer",inheritAttrs:!1}),_j=he({...Sj,props:yj,emits:bj,setup(t,{expose:e}){const n=t,r=zr();tl({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},P(()=>!!r.title));const a=j(),o=j(),s=Ze("drawer"),{t:i}=_n(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:f,rendered:h,titleId:p,bodyId:m,zIndex:g,onModalClick:y,onOpenAutoFocus:v,onCloseAutoFocus:A,onFocusoutPrevented:w,onCloseRequested:S,handleClose:C}=a5(n,a),E=P(()=>n.direction==="rtl"||n.direction==="ltr"),I=P(()=>Sr(n.size));return e({handleClose:C,afterEnter:l,afterLeave:c}),(k,T)=>(N(),Ue(d(wd),{to:k.appendTo,disabled:k.appendTo!=="body"?!1:!k.appendToBody},{default:le(()=>[J(Vr,{name:d(s).b("fade"),onAfterEnter:d(l),onAfterLeave:d(c),onBeforeLeave:d(u),persisted:""},{default:le(()=>[Qt(J(d(k2),{mask:k.modal,"overlay-class":k.modalClass,"z-index":d(g),onClick:d(y)},{default:le(()=>[J(d(_d),{loop:"",trapped:d(f),"focus-trap-el":a.value,"focus-start-el":o.value,onFocusAfterTrapped:d(v),onFocusAfterReleased:d(A),onFocusoutPrevented:d(w),onReleaseRequested:d(S)},{default:le(()=>[re("div",un({ref_key:"drawerRef",ref:a,"aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:d(p),"aria-describedby":d(m)},k.$attrs,{class:[d(s).b(),k.direction,d(f)&&"open"],style:d(E)?"width: "+d(I):"height: "+d(I),role:"dialog",onClick:zt(()=>{},["stop"])}),[re("span",{ref_key:"focusStartRef",ref:o,class:V(d(s).e("sr-focus")),tabindex:"-1"},null,2),k.withHeader?(N(),ee("header",{key:0,class:V(d(s).e("header"))},[k.$slots.title?Me(k.$slots,"title",{key:1},()=>[Te(" DEPRECATED SLOT ")]):Me(k.$slots,"header",{key:0,close:d(C),titleId:d(p),titleClass:d(s).e("title")},()=>[k.$slots.title?Te("v-if",!0):(N(),ee("span",{key:0,id:d(p),role:"heading","aria-level":k.headerAriaLevel,class:V(d(s).e("title"))},rt(k.title),11,["id","aria-level"]))]),k.showClose?(N(),ee("button",{key:2,"aria-label":d(i)("el.drawer.close"),class:V(d(s).e("close-btn")),type:"button",onClick:d(C)},[J(d(Ct),{class:V(d(s).e("close"))},{default:le(()=>[J(d(cs))]),_:1},8,["class"])],10,["aria-label","onClick"])):Te("v-if",!0)],2)):Te("v-if",!0),d(h)?(N(),ee("div",{key:1,id:d(m),class:V(d(s).e("body"))},[Me(k.$slots,"default")],10,["id"])):Te("v-if",!0),k.$slots.footer?(N(),ee("div",{key:2,class:V(d(s).e("footer"))},[Me(k.$slots,"footer")],2)):Te("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[En,d(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var wj=st(_j,[["__file","drawer.vue"]]);const xj=qt(wj),Cj=he({inheritAttrs:!1});function Aj(t,e,n,r,a,o){return Me(t.$slots,"default")}var Ej=st(Cj,[["render",Aj],["__file","collection.vue"]]);const Mj=he({name:"ElCollectionItem",inheritAttrs:!1});function Tj(t,e,n,r,a,o){return Me(t.$slots,"default")}var Ij=st(Mj,[["render",Tj],["__file","collection-item.vue"]]);const s5="data-el-collection-item",i5=t=>{const e=`El${t}Collection`,n=`${e}Item`,r=Symbol(e),a=Symbol(n),o={...Ej,name:e,setup(){const i=j(null),l=new Map;vn(r,{itemMap:l,getItems:()=>{const u=d(i);if(!u)return[];const f=Array.from(u.querySelectorAll(`[${s5}]`));return[...l.values()].sort((p,m)=>f.indexOf(p.ref)-f.indexOf(m.ref))},collectionRef:i})}},s={...Ij,name:n,setup(i,{attrs:l}){const c=j(null),u=St(r,void 0);vn(a,{collectionItemRef:c}),Yt(()=>{const f=d(c);f&&u.itemMap.set(f,{ref:f,...l})}),Un(()=>{const f=d(c);u.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:o,ElCollectionItem:s}},Rj=at({style:{type:xe([String,Array,Object])},currentTabId:{type:xe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:xe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:kj,ElCollectionItem:Dj,COLLECTION_INJECTION_KEY:P2,COLLECTION_ITEM_INJECTION_KEY:Pj}=i5("RovingFocusGroup"),B2=Symbol("elRovingFocusGroup"),l5=Symbol("elRovingFocusGroupItem"),Bj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Lj=(t,e)=>{if(e!=="rtl")return t;switch(t){case mt.right:return mt.left;case mt.left:return mt.right;default:return t}},Nj=(t,e,n)=>{const r=Lj(t.code,n);if(!(e==="vertical"&&[mt.left,mt.right].includes(r))&&!(e==="horizontal"&&[mt.up,mt.down].includes(r)))return Bj[r]},Fj=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),L2=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},Rx="currentTabIdChange",kx="rovingFocusGroup.entryFocus",Oj={bubbles:!1,cancelable:!0},zj=he({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Rj,emits:[Rx,"entryFocus"],setup(t,{emit:e}){var n;const r=j((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),a=j(!1),o=j(!1),s=j(null),{getItems:i}=St(P2,void 0),l=P(()=>[{outline:"none"},t.style]),c=g=>{e(Rx,g)},u=()=>{a.value=!0},f=br(g=>{var y;(y=t.onMousedown)==null||y.call(t,g)},()=>{o.value=!0}),h=br(g=>{var y;(y=t.onFocus)==null||y.call(t,g)},g=>{const y=!d(o),{target:v,currentTarget:A}=g;if(v===A&&y&&!d(a)){const w=new Event(kx,Oj);if(A==null||A.dispatchEvent(w),!w.defaultPrevented){const S=i().filter(T=>T.focusable),C=S.find(T=>T.active),E=S.find(T=>T.id===d(r)),k=[C,E,...S].filter(Boolean).map(T=>T.ref);L2(k)}}o.value=!1}),p=br(g=>{var y;(y=t.onBlur)==null||y.call(t,g)},()=>{a.value=!1}),m=(...g)=>{e("entryFocus",...g)};vn(B2,{currentTabbedId:hd(r),loop:Rn(t,"loop"),tabIndex:P(()=>d(a)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:l,orientation:Rn(t,"orientation"),dir:Rn(t,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:p,onFocus:h,onMousedown:f}),Qe(()=>t.currentTabId,g=>{r.value=g??null}),Ln(s,kx,m)}});function Uj(t,e,n,r,a,o){return Me(t.$slots,"default")}var Hj=st(zj,[["render",Uj],["__file","roving-focus-group-impl.vue"]]);const $j=he({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:kj,ElRovingFocusGroupImpl:Hj}});function Vj(t,e,n,r,a,o){const s=ct("el-roving-focus-group-impl"),i=ct("el-focus-group-collection");return N(),Ue(i,null,{default:le(()=>[J(s,ns(ul(t.$attrs)),{default:le(()=>[Me(t.$slots,"default")]),_:3},16)]),_:3})}var Wj=st($j,[["render",Vj],["__file","roving-focus-group.vue"]]);const K0=at({trigger:Uf.trigger,triggerKeys:{type:xe(Array),default:()=>[mt.enter,mt.numpadEnter,mt.space,mt.down]},effect:{...Xr.effect,default:"light"},type:{type:xe(String)},placement:{type:xe(String),default:"bottom"},popperOptions:{type:xe(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:xe([Number,String]),default:0},maxHeight:{type:xe([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:xe(Object)},teleported:Xr.teleported}),c5=at({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:On}}),Gj=at({onKeydown:{type:xe(Function)}}),Kj=[mt.down,mt.pageDown,mt.home],u5=[mt.up,mt.pageUp,mt.end],qj=[...Kj,...u5],{ElCollection:jj,ElCollectionItem:Yj,COLLECTION_INJECTION_KEY:Xj,COLLECTION_ITEM_INJECTION_KEY:Qj}=i5("Dropdown"),Rm=Symbol("elDropdown"),{ButtonGroup:Zj}=Jr,Jj=he({name:"ElDropdown",components:{ElButton:Jr,ElButtonGroup:Zj,ElScrollbar:zs,ElDropdownCollection:jj,ElTooltip:Sa,ElRovingFocusGroup:Wj,ElOnlyChild:kM,ElIcon:Ct,ArrowDown:xi},props:K0,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=nn(),r=Ze("dropdown"),{t:a}=_n(),o=j(),s=j(),i=j(null),l=j(null),c=j(null),u=j(null),f=j(!1),h=P(()=>({maxHeight:Sr(t.maxHeight)})),p=P(()=>[r.m(S.value)]),m=P(()=>Ia(t.trigger)),g=la().value,y=P(()=>t.id||g);Qe([o,m],([L,W],[U])=>{var F,Q,ne;(F=U==null?void 0:U.$el)!=null&&F.removeEventListener&&U.$el.removeEventListener("pointerenter",E),(Q=L==null?void 0:L.$el)!=null&&Q.removeEventListener&&L.$el.removeEventListener("pointerenter",E),(ne=L==null?void 0:L.$el)!=null&&ne.addEventListener&&W.includes("hover")&&L.$el.addEventListener("pointerenter",E)},{immediate:!0}),Un(()=>{var L,W;(W=(L=o.value)==null?void 0:L.$el)!=null&&W.removeEventListener&&o.value.$el.removeEventListener("pointerenter",E)});function v(){A()}function A(){var L;(L=i.value)==null||L.onClose()}function w(){var L;(L=i.value)==null||L.onOpen()}const S=Dr();function C(...L){e("command",...L)}function E(){var L,W;(W=(L=o.value)==null?void 0:L.$el)==null||W.focus()}function I(){}function k(){const L=d(l);m.value.includes("hover")&&(L==null||L.focus()),u.value=null}function T(L){u.value=L}function M(L){f.value||(L.preventDefault(),L.stopImmediatePropagation())}function D(){e("visible-change",!0)}function B(L){(L==null?void 0:L.type)==="keydown"&&l.value.focus()}function z(){e("visible-change",!1)}return vn(Rm,{contentRef:l,role:P(()=>t.role),triggerId:y,isUsingKeyboard:f,onItemEnter:I,onItemLeave:k}),vn("elDropdown",{instance:n,dropdownSize:S,handleClick:v,commandHandler:C,trigger:Rn(t,"trigger"),hideOnClick:Rn(t,"hideOnClick")}),{t:a,ns:r,scrollbar:c,wrapStyle:h,dropdownTriggerKls:p,dropdownSize:S,triggerId:y,currentTabId:u,handleCurrentTabIdChange:T,handlerMainButtonClick:L=>{e("click",L)},handleEntryFocus:M,handleClose:A,handleOpen:w,handleBeforeShowTooltip:D,handleShowTooltip:B,handleBeforeHideTooltip:z,onFocusAfterTrapped:L=>{var W,U;L.preventDefault(),(U=(W=l.value)==null?void 0:W.focus)==null||U.call(W,{preventScroll:!0})},popperRef:i,contentRef:l,triggeringElementRef:o,referenceElementRef:s}}});function eY(t,e,n,r,a,o){var s;const i=ct("el-dropdown-collection"),l=ct("el-roving-focus-group"),c=ct("el-scrollbar"),u=ct("el-only-child"),f=ct("el-tooltip"),h=ct("el-button"),p=ct("arrow-down"),m=ct("el-icon"),g=ct("el-button-group");return N(),ee("div",{class:V([t.ns.b(),t.ns.is("disabled",t.disabled)])},[J(f,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(s=t.referenceElementRef)==null?void 0:s.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Oo({content:le(()=>[J(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:le(()=>[J(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:le(()=>[J(i,null,{default:le(()=>[Me(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:le(()=>[J(u,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:le(()=>[Me(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(N(),Ue(g,{key:0},{default:le(()=>[J(h,un({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:le(()=>[Me(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),J(h,un({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:le(()=>[J(m,{class:V(t.ns.e("icon"))},{default:le(()=>[J(p)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Te("v-if",!0)],2)}var tY=st(Jj,[["render",eY],["__file","dropdown.vue"]]);const nY=he({components:{ElRovingFocusCollectionItem:Dj},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:r,onItemFocus:a,onItemShiftTab:o}=St(B2,void 0),{getItems:s}=St(P2,void 0),i=la(),l=j(null),c=br(p=>{e("mousedown",p)},p=>{t.focusable?a(d(i)):p.preventDefault()}),u=br(p=>{e("focus",p)},()=>{a(d(i))}),f=br(p=>{e("keydown",p)},p=>{const{code:m,shiftKey:g,target:y,currentTarget:v}=p;if(m===mt.tab&&g){o();return}if(y!==v)return;const A=Nj(p);if(A){p.preventDefault();let S=s().filter(C=>C.focusable).map(C=>C.ref);switch(A){case"last":{S.reverse();break}case"prev":case"next":{A==="prev"&&S.reverse();const C=S.indexOf(v);S=r.value?Fj(S,C+1):S.slice(C+1);break}}Bt(()=>{L2(S)})}}),h=P(()=>n.value===d(i));return vn(l5,{rovingFocusGroupItemRef:l,tabIndex:P(()=>d(h)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:f}),{id:i,handleKeydown:f,handleFocus:u,handleMousedown:c}}});function rY(t,e,n,r,a,o){const s=ct("el-roving-focus-collection-item");return N(),Ue(s,{id:t.id,focusable:t.focusable,active:t.active},{default:le(()=>[Me(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var aY=st(nY,[["render",rY],["__file","roving-focus-item.vue"]]);const oY=he({name:"DropdownItemImpl",components:{ElIcon:Ct},props:c5,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Ze("dropdown"),{role:r}=St(Rm,void 0),{collectionItemRef:a}=St(Qj,void 0),{collectionItemRef:o}=St(Pj,void 0),{rovingFocusGroupItemRef:s,tabIndex:i,handleFocus:l,handleKeydown:c,handleMousedown:u}=St(l5,void 0),f=Im(a,o,s),h=P(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),p=br(m=>{if([mt.enter,mt.numpadEnter,mt.space].includes(m.code))return m.preventDefault(),m.stopImmediatePropagation(),e("clickimpl",m),!0},c);return{ns:n,itemRef:f,dataset:{[s5]:""},role:h,tabIndex:i,handleFocus:l,handleKeydown:p,handleMousedown:u}}});function sY(t,e,n,r,a,o){const s=ct("el-icon");return N(),ee(Et,null,[t.divided?(N(),ee("li",{key:0,role:"separator",class:V(t.ns.bem("menu","item","divided"))},null,2)):Te("v-if",!0),re("li",un({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:i=>t.$emit("clickimpl",i),onFocus:t.handleFocus,onKeydown:zt(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:i=>t.$emit("pointermove",i),onPointerleave:i=>t.$emit("pointerleave",i)}),[t.icon?(N(),Ue(s,{key:0},{default:le(()=>[(N(),Ue(ln(t.icon)))]),_:1})):Te("v-if",!0),Me(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var iY=st(oY,[["render",sY],["__file","dropdown-item-impl.vue"]]);const d5=()=>{const t=St("elDropdown",{}),e=P(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},lY=he({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Yj,ElRovingFocusItem:aY,ElDropdownItemImpl:iY},inheritAttrs:!1,props:c5,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=d5(),a=nn(),o=j(null),s=P(()=>{var p,m;return(m=(p=d(o))==null?void 0:p.textContent)!=null?m:""}),{onItemEnter:i,onItemLeave:l}=St(Rm,void 0),c=br(p=>(e("pointermove",p),p.defaultPrevented),ix(p=>{if(t.disabled){l(p);return}const m=p.currentTarget;m===document.activeElement||m.contains(document.activeElement)||(i(p),p.defaultPrevented||m==null||m.focus())})),u=br(p=>(e("pointerleave",p),p.defaultPrevented),ix(l)),f=br(p=>{if(!t.disabled)return e("click",p),p.type!=="keydown"&&p.defaultPrevented},p=>{var m,g,y;if(t.disabled){p.stopImmediatePropagation();return}(m=r==null?void 0:r.hideOnClick)!=null&&m.value&&((g=r.handleClick)==null||g.call(r)),(y=r.commandHandler)==null||y.call(r,t.command,a,p)}),h=P(()=>({...t,...n}));return{handleClick:f,handlePointerMove:c,handlePointerLeave:u,textContent:s,propsAndAttrs:h}}});function cY(t,e,n,r,a,o){var s;const i=ct("el-dropdown-item-impl"),l=ct("el-roving-focus-item"),c=ct("el-dropdown-collection-item");return N(),Ue(c,{disabled:t.disabled,"text-value":(s=t.textValue)!=null?s:t.textContent},{default:le(()=>[J(l,{focusable:!t.disabled},{default:le(()=>[J(i,un(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:le(()=>[Me(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var f5=st(lY,[["render",cY],["__file","dropdown-item.vue"]]);const uY=he({name:"ElDropdownMenu",props:Gj,setup(t){const e=Ze("dropdown"),{_elDropdownSize:n}=d5(),r=n.value,{focusTrapRef:a,onKeydown:o}=St(i2,void 0),{contentRef:s,role:i,triggerId:l}=St(Rm,void 0),{collectionRef:c,getItems:u}=St(Xj,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:h,tabIndex:p,onBlur:m,onFocus:g,onMousedown:y}=St(B2,void 0),{collectionRef:v}=St(P2,void 0),A=P(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),w=Im(s,c,a,f,v),S=br(E=>{var I;(I=t.onKeydown)==null||I.call(t,E)},E=>{const{currentTarget:I,code:k,target:T}=E;if(I.contains(T),mt.tab===k&&E.stopImmediatePropagation(),E.preventDefault(),T!==d(s)||!qj.includes(k))return;const D=u().filter(B=>!B.disabled).map(B=>B.ref);u5.includes(k)&&D.reverse(),L2(D)});return{size:r,rovingFocusGroupRootStyle:h,tabIndex:p,dropdownKls:A,role:i,triggerId:l,dropdownListWrapperRef:w,handleKeydown:E=>{S(E),o(E)},onBlur:m,onFocus:g,onMousedown:y}}});function dY(t,e,n,r,a,o){return N(),ee("ul",{ref:t.dropdownListWrapperRef,class:V(t.dropdownKls),style:bt(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:zt(t.handleKeydown,["self"]),onMousedown:zt(t.onMousedown,["self"])},[Me(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var h5=st(uY,[["render",dY],["__file","dropdown-menu.vue"]]);const fY=qt(tY,{DropdownItem:f5,DropdownMenu:h5}),hY=hr(f5),pY=hr(h5),mY=he({name:"ImgEmpty"}),vY=he({...mY,setup(t){const e=Ze("empty"),n=la();return(r,a)=>(N(),ee("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[re("defs",null,[re("linearGradient",{id:`linearGradient-1-${d(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[re("stop",{"stop-color":`var(${d(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),re("stop",{"stop-color":`var(${d(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),re("linearGradient",{id:`linearGradient-2-${d(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[re("stop",{"stop-color":`var(${d(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),re("stop",{"stop-color":`var(${d(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),re("rect",{id:`path-3-${d(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),re("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[re("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[re("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[re("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${d(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),re("polygon",{id:"Rectangle-Copy-14",fill:`var(${d(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),re("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[re("polygon",{id:"Rectangle-Copy-10",fill:`var(${d(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),re("polygon",{id:"Rectangle-Copy-11",fill:`var(${d(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),re("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${d(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),re("polygon",{id:"Rectangle-Copy-13",fill:`var(${d(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),re("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${d(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),re("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[re("use",{id:"Mask",fill:`var(${d(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${d(n)}`},null,8,["fill","xlink:href"]),re("polygon",{id:"Rectangle-Copy",fill:`var(${d(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${d(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),re("polygon",{id:"Rectangle-Copy-18",fill:`var(${d(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var gY=st(vY,[["__file","img-empty.vue"]]);const yY=at({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),bY=he({name:"ElEmpty"}),SY=he({...bY,props:yY,setup(t){const e=t,{t:n}=_n(),r=Ze("empty"),a=P(()=>e.description||n("el.table.emptyText")),o=P(()=>({width:Sr(e.imageSize)}));return(s,i)=>(N(),ee("div",{class:V(d(r).b())},[re("div",{class:V(d(r).e("image")),style:bt(d(o))},[s.image?(N(),ee("img",{key:0,src:s.image,ondragstart:"return false"},null,8,["src"])):Me(s.$slots,"image",{key:1},()=>[J(gY)])],6),re("div",{class:V(d(r).e("description"))},[s.$slots.description?Me(s.$slots,"description",{key:0}):(N(),ee("p",{key:1},rt(d(a)),1))],2),s.$slots.default?(N(),ee("div",{key:0,class:V(d(r).e("bottom"))},[Me(s.$slots,"default")],2)):Te("v-if",!0)],2))}});var _Y=st(SY,[["__file","empty.vue"]]);const p5=qt(_Y),wY=at({size:{type:String,values:Os},disabled:Boolean}),xY=at({...wY,model:Object,rules:{type:xe(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),CY={validate:(t,e,n)=>(nt(t)||Mt(t))&&Kn(e)&&Mt(n)};function AY(){const t=j([]),e=P(()=>{if(!t.value.length)return"0";const o=Math.max(...t.value);return o?`${o}px`:""});function n(o){const s=t.value.indexOf(o);return s===-1&&e.value,s}function r(o,s){if(o&&s){const i=n(s);t.value.splice(i,1,o)}else o&&t.value.push(o)}function a(o){const s=n(o);s>-1&&t.value.splice(s,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:a}}const n0=(t,e)=>{const n=Ia(e);return n.length>0?t.filter(r=>r.prop&&n.includes(r.prop)):t},EY="ElForm",MY=he({name:EY}),TY=he({...MY,props:xY,emits:CY,setup(t,{expose:e,emit:n}){const r=t,a=[],o=Dr(),s=Ze("form"),i=P(()=>{const{labelPosition:w,inline:S}=r;return[s.b(),s.m(o.value||"default"),{[s.m(`label-${w}`)]:w,[s.m("inline")]:S}]}),l=w=>a.find(S=>S.prop===w),c=w=>{a.push(w)},u=w=>{w.prop&&a.splice(a.indexOf(w),1)},f=(w=[])=>{r.model&&n0(a,w).forEach(S=>S.resetField())},h=(w=[])=>{n0(a,w).forEach(S=>S.clearValidate())},p=P(()=>!!r.model),m=w=>{if(a.length===0)return[];const S=n0(a,w);return S.length?S:[]},g=async w=>v(void 0,w),y=async(w=[])=>{if(!p.value)return!1;const S=m(w);if(S.length===0)return!0;let C={};for(const E of S)try{await E.validate("")}catch(I){C={...C,...I}}return Object.keys(C).length===0?!0:Promise.reject(C)},v=async(w=[],S)=>{const C=!Pt(S);try{const E=await y(w);return E===!0&&await(S==null?void 0:S(E)),E}catch(E){if(E instanceof Error)throw E;const I=E;return r.scrollToError&&A(Object.keys(I)[0]),await(S==null?void 0:S(!1,I)),C&&Promise.reject(I)}},A=w=>{var S;const C=n0(a,w)[0];C&&((S=C.$el)==null||S.scrollIntoView(r.scrollIntoViewOptions))};return Qe(()=>r.rules,()=>{r.validateOnRuleChange&&g().catch(w=>void 0)},{deep:!0}),vn(Ic,Mn({...jr(r),emit:n,resetFields:f,clearValidate:h,validateField:v,getField:l,addField:c,removeField:u,...AY()})),e({validate:g,validateField:v,resetFields:f,clearValidate:h,scrollToField:A,fields:a}),(w,S)=>(N(),ee("form",{class:V(d(i))},[Me(w.$slots,"default")],2))}});var IY=st(TY,[["__file","form.vue"]]);function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function RY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Vf(t,e)}function R1(t){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R1(t)}function Vf(t,e){return Vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Vf(t,e)}function kY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q0(t,e,n){return kY()?q0=Reflect.construct.bind():q0=function(a,o,s){var i=[null];i.push.apply(i,o);var l=Function.bind.apply(a,i),c=new l;return s&&Vf(c,s.prototype),c},q0.apply(null,arguments)}function DY(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function k1(t){var e=typeof Map=="function"?new Map:void 0;return k1=function(r){if(r===null||!DY(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return q0(r,arguments,R1(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Vf(a,r)},k1(t)}var PY=/%[sdj%]/g,BY=function(){};typeof process<"u"&&process.env;function D1(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function ho(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(PY,function(i){if(i==="%%")return"%";if(a>=o)return i;switch(i){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch{return"[Circular]"}break;default:return i}});return s}return t}function LY(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function ea(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||LY(e)&&typeof t=="string"&&!t)}function NY(t,e,n){var r=[],a=0,o=t.length;function s(i){r.push.apply(r,i||[]),a++,a===o&&n(r)}t.forEach(function(i){e(i,s)})}function Dx(t,e,n){var r=0,a=t.length;function o(s){if(s&&s.length){n(s);return}var i=r;r=r+1,i<a?e(t[i],o):n([])}o([])}function FY(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var Px=function(t){RY(e,t);function e(n,r){var a;return a=t.call(this,"Async Validation Error")||this,a.errors=n,a.fields=r,a}return e}(k1(Error));function OY(t,e,n,r,a){if(e.first){var o=new Promise(function(h,p){var m=function(v){return r(v),v.length?p(new Px(v,D1(v))):h(a)},g=FY(t);Dx(g,n,m)});return o.catch(function(h){return h}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],i=Object.keys(t),l=i.length,c=0,u=[],f=new Promise(function(h,p){var m=function(y){if(u.push.apply(u,y),c++,c===l)return r(u),u.length?p(new Px(u,D1(u))):h(a)};i.length||(r(u),h(a)),i.forEach(function(g){var y=t[g];s.indexOf(g)!==-1?Dx(y,n,m):NY(y,n,m)})});return f.catch(function(h){return h}),f}function zY(t){return!!(t&&t.message!==void 0)}function UY(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function Bx(t,e){return function(n){var r;return t.fullFields?r=UY(e,t.fullFields):r=e[n.field||t.fullField],zY(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function Lx(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=nc({},t[n],r):t[n]=r}}return t}var m5=function(e,n,r,a,o,s){e.required&&(!r.hasOwnProperty(e.field)||ea(n,s||e.type))&&a.push(ho(o.messages.required,e.fullField))},HY=function(e,n,r,a,o){(/^\s+$/.test(n)||n==="")&&a.push(ho(o.messages.whitespace,e.fullField))},r0,$Y=function(){if(r0)return r0;var t="[a-fA-F\\d:]",e=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+a+"$)"),s=new RegExp("^"+n+"$"),i=new RegExp("^"+a+"$"),l=function(S){return S&&S.exact?o:new RegExp("(?:"+e(S)+n+e(S)+")|(?:"+e(S)+a+e(S)+")","g")};l.v4=function(w){return w&&w.exact?s:new RegExp(""+e(w)+n+e(w),"g")},l.v6=function(w){return w&&w.exact?i:new RegExp(""+e(w)+a+e(w),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,h=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',A="(?:"+c+"|www\\.)"+u+"(?:localhost|"+f+"|"+h+"|"+p+m+g+")"+y+v;return r0=new RegExp("(?:^"+A+"$)","i"),r0},Nx={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},jd={integer:function(e){return jd.number(e)&&parseInt(e,10)===e},float:function(e){return jd.number(e)&&!jd.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!jd.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Nx.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match($Y())},hex:function(e){return typeof e=="string"&&!!e.match(Nx.hex)}},VY=function(e,n,r,a,o){if(e.required&&n===void 0){m5(e,n,r,a,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],i=e.type;s.indexOf(i)>-1?jd[i](n)||a.push(ho(o.messages.types[i],e.fullField,e.type)):i&&typeof n!==e.type&&a.push(ho(o.messages.types[i],e.fullField,e.type))},WY=function(e,n,r,a,o){var s=typeof e.len=="number",i=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,f=null,h=typeof n=="number",p=typeof n=="string",m=Array.isArray(n);if(h?f="number":p?f="string":m&&(f="array"),!f)return!1;m&&(u=n.length),p&&(u=n.replace(c,"_").length),s?u!==e.len&&a.push(ho(o.messages[f].len,e.fullField,e.len)):i&&!l&&u<e.min?a.push(ho(o.messages[f].min,e.fullField,e.min)):l&&!i&&u>e.max?a.push(ho(o.messages[f].max,e.fullField,e.max)):i&&l&&(u<e.min||u>e.max)&&a.push(ho(o.messages[f].range,e.fullField,e.min,e.max))},zc="enum",GY=function(e,n,r,a,o){e[zc]=Array.isArray(e[zc])?e[zc]:[],e[zc].indexOf(n)===-1&&a.push(ho(o.messages[zc],e.fullField,e[zc].join(", ")))},KY=function(e,n,r,a,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||a.push(ho(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||a.push(ho(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},qn={required:m5,whitespace:HY,type:VY,range:WY,enum:GY,pattern:KY},qY=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n,"string")&&!e.required)return r();qn.required(e,n,a,s,o,"string"),ea(n,"string")||(qn.type(e,n,a,s,o),qn.range(e,n,a,s,o),qn.pattern(e,n,a,s,o),e.whitespace===!0&&qn.whitespace(e,n,a,s,o))}r(s)},jY=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n)&&!e.required)return r();qn.required(e,n,a,s,o),n!==void 0&&qn.type(e,n,a,s,o)}r(s)},YY=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(n===""&&(n=void 0),ea(n)&&!e.required)return r();qn.required(e,n,a,s,o),n!==void 0&&(qn.type(e,n,a,s,o),qn.range(e,n,a,s,o))}r(s)},XY=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n)&&!e.required)return r();qn.required(e,n,a,s,o),n!==void 0&&qn.type(e,n,a,s,o)}r(s)},QY=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n)&&!e.required)return r();qn.required(e,n,a,s,o),ea(n)||qn.type(e,n,a,s,o)}r(s)},ZY=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n)&&!e.required)return r();qn.required(e,n,a,s,o),n!==void 0&&(qn.type(e,n,a,s,o),qn.range(e,n,a,s,o))}r(s)},JY=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n)&&!e.required)return r();qn.required(e,n,a,s,o),n!==void 0&&(qn.type(e,n,a,s,o),qn.range(e,n,a,s,o))}r(s)},eX=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(n==null&&!e.required)return r();qn.required(e,n,a,s,o,"array"),n!=null&&(qn.type(e,n,a,s,o),qn.range(e,n,a,s,o))}r(s)},tX=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n)&&!e.required)return r();qn.required(e,n,a,s,o),n!==void 0&&qn.type(e,n,a,s,o)}r(s)},nX="enum",rX=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n)&&!e.required)return r();qn.required(e,n,a,s,o),n!==void 0&&qn[nX](e,n,a,s,o)}r(s)},aX=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n,"string")&&!e.required)return r();qn.required(e,n,a,s,o),ea(n,"string")||qn.pattern(e,n,a,s,o)}r(s)},oX=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n,"date")&&!e.required)return r();if(qn.required(e,n,a,s,o),!ea(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),qn.type(e,l,a,s,o),l&&qn.range(e,l.getTime(),a,s,o)}}r(s)},sX=function(e,n,r,a,o){var s=[],i=Array.isArray(n)?"array":typeof n;qn.required(e,n,a,s,o,i),r(s)},Kv=function(e,n,r,a,o){var s=e.type,i=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(ea(n,s)&&!e.required)return r();qn.required(e,n,a,i,o,s),ea(n,s)||qn.type(e,n,a,i,o)}r(i)},iX=function(e,n,r,a,o){var s=[],i=e.required||!e.required&&a.hasOwnProperty(e.field);if(i){if(ea(n)&&!e.required)return r();qn.required(e,n,a,s,o)}r(s)},cf={string:qY,method:jY,number:YY,boolean:XY,regexp:QY,integer:ZY,float:JY,array:eX,object:tX,enum:rX,pattern:aX,date:oX,url:Kv,hex:Kv,email:Kv,required:sX,any:iX};function P1(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var B1=P1(),gh=function(){function t(n){this.rules=null,this._messages=B1,this.define(n)}var e=t.prototype;return e.define=function(r){var a=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];a.rules[o]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=Lx(P1(),r)),this._messages},e.validate=function(r,a,o){var s=this;a===void 0&&(a={}),o===void 0&&(o=function(){});var i=r,l=a,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,i),Promise.resolve(i);function u(g){var y=[],v={};function A(S){if(Array.isArray(S)){var C;y=(C=y).concat.apply(C,S)}else y.push(S)}for(var w=0;w<g.length;w++)A(g[w]);y.length?(v=D1(y),c(y,v)):c(null,i)}if(l.messages){var f=this.messages();f===B1&&(f=P1()),Lx(f,l.messages),l.messages=f}else l.messages=this.messages();var h={},p=l.keys||Object.keys(this.rules);p.forEach(function(g){var y=s.rules[g],v=i[g];y.forEach(function(A){var w=A;typeof w.transform=="function"&&(i===r&&(i=nc({},i)),v=i[g]=w.transform(v)),typeof w=="function"?w={validator:w}:w=nc({},w),w.validator=s.getValidationMethod(w),w.validator&&(w.field=g,w.fullField=w.fullField||g,w.type=s.getType(w),h[g]=h[g]||[],h[g].push({rule:w,value:v,source:i,field:g}))})});var m={};return OY(h,l,function(g,y){var v=g.rule,A=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");A=A&&(v.required||!v.required&&g.value),v.field=g.field;function w(E,I){return nc({},I,{fullField:v.fullField+"."+E,fullFields:v.fullFields?[].concat(v.fullFields,[E]):[E]})}function S(E){E===void 0&&(E=[]);var I=Array.isArray(E)?E:[E];!l.suppressWarning&&I.length&&t.warning("async-validator:",I),I.length&&v.message!==void 0&&(I=[].concat(v.message));var k=I.map(Bx(v,i));if(l.first&&k.length)return m[v.field]=1,y(k);if(!A)y(k);else{if(v.required&&!g.value)return v.message!==void 0?k=[].concat(v.message).map(Bx(v,i)):l.error&&(k=[l.error(v,ho(l.messages.required,v.field))]),y(k);var T={};v.defaultField&&Object.keys(g.value).map(function(B){T[B]=v.defaultField}),T=nc({},T,g.rule.fields);var M={};Object.keys(T).forEach(function(B){var z=T[B],q=Array.isArray(z)?z:[z];M[B]=q.map(w.bind(null,B))});var D=new t(M);D.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),D.validate(g.value,g.rule.options||l,function(B){var z=[];k&&k.length&&z.push.apply(z,k),B&&B.length&&z.push.apply(z,B),y(z.length?z:null)})}}var C;if(v.asyncValidator)C=v.asyncValidator(v,g.value,S,g.source,l);else if(v.validator){try{C=v.validator(v,g.value,S,g.source,l)}catch(E){console.error==null||console.error(E),l.suppressValidatorError||setTimeout(function(){throw E},0),S(E.message)}C===!0?S():C===!1?S(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):C instanceof Array?S(C):C instanceof Error&&S(C.message)}C&&C.then&&C.then(function(){return S()},function(E){return S(E)})},function(g){u(g)},i)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!cf.hasOwnProperty(r.type))throw new Error(ho("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var a=Object.keys(r),o=a.indexOf("message");return o!==-1&&a.splice(o,1),a.length===1&&a[0]==="required"?cf.required:cf[this.getType(r)]||void 0},t}();gh.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");cf[e]=n};gh.warning=BY;gh.messages=B1;gh.validators=cf;const lX=["","error","validating","success"],cX=at({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:xe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:xe([Object,Array])},error:String,validateStatus:{type:String,values:lX},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Os}}),Fx="ElLabelWrap";var uX=he({name:Fx,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=St(Ic,void 0),r=St(Rs);r||Wr(Fx,"usage: <el-form-item><label-wrap /></el-form-item>");const a=Ze("form"),o=j(),s=j(0),i=()=>{var u;if((u=o.value)!=null&&u.firstElementChild){const f=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(u="update")=>{Bt(()=>{e.default&&t.isAutoWidth&&(u==="update"?s.value=i():u==="remove"&&(n==null||n.deregisterLabelWidth(s.value)))})},c=()=>l("update");return Yt(()=>{c()}),Un(()=>{l("remove")}),Fs(()=>c()),Qe(s,(u,f)=>{t.updateAll&&(n==null||n.registerLabelWidth(u,f))}),or(P(()=>{var u,f;return(f=(u=o.value)==null?void 0:u.firstElementChild)!=null?f:null}),c),()=>{var u,f;if(!e)return null;const{isAutoWidth:h}=t;if(h){const p=n==null?void 0:n.autoLabelWidth,m=r==null?void 0:r.hasLabel,g={};if(m&&p&&p!=="auto"){const y=Math.max(0,Number.parseInt(p,10)-s.value),A=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";y&&(g[A]=`${y}px`)}return J("div",{ref:o,class:[a.be("item","label-wrap")],style:g},[(u=e.default)==null?void 0:u.call(e)])}else return J(Et,{ref:o},[(f=e.default)==null?void 0:f.call(e)])}}});const dX=he({name:"ElFormItem"}),fX=he({...dX,props:cX,setup(t,{expose:e}){const n=t,r=zr(),a=St(Ic,void 0),o=St(Rs,void 0),s=Dr(void 0,{formItem:!1}),i=Ze("form-item"),l=la().value,c=j([]),u=j(""),f=DF(u,100),h=j(""),p=j();let m,g=!1;const y=P(()=>n.labelPosition||(a==null?void 0:a.labelPosition)),v=P(()=>{if(y.value==="top")return{};const Ie=Sr(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return Ie?{width:Ie}:{}}),A=P(()=>{if(y.value==="top"||a!=null&&a.inline)return{};if(!n.label&&!n.labelWidth&&M)return{};const Ie=Sr(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return!n.label&&!r.label?{marginLeft:Ie}:{}}),w=P(()=>[i.b(),i.m(s.value),i.is("error",u.value==="error"),i.is("validating",u.value==="validating"),i.is("success",u.value==="success"),i.is("required",$.value||n.required),i.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[i.m("feedback")]:a==null?void 0:a.statusIcon,[i.m(`label-${y.value}`)]:y.value}]),S=P(()=>Kn(n.inlineMessage)?n.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),C=P(()=>[i.e("error"),{[i.em("error","inline")]:S.value}]),E=P(()=>n.prop?Mt(n.prop)?n.prop:n.prop.join("."):""),I=P(()=>!!(n.label||r.label)),k=P(()=>n.for||(c.value.length===1?c.value[0]:void 0)),T=P(()=>!k.value&&I.value),M=!!o,D=P(()=>{const Ie=a==null?void 0:a.model;if(!(!Ie||!n.prop))return H0(Ie,n.prop).value}),B=P(()=>{const{required:Ie}=n,Re=[];n.rules&&Re.push(...Ia(n.rules));const Je=a==null?void 0:a.rules;if(Je&&n.prop){const Ye=H0(Je,n.prop).value;Ye&&Re.push(...Ia(Ye))}if(Ie!==void 0){const Ye=Re.map((Z,me)=>[Z,me]).filter(([Z])=>Object.keys(Z).includes("required"));if(Ye.length>0)for(const[Z,me]of Ye)Z.required!==Ie&&(Re[me]={...Z,required:Ie});else Re.push({required:Ie})}return Re}),z=P(()=>B.value.length>0),q=Ie=>B.value.filter(Je=>!Je.trigger||!Ie?!0:nt(Je.trigger)?Je.trigger.includes(Ie):Je.trigger===Ie).map(({trigger:Je,...Ye})=>Ye),$=P(()=>B.value.some(Ie=>Ie.required)),L=P(()=>{var Ie;return f.value==="error"&&n.showMessage&&((Ie=a==null?void 0:a.showMessage)!=null?Ie:!0)}),W=P(()=>`${n.label||""}${(a==null?void 0:a.labelSuffix)||""}`),U=Ie=>{u.value=Ie},F=Ie=>{var Re,Je;const{errors:Ye,fields:Z}=Ie;(!Ye||!Z)&&console.error(Ie),U("error"),h.value=Ye?(Je=(Re=Ye==null?void 0:Ye[0])==null?void 0:Re.message)!=null?Je:`${n.prop} is required`:"",a==null||a.emit("validate",n.prop,!1,h.value)},Q=()=>{U("success"),a==null||a.emit("validate",n.prop,!0,"")},ne=async Ie=>{const Re=E.value;return new gh({[Re]:Ie}).validate({[Re]:D.value},{firstFields:!0}).then(()=>(Q(),!0)).catch(Ye=>(F(Ye),Promise.reject(Ye)))},de=async(Ie,Re)=>{if(g||!n.prop)return!1;const Je=Pt(Re);if(!z.value)return Re==null||Re(!1),!1;const Ye=q(Ie);return Ye.length===0?(Re==null||Re(!0),!0):(U("validating"),ne(Ye).then(()=>(Re==null||Re(!0),!0)).catch(Z=>{const{fields:me}=Z;return Re==null||Re(!1,me),Je?!1:Promise.reject(me)}))},ie=()=>{U(""),h.value="",g=!1},ce=async()=>{const Ie=a==null?void 0:a.model;if(!Ie||!n.prop)return;const Re=H0(Ie,n.prop);g=!0,Re.value=m4(m),await Bt(),ie(),g=!1},ge=Ie=>{c.value.includes(Ie)||c.value.push(Ie)},Ae=Ie=>{c.value=c.value.filter(Re=>Re!==Ie)};Qe(()=>n.error,Ie=>{h.value=Ie||"",U(Ie?"error":"")},{immediate:!0}),Qe(()=>n.validateStatus,Ie=>U(Ie||""));const pe=Mn({...jr(n),$el:p,size:s,validateState:u,labelId:l,inputIds:c,isGroup:T,hasLabel:I,fieldValue:D,addInputId:ge,removeInputId:Ae,resetField:ce,clearValidate:ie,validate:de});return vn(Rs,pe),Yt(()=>{n.prop&&(a==null||a.addField(pe),m=m4(D.value))}),Un(()=>{a==null||a.removeField(pe)}),e({size:s,validateMessage:h,validateState:u,validate:de,clearValidate:ie,resetField:ce}),(Ie,Re)=>{var Je;return N(),ee("div",{ref_key:"formItemRef",ref:p,class:V(d(w)),role:d(T)?"group":void 0,"aria-labelledby":d(T)?d(l):void 0},[J(d(uX),{"is-auto-width":d(v).width==="auto","update-all":((Je=d(a))==null?void 0:Je.labelWidth)==="auto"},{default:le(()=>[d(I)?(N(),Ue(ln(d(k)?"label":"div"),{key:0,id:d(l),for:d(k),class:V(d(i).e("label")),style:bt(d(v))},{default:le(()=>[Me(Ie.$slots,"label",{label:d(W)},()=>[Zt(rt(d(W)),1)])]),_:3},8,["id","for","class","style"])):Te("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),re("div",{class:V(d(i).e("content")),style:bt(d(A))},[Me(Ie.$slots,"default"),J(aE,{name:`${d(i).namespace.value}-zoom-in-top`},{default:le(()=>[d(L)?Me(Ie.$slots,"error",{key:0,error:h.value},()=>[re("div",{class:V(d(C))},rt(h.value),3)]):Te("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var v5=st(fX,[["__file","form-item.vue"]]);const hX=qt(IY,{FormItem:v5}),pX=hr(v5),mX=at({urlList:{type:xe(Array),default:()=>fr([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:xe(String)}}),vX={close:()=>!0,switch:t=>Nt(t),rotate:t=>Nt(t)},gX=he({name:"ElImageViewer"}),yX=he({...gX,props:mX,emits:vX,setup(t,{expose:e,emit:n}){var r;const a=t,o={CONTAIN:{name:"contain",icon:di(qO)},ORIGINAL:{name:"original",icon:di(hz)}},{t:s}=_n(),i=Ze("image-viewer"),{nextZIndex:l}=bd(),c=j(),u=j([]),f=$R(),h=j(!0),p=j(a.initialIndex),m=Xn(o.CONTAIN),g=j({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),y=j((r=a.zIndex)!=null?r:l()),v=P(()=>{const{urlList:de}=a;return de.length<=1}),A=P(()=>p.value===0),w=P(()=>p.value===a.urlList.length-1),S=P(()=>a.urlList[p.value]),C=P(()=>[i.e("btn"),i.e("prev"),i.is("disabled",!a.infinite&&A.value)]),E=P(()=>[i.e("btn"),i.e("next"),i.is("disabled",!a.infinite&&w.value)]),I=P(()=>{const{scale:de,deg:ie,offsetX:ce,offsetY:ge,enableTransition:Ae}=g.value;let pe=ce/de,Ie=ge/de;const Re=ie*Math.PI/180,Je=Math.cos(Re),Ye=Math.sin(Re);pe=pe*Je+Ie*Ye,Ie=Ie*Je-ce/de*Ye;const Z={transform:`scale(${de}) rotate(${ie}deg) translate(${pe}px, ${Ie}px)`,transition:Ae?"transform .3s":""};return m.value.name===o.CONTAIN.name&&(Z.maxWidth=Z.maxHeight="100%"),Z});function k(){M(),n("close")}function T(){const de=fc(ce=>{switch(ce.code){case mt.esc:a.closeOnPressEscape&&k();break;case mt.space:$();break;case mt.left:W();break;case mt.up:F("zoomIn");break;case mt.right:U();break;case mt.down:F("zoomOut");break}}),ie=fc(ce=>{const ge=ce.deltaY||ce.deltaX;F(ge<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});f.run(()=>{Ln(document,"keydown",de),Ln(document,"wheel",ie)})}function M(){f.stop()}function D(){h.value=!1}function B(de){h.value=!1,de.target.alt=s("el.image.error")}function z(de){if(h.value||de.button!==0||!c.value)return;g.value.enableTransition=!1;const{offsetX:ie,offsetY:ce}=g.value,ge=de.pageX,Ae=de.pageY,pe=fc(Re=>{g.value={...g.value,offsetX:ie+Re.pageX-ge,offsetY:ce+Re.pageY-Ae}}),Ie=Ln(document,"mousemove",pe);Ln(document,"mouseup",()=>{Ie()}),de.preventDefault()}function q(){g.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function $(){if(h.value)return;const de=$u(o),ie=Object.values(o),ce=m.value.name,Ae=(ie.findIndex(pe=>pe.name===ce)+1)%de.length;m.value=o[de[Ae]],q()}function L(de){const ie=a.urlList.length;p.value=(de+ie)%ie}function W(){A.value&&!a.infinite||L(p.value-1)}function U(){w.value&&!a.infinite||L(p.value+1)}function F(de,ie={}){if(h.value)return;const{minScale:ce,maxScale:ge}=a,{zoomRate:Ae,rotateDeg:pe,enableTransition:Ie}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...ie};switch(de){case"zoomOut":g.value.scale>ce&&(g.value.scale=Number.parseFloat((g.value.scale/Ae).toFixed(3)));break;case"zoomIn":g.value.scale<ge&&(g.value.scale=Number.parseFloat((g.value.scale*Ae).toFixed(3)));break;case"clockwise":g.value.deg+=pe,n("rotate",g.value.deg);break;case"anticlockwise":g.value.deg-=pe,n("rotate",g.value.deg);break}g.value.enableTransition=Ie}function Q(de){var ie;((ie=de.detail)==null?void 0:ie.focusReason)==="pointer"&&de.preventDefault()}function ne(){a.closeOnPressEscape&&k()}return Qe(S,()=>{Bt(()=>{const de=u.value[0];de!=null&&de.complete||(h.value=!0)})}),Qe(p,de=>{q(),n("switch",de)}),Yt(()=>{T()}),e({setActiveItem:L}),(de,ie)=>(N(),Ue(d(wd),{to:"body",disabled:!de.teleported},{default:le(()=>[J(Vr,{name:"viewer-fade",appear:""},{default:le(()=>[re("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:V(d(i).e("wrapper")),style:bt({zIndex:y.value})},[J(d(_d),{loop:"",trapped:"","focus-trap-el":c.value,"focus-start-el":"container",onFocusoutPrevented:Q,onReleaseRequested:ne},{default:le(()=>[re("div",{class:V(d(i).e("mask")),onClick:zt(ce=>de.hideOnClickModal&&k(),["self"])},null,10,["onClick"]),Te(" CLOSE "),re("span",{class:V([d(i).e("btn"),d(i).e("close")]),onClick:k},[J(d(Ct),null,{default:le(()=>[J(d(cs))]),_:1})],2),Te(" ARROW "),d(v)?Te("v-if",!0):(N(),ee(Et,{key:0},[re("span",{class:V(d(C)),onClick:W},[J(d(Ct),null,{default:le(()=>[J(d(pl))]),_:1})],2),re("span",{class:V(d(E)),onClick:U},[J(d(Ct),null,{default:le(()=>[J(d(Ha))]),_:1})],2)],64)),Te(" ACTIONS "),re("div",{class:V([d(i).e("btn"),d(i).e("actions")])},[re("div",{class:V(d(i).e("actions__inner"))},[J(d(Ct),{onClick:ce=>F("zoomOut")},{default:le(()=>[J(d(Iz))]),_:1},8,["onClick"]),J(d(Ct),{onClick:ce=>F("zoomIn")},{default:le(()=>[J(d(_M))]),_:1},8,["onClick"]),re("i",{class:V(d(i).e("actions__divider"))},null,2),J(d(Ct),{onClick:$},{default:le(()=>[(N(),Ue(ln(d(m).icon)))]),_:1}),re("i",{class:V(d(i).e("actions__divider"))},null,2),J(d(Ct),{onClick:ce=>F("anticlockwise")},{default:le(()=>[J(d(cz))]),_:1},8,["onClick"]),J(d(Ct),{onClick:ce=>F("clockwise")},{default:le(()=>[J(d(dz))]),_:1},8,["onClick"])],2)],2),Te(" CANVAS "),re("div",{class:V(d(i).e("canvas"))},[(N(!0),ee(Et,null,fn(de.urlList,(ce,ge)=>Qt((N(),ee("img",{ref_for:!0,ref:Ae=>u.value[ge]=Ae,key:ce,src:ce,style:bt(d(I)),class:V(d(i).e("img")),crossorigin:de.crossorigin,onLoad:D,onError:B,onMousedown:z},null,46,["src","crossorigin"])),[[En,ge===p.value]])),128))],2),Me(de.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var bX=st(yX,[["__file","image-viewer.vue"]]);const g5=qt(bX),SX=at({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:xe([String,Object])},previewSrcList:{type:xe(Array),default:()=>fr([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:xe(String)}}),_X={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Nt(t),close:()=>!0,show:()=>!0},wX=he({name:"ElImage",inheritAttrs:!1}),xX=he({...wX,props:SX,emits:_X,setup(t,{emit:e}){const n=t;let r="";const{t:a}=_n(),o=Ze("image"),s=xl(),i=P(()=>Ff(Object.entries(s).filter(([U])=>/^(data-|on[A-Z])/i.test(U)||["id","style"].includes(U)))),l=hh({excludeListeners:!0,excludeKeys:P(()=>Object.keys(i.value))}),c=j(),u=j(!1),f=j(!0),h=j(!1),p=j(),m=j(),g=Sn&&"loading"in HTMLImageElement.prototype;let y,v;const A=P(()=>[o.e("inner"),S.value&&o.e("preview"),f.value&&o.is("loading")]),w=P(()=>{const{fit:U}=n;return Sn&&U?{objectFit:U}:{}}),S=P(()=>{const{previewSrcList:U}=n;return nt(U)&&U.length>0}),C=P(()=>{const{previewSrcList:U,initialIndex:F}=n;let Q=F;return F>U.length-1&&(Q=0),Q}),E=P(()=>n.loading==="eager"?!1:!g&&n.loading==="lazy"||n.lazy),I=()=>{Sn&&(f.value=!0,u.value=!1,c.value=n.src)};function k(U){f.value=!1,u.value=!1,e("load",U)}function T(U){f.value=!1,u.value=!0,e("error",U)}function M(){WG(p.value,m.value)&&(I(),z())}const D=eM(M,200,!0);async function B(){var U;if(!Sn)return;await Bt();const{scrollContainer:F}=n;vo(F)?m.value=F:Mt(F)&&F!==""?m.value=(U=document.querySelector(F))!=null?U:void 0:p.value&&(m.value=Yb(p.value)),m.value&&(y=Ln(m,"scroll",D),setTimeout(()=>M(),100))}function z(){!Sn||!m.value||!D||(y==null||y(),m.value=void 0)}function q(U){if(U.ctrlKey){if(U.deltaY<0)return U.preventDefault(),!1;if(U.deltaY>0)return U.preventDefault(),!1}}function $(){S.value&&(v=Ln("wheel",q,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",h.value=!0,e("show"))}function L(){v==null||v(),document.body.style.overflow=r,h.value=!1,e("close")}function W(U){e("switch",U)}return Qe(()=>n.src,()=>{E.value?(f.value=!0,u.value=!1,z(),B()):I()}),Yt(()=>{E.value?B():I()}),(U,F)=>(N(),ee("div",un({ref_key:"container",ref:p},d(i),{class:[d(o).b(),U.$attrs.class]}),[u.value?Me(U.$slots,"error",{key:0},()=>[re("div",{class:V(d(o).e("error"))},rt(d(a)("el.image.error")),3)]):(N(),ee(Et,{key:1},[c.value!==void 0?(N(),ee("img",un({key:0},d(l),{src:c.value,loading:U.loading,style:d(w),class:d(A),crossorigin:U.crossorigin,onClick:$,onLoad:k,onError:T}),null,16,["src","loading","crossorigin"])):Te("v-if",!0),f.value?(N(),ee("div",{key:1,class:V(d(o).e("wrapper"))},[Me(U.$slots,"placeholder",{},()=>[re("div",{class:V(d(o).e("placeholder"))},null,2)])],2)):Te("v-if",!0)],64)),d(S)?(N(),ee(Et,{key:2},[h.value?(N(),Ue(d(g5),{key:0,"z-index":U.zIndex,"initial-index":d(C),infinite:U.infinite,"zoom-rate":U.zoomRate,"min-scale":U.minScale,"max-scale":U.maxScale,"url-list":U.previewSrcList,crossorigin:U.crossorigin,"hide-on-click-modal":U.hideOnClickModal,teleported:U.previewTeleported,"close-on-press-escape":U.closeOnPressEscape,onClose:L,onSwitch:W},{default:le(()=>[U.$slots.viewer?(N(),ee("div",{key:0},[Me(U.$slots,"viewer")])):Te("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Te("v-if",!0)],64)):Te("v-if",!0)],16))}});var CX=st(xX,[["__file","image.vue"]]);const AX=qt(CX),EX=at({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Or,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Nt(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...ca(["ariaLabel"])}),MX={[Fn]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[ya]:t=>Nt(t)||qr(t),[Jt]:t=>Nt(t)||qr(t)},TX=he({name:"ElInputNumber"}),IX=he({...TX,props:EX,emits:MX,setup(t,{expose:e,emit:n}){const r=t,{t:a}=_n(),o=Ze("input-number"),s=j(),i=Mn({currentValue:r.modelValue,userInput:null}),{formItem:l}=_a(),c=P(()=>Nt(r.modelValue)&&r.modelValue<=r.min),u=P(()=>Nt(r.modelValue)&&r.modelValue>=r.max),f=P(()=>{const $=v(r.step);return Bn(r.precision)?Math.max(v(r.modelValue),$):($>r.precision,r.precision)}),h=P(()=>r.controls&&r.controlsPosition==="right"),p=Dr(),m=wa(),g=P(()=>{if(i.userInput!==null)return i.userInput;let $=i.currentValue;if(qr($))return"";if(Nt($)){if(Number.isNaN($))return"";Bn(r.precision)||($=$.toFixed(r.precision))}return $}),y=($,L)=>{if(Bn(L)&&(L=f.value),L===0)return Math.round($);let W=String($);const U=W.indexOf(".");if(U===-1||!W.replace(".","").split("")[U+L])return $;const ne=W.length;return W.charAt(ne-1)==="5"&&(W=`${W.slice(0,Math.max(0,ne-1))}6`),Number.parseFloat(Number(W).toFixed(L))},v=$=>{if(qr($))return 0;const L=$.toString(),W=L.indexOf(".");let U=0;return W!==-1&&(U=L.length-W-1),U},A=($,L=1)=>Nt($)?y($+r.step*L):i.currentValue,w=()=>{if(r.readonly||m.value||u.value)return;const $=Number(g.value)||0,L=A($);E(L),n(ya,i.currentValue),z()},S=()=>{if(r.readonly||m.value||c.value)return;const $=Number(g.value)||0,L=A($,-1);E(L),n(ya,i.currentValue),z()},C=($,L)=>{const{max:W,min:U,step:F,precision:Q,stepStrictly:ne,valueOnClear:de}=r;W<U&&Wr("InputNumber","min should not be greater than max.");let ie=Number($);if(qr($)||Number.isNaN(ie))return null;if($===""){if(de===null)return null;ie=Mt(de)?{min:U,max:W}[de]:de}return ne&&(ie=y(Math.round(ie/F)*F,Q),ie!==$&&L&&n(Jt,ie)),Bn(Q)||(ie=y(ie,Q)),(ie>W||ie<U)&&(ie=ie>W?W:U,L&&n(Jt,ie)),ie},E=($,L=!0)=>{var W;const U=i.currentValue,F=C($);if(!L){n(Jt,F);return}U===F&&$||(i.userInput=null,n(Jt,F),U!==F&&n(Fn,F,U),r.validateEvent&&((W=l==null?void 0:l.validate)==null||W.call(l,"change").catch(Q=>void 0)),i.currentValue=F)},I=$=>{i.userInput=$;const L=$===""?null:Number($);n(ya,L),E(L,!1)},k=$=>{const L=$!==""?Number($):"";(Nt(L)&&!Number.isNaN(L)||$==="")&&E(L),z(),i.userInput=null},T=()=>{var $,L;(L=($=s.value)==null?void 0:$.focus)==null||L.call($)},M=()=>{var $,L;(L=($=s.value)==null?void 0:$.blur)==null||L.call($)},D=$=>{n("focus",$)},B=$=>{var L,W;i.userInput=null,xm()&&i.currentValue===null&&((L=s.value)!=null&&L.input)&&(s.value.input.value=""),n("blur",$),r.validateEvent&&((W=l==null?void 0:l.validate)==null||W.call(l,"blur").catch(U=>void 0))},z=()=>{i.currentValue!==r.modelValue&&(i.currentValue=r.modelValue)},q=$=>{document.activeElement===$.target&&$.preventDefault()};return Qe(()=>r.modelValue,($,L)=>{const W=C($,!0);i.userInput===null&&W!==L&&(i.currentValue=W)},{immediate:!0}),Yt(()=>{var $;const{min:L,max:W,modelValue:U}=r,F=($=s.value)==null?void 0:$.input;if(F.setAttribute("role","spinbutton"),Number.isFinite(W)?F.setAttribute("aria-valuemax",String(W)):F.removeAttribute("aria-valuemax"),Number.isFinite(L)?F.setAttribute("aria-valuemin",String(L)):F.removeAttribute("aria-valuemin"),F.setAttribute("aria-valuenow",i.currentValue||i.currentValue===0?String(i.currentValue):""),F.setAttribute("aria-disabled",String(m.value)),!Nt(U)&&U!=null){let Q=Number(U);Number.isNaN(Q)&&(Q=null),n(Jt,Q)}F.addEventListener("wheel",q,{passive:!1})}),Fs(()=>{var $,L;const W=($=s.value)==null?void 0:$.input;W==null||W.setAttribute("aria-valuenow",`${(L=i.currentValue)!=null?L:""}`)}),e({focus:T,blur:M}),($,L)=>(N(),ee("div",{class:V([d(o).b(),d(o).m(d(p)),d(o).is("disabled",d(m)),d(o).is("without-controls",!$.controls),d(o).is("controls-right",d(h))]),onDragstart:zt(()=>{},["prevent"])},[$.controls?Qt((N(),ee("span",{key:0,role:"button","aria-label":d(a)("el.inputNumber.decrease"),class:V([d(o).e("decrease"),d(o).is("disabled",d(c))]),onKeydown:Vn(S,["enter"])},[Me($.$slots,"decrease-icon",{},()=>[J(d(Ct),null,{default:le(()=>[d(h)?(N(),Ue(d(xi),{key:0})):(N(),Ue(d(JO),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[d(xp),S]]):Te("v-if",!0),$.controls?Qt((N(),ee("span",{key:1,role:"button","aria-label":d(a)("el.inputNumber.increase"),class:V([d(o).e("increase"),d(o).is("disabled",d(u))]),onKeydown:Vn(w,["enter"])},[Me($.$slots,"increase-icon",{},()=>[J(d(Ct),null,{default:le(()=>[d(h)?(N(),Ue(d(Qb),{key:0})):(N(),Ue(d(bM),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[d(xp),w]]):Te("v-if",!0),J(d(ka),{id:$.id,ref_key:"input",ref:s,type:"number",step:$.step,"model-value":d(g),placeholder:$.placeholder,readonly:$.readonly,disabled:d(m),size:d(p),max:$.max,min:$.min,name:$.name,"aria-label":$.ariaLabel,"validate-event":!1,onKeydown:[Vn(zt(w,["prevent"]),["up"]),Vn(zt(S,["prevent"]),["down"])],onBlur:B,onFocus:D,onInput:I,onChange:k},Oo({_:2},[$.$slots.prefix?{name:"prefix",fn:le(()=>[Me($.$slots,"prefix")])}:void 0,$.$slots.suffix?{name:"suffix",fn:le(()=>[Me($.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var RX=st(IX,[["__file","input-number.vue"]]);const y5=qt(RX),kX=at({modelValue:{type:xe(Array)},max:Number,tagType:{...vi.type,default:"info"},tagEffect:vi.effect,trigger:{type:xe(String),default:mt.enter},draggable:{type:Boolean,default:!1},size:Or,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),DX={[Jt]:t=>nt(t)||Bn(t),[Fn]:t=>nt(t)||Bn(t),[ya]:t=>Mt(t),"add-tag":t=>Mt(t),"remove-tag":t=>Mt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0};function PX({props:t,emit:e,formItem:n}){const r=wa(),a=Dr(),o=Xn(),s=j(),i=P(()=>["small"].includes(a.value)?"small":"default"),l=P(()=>{var T;return(T=t.modelValue)!=null&&T.length?void 0:t.placeholder}),c=P(()=>!(t.readonly||r.value)),u=P(()=>{var T,M;return Bn(t.max)?!1:((M=(T=t.modelValue)==null?void 0:T.length)!=null?M:0)>=t.max}),f=T=>{if(u.value){s.value=void 0;return}C.value||e(ya,T.target.value)},h=T=>{var M;if(!C.value)switch(T.code){case t.trigger:T.preventDefault(),T.stopPropagation(),p();break;case mt.numpadEnter:t.trigger===mt.enter&&(T.preventDefault(),T.stopPropagation(),p());break;case mt.backspace:!s.value&&((M=t.modelValue)!=null&&M.length)&&(T.preventDefault(),T.stopPropagation(),m(t.modelValue.length-1));break}},p=()=>{var T,M;const D=(T=s.value)==null?void 0:T.trim();if(!D||u.value)return;const B=[...(M=t.modelValue)!=null?M:[],D];e(Jt,B),e(Fn,B),e("add-tag",D),s.value=void 0},m=T=>{var M;const D=((M=t.modelValue)!=null?M:[]).slice(),[B]=D.splice(T,1);e(Jt,D),e(Fn,D),e("remove-tag",B)},g=()=>{s.value=void 0,e(Jt,void 0),e(Fn,void 0),e("clear")},y=(T,M,D)=>{var B;const z=((B=t.modelValue)!=null?B:[]).slice(),[q]=z.splice(T,1),$=M>T&&D==="before"?-1:M<T&&D==="after"?1:0;z.splice(M+$,0,q),e(Jt,z),e(Fn,z)},v=()=>{var T;(T=o.value)==null||T.focus()},A=()=>{var T;(T=o.value)==null||T.blur()},{wrapperRef:w,isFocused:S}=Al(o,{beforeFocus(){return r.value},afterBlur(){var T;p(),t.validateEvent&&((T=n==null?void 0:n.validate)==null||T.call(n,"blur").catch(M=>void 0))}}),{isComposing:C,handleCompositionStart:E,handleCompositionUpdate:I,handleCompositionEnd:k}=ph({afterComposition:f});return Qe(()=>t.modelValue,()=>{var T;t.validateEvent&&((T=n==null?void 0:n.validate)==null||T.call(n,Fn).catch(M=>void 0))}),{inputRef:o,wrapperRef:w,isFocused:S,isComposing:C,inputValue:s,size:a,tagSize:i,placeholder:l,closable:c,disabled:r,inputLimit:u,handleDragged:y,handleInput:f,handleKeydown:h,handleAddTag:p,handleRemoveTag:m,handleClear:g,handleCompositionStart:E,handleCompositionUpdate:I,handleCompositionEnd:k,focus:v,blur:A}}function BX(){const t=j(!1);return{hovering:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}function LX(){const t=Xn(),e=j(0),n=11,r=P(()=>({minWidth:`${Math.max(e.value,n)}px`}));return or(t,()=>{var o,s;e.value=(s=(o=t.value)==null?void 0:o.getBoundingClientRect().width)!=null?s:0}),{calculatorRef:t,calculatorWidth:e,inputStyle:r}}function NX({wrapperRef:t,handleDragged:e,afterDragged:n}){const r=Ze("input-tag"),a=Xn(),o=j(!1);let s,i,l,c;function u(m){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${m+1})`}function f(m,g){s=g,i=t.value.querySelector(u(g)),i&&(i.style.opacity="0.5"),m.dataTransfer.effectAllowed="move"}function h(m,g){if(l=g,m.preventDefault(),m.dataTransfer.dropEffect="move",Bn(s)||s===g){o.value=!1;return}const y=t.value.querySelector(u(g)).getBoundingClientRect(),v=s+1!==g,A=s-1!==g,w=m.clientX-y.left,S=v?A?.5:1:-1,C=A?v?.5:0:1;w<=y.width*S?c="before":w>y.width*C?c="after":c=void 0;const E=t.value.querySelector(`.${r.e("inner")}`),I=E.getBoundingClientRect(),k=Number.parseFloat(ii(E,"gap"))/2,T=y.top-I.top;let M=-9999;if(c==="before")M=Math.max(y.left-I.left-k,Math.floor(-k/2));else if(c==="after"){const D=y.right-I.left;M=D+(I.width===D?Math.floor(k/2):k)}hM(a.value,{top:`${T}px`,left:`${M}px`}),o.value=!!c}function p(m){m.preventDefault(),i&&(i.style.opacity=""),c&&!Bn(s)&&!Bn(l)&&s!==l&&e(s,l,c),o.value=!1,s=void 0,i=null,l=void 0,c=void 0,n==null||n()}return{dropIndicatorRef:a,showDropIndicator:o,handleDragStart:f,handleDragOver:h,handleDragEnd:p}}function FX({props:t,isFocused:e,hovering:n,disabled:r,inputValue:a,size:o,validateState:s,validateIcon:i,needStatusIcon:l}){const c=xl(),u=zr(),f=Ze("input-tag"),h=Ze("input"),p=P(()=>[f.b(),f.is("focused",e.value),f.is("hovering",n.value),f.is("disabled",r.value),f.m(o.value),f.e("wrapper"),c.class]),m=P(()=>[c.style]),g=P(()=>{var A,w;return[f.e("inner"),f.is("draggable",t.draggable),f.is("left-space",!((A=t.modelValue)!=null&&A.length)&&!u.prefix),f.is("right-space",!((w=t.modelValue)!=null&&w.length)&&!v.value)]}),y=P(()=>{var A;return t.clearable&&!r.value&&!t.readonly&&(((A=t.modelValue)==null?void 0:A.length)||a.value)&&(e.value||n.value)}),v=P(()=>u.suffix||y.value||s.value&&i.value&&l.value);return{ns:f,nsInput:h,containerKls:p,containerStyle:m,innerKls:g,showClear:y,showSuffix:v}}const OX=he({name:"ElInputTag",inheritAttrs:!1}),zX=he({...OX,props:kX,emits:DX,setup(t,{expose:e,emit:n}){const r=t,a=hh(),o=zr(),{form:s,formItem:i}=_a(),{inputId:l}=Wo(r,{formItemContext:i}),c=P(()=>{var Z;return(Z=s==null?void 0:s.statusIcon)!=null?Z:!1}),u=P(()=>(i==null?void 0:i.validateState)||""),f=P(()=>u.value&&wm[u.value]),{inputRef:h,wrapperRef:p,isFocused:m,inputValue:g,size:y,tagSize:v,placeholder:A,closable:w,disabled:S,handleDragged:C,handleInput:E,handleKeydown:I,handleRemoveTag:k,handleClear:T,handleCompositionStart:M,handleCompositionUpdate:D,handleCompositionEnd:B,focus:z,blur:q}=PX({props:r,emit:n,formItem:i}),{hovering:$,handleMouseEnter:L,handleMouseLeave:W}=BX(),{calculatorRef:U,inputStyle:F}=LX(),{dropIndicatorRef:Q,showDropIndicator:ne,handleDragStart:de,handleDragOver:ie,handleDragEnd:ce}=NX({wrapperRef:p,handleDragged:C,afterDragged:z}),{ns:ge,nsInput:Ae,containerKls:pe,containerStyle:Ie,innerKls:Re,showClear:Je,showSuffix:Ye}=FX({props:r,hovering:$,isFocused:m,inputValue:g,disabled:S,size:y,validateState:u,validateIcon:f,needStatusIcon:c});return e({focus:z,blur:q}),(Z,me)=>(N(),ee("div",{ref_key:"wrapperRef",ref:p,class:V(d(pe)),style:bt(d(Ie)),onMouseenter:d(L),onMouseleave:d(W)},[d(o).prefix?(N(),ee("div",{key:0,class:V(d(ge).e("prefix"))},[Me(Z.$slots,"prefix")],2)):Te("v-if",!0),re("div",{class:V(d(Re))},[(N(!0),ee(Et,null,fn(Z.modelValue,(oe,Ve)=>(N(),Ue(d(ju),{key:Ve,size:d(v),closable:d(w),type:Z.tagType,effect:Z.tagEffect,draggable:d(w)&&Z.draggable,"disable-transitions":"",onClose:Le=>d(k)(Ve),onDragstart:Le=>d(de)(Le,Ve),onDragover:Le=>d(ie)(Le,Ve),onDragend:d(ce),onDrop:zt(()=>{},["stop"])},{default:le(()=>[Me(Z.$slots,"tag",{value:oe,index:Ve},()=>[Zt(rt(oe),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),re("div",{class:V(d(ge).e("input-wrapper"))},[Qt(re("input",un({id:d(l),ref_key:"inputRef",ref:h,"onUpdate:modelValue":oe=>jn(g)?g.value=oe:null},d(a),{type:"text",minlength:Z.minlength,maxlength:Z.maxlength,disabled:d(S),readonly:Z.readonly,autocomplete:Z.autocomplete,tabindex:Z.tabindex,placeholder:d(A),autofocus:Z.autofocus,ariaLabel:Z.ariaLabel,class:d(ge).e("input"),style:d(F),onCompositionstart:d(M),onCompositionupdate:d(D),onCompositionend:d(B),onInput:d(E),onKeydown:d(I)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[cm,d(g)]]),re("span",{ref_key:"calculatorRef",ref:U,"aria-hidden":"true",class:V(d(ge).e("input-calculator")),textContent:rt(d(g))},null,10,["textContent"])],2),Qt(re("div",{ref_key:"dropIndicatorRef",ref:Q,class:V(d(ge).e("drop-indicator"))},null,2),[[En,d(ne)]])],2),d(Ye)?(N(),ee("div",{key:1,class:V(d(ge).e("suffix"))},[Me(Z.$slots,"suffix"),d(Je)?(N(),Ue(d(Ct),{key:0,class:V([d(ge).e("icon"),d(ge).e("clear")]),onMousedown:zt(d(Dn),["prevent"]),onClick:d(T)},{default:le(()=>[J(d(Ci))]),_:1},8,["class","onMousedown","onClick"])):Te("v-if",!0),d(u)&&d(f)&&d(c)?(N(),Ue(d(Ct),{key:1,class:V([d(Ae).e("icon"),d(Ae).e("validateIcon"),d(Ae).is("loading",d(u)==="validating")])},{default:le(()=>[(N(),Ue(ln(d(f))))]),_:1},8,["class"])):Te("v-if",!0)],2)):Te("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var UX=st(zX,[["__file","input-tag.vue"]]);const HX=qt(UX),$X=at({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:On}}),VX={click:t=>t instanceof MouseEvent},WX=he({name:"ElLink"}),GX=he({...WX,props:$X,emits:VX,setup(t,{emit:e}){const n=t,r=Ze("link"),a=P(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function o(s){n.disabled||e("click",s)}return(s,i)=>(N(),ee("a",{class:V(d(a)),href:s.disabled||!s.href?void 0:s.href,target:s.disabled||!s.href?void 0:s.target,onClick:o},[s.icon?(N(),Ue(d(Ct),{key:0},{default:le(()=>[(N(),Ue(ln(s.icon)))]),_:1})):Te("v-if",!0),s.$slots.default?(N(),ee("span",{key:1,class:V(d(r).e("inner"))},[Me(s.$slots,"default")],2)):Te("v-if",!0),s.$slots.icon?Me(s.$slots,"icon",{key:2}):Te("v-if",!0)],10,["href","target"]))}});var KX=st(GX,[["__file","link.vue"]]);const qX=qt(KX);let jX=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let a=!1;switch(r.code){case mt.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case mt.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case mt.tab:{$0(e,"mouseleave");break}case mt.enter:case mt.numpadEnter:case mt.space:{a=!0,r.currentTarget.click();break}}return a&&(r.preventDefault(),r.stopPropagation()),!1})})}},YX=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new jX(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case mt.down:{$0(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case mt.up:{$0(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case mt.tab:{$0(e.currentTarget,"mouseleave");break}case mt.enter:case mt.numpadEnter:case mt.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},XX=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new YX(r,e)})}};const QX=he({name:"ElMenuCollapseTransition",setup(){const t=Ze("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){Do(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){Pa(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Ya(n,t.m("collapse"))?(Pa(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Do(n,t.m("collapse"))):(Do(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Pa(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Do(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function ZX(t,e,n,r,a,o){return N(),Ue(Vr,un({mode:"out-in"},t.listeners),{default:le(()=>[Me(t.$slots,"default")]),_:3},16)}var JX=st(QX,[["render",ZX],["__file","menu-collapse-transition.vue"]]);function b5(t,e){const n=P(()=>{let a=t.parent;const o=[e.value];for(;a.type.name!=="ElMenu";)a.props.index&&o.unshift(a.props.index),a=a.parent;return o});return{parentMenu:P(()=>{let a=t.parent;for(;a&&!["ElMenu","ElSubMenu"].includes(a.type.name);)a=a.parent;return a}),indexPath:n}}function eQ(t){return P(()=>{const n=t.backgroundColor;return n?new nT(n).shade(20).toString():""})}const S5=(t,e)=>{const n=Ze("menu");return P(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":eQ(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},tQ=at({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:On},expandOpenIcon:{type:On},collapseCloseIcon:{type:On},collapseOpenIcon:{type:On}}),qv="ElSubMenu";var N2=he({name:qv,props:tQ,setup(t,{slots:e,expose:n}){const r=nn(),{indexPath:a,parentMenu:o}=b5(r,P(()=>t.index)),s=Ze("menu"),i=Ze("sub-menu"),l=St("rootMenu");l||Wr(qv,"can not inject root menu");const c=St(`subMenu:${o.value.uid}`);c||Wr(qv,"can not inject sub menu");const u=j({}),f=j({});let h;const p=j(!1),m=j(),g=j(null),y=P(()=>k.value==="horizontal"&&A.value?"bottom-start":"right-start"),v=P(()=>k.value==="horizontal"&&A.value||k.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?E.value?t.expandOpenIcon:t.expandCloseIcon:xi:t.collapseCloseIcon&&t.collapseOpenIcon?E.value?t.collapseOpenIcon:t.collapseCloseIcon:Ha),A=P(()=>c.level===0),w=P(()=>{const Q=t.teleported;return Q===void 0?A.value:Q}),S=P(()=>l.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),C=P(()=>k.value==="horizontal"&&A.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),E=P(()=>l.openedMenus.includes(t.index)),I=P(()=>{let Q=!1;return Object.values(u.value).forEach(ne=>{ne.active&&(Q=!0)}),Object.values(f.value).forEach(ne=>{ne.active&&(Q=!0)}),Q}),k=P(()=>l.props.mode),T=Mn({index:t.index,indexPath:a,active:I}),M=S5(l.props,c.level+1),D=P(()=>{var Q;return(Q=t.popperOffset)!=null?Q:l.props.popperOffset}),B=P(()=>{var Q;return(Q=t.popperClass)!=null?Q:l.props.popperClass}),z=P(()=>{var Q;return(Q=t.showTimeout)!=null?Q:l.props.showTimeout}),q=P(()=>{var Q;return(Q=t.hideTimeout)!=null?Q:l.props.hideTimeout}),$=()=>{var Q,ne,de;return(de=(ne=(Q=g.value)==null?void 0:Q.popperRef)==null?void 0:ne.popperInstanceRef)==null?void 0:de.destroy()},L=Q=>{Q||$()},W=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:a.value,active:I.value})},U=(Q,ne=z.value)=>{var de;if(Q.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,h==null||h(),{stop:h}=bc(()=>{l.openMenu(t.index,a.value)},ne),w.value&&((de=o.value.vnode.el)==null||de.dispatchEvent(new MouseEvent("mouseenter")))}},F=(Q=!1)=>{var ne;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){c.mouseInChild.value=!1;return}h==null||h(),c.mouseInChild.value=!1,{stop:h}=bc(()=>!p.value&&l.closeMenu(t.index,a.value),q.value),w.value&&Q&&((ne=c.handleMouseleave)==null||ne.call(c,!0))};Qe(()=>l.props.collapse,Q=>L(!!Q));{const Q=de=>{f.value[de.index]=de},ne=de=>{delete f.value[de.index]};vn(`subMenu:${r.uid}`,{addSubMenu:Q,removeSubMenu:ne,handleMouseleave:F,mouseInChild:p,level:c.level+1})}return n({opened:E}),Yt(()=>{l.addSubMenu(T),c.addSubMenu(T)}),Un(()=>{c.removeSubMenu(T),l.removeSubMenu(T)}),()=>{var Q;const ne=[(Q=e.title)==null?void 0:Q.call(e),Lt(Ct,{class:i.e("icon-arrow"),style:{transform:E.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Mt(v.value)?Lt(r.appContext.components[v.value]):Lt(v.value)})],de=l.isMenuPopup?Lt(Sa,{ref:g,visible:E.value,effect:"light",pure:!0,offset:D.value,showArrow:!1,persistent:!0,popperClass:B.value,placement:y.value,teleported:w.value,fallbackPlacements:C.value,transition:S.value,gpuAcceleration:!1},{content:()=>{var ie;return Lt("div",{class:[s.m(k.value),s.m("popup-container"),B.value],onMouseenter:ce=>U(ce,100),onMouseleave:()=>F(!0),onFocus:ce=>U(ce,100)},[Lt("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${y.value}`)],style:M.value},[(ie=e.default)==null?void 0:ie.call(e)])])},default:()=>Lt("div",{class:i.e("title"),onClick:W},ne)}):Lt(Et,{},[Lt("div",{class:i.e("title"),ref:m,onClick:W},ne),Lt(Mm,{},{default:()=>{var ie;return Qt(Lt("ul",{role:"menu",class:[s.b(),s.m("inline")],style:M.value},[(ie=e.default)==null?void 0:ie.call(e)]),[[En,E.value]])}})]);return Lt("li",{class:[i.b(),i.is("active",I.value),i.is("opened",E.value),i.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:E.value,onMouseenter:U,onMouseleave:()=>F(),onFocus:U},[de])}}});const nQ=at({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:xe(Array),default:()=>fr([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:On,default:()=>nz},popperEffect:{type:xe(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),jv=t=>nt(t)&&t.every(e=>Mt(e)),rQ={close:(t,e)=>Mt(t)&&jv(e),open:(t,e)=>Mt(t)&&jv(e),select:(t,e,n,r)=>Mt(t)&&jv(e)&&tn(n)&&(r===void 0||r instanceof Promise)};var aQ=he({name:"ElMenu",props:nQ,emits:rQ,setup(t,{emit:e,slots:n,expose:r}){const a=nn(),o=a.appContext.config.globalProperties.$router,s=j(),i=Ze("menu"),l=Ze("sub-menu"),c=j(-1),u=j(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),f=j(t.defaultActive),h=j({}),p=j({}),m=P(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),g=()=>{const $=f.value&&h.value[f.value];if(!$||t.mode==="horizontal"||t.collapse)return;$.indexPath.forEach(W=>{const U=p.value[W];U&&y(W,U.indexPath)})},y=($,L)=>{u.value.includes($)||(t.uniqueOpened&&(u.value=u.value.filter(W=>L.includes(W))),u.value.push($),e("open",$,L))},v=$=>{const L=u.value.indexOf($);L!==-1&&u.value.splice(L,1)},A=($,L)=>{v($),e("close",$,L)},w=({index:$,indexPath:L})=>{u.value.includes($)?A($,L):y($,L)},S=$=>{(t.mode==="horizontal"||t.collapse)&&(u.value=[]);const{index:L,indexPath:W}=$;if(!(qr(L)||qr(W)))if(t.router&&o){const U=$.route||L,F=o.push(U).then(Q=>(Q||(f.value=L),Q));e("select",L,W,{index:L,indexPath:W,route:U},F)}else f.value=L,e("select",L,W,{index:L,indexPath:W})},C=$=>{const L=h.value,W=L[$]||f.value&&L[f.value]||L[t.defaultActive];W?f.value=W.index:f.value=$},E=$=>{const L=getComputedStyle($),W=Number.parseInt(L.marginLeft,10),U=Number.parseInt(L.marginRight,10);return $.offsetWidth+W+U||0},I=()=>{var $,L;if(!s.value)return-1;const W=Array.from((L=($=s.value)==null?void 0:$.childNodes)!=null?L:[]).filter(ge=>ge.nodeName!=="#comment"&&(ge.nodeName!=="#text"||ge.nodeValue)),U=64,F=getComputedStyle(s.value),Q=Number.parseInt(F.paddingLeft,10),ne=Number.parseInt(F.paddingRight,10),de=s.value.clientWidth-Q-ne;let ie=0,ce=0;return W.forEach((ge,Ae)=>{ie+=E(ge),ie<=de-U&&(ce=Ae+1)}),ce===W.length?-1:ce},k=$=>p.value[$].indexPath,T=($,L=33.34)=>{let W;return()=>{W&&clearTimeout(W),W=setTimeout(()=>{$()},L)}};let M=!0;const D=()=>{if(c.value===I())return;const $=()=>{c.value=-1,Bt(()=>{c.value=I()})};M?$():T($)(),M=!1};Qe(()=>t.defaultActive,$=>{h.value[$]||(f.value=""),C($)}),Qe(()=>t.collapse,$=>{$&&(u.value=[])}),Qe(h.value,g);let B;ga(()=>{t.mode==="horizontal"&&t.ellipsis?B=or(s,D).stop:B==null||B()});const z=j(!1);{const $=F=>{p.value[F.index]=F},L=F=>{delete p.value[F.index]};vn("rootMenu",Mn({props:t,openedMenus:u,items:h,subMenus:p,activeIndex:f,isMenuPopup:m,addMenuItem:F=>{h.value[F.index]=F},removeMenuItem:F=>{delete h.value[F.index]},addSubMenu:$,removeSubMenu:L,openMenu:y,closeMenu:A,handleMenuItemClick:S,handleSubMenuClick:w})),vn(`subMenu:${a.uid}`,{addSubMenu:$,removeSubMenu:L,mouseInChild:z,level:0})}Yt(()=>{t.mode==="horizontal"&&new XX(a.vnode.el,i.namespace.value)}),r({open:L=>{const{indexPath:W}=p.value[L];W.forEach(U=>y(U,W))},close:v,handleResize:D});const q=S5(t,0);return()=>{var $,L;let W=(L=($=n.default)==null?void 0:$.call(n))!=null?L:[];const U=[];if(t.mode==="horizontal"&&s.value){const ne=rl(W),de=c.value===-1?ne:ne.slice(0,c.value),ie=c.value===-1?[]:ne.slice(c.value);ie!=null&&ie.length&&t.ellipsis&&(W=de,U.push(Lt(N2,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>Lt(Ct,{class:l.e("icon-more")},{default:()=>Lt(t.ellipsisIcon)}),default:()=>ie})))}const F=t.closeOnClickOutside?[[gi,()=>{u.value.length&&(z.value||(u.value.forEach(ne=>e("close",ne,k(ne))),u.value=[]))}]]:[],Q=Qt(Lt("ul",{key:String(t.collapse),role:"menubar",ref:s,style:q.value,class:{[i.b()]:!0,[i.m(t.mode)]:!0,[i.m("collapse")]:t.collapse}},[...W,...U]),F);return t.collapseTransition&&t.mode==="vertical"?Lt(JX,()=>Q):Q}}});const oQ=at({index:{type:xe([String,null]),default:null},route:{type:xe([String,Object])},disabled:Boolean}),sQ={click:t=>Mt(t.index)&&nt(t.indexPath)},Yv="ElMenuItem",iQ=he({name:Yv,components:{ElTooltip:Sa},props:oQ,emits:sQ,setup(t,{emit:e}){const n=nn(),r=St("rootMenu"),a=Ze("menu"),o=Ze("menu-item");r||Wr(Yv,"can not inject root menu");const{parentMenu:s,indexPath:i}=b5(n,Rn(t,"index")),l=St(`subMenu:${s.value.uid}`);l||Wr(Yv,"can not inject sub menu");const c=P(()=>t.index===r.activeIndex),u=Mn({index:t.index,indexPath:i,active:c}),f=()=>{t.disabled||(r.handleMenuItemClick({index:t.index,indexPath:i.value,route:t.route}),e("click",u))};return Yt(()=>{l.addSubMenu(u),r.addMenuItem(u)}),Un(()=>{l.removeSubMenu(u),r.removeMenuItem(u)}),{parentMenu:s,rootMenu:r,active:c,nsMenu:a,nsMenuItem:o,handleClick:f}}});function lQ(t,e,n,r,a,o){const s=ct("el-tooltip");return N(),ee("li",{class:V([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:t.handleClick},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(N(),Ue(s,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:le(()=>[Me(t.$slots,"title")]),default:le(()=>[re("div",{class:V(t.nsMenu.be("tooltip","trigger"))},[Me(t.$slots,"default")],2)]),_:3},8,["effect"])):(N(),ee(Et,{key:1},[Me(t.$slots,"default"),Me(t.$slots,"title")],64))],10,["onClick"])}var _5=st(iQ,[["render",lQ],["__file","menu-item.vue"]]);const cQ={title:String},uQ="ElMenuItemGroup",dQ=he({name:uQ,props:cQ,setup(){return{ns:Ze("menu-item-group")}}});function fQ(t,e,n,r,a,o){return N(),ee("li",{class:V(t.ns.b())},[re("div",{class:V(t.ns.e("title"))},[t.$slots.title?Me(t.$slots,"title",{key:1}):(N(),ee(Et,{key:0},[Zt(rt(t.title),1)],64))],2),re("ul",null,[Me(t.$slots,"default")])],2)}var w5=st(dQ,[["render",fQ],["__file","menu-item-group.vue"]]);const hQ=qt(aQ,{MenuItem:_5,MenuItemGroup:w5,SubMenu:N2}),pQ=hr(_5),mQ=hr(w5),vQ=hr(N2),gQ=at({icon:{type:On,default:()=>EO},title:String,content:{type:String,default:""}}),yQ={back:()=>!0},bQ=he({name:"ElPageHeader"}),SQ=he({...bQ,props:gQ,emits:yQ,setup(t,{emit:e}){const n=zr(),{t:r}=_n(),a=Ze("page-header"),o=P(()=>[a.b(),{[a.m("has-breadcrumb")]:!!n.breadcrumb,[a.m("has-extra")]:!!n.extra,[a.is("contentful")]:!!n.default}]);function s(){e("back")}return(i,l)=>(N(),ee("div",{class:V(d(o))},[i.$slots.breadcrumb?(N(),ee("div",{key:0,class:V(d(a).e("breadcrumb"))},[Me(i.$slots,"breadcrumb")],2)):Te("v-if",!0),re("div",{class:V(d(a).e("header"))},[re("div",{class:V(d(a).e("left"))},[re("div",{class:V(d(a).e("back")),role:"button",tabindex:"0",onClick:s},[i.icon||i.$slots.icon?(N(),ee("div",{key:0,"aria-label":i.title||d(r)("el.pageHeader.title"),class:V(d(a).e("icon"))},[Me(i.$slots,"icon",{},()=>[i.icon?(N(),Ue(d(Ct),{key:0},{default:le(()=>[(N(),Ue(ln(i.icon)))]),_:1})):Te("v-if",!0)])],10,["aria-label"])):Te("v-if",!0),re("div",{class:V(d(a).e("title"))},[Me(i.$slots,"title",{},()=>[Zt(rt(i.title||d(r)("el.pageHeader.title")),1)])],2)],2),J(d(o5),{direction:"vertical"}),re("div",{class:V(d(a).e("content"))},[Me(i.$slots,"content",{},()=>[Zt(rt(i.content),1)])],2)],2),i.$slots.extra?(N(),ee("div",{key:0,class:V(d(a).e("extra"))},[Me(i.$slots,"extra")],2)):Te("v-if",!0)],2),i.$slots.default?(N(),ee("div",{key:1,class:V(d(a).e("main"))},[Me(i.$slots,"default")],2)):Te("v-if",!0)],2))}});var _Q=st(SQ,[["__file","page-header.vue"]]);const wQ=qt(_Q),x5=Symbol("elPaginationKey"),xQ=at({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:On}}),CQ={click:t=>t instanceof MouseEvent},AQ=he({name:"ElPaginationPrev"}),EQ=he({...AQ,props:xQ,emits:CQ,setup(t){const e=t,{t:n}=_n(),r=P(()=>e.disabled||e.currentPage<=1);return(a,o)=>(N(),ee("button",{type:"button",class:"btn-prev",disabled:d(r),"aria-label":a.prevText||d(n)("el.pagination.prev"),"aria-disabled":d(r),onClick:s=>a.$emit("click",s)},[a.prevText?(N(),ee("span",{key:0},rt(a.prevText),1)):(N(),Ue(d(Ct),{key:1},{default:le(()=>[(N(),Ue(ln(a.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var MQ=st(EQ,[["__file","prev.vue"]]);const TQ=at({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:On}}),IQ=he({name:"ElPaginationNext"}),RQ=he({...IQ,props:TQ,emits:["click"],setup(t){const e=t,{t:n}=_n(),r=P(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(a,o)=>(N(),ee("button",{type:"button",class:"btn-next",disabled:d(r),"aria-label":a.nextText||d(n)("el.pagination.next"),"aria-disabled":d(r),onClick:s=>a.$emit("click",s)},[a.nextText?(N(),ee("span",{key:0},rt(a.nextText),1)):(N(),Ue(d(Ct),{key:1},{default:le(()=>[(N(),Ue(ln(a.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var kQ=st(RQ,[["__file","next.vue"]]);const C5=Symbol("ElSelectGroup"),Cd=Symbol("ElSelect");function DQ(t,e){const n=St(Cd),r=St(C5,{disabled:!1}),a=P(()=>u(Ia(n.props.modelValue),t.value)),o=P(()=>{var p;if(n.props.multiple){const m=Ia((p=n.props.modelValue)!=null?p:[]);return!a.value&&m.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),s=P(()=>t.label||(tn(t.value)?"":t.value)),i=P(()=>t.value||t.label||""),l=P(()=>t.disabled||e.groupDisabled||o.value),c=nn(),u=(p=[],m)=>{if(tn(t.value)){const g=n.props.valueKey;return p&&p.some(y=>zn(Mr(y,g))===Mr(m,g))}else return p&&p.includes(m)},f=()=>{!t.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(c.proxy))},h=p=>{const m=new RegExp(S2(p),"i");e.visible=m.test(s.value)||t.created};return Qe(()=>s.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Qe(()=>t.value,(p,m)=>{const{remote:g,valueKey:y}=n.props;if(p!==m&&(n.onOptionDestroy(m,c.proxy),n.onOptionCreate(c.proxy)),!t.created&&!g){if(y&&tn(p)&&tn(m)&&p[y]===m[y])return;n.setSelected()}}),Qe(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:s,currentValue:i,itemSelected:a,isDisabled:l,hoverItem:f,updateOption:h}}const PQ=he({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=Ze("select"),n=la(),r=P(()=>[e.be("dropdown","item"),e.is("disabled",d(i)),e.is("selected",d(s)),e.is("hovering",d(h))]),a=Mn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:s,isDisabled:i,select:l,hoverItem:c,updateOption:u}=DQ(t,a),{visible:f,hover:h}=jr(a),p=nn().proxy;l.onOptionCreate(p),Un(()=>{const g=p.value,{selected:y}=l.states,v=y.some(A=>A.value===p.value);Bt(()=>{l.states.cachedOptions.get(g)===p&&!v&&l.states.cachedOptions.delete(g)}),l.onOptionDestroy(g,p)});function m(){i.value||l.handleOptionSelect(p)}return{ns:e,id:n,containerKls:r,currentLabel:o,itemSelected:s,isDisabled:i,select:l,hoverItem:c,updateOption:u,visible:f,hover:h,selectOptionClick:m,states:a}}});function BQ(t,e,n,r,a,o){return Qt((N(),ee("li",{id:t.id,class:V(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:t.hoverItem,onClick:zt(t.selectOptionClick,["stop"])},[Me(t.$slots,"default",{},()=>[re("span",null,rt(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[En,t.visible]])}var F2=st(PQ,[["render",BQ],["__file","option.vue"]]);const LQ=he({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=St(Cd),e=Ze("select"),n=P(()=>t.props.popperClass),r=P(()=>t.props.multiple),a=P(()=>t.props.fitInputWidth),o=j("");function s(){var i;o.value=`${(i=t.selectRef)==null?void 0:i.offsetWidth}px`}return Yt(()=>{s(),or(t.selectRef,s)}),{ns:e,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:a}}});function NQ(t,e,n,r,a,o){return N(),ee("div",{class:V([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:bt({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(N(),ee("div",{key:0,class:V(t.ns.be("dropdown","header"))},[Me(t.$slots,"header")],2)):Te("v-if",!0),Me(t.$slots,"default"),t.$slots.footer?(N(),ee("div",{key:1,class:V(t.ns.be("dropdown","footer"))},[Me(t.$slots,"footer")],2)):Te("v-if",!0)],6)}var FQ=st(LQ,[["render",NQ],["__file","select-dropdown.vue"]]);const OQ=11,zQ=(t,e)=>{const{t:n}=_n(),r=la(),a=Ze("select"),o=Ze("input"),s=Mn({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),i=j(null),l=j(null),c=j(null),u=j(null),f=j(null),h=j(null),p=j(null),m=j(null),g=j(null),y=j(null),v=j(null),A=j(null),{isComposing:w,handleCompositionStart:S,handleCompositionUpdate:C,handleCompositionEnd:E}=ph({afterComposition:ft=>_t(ft)}),{wrapperRef:I,isFocused:k,handleBlur:T}=Al(f,{beforeFocus(){return W.value},afterFocus(){t.automaticDropdown&&!M.value&&(M.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(ft){var vt,on;return((vt=c.value)==null?void 0:vt.isFocusInsideContent(ft))||((on=u.value)==null?void 0:on.isFocusInsideContent(ft))},afterBlur(){M.value=!1,s.menuVisibleOnFocus=!1}}),M=j(!1),D=j(),{form:B,formItem:z}=_a(),{inputId:q}=Wo(t,{formItemContext:z}),{valueOnClear:$,isEmptyValue:L}=ym(t),W=P(()=>t.disabled||(B==null?void 0:B.disabled)),U=P(()=>nt(t.modelValue)?t.modelValue.length>0:!L(t.modelValue)),F=P(()=>{var ft;return(ft=B==null?void 0:B.statusIcon)!=null?ft:!1}),Q=P(()=>t.clearable&&!W.value&&s.inputHovering&&U.value),ne=P(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),de=P(()=>a.is("reverse",ne.value&&M.value)),ie=P(()=>(z==null?void 0:z.validateState)||""),ce=P(()=>wm[ie.value]),ge=P(()=>t.remote?300:0),Ae=P(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!s.inputValue&&s.options.size===0?!1:t.filterable&&s.inputValue&&s.options.size>0&&pe.value===0?t.noMatchText||n("el.select.noMatch"):s.options.size===0?t.noDataText||n("el.select.noData"):null),pe=P(()=>Ie.value.filter(ft=>ft.visible).length),Ie=P(()=>{const ft=Array.from(s.options.values()),vt=[];return s.optionValues.forEach(on=>{const Hn=ft.findIndex(Ir=>Ir.value===on);Hn>-1&&vt.push(ft[Hn])}),vt.length>=ft.length?vt:ft}),Re=P(()=>Array.from(s.cachedOptions.values())),Je=P(()=>{const ft=Ie.value.filter(vt=>!vt.created).some(vt=>vt.currentLabel===s.inputValue);return t.filterable&&t.allowCreate&&s.inputValue!==""&&!ft}),Ye=()=>{t.filterable&&Pt(t.filterMethod)||t.filterable&&t.remote&&Pt(t.remoteMethod)||Ie.value.forEach(ft=>{var vt;(vt=ft.updateOption)==null||vt.call(ft,s.inputValue)})},Z=Dr(),me=P(()=>["small"].includes(Z.value)?"small":"default"),oe=P({get(){return M.value&&Ae.value!==!1},set(ft){M.value=ft}}),Ve=P(()=>{if(t.multiple&&!Bn(t.modelValue))return Ia(t.modelValue).length===0&&!s.inputValue;const ft=nt(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||Bn(ft)?!s.inputValue:!0}),Le=P(()=>{var ft;const vt=(ft=t.placeholder)!=null?ft:n("el.select.placeholder");return t.multiple||!U.value?vt:s.selectedLabel}),ze=P(()=>d1?null:"mouseenter");Qe(()=>t.modelValue,(ft,vt)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(s.inputValue="",De("")),Ge(),!ia(ft,vt)&&t.validateEvent&&(z==null||z.validate("change").catch(on=>void 0))},{flush:"post",deep:!0}),Qe(()=>M.value,ft=>{ft?De(s.inputValue):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0),e("visible-change",ft)}),Qe(()=>s.options.entries(),()=>{Sn&&(Ge(),t.defaultFirstOption&&(t.filterable||t.remote)&&pe.value&&Fe())},{flush:"post"}),Qe(()=>s.hoveringIndex,ft=>{Nt(ft)&&ft>-1?D.value=Ie.value[ft]||{}:D.value={},Ie.value.forEach(vt=>{vt.hover=D.value===vt})}),ga(()=>{s.isBeforeHide||Ye()});const De=ft=>{s.previousQuery===ft||w.value||(s.previousQuery=ft,t.filterable&&Pt(t.filterMethod)?t.filterMethod(ft):t.filterable&&t.remote&&Pt(t.remoteMethod)&&t.remoteMethod(ft),t.defaultFirstOption&&(t.filterable||t.remote)&&pe.value?Bt(Fe):Bt(te))},Fe=()=>{const ft=Ie.value.filter(Ir=>Ir.visible&&!Ir.disabled&&!Ir.states.groupDisabled),vt=ft.find(Ir=>Ir.created),on=ft[0],Hn=Ie.value.map(Ir=>Ir.value);s.hoveringIndex=tt(Hn,vt||on)},Ge=()=>{if(t.multiple)s.selectedLabel="";else{const vt=nt(t.modelValue)?t.modelValue[0]:t.modelValue,on=ae(vt);s.selectedLabel=on.currentLabel,s.selected=[on];return}const ft=[];Bn(t.modelValue)||Ia(t.modelValue).forEach(vt=>{ft.push(ae(vt))}),s.selected=ft},ae=ft=>{let vt;const on=wf(ft);for(let Ne=s.cachedOptions.size-1;Ne>=0;Ne--){const Lr=Re.value[Ne];if(on?Mr(Lr.value,t.valueKey)===Mr(ft,t.valueKey):Lr.value===ft){vt={value:ft,currentLabel:Lr.currentLabel,get isDisabled(){return Lr.isDisabled}};break}}if(vt)return vt;const Hn=on?ft.label:ft??"";return{value:ft,currentLabel:Hn}},te=()=>{s.hoveringIndex=Ie.value.findIndex(ft=>s.selected.some(vt=>Tn(vt)===Tn(ft)))},we=()=>{s.selectionWidth=l.value.getBoundingClientRect().width},ye=()=>{s.calculatorWidth=h.value.getBoundingClientRect().width},$e=()=>{s.collapseItemWidth=v.value.getBoundingClientRect().width},je=()=>{var ft,vt;(vt=(ft=c.value)==null?void 0:ft.updatePopper)==null||vt.call(ft)},yt=()=>{var ft,vt;(vt=(ft=u.value)==null?void 0:ft.updatePopper)==null||vt.call(ft)},ut=()=>{s.inputValue.length>0&&!M.value&&(M.value=!0),De(s.inputValue)},_t=ft=>{if(s.inputValue=ft.target.value,t.remote)Ft();else return ut()},Ft=eo(()=>{ut()},ge.value),ht=ft=>{ia(t.modelValue,ft)||e(Fn,ft)},X=ft=>YE(ft,vt=>{const on=s.cachedOptions.get(vt);return on&&!on.disabled&&!on.states.groupDisabled}),He=ft=>{if(t.multiple&&ft.code!==mt.delete&&ft.target.value.length<=0){const vt=Ia(t.modelValue).slice(),on=X(vt);if(on<0)return;const Hn=vt[on];vt.splice(on,1),e(Jt,vt),ht(vt),e("remove-tag",Hn)}},ve=(ft,vt)=>{const on=s.selected.indexOf(vt);if(on>-1&&!W.value){const Hn=Ia(t.modelValue).slice();Hn.splice(on,1),e(Jt,Hn),ht(Hn),e("remove-tag",vt.value)}ft.stopPropagation(),It()},ke=ft=>{ft.stopPropagation();const vt=t.multiple?[]:$.value;if(t.multiple)for(const on of s.selected)on.isDisabled&&vt.push(on.value);e(Jt,vt),ht(vt),s.hoveringIndex=-1,M.value=!1,e("clear"),It()},fe=ft=>{var vt;if(t.multiple){const on=Ia((vt=t.modelValue)!=null?vt:[]).slice(),Hn=tt(on,ft);Hn>-1?on.splice(Hn,1):(t.multipleLimit<=0||on.length<t.multipleLimit)&&on.push(ft.value),e(Jt,on),ht(on),ft.created&&De(""),t.filterable&&!t.reserveKeyword&&(s.inputValue="")}else e(Jt,ft.value),ht(ft.value),M.value=!1;It(),!M.value&&Bt(()=>{Rt(ft)})},tt=(ft=[],vt)=>Bn(vt)?-1:tn(vt.value)?ft.findIndex(on=>ia(Mr(on,t.valueKey),Tn(vt))):ft.indexOf(vt.value),Rt=ft=>{var vt,on,Hn,Ir,Ne;const Lr=nt(ft)?ft[0]:ft;let Xe=null;if(Lr!=null&&Lr.value){const be=Ie.value.filter(et=>et.value===Lr.value);be.length>0&&(Xe=be[0].$el)}if(c.value&&Xe){const be=(Ir=(Hn=(on=(vt=c.value)==null?void 0:vt.popperRef)==null?void 0:on.contentRef)==null?void 0:Hn.querySelector)==null?void 0:Ir.call(Hn,`.${a.be("dropdown","wrap")}`);be&&Xb(be,Xe)}(Ne=A.value)==null||Ne.handleScroll()},Oe=ft=>{s.options.set(ft.value,ft),s.cachedOptions.set(ft.value,ft)},Tt=(ft,vt)=>{s.options.get(ft)===vt&&s.options.delete(ft)},ot=P(()=>{var ft,vt;return(vt=(ft=c.value)==null?void 0:ft.popperRef)==null?void 0:vt.contentRef}),dt=()=>{s.isBeforeHide=!1,Bt(()=>Rt(s.selected))},It=()=>{var ft;(ft=f.value)==null||ft.focus()},gt=()=>{var ft;if(M.value){M.value=!1,Bt(()=>{var vt;return(vt=f.value)==null?void 0:vt.blur()});return}(ft=f.value)==null||ft.blur()},an=ft=>{ke(ft)},Yn=ft=>{if(M.value=!1,k.value){const vt=new FocusEvent("focus",ft);Bt(()=>T(vt))}},Tr=()=>{s.inputValue.length>0?s.inputValue="":M.value=!1},Wn=()=>{W.value||(d1&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:M.value=!M.value)},Pr=()=>{if(!M.value)Wn();else{const ft=Ie.value[s.hoveringIndex];ft&&!ft.isDisabled&&fe(ft)}},Tn=ft=>tn(ft.value)?Mr(ft.value,t.valueKey):ft.value,H=P(()=>Ie.value.filter(ft=>ft.visible).every(ft=>ft.isDisabled)),Y=P(()=>t.multiple?t.collapseTags?s.selected.slice(0,t.maxCollapseTags):s.selected:[]),At=P(()=>t.multiple?t.collapseTags?s.selected.slice(t.maxCollapseTags):[]:[]),ue=ft=>{if(!M.value){M.value=!0;return}if(!(s.options.size===0||pe.value===0||w.value)&&!H.value){ft==="next"?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):ft==="prev"&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));const vt=Ie.value[s.hoveringIndex];(vt.isDisabled||!vt.visible)&&ue(ft),Bt(()=>Rt(D.value))}},Pe=()=>{if(!l.value)return 0;const ft=window.getComputedStyle(l.value);return Number.parseFloat(ft.gap||"6px")},nr=P(()=>{const ft=Pe();return{maxWidth:`${v.value&&t.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-ft:s.selectionWidth}px`}}),jt=P(()=>({maxWidth:`${s.selectionWidth}px`})),Br=P(()=>({width:`${Math.max(s.calculatorWidth,OQ)}px`}));return or(l,we),or(h,ye),or(g,je),or(I,je),or(y,yt),or(v,$e),Yt(()=>{Ge()}),{inputId:q,contentId:r,nsSelect:a,nsInput:o,states:s,isFocused:k,expanded:M,optionsArray:Ie,hoverOption:D,selectSize:Z,filteredOptionsCount:pe,resetCalculatorWidth:ye,updateTooltip:je,updateTagTooltip:yt,debouncedOnInputChange:Ft,onInput:_t,deletePrevTag:He,deleteTag:ve,deleteSelected:ke,handleOptionSelect:fe,scrollToOption:Rt,hasModelValue:U,shouldShowPlaceholder:Ve,currentPlaceholder:Le,mouseEnterEventName:ze,needStatusIcon:F,showClose:Q,iconComponent:ne,iconReverse:de,validateState:ie,validateIcon:ce,showNewOption:Je,updateOptions:Ye,collapseTagSize:me,setSelected:Ge,selectDisabled:W,emptyText:Ae,handleCompositionStart:S,handleCompositionUpdate:C,handleCompositionEnd:E,onOptionCreate:Oe,onOptionDestroy:Tt,handleMenuEnter:dt,focus:It,blur:gt,handleClearClick:an,handleClickOutside:Yn,handleEsc:Tr,toggleMenu:Wn,selectOption:Pr,getValueKey:Tn,navigateOptions:ue,dropdownMenuVisible:oe,showTagList:Y,collapseTagList:At,tagStyle:nr,collapseTagStyle:jt,inputStyle:Br,popperRef:ot,inputRef:f,tooltipRef:c,tagTooltipRef:u,calculatorRef:h,prefixRef:p,suffixRef:m,selectRef:i,wrapperRef:I,selectionRef:l,scrollbarRef:A,menuRef:g,tagMenuRef:y,collapseItemRef:v}};var UQ=he({name:"ElOptions",setup(t,{slots:e}){const n=St(Cd);let r=[];return()=>{var a,o;const s=(a=e.default)==null?void 0:a.call(e),i=[];function l(c){nt(c)&&c.forEach(u=>{var f,h,p,m;const g=(f=(u==null?void 0:u.type)||{})==null?void 0:f.name;g==="ElOptionGroup"?l(!Mt(u.children)&&!nt(u.children)&&Pt((h=u.children)==null?void 0:h.default)?(p=u.children)==null?void 0:p.default():u.children):g==="ElOption"?i.push((m=u.props)==null?void 0:m.value):nt(u.children)&&l(u.children)})}return s.length&&l((o=s[0])==null?void 0:o.children),ia(i,r)||(r=i,n&&(n.states.optionValues=i)),s}}});const HQ=at({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Or,effect:{type:xe(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:xe(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Xr.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:On,default:Ci},fitInputWidth:Boolean,suffixIcon:{type:On,default:xi},tagType:{...vi.type,default:"info"},tagEffect:{...vi.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:xe(String),values:Ai,default:"bottom-start"},fallbackPlacements:{type:xe(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Sd,...ca(["ariaLabel"])}),Ox="ElSelect",$Q=he({name:Ox,componentName:Ox,components:{ElSelectMenu:FQ,ElOption:F2,ElOptions:UQ,ElTag:ju,ElScrollbar:zs,ElTooltip:Sa,ElIcon:Ct},directives:{ClickOutside:gi},props:HQ,emits:[Jt,Fn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=P(()=>{const{modelValue:s,multiple:i}=t,l=i?[]:void 0;return nt(s)?i?s:l:i?l:s}),r=Mn({...jr(t),modelValue:n}),a=zQ(r,e);vn(Cd,Mn({props:r,states:a.states,optionsArray:a.optionsArray,handleOptionSelect:a.handleOptionSelect,onOptionCreate:a.onOptionCreate,onOptionDestroy:a.onOptionDestroy,selectRef:a.selectRef,setSelected:a.setSelected}));const o=P(()=>t.multiple?a.states.selected.map(s=>s.currentLabel):a.states.selectedLabel);return{...a,modelValue:n,selectedLabel:o}}});function VQ(t,e,n,r,a,o){const s=ct("el-tag"),i=ct("el-tooltip"),l=ct("el-icon"),c=ct("el-option"),u=ct("el-options"),f=ct("el-scrollbar"),h=ct("el-select-menu"),p=sm("click-outside");return Qt((N(),ee("div",{ref:"selectRef",class:V([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[Zd(t.mouseEnterEventName)]:m=>t.states.inputHovering=!0,onMouseleave:m=>t.states.inputHovering=!1},[J(i,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:m=>t.states.isBeforeHide=!1},{default:le(()=>{var m;return[re("div",{ref:"wrapperRef",class:V([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:zt(t.toggleMenu,["prevent"])},[t.$slots.prefix?(N(),ee("div",{key:0,ref:"prefixRef",class:V(t.nsSelect.e("prefix"))},[Me(t.$slots,"prefix")],2)):Te("v-if",!0),re("div",{ref:"selectionRef",class:V([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Me(t.$slots,"tag",{key:0},()=>[(N(!0),ee(Et,null,fn(t.showTagList,g=>(N(),ee("div",{key:t.getValueKey(g),class:V(t.nsSelect.e("selected-item"))},[J(s,{closable:!t.selectDisabled&&!g.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:bt(t.tagStyle),onClose:y=>t.deleteTag(y,g)},{default:le(()=>[re("span",{class:V(t.nsSelect.e("tags-text"))},[Me(t.$slots,"label",{label:g.currentLabel,value:g.value},()=>[Zt(rt(g.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(N(),Ue(i,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:le(()=>[re("div",{ref:"collapseItemRef",class:V(t.nsSelect.e("selected-item"))},[J(s,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:bt(t.collapseTagStyle)},{default:le(()=>[re("span",{class:V(t.nsSelect.e("tags-text"))}," + "+rt(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:le(()=>[re("div",{ref:"tagMenuRef",class:V(t.nsSelect.e("selection"))},[(N(!0),ee(Et,null,fn(t.collapseTagList,g=>(N(),ee("div",{key:t.getValueKey(g),class:V(t.nsSelect.e("selected-item"))},[J(s,{class:"in-tooltip",closable:!t.selectDisabled&&!g.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:y=>t.deleteTag(y,g)},{default:le(()=>[re("span",{class:V(t.nsSelect.e("tags-text"))},[Me(t.$slots,"label",{label:g.currentLabel,value:g.value},()=>[Zt(rt(g.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Te("v-if",!0)]):Te("v-if",!0),re("div",{class:V([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Qt(re("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":g=>t.states.inputValue=g,type:"text",name:t.name,class:V([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:bt(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((m=t.hoverOption)==null?void 0:m.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Vn(zt(g=>t.navigateOptions("next"),["stop","prevent"]),["down"]),Vn(zt(g=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),Vn(zt(t.handleEsc,["stop","prevent"]),["esc"]),Vn(zt(t.selectOption,["stop","prevent"]),["enter"]),Vn(zt(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:zt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[cm,t.states.inputValue]]),t.filterable?(N(),ee("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:V(t.nsSelect.e("input-calculator")),textContent:rt(t.states.inputValue)},null,10,["textContent"])):Te("v-if",!0)],2),t.shouldShowPlaceholder?(N(),ee("div",{key:1,class:V([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Me(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[re("span",null,rt(t.currentPlaceholder),1)]):(N(),ee("span",{key:1},rt(t.currentPlaceholder),1))],2)):Te("v-if",!0)],2),re("div",{ref:"suffixRef",class:V(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(N(),Ue(l,{key:0,class:V([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:le(()=>[(N(),Ue(ln(t.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),t.showClose&&t.clearIcon?(N(),Ue(l,{key:1,class:V([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:le(()=>[(N(),Ue(ln(t.clearIcon)))]),_:1},8,["class","onClick"])):Te("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(N(),Ue(l,{key:2,class:V([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:le(()=>[(N(),Ue(ln(t.validateIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],10,["onClick"])]}),content:le(()=>[J(h,{ref:"menuRef"},{default:le(()=>[t.$slots.header?(N(),ee("div",{key:0,class:V(t.nsSelect.be("dropdown","header")),onClick:zt(()=>{},["stop"])},[Me(t.$slots,"header")],10,["onClick"])):Te("v-if",!0),Qt(J(f,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:V([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:le(()=>[t.showNewOption?(N(),Ue(c,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):Te("v-if",!0),J(u,null,{default:le(()=>[Me(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[En,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(N(),ee("div",{key:1,class:V(t.nsSelect.be("dropdown","loading"))},[Me(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(N(),ee("div",{key:2,class:V(t.nsSelect.be("dropdown","empty"))},[Me(t.$slots,"empty",{},()=>[re("span",null,rt(t.emptyText),1)])],2)):Te("v-if",!0),t.$slots.footer?(N(),ee("div",{key:3,class:V(t.nsSelect.be("dropdown","footer")),onClick:zt(()=>{},["stop"])},[Me(t.$slots,"footer")],10,["onClick"])):Te("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[p,t.handleClickOutside,t.popperRef]])}var WQ=st($Q,[["render",VQ],["__file","select.vue"]]);const GQ=he({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Ze("select"),n=j(null),r=nn(),a=j([]);vn(C5,Mn({...jr(t)}));const o=P(()=>a.value.some(c=>c.visible===!0)),s=c=>{var u,f;return((u=c.type)==null?void 0:u.name)==="ElOption"&&!!((f=c.component)!=null&&f.proxy)},i=c=>{const u=Ia(c),f=[];return u.forEach(h=>{var p,m;s(h)?f.push(h.component.proxy):(p=h.children)!=null&&p.length?f.push(...i(h.children)):(m=h.component)!=null&&m.subTree&&f.push(...i(h.component.subTree))}),f},l=()=>{a.value=i(r.subTree)};return Yt(()=>{l()}),nM(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:e}}});function KQ(t,e,n,r,a,o){return Qt((N(),ee("ul",{ref:"groupRef",class:V(t.ns.be("group","wrap"))},[re("li",{class:V(t.ns.be("group","title"))},rt(t.label),3),re("li",null,[re("ul",{class:V(t.ns.b("group"))},[Me(t.$slots,"default")],2)])],2)),[[En,t.visible]])}var A5=st(GQ,[["render",KQ],["__file","option-group.vue"]]);const _c=qt(WQ,{Option:F2,OptionGroup:A5}),Ep=hr(F2),qQ=hr(A5),O2=()=>St(x5,{}),jQ=at({pageSize:{type:Number,required:!0},pageSizes:{type:xe(Array),default:()=>fr([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Os},appendSizeTo:String}),YQ=he({name:"ElPaginationSizes"}),XQ=he({...YQ,props:jQ,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:r}=_n(),a=Ze("pagination"),o=O2(),s=j(n.pageSize);Qe(()=>n.pageSizes,(c,u)=>{if(!ia(c,u)&&nt(c)){const f=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",f)}}),Qe(()=>n.pageSize,c=>{s.value=c});const i=P(()=>n.pageSizes);function l(c){var u;c!==s.value&&(s.value=c,(u=o.handleSizeChange)==null||u.call(o,Number(c)))}return(c,u)=>(N(),ee("span",{class:V(d(a).e("sizes"))},[J(d(_c),{"model-value":s.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:l},{default:le(()=>[(N(!0),ee(Et,null,fn(d(i),f=>(N(),Ue(d(Ep),{key:f,value:f,label:f+d(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var QQ=st(XQ,[["__file","sizes.vue"]]);const ZQ=at({size:{type:String,values:Os}}),JQ=he({name:"ElPaginationJumper"}),eZ=he({...JQ,props:ZQ,setup(t){const{t:e}=_n(),n=Ze("pagination"),{pageCount:r,disabled:a,currentPage:o,changeEvent:s}=O2(),i=j(),l=P(()=>{var f;return(f=i.value)!=null?f:o==null?void 0:o.value});function c(f){i.value=f?+f:""}function u(f){f=Math.trunc(+f),s==null||s(f),i.value=void 0}return(f,h)=>(N(),ee("span",{class:V(d(n).e("jump")),disabled:d(a)},[re("span",{class:V([d(n).e("goto")])},rt(d(e)("el.pagination.goto")),3),J(d(ka),{size:f.size,class:V([d(n).e("editor"),d(n).is("in-pagination")]),min:1,max:d(r),disabled:d(a),"model-value":d(l),"validate-event":!1,"aria-label":d(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value","aria-label"]),re("span",{class:V([d(n).e("classifier")])},rt(d(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var tZ=st(eZ,[["__file","jumper.vue"]]);const nZ=at({total:{type:Number,default:1e3}}),rZ=he({name:"ElPaginationTotal"}),aZ=he({...rZ,props:nZ,setup(t){const{t:e}=_n(),n=Ze("pagination"),{disabled:r}=O2();return(a,o)=>(N(),ee("span",{class:V(d(n).e("total")),disabled:d(r)},rt(d(e)("el.pagination.total",{total:a.total})),11,["disabled"]))}});var oZ=st(aZ,[["__file","total.vue"]]);const sZ=at({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),iZ=he({name:"ElPaginationPager"}),lZ=he({...iZ,props:sZ,emits:["change"],setup(t,{emit:e}){const n=t,r=Ze("pager"),a=Ze("icon"),{t:o}=_n(),s=j(!1),i=j(!1),l=j(!1),c=j(!1),u=j(!1),f=j(!1),h=P(()=>{const S=n.pagerCount,C=(S-1)/2,E=Number(n.currentPage),I=Number(n.pageCount);let k=!1,T=!1;I>S&&(E>S-C&&(k=!0),E<I-C&&(T=!0));const M=[];if(k&&!T){const D=I-(S-2);for(let B=D;B<I;B++)M.push(B)}else if(!k&&T)for(let D=2;D<S;D++)M.push(D);else if(k&&T){const D=Math.floor(S/2)-1;for(let B=E-D;B<=E+D;B++)M.push(B)}else for(let D=2;D<I;D++)M.push(D);return M}),p=P(()=>["more","btn-quickprev",a.b(),r.is("disabled",n.disabled)]),m=P(()=>["more","btn-quicknext",a.b(),r.is("disabled",n.disabled)]),g=P(()=>n.disabled?-1:0);ga(()=>{const S=(n.pagerCount-1)/2;s.value=!1,i.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-S&&(s.value=!0),n.currentPage<n.pageCount-S&&(i.value=!0))});function y(S=!1){n.disabled||(S?l.value=!0:c.value=!0)}function v(S=!1){S?u.value=!0:f.value=!0}function A(S){const C=S.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const E=Number(C.textContent);E!==n.currentPage&&e("change",E)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&w(S)}function w(S){const C=S.target;if(C.tagName.toLowerCase()==="ul"||n.disabled)return;let E=Number(C.textContent);const I=n.pageCount,k=n.currentPage,T=n.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?E=k-T:C.className.includes("quicknext")&&(E=k+T)),Number.isNaN(+E)||(E<1&&(E=1),E>I&&(E=I)),E!==k&&e("change",E)}return(S,C)=>(N(),ee("ul",{class:V(d(r).b()),onClick:w,onKeyup:Vn(A,["enter"])},[S.pageCount>0?(N(),ee("li",{key:0,class:V([[d(r).is("active",S.currentPage===1),d(r).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===1,"aria-label":d(o)("el.pagination.currentPage",{pager:1}),tabindex:d(g)}," 1 ",10,["aria-current","aria-label","tabindex"])):Te("v-if",!0),s.value?(N(),ee("li",{key:1,class:V(d(p)),tabindex:d(g),"aria-label":d(o)("el.pagination.prevPages",{pager:S.pagerCount-2}),onMouseenter:E=>y(!0),onMouseleave:E=>l.value=!1,onFocus:E=>v(!0),onBlur:E=>u.value=!1},[(l.value||u.value)&&!S.disabled?(N(),Ue(d(ml),{key:0})):(N(),Ue(d(F4),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Te("v-if",!0),(N(!0),ee(Et,null,fn(d(h),E=>(N(),ee("li",{key:E,class:V([[d(r).is("active",S.currentPage===E),d(r).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===E,"aria-label":d(o)("el.pagination.currentPage",{pager:E}),tabindex:d(g)},rt(E),11,["aria-current","aria-label","tabindex"]))),128)),i.value?(N(),ee("li",{key:2,class:V(d(m)),tabindex:d(g),"aria-label":d(o)("el.pagination.nextPages",{pager:S.pagerCount-2}),onMouseenter:E=>y(),onMouseleave:E=>c.value=!1,onFocus:E=>v(),onBlur:E=>f.value=!1},[(c.value||f.value)&&!S.disabled?(N(),Ue(d(vl),{key:0})):(N(),Ue(d(F4),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Te("v-if",!0),S.pageCount>1?(N(),ee("li",{key:3,class:V([[d(r).is("active",S.currentPage===S.pageCount),d(r).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===S.pageCount,"aria-label":d(o)("el.pagination.currentPage",{pager:S.pageCount}),tabindex:d(g)},rt(S.pageCount),11,["aria-current","aria-label","tabindex"])):Te("v-if",!0)],42,["onKeyup"]))}});var cZ=st(lZ,[["__file","pager.vue"]]);const Ba=t=>typeof t!="number",uZ=at({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Nt(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:xe(Array),default:()=>fr([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:On,default:()=>pl},nextText:{type:String,default:""},nextIcon:{type:On,default:()=>Ha},teleported:{type:Boolean,default:!0},small:Boolean,size:Or,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),dZ={"update:current-page":t=>Nt(t),"update:page-size":t=>Nt(t),"size-change":t=>Nt(t),change:(t,e)=>Nt(t)&&Nt(e),"current-change":t=>Nt(t),"prev-click":t=>Nt(t),"next-click":t=>Nt(t)},zx="ElPagination";var fZ=he({name:zx,props:uZ,emits:dZ,setup(t,{emit:e,slots:n}){const{t:r}=_n(),a=Ze("pagination"),o=nn().vnode.props||{},s=cM(),i=P(()=>{var C;return t.small?"small":(C=t.size)!=null?C:s.value});tl({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},P(()=>!!t.small));const l="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,c="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,u=P(()=>{if(Ba(t.total)&&Ba(t.pageCount)||!Ba(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(Ba(t.pageCount)){if(!Ba(t.total)&&!Ba(t.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),f=j(Ba(t.defaultPageSize)?10:t.defaultPageSize),h=j(Ba(t.defaultCurrentPage)?1:t.defaultCurrentPage),p=P({get(){return Ba(t.pageSize)?f.value:t.pageSize},set(C){Ba(t.pageSize)&&(f.value=C),c&&(e("update:page-size",C),e("size-change",C))}}),m=P(()=>{let C=0;return Ba(t.pageCount)?Ba(t.total)||(C=Math.max(1,Math.ceil(t.total/p.value))):C=t.pageCount,C}),g=P({get(){return Ba(t.currentPage)?h.value:t.currentPage},set(C){let E=C;C<1?E=1:C>m.value&&(E=m.value),Ba(t.currentPage)&&(h.value=E),l&&(e("update:current-page",E),e("current-change",E))}});Qe(m,C=>{g.value>C&&(g.value=C)}),Qe([g,p],C=>{e("change",...C)},{flush:"post"});function y(C){g.value=C}function v(C){p.value=C;const E=m.value;g.value>E&&(g.value=E)}function A(){t.disabled||(g.value-=1,e("prev-click",g.value))}function w(){t.disabled||(g.value+=1,e("next-click",g.value))}function S(C,E){C&&(C.props||(C.props={}),C.props.class=[C.props.class,E].join(" "))}return vn(x5,{pageCount:m,disabled:P(()=>t.disabled),currentPage:g,changeEvent:y,handleSizeChange:v}),()=>{var C,E;if(!u.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&m.value<=1)return null;const I=[],k=[],T=Lt("div",{class:a.e("rightwrapper")},k),M={prev:Lt(MQ,{disabled:t.disabled,currentPage:g.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:A}),jumper:Lt(tZ,{size:i.value}),pager:Lt(cZ,{currentPage:g.value,pageCount:m.value,pagerCount:t.pagerCount,onChange:y,disabled:t.disabled}),next:Lt(kQ,{disabled:t.disabled,currentPage:g.value,pageCount:m.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:w}),sizes:Lt(QQ,{pageSize:p.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:i.value,appendSizeTo:t.appendSizeTo}),slot:(E=(C=n==null?void 0:n.default)==null?void 0:C.call(n))!=null?E:null,total:Lt(oZ,{total:Ba(t.total)?0:t.total})},D=t.layout.split(",").map(z=>z.trim());let B=!1;return D.forEach(z=>{if(z==="->"){B=!0;return}B?k.push(M[z]):I.push(M[z])}),S(I[0],a.is("first")),S(I[I.length-1],a.is("last")),B&&k.length>0&&(S(k[0],a.is("first")),S(k[k.length-1],a.is("last")),I.push(T)),Lt("div",{class:[a.b(),a.is("background",t.background),a.m(i.value)]},I)}}});const hZ=qt(fZ),pZ=at({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:p1,default:"primary"},cancelButtonType:{type:String,values:p1,default:"text"},icon:{type:On,default:()=>iz},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Xr.teleported,persistent:Xr.persistent,width:{type:[String,Number],default:150}}),mZ={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},vZ=he({name:"ElPopconfirm"}),gZ=he({...vZ,props:pZ,emits:mZ,setup(t,{emit:e}){const n=t,{t:r}=_n(),a=Ze("popconfirm"),o=j(),s=()=>{var h,p;(p=(h=o.value)==null?void 0:h.onClose)==null||p.call(h)},i=P(()=>({width:Sr(n.width)})),l=h=>{e("confirm",h),s()},c=h=>{e("cancel",h),s()},u=P(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),f=P(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(h,p)=>(N(),Ue(d(Sa),un({ref_key:"tooltipRef",ref:o,trigger:"click",effect:"light"},h.$attrs,{"popper-class":`${d(a).namespace.value}-popover`,"popper-style":d(i),teleported:h.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":h.hideAfter,persistent:h.persistent}),{content:le(()=>[re("div",{class:V(d(a).b())},[re("div",{class:V(d(a).e("main"))},[!h.hideIcon&&h.icon?(N(),Ue(d(Ct),{key:0,class:V(d(a).e("icon")),style:bt({color:h.iconColor})},{default:le(()=>[(N(),Ue(ln(h.icon)))]),_:1},8,["class","style"])):Te("v-if",!0),Zt(" "+rt(h.title),1)],2),re("div",{class:V(d(a).e("action"))},[Me(h.$slots,"actions",{confirm:l,cancel:c},()=>[J(d(Jr),{size:"small",type:h.cancelButtonType==="text"?"":h.cancelButtonType,text:h.cancelButtonType==="text",onClick:c},{default:le(()=>[Zt(rt(d(f)),1)]),_:1},8,["type","text"]),J(d(Jr),{size:"small",type:h.confirmButtonType==="text"?"":h.confirmButtonType,text:h.confirmButtonType==="text",onClick:l},{default:le(()=>[Zt(rt(d(u)),1)]),_:1},8,["type","text"])])],2)],2)]),default:le(()=>[h.$slots.reference?Me(h.$slots,"reference",{key:0}):Te("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var yZ=st(gZ,[["__file","popconfirm.vue"]]);const bZ=qt(yZ),SZ=at({trigger:Uf.trigger,placement:K0.placement,disabled:Uf.disabled,visible:Xr.visible,transition:Xr.transition,popperOptions:K0.popperOptions,tabindex:K0.tabindex,content:Xr.content,popperStyle:Xr.popperStyle,popperClass:Xr.popperClass,enterable:{...Xr.enterable,default:!0},effect:{...Xr.effect,default:"light"},teleported:Xr.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),_Z={"update:visible":t=>Kn(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},wZ="onUpdate:visible",xZ=he({name:"ElPopover"}),CZ=he({...xZ,props:SZ,emits:_Z,setup(t,{expose:e,emit:n}){const r=t,a=P(()=>r[wZ]),o=Ze("popover"),s=j(),i=P(()=>{var y;return(y=d(s))==null?void 0:y.popperRef}),l=P(()=>[{width:Sr(r.width)},r.popperStyle]),c=P(()=>[o.b(),r.popperClass,{[o.m("plain")]:!!r.content}]),u=P(()=>r.transition===`${o.namespace.value}-fade-in-linear`),f=()=>{var y;(y=s.value)==null||y.hide()},h=()=>{n("before-enter")},p=()=>{n("before-leave")},m=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:i,hide:f}),(y,v)=>(N(),Ue(d(Sa),un({ref_key:"tooltipRef",ref:s},y.$attrs,{trigger:y.trigger,placement:y.placement,disabled:y.disabled,visible:y.visible,transition:y.transition,"popper-options":y.popperOptions,tabindex:y.tabindex,content:y.content,offset:y.offset,"show-after":y.showAfter,"hide-after":y.hideAfter,"auto-close":y.autoClose,"show-arrow":y.showArrow,"aria-label":y.title,effect:y.effect,enterable:y.enterable,"popper-class":d(c),"popper-style":d(l),teleported:y.teleported,persistent:y.persistent,"gpu-acceleration":d(u),"onUpdate:visible":d(a),onBeforeShow:h,onBeforeHide:p,onShow:m,onHide:g}),{content:le(()=>[y.title?(N(),ee("div",{key:0,class:V(d(o).e("title")),role:"title"},rt(y.title),3)):Te("v-if",!0),Me(y.$slots,"default",{},()=>[Zt(rt(y.content),1)])]),default:le(()=>[y.$slots.reference?Me(y.$slots,"reference",{key:0}):Te("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var AZ=st(CZ,[["__file","popover.vue"]]);const Ux=(t,e)=>{const n=e.arg||e.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=t)};var EZ={mounted(t,e){Ux(t,e)},updated(t,e){Ux(t,e)}};const MZ="popover",E5=mO(EZ,MZ),TZ=qt(AZ,{directive:E5}),IZ=at({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:xe(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:xe([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:xe(Function),default:t=>`${t}%`}}),RZ=he({name:"ElProgress"}),kZ=he({...RZ,props:IZ,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=Ze("progress"),a=P(()=>{const w={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},S=A(e.percentage);return S.includes("gradient")?w.background=S:w.backgroundColor=S,w}),o=P(()=>(e.strokeWidth/e.width*100).toFixed(1)),s=P(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),i=P(()=>{const w=s.value,S=e.type==="dashboard";return`
          M 50 50
          m 0 ${S?"":"-"}${w}
          a ${w} ${w} 0 1 1 0 ${S?"-":""}${w*2}
          a ${w} ${w} 0 1 1 0 ${S?"":"-"}${w*2}
          `}),l=P(()=>2*Math.PI*s.value),c=P(()=>e.type==="dashboard"?.75:1),u=P(()=>`${-1*l.value*(1-c.value)/2}px`),f=P(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),h=P(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),p=P(()=>{let w;return e.color?w=A(e.percentage):w=n[e.status]||n.default,w}),m=P(()=>e.status==="warning"?_m:e.type==="line"?e.status==="success"?Zb:Ci:e.status==="success"?fh:cs),g=P(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),y=P(()=>e.format(e.percentage));function v(w){const S=100/w.length;return w.map((E,I)=>Mt(E)?{color:E,percentage:(I+1)*S}:E).sort((E,I)=>E.percentage-I.percentage)}const A=w=>{var S;const{color:C}=e;if(Pt(C))return C(w);if(Mt(C))return C;{const E=v(C);for(const I of E)if(I.percentage>w)return I.color;return(S=E[E.length-1])==null?void 0:S.color}};return(w,S)=>(N(),ee("div",{class:V([d(r).b(),d(r).m(w.type),d(r).is(w.status),{[d(r).m("without-text")]:!w.showText,[d(r).m("text-inside")]:w.textInside}]),role:"progressbar","aria-valuenow":w.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[w.type==="line"?(N(),ee("div",{key:0,class:V(d(r).b("bar"))},[re("div",{class:V(d(r).be("bar","outer")),style:bt({height:`${w.strokeWidth}px`})},[re("div",{class:V([d(r).be("bar","inner"),{[d(r).bem("bar","inner","indeterminate")]:w.indeterminate},{[d(r).bem("bar","inner","striped")]:w.striped},{[d(r).bem("bar","inner","striped-flow")]:w.stripedFlow}]),style:bt(d(a))},[(w.showText||w.$slots.default)&&w.textInside?(N(),ee("div",{key:0,class:V(d(r).be("bar","innerText"))},[Me(w.$slots,"default",{percentage:w.percentage},()=>[re("span",null,rt(d(y)),1)])],2)):Te("v-if",!0)],6)],6)],2)):(N(),ee("div",{key:1,class:V(d(r).b("circle")),style:bt({height:`${w.width}px`,width:`${w.width}px`})},[(N(),ee("svg",{viewBox:"0 0 100 100"},[re("path",{class:V(d(r).be("circle","track")),d:d(i),stroke:`var(${d(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":w.strokeLinecap,"stroke-width":d(o),fill:"none",style:bt(d(f))},null,14,["d","stroke","stroke-linecap","stroke-width"]),re("path",{class:V(d(r).be("circle","path")),d:d(i),stroke:d(p),fill:"none",opacity:w.percentage?1:0,"stroke-linecap":w.strokeLinecap,"stroke-width":d(o),style:bt(d(h))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(w.showText||w.$slots.default)&&!w.textInside?(N(),ee("div",{key:2,class:V(d(r).e("text")),style:bt({fontSize:`${d(g)}px`})},[Me(w.$slots,"default",{percentage:w.percentage},()=>[w.status?(N(),Ue(d(Ct),{key:1},{default:le(()=>[(N(),Ue(ln(d(m))))]),_:1})):(N(),ee("span",{key:0},rt(d(y)),1))])],6)):Te("v-if",!0)],10,["aria-valuenow"]))}});var DZ=st(kZ,[["__file","progress.vue"]]);const M5=qt(DZ),PZ=at({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:xe([Array,Object]),default:()=>fr(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:xe([Array,Object]),default:()=>[Kh,Kh,Kh]},voidIcon:{type:On,default:()=>wz},disabledVoidIcon:{type:On,default:()=>Kh},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:xe(Array),default:()=>fr(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Or,clearable:Boolean,...ca(["ariaLabel"])}),BZ={[Fn]:t=>Nt(t),[Jt]:t=>Nt(t)},LZ=he({name:"ElRate"}),NZ=he({...LZ,props:PZ,emits:BZ,setup(t,{expose:e,emit:n}){const r=t;function a(L,W){const U=ne=>tn(ne),F=Object.keys(W).map(ne=>+ne).filter(ne=>{const de=W[ne];return(U(de)?de.excluded:!1)?L<ne:L<=ne}).sort((ne,de)=>ne-de),Q=W[F[0]];return U(Q)&&Q.value||Q}const o=St(Ic,void 0),s=St(Rs,void 0),i=Dr(),l=Ze("rate"),{inputId:c,isLabeledByFormItem:u}=Wo(r,{formItemContext:s}),f=j(r.modelValue),h=j(-1),p=j(!0),m=P(()=>[l.b(),l.m(i.value)]),g=P(()=>r.disabled||(o==null?void 0:o.disabled)),y=P(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":S.value})),v=P(()=>{let L="";return r.showScore?L=r.scoreTemplate.replace(/\{\s*value\s*\}/,g.value?`${r.modelValue}`:`${f.value}`):r.showText&&(L=r.texts[Math.ceil(f.value)-1]),L}),A=P(()=>r.modelValue*100-Math.floor(r.modelValue)*100),w=P(()=>nt(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),S=P(()=>{const L=a(f.value,w.value);return tn(L)?"":L}),C=P(()=>{let L="";return g.value?L=`${A.value}%`:r.allowHalf&&(L="50%"),{color:S.value,width:L}}),E=P(()=>{let L=nt(r.icons)?[...r.icons]:{...r.icons};return L=di(L),nt(L)?{[r.lowThreshold]:L[0],[r.highThreshold]:{value:L[1],excluded:!0},[r.max]:L[2]}:L}),I=P(()=>a(r.modelValue,E.value)),k=P(()=>g.value?Mt(r.disabledVoidIcon)?r.disabledVoidIcon:di(r.disabledVoidIcon):Mt(r.voidIcon)?r.voidIcon:di(r.voidIcon)),T=P(()=>a(f.value,E.value));function M(L){const W=g.value&&A.value>0&&L-1<r.modelValue&&L>r.modelValue,U=r.allowHalf&&p.value&&L-.5<=f.value&&L>f.value;return W||U}function D(L){r.clearable&&L===r.modelValue&&(L=0),n(Jt,L),r.modelValue!==L&&n("change",L)}function B(L){g.value||(r.allowHalf&&p.value?D(f.value):D(L))}function z(L){if(g.value)return;let W=f.value;const U=L.code;return U===mt.up||U===mt.right?(r.allowHalf?W+=.5:W+=1,L.stopPropagation(),L.preventDefault()):(U===mt.left||U===mt.down)&&(r.allowHalf?W-=.5:W-=1,L.stopPropagation(),L.preventDefault()),W=W<0?0:W,W=W>r.max?r.max:W,n(Jt,W),n("change",W),W}function q(L,W){if(!g.value){if(r.allowHalf&&W){let U=W.target;Ya(U,l.e("item"))&&(U=U.querySelector(`.${l.e("icon")}`)),(U.clientWidth===0||Ya(U,l.e("decimal")))&&(U=U.parentNode),p.value=W.offsetX*2<=U.clientWidth,f.value=p.value?L-.5:L}else f.value=L;h.value=L}}function $(){g.value||(r.allowHalf&&(p.value=r.modelValue!==Math.floor(r.modelValue)),f.value=r.modelValue,h.value=-1)}return Qe(()=>r.modelValue,L=>{f.value=L,p.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(Jt,0),e({setCurrentValue:q,resetCurrentValue:$}),(L,W)=>{var U;return N(),ee("div",{id:d(c),class:V([d(m),d(l).is("disabled",d(g))]),role:"slider","aria-label":d(u)?void 0:L.ariaLabel||"rating","aria-labelledby":d(u)?(U=d(s))==null?void 0:U.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":d(v)||void 0,"aria-valuemin":"0","aria-valuemax":L.max,tabindex:"0",style:bt(d(y)),onKeydown:z},[(N(!0),ee(Et,null,fn(L.max,(F,Q)=>(N(),ee("span",{key:Q,class:V(d(l).e("item")),onMousemove:ne=>q(F,ne),onMouseleave:$,onClick:ne=>B(F)},[J(d(Ct),{class:V([d(l).e("icon"),{hover:h.value===F},d(l).is("active",F<=f.value)])},{default:le(()=>[M(F)?Te("v-if",!0):(N(),ee(Et,{key:0},[Qt((N(),Ue(ln(d(T)),null,null,512)),[[En,F<=f.value]]),Qt((N(),Ue(ln(d(k)),null,null,512)),[[En,!(F<=f.value)]])],64)),M(F)?(N(),ee(Et,{key:1},[(N(),Ue(ln(d(k)),{class:V([d(l).em("decimal","box")])},null,8,["class"])),J(d(Ct),{style:bt(d(C)),class:V([d(l).e("icon"),d(l).e("decimal")])},{default:le(()=>[(N(),Ue(ln(d(I))))]),_:1},8,["style","class"])],64)):Te("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),L.showText||L.showScore?(N(),ee("span",{key:0,class:V(d(l).e("text")),style:bt({color:L.textColor})},rt(d(v)),7)):Te("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var FZ=st(NZ,[["__file","rate.vue"]]);const OZ=qt(FZ),vu={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},Hx={[vu.success]:BO,[vu.warning]:_m,[vu.error]:Jb,[vu.info]:e2},zZ=at({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),UZ=he({name:"ElResult"}),HZ=he({...UZ,props:zZ,setup(t){const e=t,n=Ze("result"),r=P(()=>{const a=e.icon,o=a&&vu[a]?vu[a]:"icon-info",s=Hx[o]||Hx["icon-info"];return{class:o,component:s}});return(a,o)=>(N(),ee("div",{class:V(d(n).b())},[re("div",{class:V(d(n).e("icon"))},[Me(a.$slots,"icon",{},()=>[d(r).component?(N(),Ue(ln(d(r).component),{key:0,class:V(d(r).class)},null,8,["class"])):Te("v-if",!0)])],2),a.title||a.$slots.title?(N(),ee("div",{key:0,class:V(d(n).e("title"))},[Me(a.$slots,"title",{},()=>[re("p",null,rt(a.title),1)])],2)):Te("v-if",!0),a.subTitle||a.$slots["sub-title"]?(N(),ee("div",{key:1,class:V(d(n).e("subtitle"))},[Me(a.$slots,"sub-title",{},()=>[re("p",null,rt(a.subTitle),1)])],2)):Te("v-if",!0),a.$slots.extra?(N(),ee("div",{key:2,class:V(d(n).e("extra"))},[Me(a.$slots,"extra")],2)):Te("v-if",!0)],2))}});var $Z=st(HZ,[["__file","result.vue"]]);const VZ=qt($Z),WZ=["start","center","end","space-around","space-between","space-evenly"],GZ=["top","middle","bottom"],KZ=at({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:WZ,default:"start"},align:{type:String,values:GZ}}),qZ=he({name:"ElRow"}),jZ=he({...qZ,props:KZ,setup(t){const e=t,n=Ze("row"),r=P(()=>e.gutter);vn(MT,{gutter:r});const a=P(()=>{const s={};return e.gutter&&(s.marginRight=s.marginLeft=`-${e.gutter/2}px`),s}),o=P(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(s,i)=>(N(),Ue(ln(s.tag),{class:V(d(o)),style:bt(d(a))},{default:le(()=>[Me(s.$slots,"default")]),_:3},8,["class","style"]))}});var YZ=st(jZ,[["__file","row.vue"]]);const XZ=qt(YZ),QZ=he({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Ze("select")}}});function ZZ(t,e,n,r,a,o){return N(),ee("div",{class:V(t.ns.be("group","title")),style:bt({...t.style,lineHeight:`${t.height}px`})},rt(t.item.label),7)}var JZ=st(QZ,[["render",ZZ],["__file","group-item.vue"]]);function eJ(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const T5={label:"label",value:"value",disabled:"disabled",options:"options"};function km(t){const e=P(()=>({...T5,...t.props}));return{aliasProps:e,getLabel:s=>Mr(s,e.value.label),getValue:s=>Mr(s,e.value.value),getDisabled:s=>Mr(s,e.value.disabled),getOptions:s=>Mr(s,e.value.options)}}const tJ=at({allowCreate:Boolean,autocomplete:{type:xe(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:On,default:Ci},effect:{type:xe(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:xe([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:xe(Array),required:!0},placeholder:{type:String},teleported:Xr.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:xe(Object),default:()=>({})},remote:Boolean,size:Or,props:{type:xe(Object),default:()=>T5},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:xe(String),values:Ai,default:"bottom-start"},fallbackPlacements:{type:xe(Array),default:["bottom-start","top-start","right","left"]},tagType:{...vi.type,default:"info"},tagEffect:{...vi.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,...Sd,...ca(["ariaLabel"])}),nJ=at({data:Array,disabled:Boolean,hovering:Boolean,item:{type:xe(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),rJ={[Jt]:t=>!0,[Fn]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},aJ={hover:t=>Nt(t),select:(t,e)=>!0},z2=Symbol("ElSelectV2Injection"),oJ=he({props:nJ,emits:aJ,setup(t,{emit:e}){const n=St(z2),r=Ze("select"),{hoverItem:a,selectOptionClick:o}=eJ(t,{emit:e}),{getLabel:s}=km(n.props);return{ns:r,hoverItem:a,selectOptionClick:o,getLabel:s}}});function sJ(t,e,n,r,a,o){return N(),ee("li",{"aria-selected":t.selected,style:bt(t.style),class:V([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMousemove:t.hoverItem,onClick:zt(t.selectOptionClick,["stop"])},[Me(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[re("span",null,rt(t.getLabel(t.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var iJ=st(oJ,[["render",sJ],["__file","option-item.vue"]]),$x=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function lJ(t,e){return!!(t===e||$x(t)&&$x(e))}function cJ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!lJ(t[n],e[n]))return!1;return!0}function uJ(t,e){e===void 0&&(e=cJ);var n=null;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;var s=t.apply(this,a);return n={lastResult:s,lastArgs:a,lastThis:this},s}return r.clear=function(){n=null},r}const I5=()=>{const e=nn().proxy.$props;return P(()=>{const n=(r,a,o)=>({});return e.perfMode?pm(n):uJ(n)})},L1=50,Mp="itemRendered",Tp="scroll",gu="forward",Ip="backward",Po="auto",Dm="smart",Wf="start",xs="center",Gf="end",Xu="horizontal",U2="vertical",dJ="ltr",Tu="rtl",Kf="negative",H2="positive-ascending",$2="positive-descending",fJ={[Xu]:"left",[U2]:"top"},hJ=20,pJ={[Xu]:"deltaX",[U2]:"deltaY"},mJ=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let a,o=0;const s=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:s,onWheel:l=>{Sc(a);const c=l[pJ[n.value]];s(o)&&s(o+c)||(o+=c,xm()||l.preventDefault(),a=hl(()=>{r(o),o=0}))}}},N1=ds({type:xe([Number,Function]),required:!0}),F1=ds({type:Number}),O1=ds({type:Number,default:2}),vJ=ds({type:String,values:["ltr","rtl"],default:"ltr"}),z1=ds({type:Number,default:0}),Rp=ds({type:Number,required:!0}),R5=ds({type:String,values:["horizontal","vertical"],default:U2}),k5=at({className:{type:String,default:""},containerElement:{type:xe([String,Object]),default:"div"},data:{type:xe(Array),default:()=>fr([])},direction:vJ,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:xe([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),D5=at({cache:O1,estimatedItemSize:F1,layout:R5,initScrollOffset:z1,total:Rp,itemSize:N1,...k5}),U1={type:Number,default:6},P5={type:Number,default:0},B5={type:Number,default:2},pc=at({columnCache:O1,columnWidth:N1,estimatedColumnWidth:F1,estimatedRowHeight:F1,initScrollLeft:z1,initScrollTop:z1,itemKey:{type:xe(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:O1,rowHeight:N1,totalColumn:Rp,totalRow:Rp,hScrollbarSize:U1,vScrollbarSize:U1,scrollbarStartGap:P5,scrollbarEndGap:B5,role:String,...k5}),L5=at({alwaysOn:Boolean,class:String,layout:R5,total:Rp,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:U1,startGap:P5,endGap:B5,visible:Boolean}),rc=(t,e)=>t<e?gu:Ip,qf=t=>t===dJ||t===Tu||t===Xu,Vx=t=>t===Tu;let Uc=null;function kp(t=!1){if(Uc===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Uc=$2:(e.scrollLeft=1,e.scrollLeft===0?Uc=Kf:Uc=H2),document.body.removeChild(e),Uc}return Uc}function gJ({move:t,size:e,bar:n},r){const a={},o=`translate${n.axis}(${t}px)`;return a[n.size]=e,a.transform=o,a.msTransform=o,a.webkitTransform=o,r==="horizontal"?a.height="100%":a.width="100%",a}const H1=he({name:"ElVirtualScrollBar",props:L5,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=P(()=>t.startGap+t.endGap),r=Ze("virtual-scrollbar"),a=Ze("scrollbar"),o=j(),s=j();let i=null,l=null;const c=Mn({isDragging:!1,traveled:0}),u=P(()=>xM[t.layout]),f=P(()=>t.clientSize-d(n)),h=P(()=>({position:"absolute",width:`${Xu===t.layout?f.value:t.scrollbarSize}px`,height:`${Xu===t.layout?t.scrollbarSize:f.value}px`,[fJ[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),p=P(()=>{const E=t.ratio,I=t.clientSize;if(E>=100)return Number.POSITIVE_INFINITY;if(E>=50)return E*I/100;const k=I/3;return Math.floor(Math.min(Math.max(E*I,hJ),k))}),m=P(()=>{if(!Number.isFinite(p.value))return{display:"none"};const E=`${p.value}px`;return gJ({bar:u.value,size:E,move:c.traveled},t.layout)}),g=P(()=>Math.floor(t.clientSize-p.value-d(n))),y=()=>{window.addEventListener("mousemove",S),window.addEventListener("mouseup",w);const E=d(s);E&&(l=document.onselectstart,document.onselectstart=()=>!1,E.addEventListener("touchmove",S,{passive:!0}),E.addEventListener("touchend",w))},v=()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w),document.onselectstart=l,l=null;const E=d(s);E&&(E.removeEventListener("touchmove",S),E.removeEventListener("touchend",w))},A=E=>{E.stopImmediatePropagation(),!(E.ctrlKey||[1,2].includes(E.button))&&(c.isDragging=!0,c[u.value.axis]=E.currentTarget[u.value.offset]-(E[u.value.client]-E.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),y())},w=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),v()},S=E=>{const{isDragging:I}=c;if(!I||!s.value||!o.value)return;const k=c[u.value.axis];if(!k)return;Sc(i);const T=(o.value.getBoundingClientRect()[u.value.direction]-E[u.value.client])*-1,M=s.value[u.value.offset]-k,D=T-M;i=hl(()=>{c.traveled=Math.max(t.startGap,Math.min(D,g.value)),e("scroll",D,g.value)})},C=E=>{const I=Math.abs(E.target.getBoundingClientRect()[u.value.direction]-E[u.value.client]),k=s.value[u.value.offset]/2,T=I-k;c.traveled=Math.max(0,Math.min(T,g.value)),e("scroll",T,g.value)};return Qe(()=>t.scrollFrom,E=>{c.isDragging||(c.traveled=Math.ceil(E*g.value))}),Un(()=>{v()}),()=>Lt("div",{role:"presentation",ref:o,class:[r.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:h.value,onMousedown:zt(C,["stop","prevent"]),onTouchstartPrevent:A},Lt("div",{ref:s,class:a.e("thumb"),style:m.value,onMousedown:A},[]))}}),N5=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:a,getStartIndexForOffset:o,getStopIndexForStartIndex:s,initCache:i,clearCache:l,validateProps:c})=>he({name:t??"ElVirtualList",props:D5,emits:[Mp,Tp],setup(u,{emit:f,expose:h}){c(u);const p=nn(),m=Ze("vl"),g=j(i(u,p)),y=I5(),v=j(),A=j(),w=j(),S=j({isScrolling:!1,scrollDir:"forward",scrollOffset:Nt(u.initScrollOffset)?u.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:u.scrollbarAlwaysOn}),C=P(()=>{const{total:ie,cache:ce}=u,{isScrolling:ge,scrollDir:Ae,scrollOffset:pe}=d(S);if(ie===0)return[0,0,0,0];const Ie=o(u,pe,d(g)),Re=s(u,Ie,pe,d(g)),Je=!ge||Ae===Ip?Math.max(1,ce):1,Ye=!ge||Ae===gu?Math.max(1,ce):1;return[Math.max(0,Ie-Je),Math.max(0,Math.min(ie-1,Re+Ye)),Ie,Re]}),E=P(()=>a(u,d(g))),I=P(()=>qf(u.layout)),k=P(()=>[{position:"relative",[`overflow-${I.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:Nt(u.height)?`${u.height}px`:u.height,width:Nt(u.width)?`${u.width}px`:u.width},u.style]),T=P(()=>{const ie=d(E),ce=d(I);return{height:ce?"100%":`${ie}px`,pointerEvents:d(S).isScrolling?"none":void 0,width:ce?`${ie}px`:"100%"}}),M=P(()=>I.value?u.width:u.height),{onWheel:D}=mJ({atStartEdge:P(()=>S.value.scrollOffset<=0),atEndEdge:P(()=>S.value.scrollOffset>=E.value),layout:P(()=>u.layout)},ie=>{var ce,ge;(ge=(ce=w.value).onMouseUp)==null||ge.call(ce),W(Math.min(S.value.scrollOffset+ie,E.value-M.value))});Ln(v,"wheel",D,{passive:!1});const B=()=>{const{total:ie}=u;if(ie>0){const[pe,Ie,Re,Je]=d(C);f(Mp,pe,Ie,Re,Je)}const{scrollDir:ce,scrollOffset:ge,updateRequested:Ae}=d(S);f(Tp,ce,ge,Ae)},z=ie=>{const{clientHeight:ce,scrollHeight:ge,scrollTop:Ae}=ie.currentTarget,pe=d(S);if(pe.scrollOffset===Ae)return;const Ie=Math.max(0,Math.min(Ae,ge-ce));S.value={...pe,isScrolling:!0,scrollDir:rc(pe.scrollOffset,Ie),scrollOffset:Ie,updateRequested:!1},Bt(Q)},q=ie=>{const{clientWidth:ce,scrollLeft:ge,scrollWidth:Ae}=ie.currentTarget,pe=d(S);if(pe.scrollOffset===ge)return;const{direction:Ie}=u;let Re=ge;if(Ie===Tu)switch(kp()){case Kf:{Re=-ge;break}case $2:{Re=Ae-ce-ge;break}}Re=Math.max(0,Math.min(Re,Ae-ce)),S.value={...pe,isScrolling:!0,scrollDir:rc(pe.scrollOffset,Re),scrollOffset:Re,updateRequested:!1},Bt(Q)},$=ie=>{d(I)?q(ie):z(ie),B()},L=(ie,ce)=>{const ge=(E.value-M.value)/ce*ie;W(Math.min(E.value-M.value,ge))},W=ie=>{ie=Math.max(ie,0),ie!==d(S).scrollOffset&&(S.value={...d(S),scrollOffset:ie,scrollDir:rc(d(S).scrollOffset,ie),updateRequested:!0},Bt(Q))},U=(ie,ce=Po)=>{const{scrollOffset:ge}=d(S);ie=Math.max(0,Math.min(ie,u.total-1)),W(e(u,ie,ce,ge,d(g)))},F=ie=>{const{direction:ce,itemSize:ge,layout:Ae}=u,pe=y.value(l&&ge,l&&Ae,l&&ce);let Ie;if(xn(pe,String(ie)))Ie=pe[ie];else{const Re=r(u,ie,d(g)),Je=n(u,ie,d(g)),Ye=d(I),Z=ce===Tu,me=Ye?Re:0;pe[ie]=Ie={position:"absolute",left:Z?void 0:`${me}px`,right:Z?`${me}px`:void 0,top:Ye?0:`${Re}px`,height:Ye?"100%":`${Je}px`,width:Ye?`${Je}px`:"100%"}}return Ie},Q=()=>{S.value.isScrolling=!1,Bt(()=>{y.value(-1,null,null)})},ne=()=>{const ie=v.value;ie&&(ie.scrollTop=0)};Yt(()=>{if(!Sn)return;const{initScrollOffset:ie}=u,ce=d(v);Nt(ie)&&ce&&(d(I)?ce.scrollLeft=ie:ce.scrollTop=ie),B()}),Fs(()=>{const{direction:ie,layout:ce}=u,{scrollOffset:ge,updateRequested:Ae}=d(S),pe=d(v);if(Ae&&pe)if(ce===Xu)if(ie===Tu)switch(kp()){case Kf:{pe.scrollLeft=-ge;break}case H2:{pe.scrollLeft=ge;break}default:{const{clientWidth:Ie,scrollWidth:Re}=pe;pe.scrollLeft=Re-Ie-ge;break}}else pe.scrollLeft=ge;else pe.scrollTop=ge}),wb(()=>{d(v).scrollTop=d(S).scrollOffset});const de={ns:m,clientSize:M,estimatedTotalSize:E,windowStyle:k,windowRef:v,innerRef:A,innerStyle:T,itemsToRender:C,scrollbarRef:w,states:S,getItemStyle:F,onScroll:$,onScrollbarScroll:L,onWheel:D,scrollTo:W,scrollToItem:U,resetScrollTop:ne};return h({windowRef:v,innerRef:A,getItemStyleCache:y,scrollTo:W,scrollToItem:U,resetScrollTop:ne,states:S}),de},render(u){var f;const{$slots:h,className:p,clientSize:m,containerElement:g,data:y,getItemStyle:v,innerElement:A,itemsToRender:w,innerStyle:S,layout:C,total:E,onScroll:I,onScrollbarScroll:k,states:T,useIsScrolling:M,windowStyle:D,ns:B}=u,[z,q]=w,$=ln(g),L=ln(A),W=[];if(E>0)for(let ne=z;ne<=q;ne++)W.push(Lt(Et,{key:ne},(f=h.default)==null?void 0:f.call(h,{data:y,index:ne,isScrolling:M?T.isScrolling:void 0,style:v(ne)})));const U=[Lt(L,{style:S,ref:"innerRef"},Mt(L)?W:{default:()=>W})],F=Lt(H1,{ref:"scrollbarRef",clientSize:m,layout:C,onScroll:k,ratio:m*100/this.estimatedTotalSize,scrollFrom:T.scrollOffset/(this.estimatedTotalSize-m),total:E}),Q=Lt($,{class:[B.e("window"),p],style:D,onScroll:I,ref:"windowRef",key:0},Mt($)?[U]:{default:()=>[U]});return Lt("div",{key:0,class:[B.e("wrapper"),T.scrollbarAlwaysOn?"always-on":""]},[Q,F])}}),F5=N5({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:a},o,s,i)=>{const l=qf(r)?a:t,c=Math.max(0,e*n-l),u=Math.min(c,o*n),f=Math.max(0,(o+1)*n-l);switch(s===Dm&&(i>=f-l&&i<=u+l?s=Po:s=xs),s){case Wf:return u;case Gf:return f;case xs:{const h=Math.round(f+(u-f)/2);return h<Math.ceil(l/2)?0:h>c+Math.floor(l/2)?c:h}case Po:default:return i>=f&&i<=u?i:i<f?f:u}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:a},o,s)=>{const i=o*n,l=qf(r)?a:t,c=Math.ceil((l+s-i)/n);return Math.max(0,Math.min(e-1,o+c-1))},initCache(){},clearCache:!0,validateProps(){}}),yu=(t,e,n)=>{const{itemSize:r}=t,{items:a,lastVisitedIndex:o}=n;if(e>o){let s=0;if(o>=0){const i=a[o];s=i.offset+i.size}for(let i=o+1;i<=e;i++){const l=r(i);a[i]={offset:s,size:l},s+=l}n.lastVisitedIndex=e}return a[e]},yJ=(t,e,n)=>{const{items:r,lastVisitedIndex:a}=e;return(a>0?r[a].offset:0)>=n?O5(t,e,0,a,n):bJ(t,e,Math.max(0,a),n)},O5=(t,e,n,r,a)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),s=yu(t,o,e).offset;if(s===a)return o;s<a?n=o+1:s>a&&(r=o-1)}return Math.max(0,n-1)},bJ=(t,e,n,r)=>{const{total:a}=t;let o=1;for(;n<a&&yu(t,n,e).offset<r;)n+=o,o*=2;return O5(t,e,Math.floor(n/2),Math.min(n,a-1),r)},Wx=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let a=0;if(r>=t&&(r=t-1),r>=0){const i=e[r];a=i.offset+i.size}const s=(t-r-1)*n;return a+s},SJ=N5({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>yu(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:Wx,getOffset:(t,e,n,r,a)=>{const{height:o,layout:s,width:i}=t,l=qf(s)?i:o,c=yu(t,e,a),u=Wx(t,a),f=Math.max(0,Math.min(u-l,c.offset)),h=Math.max(0,c.offset-l+c.size);switch(n===Dm&&(r>=h-l&&r<=f+l?n=Po:n=xs),n){case Wf:return f;case Gf:return h;case xs:return Math.round(h+(f-h)/2);case Po:default:return r>=h&&r<=f?r:r<h?h:f}},getStartIndexForOffset:(t,e,n)=>yJ(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:a,total:o,layout:s,width:i}=t,l=qf(s)?i:a,c=yu(t,e,r),u=n+l;let f=c.offset+c.size,h=e;for(;h<o-1&&f<u;)h++,f+=yu(t,h,r).size;return h},initCache({estimatedItemSize:t=L1},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,a=!0)=>{var o,s;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=e.exposed)==null||o.getItemStyleCache(-1),a&&((s=e.proxy)==null||s.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),_J={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var wJ=he({name:"ElSelectDropdown",props:_J,setup(t,{slots:e,expose:n}){const r=St(z2),a=Ze("select"),{getLabel:o,getValue:s,getDisabled:i}=km(r.props),l=j([]),c=j(),u=P(()=>t.data.length);Qe(()=>u.value,()=>{var D,B;(B=(D=r.tooltipRef.value).updatePopper)==null||B.call(D)});const f=P(()=>Bn(r.props.estimatedOptionHeight)),h=P(()=>f.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:D=>l.value[D]}),p=(D=[],B)=>{const{props:{valueKey:z}}=r;return tn(B)?D&&D.some(q=>zn(Mr(q,z))===Mr(B,z)):D.includes(B)},m=(D,B)=>{if(tn(B)){const{valueKey:z}=r.props;return Mr(D,z)===Mr(B,z)}else return D===B},g=(D,B)=>r.props.multiple?p(D,s(B)):m(D,s(B)),y=(D,B)=>{const{disabled:z,multiple:q,multipleLimit:$}=r.props;return z||!B&&(q?$>0&&D.length>=$:!1)},v=D=>t.hoveringIndex===D;n({listRef:c,isSized:f,isItemDisabled:y,isItemHovering:v,isItemSelected:g,scrollToItem:D=>{const B=c.value;B&&B.scrollToItem(D)},resetScrollTop:()=>{const D=c.value;D&&D.resetScrollTop()}});const C=D=>{const{index:B,data:z,style:q}=D,$=d(f),{itemSize:L,estimatedSize:W}=d(h),{modelValue:U}=r.props,{onSelect:F,onHover:Q}=r,ne=z[B];if(ne.type==="Group")return J(JZ,{item:ne,style:q,height:$?L:W},null);const de=g(U,ne),ie=y(U,de),ce=v(B);return J(iJ,un(D,{selected:de,disabled:i(ne)||ie,created:!!ne.created,hovering:ce,item:ne,onSelect:F,onHover:Q}),{default:ge=>{var Ae;return((Ae=e.default)==null?void 0:Ae.call(e,ge))||J("span",null,[o(ne)])}})},{onKeyboardNavigate:E,onKeyboardSelect:I}=r,k=()=>{E("forward")},T=()=>{E("backward")},M=D=>{const{code:B}=D,{tab:z,esc:q,down:$,up:L,enter:W,numpadEnter:U}=mt;switch(B!==z&&(D.preventDefault(),D.stopPropagation()),B){case z:case q:break;case $:k();break;case L:T();break;case W:case U:I();break}};return()=>{var D,B,z,q;const{data:$,width:L}=t,{height:W,multiple:U,scrollbarAlwaysOn:F}=r.props,Q=d(f)?F5:SJ;return J("div",{class:[a.b("dropdown"),a.is("multiple",U)],style:{width:`${L}px`}},[(D=e.header)==null?void 0:D.call(e),((B=e.loading)==null?void 0:B.call(e))||((z=e.empty)==null?void 0:z.call(e))||J(Q,un({ref:c},d(h),{className:a.be("dropdown","list"),scrollbarAlwaysOn:F,data:$,height:W,width:L,total:$.length,onKeydown:M}),{default:ne=>J(C,ne,null)}),(q=e.footer)==null?void 0:q.call(e)])}}});function xJ(t,e){const{aliasProps:n,getLabel:r,getValue:a}=km(t),o=j(0),s=j(),i=P(()=>t.allowCreate&&t.filterable);function l(p){const m=g=>r(g)===p;return t.options&&t.options.some(m)||e.createdOptions.some(m)}function c(p){i.value&&(t.multiple&&p.created?o.value++:s.value=p)}function u(p){if(i.value)if(p&&p.length>0){if(l(p))return;const m={[n.value.value]:p,[n.value.label]:p,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=o.value?e.createdOptions[o.value]=m:e.createdOptions.push(m)}else if(t.multiple)e.createdOptions.length=o.value;else{const m=s.value;e.createdOptions.length=0,m&&m.created&&e.createdOptions.push(m)}}function f(p){if(!i.value||!p||!p.created||p.created&&t.reserveKeyword&&e.inputValue===r(p))return;const m=e.createdOptions.findIndex(g=>a(g)===a(p));~m&&(e.createdOptions.splice(m,1),o.value--)}function h(){i.value&&(e.createdOptions.length=0,o.value=0)}return{createNewOption:u,removeNewOption:f,selectNewOption:c,clearAllNewOption:h}}const CJ=11,AJ=(t,e)=>{const{t:n}=_n(),r=Ze("select"),a=Ze("input"),{form:o,formItem:s}=_a(),{inputId:i}=Wo(t,{formItemContext:s}),{aliasProps:l,getLabel:c,getValue:u,getDisabled:f,getOptions:h}=km(t),{valueOnClear:p,isEmptyValue:m}=ym(t),g=Mn({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),y=j(-1),v=j(),A=j(),w=j(),S=j(),C=j(),E=j(),I=j(),k=j(),T=j(),M=j(),D=j(),{isComposing:B,handleCompositionStart:z,handleCompositionEnd:q,handleCompositionUpdate:$}=ph({afterComposition:Ee=>Ir(Ee)}),{wrapperRef:L,isFocused:W,handleBlur:U}=Al(C,{beforeFocus(){return de.value},afterFocus(){t.automaticDropdown&&!ne.value&&(ne.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(Ee){var qe,We;return((qe=w.value)==null?void 0:qe.isFocusInsideContent(Ee))||((We=S.value)==null?void 0:We.isFocusInsideContent(Ee))},afterBlur(){ne.value=!1,g.menuVisibleOnFocus=!1}}),F=j([]),Q=j([]),ne=j(!1),de=P(()=>t.disabled||(o==null?void 0:o.disabled)),ie=P(()=>{var Ee;return(Ee=o==null?void 0:o.statusIcon)!=null?Ee:!1}),ce=P(()=>{const Ee=Q.value.length*t.itemHeight;return Ee>t.height?t.height:Ee}),ge=P(()=>t.multiple?nt(t.modelValue)&&t.modelValue.length>0:!m(t.modelValue)),Ae=P(()=>t.clearable&&!de.value&&g.inputHovering&&ge.value),pe=P(()=>t.remote&&t.filterable?"":xi),Ie=P(()=>pe.value&&r.is("reverse",ne.value)),Re=P(()=>(s==null?void 0:s.validateState)||""),Je=P(()=>{if(Re.value)return wm[Re.value]}),Ye=P(()=>t.remote?300:0),Z=P(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!g.inputValue&&F.value.length===0?!1:t.filterable&&g.inputValue&&F.value.length>0&&Q.value.length===0?t.noMatchText||n("el.select.noMatch"):F.value.length===0?t.noDataText||n("el.select.noData"):null),me=Ee=>{const qe=We=>{if(t.filterable&&Pt(t.filterMethod)||t.filterable&&t.remote&&Pt(t.remoteMethod))return!0;const pt=new RegExp(S2(Ee),"i");return Ee?pt.test(c(We)||""):!0};return t.loading?[]:[...g.createdOptions,...t.options].reduce((We,pt)=>{const Ut=h(pt);if(nt(Ut)){const Gt=Ut.filter(qe);Gt.length>0&&We.push({label:c(pt),type:"Group"},...Gt)}else(t.remote||qe(pt))&&We.push(pt);return We},[])},oe=()=>{F.value=me(""),Q.value=me(g.inputValue)},Ve=P(()=>{const Ee=new Map;return F.value.forEach((qe,We)=>{Ee.set(gt(u(qe)),{option:qe,index:We})}),Ee}),Le=P(()=>{const Ee=new Map;return Q.value.forEach((qe,We)=>{Ee.set(gt(u(qe)),{option:qe,index:We})}),Ee}),ze=P(()=>Q.value.every(Ee=>f(Ee))),De=Dr(),Fe=P(()=>De.value==="small"?"small":"default"),Ge=()=>{var Ee;y.value=((Ee=v.value)==null?void 0:Ee.offsetWidth)||200},ae=()=>{if(!A.value)return 0;const Ee=window.getComputedStyle(A.value);return Number.parseFloat(Ee.gap||"6px")},te=P(()=>{const Ee=ae();return{maxWidth:`${D.value&&t.maxCollapseTags===1?g.selectionWidth-g.collapseItemWidth-Ee:g.selectionWidth}px`}}),we=P(()=>({maxWidth:`${g.selectionWidth}px`})),ye=P(()=>({width:`${Math.max(g.calculatorWidth,CJ)}px`})),$e=P(()=>nt(t.modelValue)?t.modelValue.length===0&&!g.inputValue:t.filterable?!g.inputValue:!0),je=P(()=>{var Ee;const qe=(Ee=t.placeholder)!=null?Ee:n("el.select.placeholder");return t.multiple||!ge.value?qe:g.selectedLabel}),yt=P(()=>{var Ee,qe;return(qe=(Ee=w.value)==null?void 0:Ee.popperRef)==null?void 0:qe.contentRef}),ut=P(()=>{if(t.multiple){const Ee=t.modelValue.length;if(t.modelValue.length>0&&Le.value.has(t.modelValue[Ee-1])){const{index:qe}=Le.value.get(t.modelValue[Ee-1]);return qe}}else if(!m(t.modelValue)&&Le.value.has(t.modelValue)){const{index:Ee}=Le.value.get(t.modelValue);return Ee}return-1}),_t=P({get(){return ne.value&&Z.value!==!1},set(Ee){ne.value=Ee}}),Ft=P(()=>t.multiple?t.collapseTags?g.cachedOptions.slice(0,t.maxCollapseTags):g.cachedOptions:[]),ht=P(()=>t.multiple?t.collapseTags?g.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:X,removeNewOption:He,selectNewOption:ve,clearAllNewOption:ke}=xJ(t,g),fe=()=>{de.value||(g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:ne.value=!ne.value)},tt=()=>{g.inputValue.length>0&&!ne.value&&(ne.value=!0),X(g.inputValue),Oe(g.inputValue)},Rt=eo(tt,Ye.value),Oe=Ee=>{g.previousQuery===Ee||B.value||(g.previousQuery=Ee,t.filterable&&Pt(t.filterMethod)?t.filterMethod(Ee):t.filterable&&t.remote&&Pt(t.remoteMethod)&&t.remoteMethod(Ee),t.defaultFirstOption&&(t.filterable||t.remote)&&Q.value.length?Bt(Tt):Bt(Hn))},Tt=()=>{const Ee=Q.value.filter(pt=>!pt.disabled&&pt.type!=="Group"),qe=Ee.find(pt=>pt.created),We=Ee[0];g.hoveringIndex=It(Q.value,qe||We)},ot=Ee=>{ia(t.modelValue,Ee)||e(Fn,Ee)},dt=Ee=>{e(Jt,Ee),ot(Ee),g.previousValue=t.multiple?String(Ee):Ee},It=(Ee=[],qe)=>{if(!tn(qe))return Ee.indexOf(qe);const We=t.valueKey;let pt=-1;return Ee.some((Ut,Gt)=>Mr(Ut,We)===Mr(qe,We)?(pt=Gt,!0):!1),pt},gt=Ee=>tn(Ee)?Mr(Ee,t.valueKey):Ee,an=()=>{Ge()},Yn=()=>{g.selectionWidth=A.value.getBoundingClientRect().width},Tr=()=>{g.calculatorWidth=E.value.getBoundingClientRect().width},Wn=()=>{g.collapseItemWidth=D.value.getBoundingClientRect().width},Pr=()=>{var Ee,qe;(qe=(Ee=w.value)==null?void 0:Ee.updatePopper)==null||qe.call(Ee)},Tn=()=>{var Ee,qe;(qe=(Ee=S.value)==null?void 0:Ee.updatePopper)==null||qe.call(Ee)},H=Ee=>{if(t.multiple){let qe=t.modelValue.slice();const We=It(qe,u(Ee));We>-1?(qe=[...qe.slice(0,We),...qe.slice(We+1)],g.cachedOptions.splice(We,1),He(Ee)):(t.multipleLimit<=0||qe.length<t.multipleLimit)&&(qe=[...qe,u(Ee)],g.cachedOptions.push(Ee),ve(Ee)),dt(qe),Ee.created&&Oe(""),t.filterable&&!t.reserveKeyword&&(g.inputValue="")}else g.selectedLabel=c(Ee),dt(u(Ee)),ne.value=!1,ve(Ee),Ee.created||ke();At()},Y=(Ee,qe)=>{let We=t.modelValue.slice();const pt=It(We,u(qe));pt>-1&&!de.value&&(We=[...t.modelValue.slice(0,pt),...t.modelValue.slice(pt+1)],g.cachedOptions.splice(pt,1),dt(We),e("remove-tag",u(qe)),He(qe)),Ee.stopPropagation(),At()},At=()=>{var Ee;(Ee=C.value)==null||Ee.focus()},ue=()=>{var Ee;if(ne.value){ne.value=!1,Bt(()=>{var qe;return(qe=C.value)==null?void 0:qe.blur()});return}(Ee=C.value)==null||Ee.blur()},Pe=()=>{g.inputValue.length>0?g.inputValue="":ne.value=!1},nr=Ee=>YE(Ee,qe=>!g.cachedOptions.some(We=>u(We)===qe&&f(We))),jt=Ee=>{if(t.multiple&&Ee.code!==mt.delete&&g.inputValue.length===0){Ee.preventDefault();const qe=t.modelValue.slice(),We=nr(qe);if(We<0)return;const pt=qe[We];qe.splice(We,1);const Ut=g.cachedOptions[We];g.cachedOptions.splice(We,1),He(Ut),dt(qe),e("remove-tag",pt)}},Br=()=>{let Ee;nt(t.modelValue)?Ee=[]:Ee=p.value,t.multiple?g.cachedOptions=[]:g.selectedLabel="",ne.value=!1,dt(Ee),e("clear"),ke(),At()},ft=(Ee,qe=void 0)=>{const We=Q.value;if(!["forward","backward"].includes(Ee)||de.value||We.length<=0||ze.value||B.value)return;if(!ne.value)return fe();qe===void 0&&(qe=g.hoveringIndex);let pt=-1;Ee==="forward"?(pt=qe+1,pt>=We.length&&(pt=0)):Ee==="backward"&&(pt=qe-1,(pt<0||pt>=We.length)&&(pt=We.length-1));const Ut=We[pt];if(f(Ut)||Ut.type==="Group")return ft(Ee,pt);g.hoveringIndex=pt,Xe(pt)},vt=()=>{if(ne.value)~g.hoveringIndex&&Q.value[g.hoveringIndex]&&H(Q.value[g.hoveringIndex]);else return fe()},on=Ee=>{g.hoveringIndex=Ee??-1},Hn=()=>{t.multiple?g.hoveringIndex=Q.value.findIndex(Ee=>t.modelValue.some(qe=>gt(qe)===gt(Ee))):g.hoveringIndex=Q.value.findIndex(Ee=>gt(Ee)===gt(t.modelValue))},Ir=Ee=>{if(g.inputValue=Ee.target.value,t.remote)Rt();else return tt()},Ne=Ee=>{if(ne.value=!1,W.value){const qe=new FocusEvent("focus",Ee);U(qe)}},Lr=()=>(g.isBeforeHide=!1,Bt(()=>{~ut.value&&Xe(g.hoveringIndex)})),Xe=Ee=>{T.value.scrollToItem(Ee)},be=(Ee,qe)=>{const We=gt(Ee);if(Ve.value.has(We)){const{option:pt}=Ve.value.get(We);return pt}if(qe&&qe.length){const pt=qe.find(Ut=>gt(u(Ut))===We);if(pt)return pt}return{[l.value.value]:Ee,[l.value.label]:Ee}},et=(Ee=!1)=>{if(t.multiple)if(t.modelValue.length>0){const qe=g.cachedOptions.slice();g.cachedOptions.length=0,g.previousValue=t.modelValue.toString();for(const We of t.modelValue){const pt=be(We,qe);g.cachedOptions.push(pt)}}else g.cachedOptions=[],g.previousValue=void 0;else if(ge.value){g.previousValue=t.modelValue;const qe=Q.value,We=qe.findIndex(pt=>gt(u(pt))===gt(t.modelValue));~We?g.selectedLabel=c(qe[We]):(!g.selectedLabel||Ee)&&(g.selectedLabel=gt(t.modelValue))}else g.selectedLabel="",g.previousValue=void 0;ke(),Ge()};return Qe(ne,Ee=>{Ee?Oe(""):(g.inputValue="",g.previousQuery=null,g.isBeforeHide=!0,X("")),e("visible-change",Ee)}),Qe(()=>t.modelValue,(Ee,qe)=>{var We;(!Ee||nt(Ee)&&Ee.length===0||t.multiple&&!ia(Ee.toString(),g.previousValue)||!t.multiple&&gt(Ee)!==gt(g.previousValue))&&et(!0),!ia(Ee,qe)&&t.validateEvent&&((We=s==null?void 0:s.validate)==null||We.call(s,"change").catch(Ut=>void 0))},{deep:!0}),Qe(()=>t.options,()=>{const Ee=C.value;(!Ee||Ee&&document.activeElement!==Ee)&&et()},{deep:!0,flush:"post"}),Qe(()=>Q.value,()=>T.value&&Bt(T.value.resetScrollTop)),ga(()=>{g.isBeforeHide||oe()}),ga(()=>{const{valueKey:Ee,options:qe}=t,We=new Map;for(const pt of qe){const Ut=u(pt);let Gt=Ut;if(tn(Gt)&&(Gt=Mr(Ut,Ee)),We.get(Gt))break;We.set(Gt,!0)}}),Yt(()=>{et()}),or(v,an),or(A,Yn),or(E,Tr),or(T,Pr),or(L,Pr),or(M,Tn),or(D,Wn),{inputId:i,collapseTagSize:Fe,currentPlaceholder:je,expanded:ne,emptyText:Z,popupHeight:ce,debounce:Ye,allOptions:F,filteredOptions:Q,iconComponent:pe,iconReverse:Ie,tagStyle:te,collapseTagStyle:we,inputStyle:ye,popperSize:y,dropdownMenuVisible:_t,hasModelValue:ge,shouldShowPlaceholder:$e,selectDisabled:de,selectSize:De,needStatusIcon:ie,showClearBtn:Ae,states:g,isFocused:W,nsSelect:r,nsInput:a,calculatorRef:E,inputRef:C,menuRef:T,tagMenuRef:M,tooltipRef:w,tagTooltipRef:S,selectRef:v,wrapperRef:L,selectionRef:A,prefixRef:I,suffixRef:k,collapseItemRef:D,popperRef:yt,validateState:Re,validateIcon:Je,showTagList:Ft,collapseTagList:ht,debouncedOnInputChange:Rt,deleteTag:Y,getLabel:c,getValue:u,getDisabled:f,getValueKey:gt,handleClear:Br,handleClickOutside:Ne,handleDel:jt,handleEsc:Pe,focus:At,blur:ue,handleMenuEnter:Lr,handleResize:an,resetSelectionWidth:Yn,resetCalculatorWidth:Tr,updateTooltip:Pr,updateTagTooltip:Tn,updateOptions:oe,toggleMenu:fe,scrollTo:Xe,onInput:Ir,onKeyboardNavigate:ft,onKeyboardSelect:vt,onSelect:H,onHover:on,handleCompositionStart:z,handleCompositionEnd:q,handleCompositionUpdate:$}},EJ=he({name:"ElSelectV2",components:{ElSelectMenu:wJ,ElTag:ju,ElTooltip:Sa,ElIcon:Ct},directives:{ClickOutside:gi},props:tJ,emits:rJ,setup(t,{emit:e}){const n=P(()=>{const{modelValue:o,multiple:s}=t,i=s?[]:void 0;return nt(o)?s?o:i:s?i:o}),r=AJ(Mn({...jr(t),modelValue:n}),e);vn(z2,{props:Mn({...jr(t),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const a=P(()=>t.multiple?r.states.cachedOptions.map(o=>o.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:a}}});function MJ(t,e,n,r,a,o){const s=ct("el-tag"),i=ct("el-tooltip"),l=ct("el-icon"),c=ct("el-select-menu"),u=sm("click-outside");return Qt((N(),ee("div",{ref:"selectRef",class:V([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:f=>t.states.inputHovering=!0,onMouseleave:f=>t.states.inputHovering=!1},[J(i,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:f=>t.states.isBeforeHide=!1},{default:le(()=>[re("div",{ref:"wrapperRef",class:V([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:zt(t.toggleMenu,["prevent"])},[t.$slots.prefix?(N(),ee("div",{key:0,ref:"prefixRef",class:V(t.nsSelect.e("prefix"))},[Me(t.$slots,"prefix")],2)):Te("v-if",!0),re("div",{ref:"selectionRef",class:V([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?Me(t.$slots,"tag",{key:0},()=>[(N(!0),ee(Et,null,fn(t.showTagList,f=>(N(),ee("div",{key:t.getValueKey(t.getValue(f)),class:V(t.nsSelect.e("selected-item"))},[J(s,{closable:!t.selectDisabled&&!t.getDisabled(f),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:bt(t.tagStyle),onClose:h=>t.deleteTag(h,f)},{default:le(()=>[re("span",{class:V(t.nsSelect.e("tags-text"))},[Me(t.$slots,"label",{label:t.getLabel(f),value:t.getValue(f)},()=>[Zt(rt(t.getLabel(f)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(N(),Ue(i,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:le(()=>[re("div",{ref:"collapseItemRef",class:V(t.nsSelect.e("selected-item"))},[J(s,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:bt(t.collapseTagStyle),"disable-transitions":""},{default:le(()=>[re("span",{class:V(t.nsSelect.e("tags-text"))}," + "+rt(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:le(()=>[re("div",{ref:"tagMenuRef",class:V(t.nsSelect.e("selection"))},[(N(!0),ee(Et,null,fn(t.collapseTagList,f=>(N(),ee("div",{key:t.getValueKey(t.getValue(f)),class:V(t.nsSelect.e("selected-item"))},[J(s,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(f),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:h=>t.deleteTag(h,f)},{default:le(()=>[re("span",{class:V(t.nsSelect.e("tags-text"))},[Me(t.$slots,"label",{label:t.getLabel(f),value:t.getValue(f)},()=>[Zt(rt(t.getLabel(f)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Te("v-if",!0)]):Te("v-if",!0),re("div",{class:V([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Qt(re("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":f=>t.states.inputValue=f,style:bt(t.inputStyle),autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:V([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[Vn(zt(f=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Vn(zt(f=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Vn(zt(t.onKeyboardSelect,["stop","prevent"]),["enter"]),Vn(zt(t.handleEsc,["stop","prevent"]),["esc"]),Vn(zt(t.handleDel,["stop"]),["delete"])],onClick:zt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[cm,t.states.inputValue]]),t.filterable?(N(),ee("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:V(t.nsSelect.e("input-calculator")),textContent:rt(t.states.inputValue)},null,10,["textContent"])):Te("v-if",!0)],2),t.shouldShowPlaceholder?(N(),ee("div",{key:1,class:V([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Me(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[re("span",null,rt(t.currentPlaceholder),1)]):(N(),ee("span",{key:1},rt(t.currentPlaceholder),1))],2)):Te("v-if",!0)],2),re("div",{ref:"suffixRef",class:V(t.nsSelect.e("suffix"))},[t.iconComponent?Qt((N(),Ue(l,{key:0,class:V([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:le(()=>[(N(),Ue(ln(t.iconComponent)))]),_:1},8,["class"])),[[En,!t.showClearBtn]]):Te("v-if",!0),t.showClearBtn&&t.clearIcon?(N(),Ue(l,{key:1,class:V([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:zt(t.handleClear,["prevent","stop"])},{default:le(()=>[(N(),Ue(ln(t.clearIcon)))]),_:1},8,["class","onClick"])):Te("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(N(),Ue(l,{key:2,class:V([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:le(()=>[(N(),Ue(ln(t.validateIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],10,["onClick"])]),content:le(()=>[J(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Oo({default:le(f=>[Me(t.$slots,"default",ns(ul(f)))]),_:2},[t.$slots.header?{name:"header",fn:le(()=>[re("div",{class:V(t.nsSelect.be("dropdown","header"))},[Me(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:le(()=>[re("div",{class:V(t.nsSelect.be("dropdown","loading"))},[Me(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:le(()=>[re("div",{class:V(t.nsSelect.be("dropdown","empty"))},[Me(t.$slots,"empty",{},()=>[re("span",null,rt(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:le(()=>[re("div",{class:V(t.nsSelect.be("dropdown","footer"))},[Me(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[u,t.handleClickOutside,t.popperRef]])}var TJ=st(EJ,[["render",MJ],["__file","select.vue"]]);const IJ=qt(TJ),RJ=at({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:xe([Number,Object])}}),kJ=at({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),DJ=he({name:"ElSkeletonItem"}),PJ=he({...DJ,props:kJ,setup(t){const e=Ze("skeleton");return(n,r)=>(N(),ee("div",{class:V([d(e).e("item"),d(e).e(n.variant)])},[n.variant==="image"?(N(),Ue(d(az),{key:0})):Te("v-if",!0)],2))}});var Dp=st(PJ,[["__file","skeleton-item.vue"]]);const BJ=(t,e=0)=>{if(e===0)return t;const n=tn(e)&&!!e.initVal,r=j(n);let a=null;const o=i=>{if(Bn(i)){r.value=t.value;return}a&&clearTimeout(a),a=setTimeout(()=>{r.value=t.value},i)},s=i=>{i==="leading"?Nt(e)?o(e):o(e.leading):tn(e)?o(e.trailing):r.value=!1};return Yt(()=>s("leading")),Qe(()=>t.value,i=>{s(i?"leading":"trailing")}),r},LJ=he({name:"ElSkeleton"}),NJ=he({...LJ,props:RJ,setup(t,{expose:e}){const n=t,r=Ze("skeleton"),a=BJ(Rn(n,"loading"),n.throttle);return e({uiLoading:a}),(o,s)=>d(a)?(N(),ee("div",un({key:0,class:[d(r).b(),d(r).is("animated",o.animated)]},o.$attrs),[(N(!0),ee(Et,null,fn(o.count,i=>(N(),ee(Et,{key:i},[d(a)?Me(o.$slots,"template",{key:i},()=>[J(Dp,{class:V(d(r).is("first")),variant:"p"},null,8,["class"]),(N(!0),ee(Et,null,fn(o.rows,l=>(N(),Ue(Dp,{key:l,class:V([d(r).e("paragraph"),d(r).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Te("v-if",!0)],64))),128))],16)):Me(o.$slots,"default",ns(un({key:1},o.$attrs)))}});var FJ=st(NJ,[["__file","skeleton.vue"]]);const OJ=qt(FJ,{SkeletonItem:Dp}),zJ=hr(Dp),z5=Symbol("sliderContextKey"),UJ=at({modelValue:{type:xe([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Or,inputSize:Or,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:xe(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:xe(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ai,default:"top"},marks:{type:xe(Object)},validateEvent:{type:Boolean,default:!0},...ca(["ariaLabel"])}),Xv=t=>Nt(t)||nt(t)&&t.every(Nt),HJ={[Jt]:Xv,[ya]:Xv,[Fn]:Xv},$J=at({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ai,default:"top"}}),VJ={[Jt]:t=>Nt(t)},WJ=(t,e,n)=>{const r=j(),a=j(!1),o=P(()=>e.value instanceof Function),s=P(()=>o.value&&e.value(t.modelValue)||t.modelValue),i=eo(()=>{n.value&&(a.value=!0)},50),l=eo(()=>{n.value&&(a.value=!1)},50);return{tooltip:r,tooltipVisible:a,formatValue:s,displayTooltip:i,hideTooltip:l}},GJ=(t,e,n)=>{const{disabled:r,min:a,max:o,step:s,showTooltip:i,precision:l,sliderSize:c,formatTooltip:u,emitChange:f,resetSize:h,updateDragging:p}=St(z5),{tooltip:m,tooltipVisible:g,formatValue:y,displayTooltip:v,hideTooltip:A}=WJ(t,u,i),w=j(),S=P(()=>`${(t.modelValue-a.value)/(o.value-a.value)*100}%`),C=P(()=>t.vertical?{bottom:S.value}:{left:S.value}),E=()=>{e.hovering=!0,v()},I=()=>{e.hovering=!1,e.dragging||A()},k=de=>{r.value||(de.preventDefault(),U(de),window.addEventListener("mousemove",F),window.addEventListener("touchmove",F),window.addEventListener("mouseup",Q),window.addEventListener("touchend",Q),window.addEventListener("contextmenu",Q),w.value.focus())},T=de=>{r.value||(e.newPosition=Number.parseFloat(S.value)+de/(o.value-a.value)*100,ne(e.newPosition),f())},M=()=>{T(-s.value)},D=()=>{T(s.value)},B=()=>{T(-s.value*4)},z=()=>{T(s.value*4)},q=()=>{r.value||(ne(0),f())},$=()=>{r.value||(ne(100),f())},L=de=>{let ie=!0;switch(de.code){case mt.left:case mt.down:M();break;case mt.right:case mt.up:D();break;case mt.home:q();break;case mt.end:$();break;case mt.pageDown:B();break;case mt.pageUp:z();break;default:ie=!1;break}ie&&de.preventDefault()},W=de=>{let ie,ce;return de.type.startsWith("touch")?(ce=de.touches[0].clientY,ie=de.touches[0].clientX):(ce=de.clientY,ie=de.clientX),{clientX:ie,clientY:ce}},U=de=>{e.dragging=!0,e.isClick=!0;const{clientX:ie,clientY:ce}=W(de);t.vertical?e.startY=ce:e.startX=ie,e.startPosition=Number.parseFloat(S.value),e.newPosition=e.startPosition},F=de=>{if(e.dragging){e.isClick=!1,v(),h();let ie;const{clientX:ce,clientY:ge}=W(de);t.vertical?(e.currentY=ge,ie=(e.startY-e.currentY)/c.value*100):(e.currentX=ce,ie=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+ie,ne(e.newPosition)}},Q=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||A(),e.isClick||ne(e.newPosition),f()},0),window.removeEventListener("mousemove",F),window.removeEventListener("touchmove",F),window.removeEventListener("mouseup",Q),window.removeEventListener("touchend",Q),window.removeEventListener("contextmenu",Q))},ne=async de=>{if(de===null||Number.isNaN(+de))return;de<0?de=0:de>100&&(de=100);const ie=100/((o.value-a.value)/s.value);let ge=Math.round(de/ie)*ie*(o.value-a.value)*.01+a.value;ge=Number.parseFloat(ge.toFixed(l.value)),ge!==t.modelValue&&n(Jt,ge),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await Bt(),e.dragging&&v(),m.value.updatePopper()};return Qe(()=>e.dragging,de=>{p(de)}),Ln(w,"touchstart",k,{passive:!1}),{disabled:r,button:w,tooltip:m,tooltipVisible:g,showTooltip:i,wrapperStyle:C,formatValue:y,handleMouseEnter:E,handleMouseLeave:I,onButtonDown:k,onKeyDown:L,setPosition:ne}},KJ=he({name:"ElSliderButton"}),qJ=he({...KJ,props:$J,emits:VJ,setup(t,{expose:e,emit:n}){const r=t,a=Ze("slider"),o=Mn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:i,tooltip:l,showTooltip:c,tooltipVisible:u,wrapperStyle:f,formatValue:h,handleMouseEnter:p,handleMouseLeave:m,onButtonDown:g,onKeyDown:y,setPosition:v}=GJ(r,o,n),{hovering:A,dragging:w}=jr(o);return e({onButtonDown:g,onKeyDown:y,setPosition:v,hovering:A,dragging:w}),(S,C)=>(N(),ee("div",{ref_key:"button",ref:i,class:V([d(a).e("button-wrapper"),{hover:d(A),dragging:d(w)}]),style:bt(d(f)),tabindex:d(s)?-1:0,onMouseenter:d(p),onMouseleave:d(m),onMousedown:d(g),onFocus:d(p),onBlur:d(m),onKeydown:d(y)},[J(d(Sa),{ref_key:"tooltip",ref:l,visible:d(u),placement:S.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":S.tooltipClass,disabled:!d(c),persistent:d(c)},{content:le(()=>[re("span",null,rt(d(h)),1)]),default:le(()=>[re("div",{class:V([d(a).e("button"),{hover:d(A),dragging:d(w)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var Gx=st(qJ,[["__file","button.vue"]]);const jJ=at({mark:{type:xe([String,Object]),default:void 0}});var YJ=he({name:"ElSliderMarker",props:jJ,setup(t){const e=Ze("slider"),n=P(()=>Mt(t.mark)?t.mark:t.mark.label),r=P(()=>Mt(t.mark)?void 0:t.mark.style);return()=>Lt("div",{class:e.e("marks-text"),style:r.value},n.value)}});const XJ=(t,e,n)=>{const{form:r,formItem:a}=_a(),o=Xn(),s=j(),i=j(),l={firstButton:s,secondButton:i},c=P(()=>t.disabled||(r==null?void 0:r.disabled)||!1),u=P(()=>Math.min(e.firstValue,e.secondValue)),f=P(()=>Math.max(e.firstValue,e.secondValue)),h=P(()=>t.range?`${100*(f.value-u.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),p=P(()=>t.range?`${100*(u.value-t.min)/(t.max-t.min)}%`:"0%"),m=P(()=>t.vertical?{height:t.height}:{}),g=P(()=>t.vertical?{height:h.value,bottom:p.value}:{width:h.value,left:p.value}),y=()=>{o.value&&(e.sliderSize=o.value[`client${t.vertical?"Height":"Width"}`])},v=B=>{const z=t.min+B*(t.max-t.min)/100;if(!t.range)return s;let q;return Math.abs(u.value-z)<Math.abs(f.value-z)?q=e.firstValue<e.secondValue?"firstButton":"secondButton":q=e.firstValue>e.secondValue?"firstButton":"secondButton",l[q]},A=B=>{const z=v(B);return z.value.setPosition(B),z},w=B=>{e.firstValue=B??t.min,C(t.range?[u.value,f.value]:B??t.min)},S=B=>{e.secondValue=B,t.range&&C([u.value,f.value])},C=B=>{n(Jt,B),n(ya,B)},E=async()=>{await Bt(),n(Fn,t.range?[u.value,f.value]:t.modelValue)},I=B=>{var z,q,$,L,W,U;if(c.value||e.dragging)return;y();let F=0;if(t.vertical){const Q=($=(q=(z=B.touches)==null?void 0:z.item(0))==null?void 0:q.clientY)!=null?$:B.clientY;F=(o.value.getBoundingClientRect().bottom-Q)/e.sliderSize*100}else{const Q=(U=(W=(L=B.touches)==null?void 0:L.item(0))==null?void 0:W.clientX)!=null?U:B.clientX,ne=o.value.getBoundingClientRect().left;F=(Q-ne)/e.sliderSize*100}if(!(F<0||F>100))return A(F)};return{elFormItem:a,slider:o,firstButton:s,secondButton:i,sliderDisabled:c,minValue:u,maxValue:f,runwayStyle:m,barStyle:g,resetSize:y,setPosition:A,emitChange:E,onSliderWrapperPrevent:B=>{var z,q;((z=l.firstButton.value)!=null&&z.dragging||(q=l.secondButton.value)!=null&&q.dragging)&&B.preventDefault()},onSliderClick:B=>{I(B)&&E()},onSliderDown:async B=>{const z=I(B);z&&(await Bt(),z.value.onButtonDown(B))},onSliderMarkerDown:B=>{c.value||e.dragging||A(B)},setFirstValue:w,setSecondValue:S}},QJ=(t,e,n,r)=>({stops:P(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const s=(t.max-t.min)/t.step,i=100*t.step/(t.max-t.min),l=Array.from({length:s-1}).map((c,u)=>(u+1)*i);return t.range?l.filter(c=>c<100*(n.value-t.min)/(t.max-t.min)||c>100*(r.value-t.min)/(t.max-t.min)):l.filter(c=>c>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:s=>t.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),ZJ=t=>P(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),JJ=(t,e,n,r,a,o)=>{const s=c=>{a(Jt,c),a(ya,c)},i=()=>t.range?![n.value,r.value].every((c,u)=>c===e.oldValue[u]):t.modelValue!==e.oldValue,l=()=>{var c,u;t.min>t.max&&Wr("Slider","min should not be greater than max.");const f=t.modelValue;t.range&&nt(f)?f[1]<t.min?s([t.min,t.min]):f[0]>t.max?s([t.max,t.max]):f[0]<t.min?s([t.min,f[1]]):f[1]>t.max?s([f[0],t.max]):(e.firstValue=f[0],e.secondValue=f[1],i()&&(t.validateEvent&&((c=o==null?void 0:o.validate)==null||c.call(o,"change").catch(h=>void 0)),e.oldValue=f.slice())):!t.range&&Nt(f)&&!Number.isNaN(f)&&(f<t.min?s(t.min):f>t.max?s(t.max):(e.firstValue=f,i()&&(t.validateEvent&&((u=o==null?void 0:o.validate)==null||u.call(o,"change").catch(h=>void 0)),e.oldValue=f)))};l(),Qe(()=>e.dragging,c=>{c||l()}),Qe(()=>t.modelValue,(c,u)=>{e.dragging||nt(c)&&nt(u)&&c.every((f,h)=>f===u[h])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),Qe(()=>[t.min,t.max],()=>{l()})},eee=(t,e,n)=>{const r=j();return Yt(async()=>{t.range?(nt(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!Nt(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),Ln(window,"resize",n),await Bt(),n()}),{sliderWrapper:r}},tee=he({name:"ElSlider"}),nee=he({...tee,props:UJ,emits:HJ,setup(t,{expose:e,emit:n}){const r=t,a=Ze("slider"),{t:o}=_n(),s=Mn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:l,firstButton:c,secondButton:u,sliderDisabled:f,minValue:h,maxValue:p,runwayStyle:m,barStyle:g,resetSize:y,emitChange:v,onSliderWrapperPrevent:A,onSliderClick:w,onSliderDown:S,onSliderMarkerDown:C,setFirstValue:E,setSecondValue:I}=XJ(r,s,n),{stops:k,getStopStyle:T}=QJ(r,s,h,p),{inputId:M,isLabeledByFormItem:D}=Wo(r,{formItemContext:i}),B=Dr(),z=P(()=>r.inputSize||B.value),q=P(()=>r.ariaLabel||o("el.slider.defaultLabel",{min:r.min,max:r.max})),$=P(()=>r.range?r.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):q.value),L=P(()=>r.formatValueText?r.formatValueText(ie.value):`${ie.value}`),W=P(()=>r.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),U=P(()=>r.formatValueText?r.formatValueText(ce.value):`${ce.value}`),F=P(()=>[a.b(),a.m(B.value),a.is("vertical",r.vertical),{[a.m("with-input")]:r.showInput}]),Q=ZJ(r);JJ(r,s,h,p,n,i);const ne=P(()=>{const pe=[r.min,r.max,r.step].map(Ie=>{const Re=`${Ie}`.split(".")[1];return Re?Re.length:0});return Math.max.apply(null,pe)}),{sliderWrapper:de}=eee(r,s,y),{firstValue:ie,secondValue:ce,sliderSize:ge}=jr(s),Ae=pe=>{s.dragging=pe};return Ln(de,"touchstart",A,{passive:!1}),Ln(de,"touchmove",A,{passive:!1}),vn(z5,{...jr(r),sliderSize:ge,disabled:f,precision:ne,emitChange:v,resetSize:y,updateDragging:Ae}),e({onSliderClick:w}),(pe,Ie)=>{var Re,Je;return N(),ee("div",{id:pe.range?d(M):void 0,ref_key:"sliderWrapper",ref:de,class:V(d(F)),role:pe.range?"group":void 0,"aria-label":pe.range&&!d(D)?d(q):void 0,"aria-labelledby":pe.range&&d(D)?(Re=d(i))==null?void 0:Re.labelId:void 0},[re("div",{ref_key:"slider",ref:l,class:V([d(a).e("runway"),{"show-input":pe.showInput&&!pe.range},d(a).is("disabled",d(f))]),style:bt(d(m)),onMousedown:d(S),onTouchstartPassive:d(S)},[re("div",{class:V(d(a).e("bar")),style:bt(d(g))},null,6),J(Gx,{id:pe.range?void 0:d(M),ref_key:"firstButton",ref:c,"model-value":d(ie),vertical:pe.vertical,"tooltip-class":pe.tooltipClass,placement:pe.placement,role:"slider","aria-label":pe.range||!d(D)?d($):void 0,"aria-labelledby":!pe.range&&d(D)?(Je=d(i))==null?void 0:Je.labelId:void 0,"aria-valuemin":pe.min,"aria-valuemax":pe.range?d(ce):pe.max,"aria-valuenow":d(ie),"aria-valuetext":d(L),"aria-orientation":pe.vertical?"vertical":"horizontal","aria-disabled":d(f),"onUpdate:modelValue":d(E)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),pe.range?(N(),Ue(Gx,{key:0,ref_key:"secondButton",ref:u,"model-value":d(ce),vertical:pe.vertical,"tooltip-class":pe.tooltipClass,placement:pe.placement,role:"slider","aria-label":d(W),"aria-valuemin":d(ie),"aria-valuemax":pe.max,"aria-valuenow":d(ce),"aria-valuetext":d(U),"aria-orientation":pe.vertical?"vertical":"horizontal","aria-disabled":d(f),"onUpdate:modelValue":d(I)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Te("v-if",!0),pe.showStops?(N(),ee("div",{key:1},[(N(!0),ee(Et,null,fn(d(k),(Ye,Z)=>(N(),ee("div",{key:Z,class:V(d(a).e("stop")),style:bt(d(T)(Ye))},null,6))),128))])):Te("v-if",!0),d(Q).length>0?(N(),ee(Et,{key:2},[re("div",null,[(N(!0),ee(Et,null,fn(d(Q),(Ye,Z)=>(N(),ee("div",{key:Z,style:bt(d(T)(Ye.position)),class:V([d(a).e("stop"),d(a).e("marks-stop")])},null,6))),128))]),re("div",{class:V(d(a).e("marks"))},[(N(!0),ee(Et,null,fn(d(Q),(Ye,Z)=>(N(),Ue(d(YJ),{key:Z,mark:Ye.mark,style:bt(d(T)(Ye.position)),onMousedown:zt(me=>d(C)(Ye.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Te("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),pe.showInput&&!pe.range?(N(),Ue(d(y5),{key:0,ref:"input","model-value":d(ie),class:V(d(a).e("input")),step:pe.step,disabled:d(f),controls:pe.showInputControls,min:pe.min,max:pe.max,precision:d(ne),debounce:pe.debounce,size:d(z),"onUpdate:modelValue":d(E),onChange:d(v)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Te("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var ree=st(nee,[["__file","slider.vue"]]);const aee=qt(ree),oee=at({prefixCls:{type:String}}),Kx=he({name:"ElSpaceItem",props:oee,setup(t,{slots:e}){const n=Ze("space"),r=P(()=>`${t.prefixCls||n.b()}__item`);return()=>Lt("div",{class:r.value},Me(e,"default"))}}),qx={small:8,default:12,large:16};function see(t){const e=Ze("space"),n=P(()=>[e.b(),e.m(t.direction),t.class]),r=j(0),a=j(0),o=P(()=>{const i=t.wrap||t.fill?{flexWrap:"wrap"}:{},l={alignItems:t.alignment},c={rowGap:`${a.value}px`,columnGap:`${r.value}px`};return[i,l,c,t.style]}),s=P(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return ga(()=>{const{size:i="small",wrap:l,direction:c,fill:u}=t;if(nt(i)){const[f=0,h=0]=i;r.value=f,a.value=h}else{let f;Nt(i)?f=i:f=qx[i||"small"]||qx.small,(l||u)&&c==="horizontal"?r.value=a.value=f:c==="horizontal"?(r.value=f,a.value=0):(a.value=f,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:s}}const iee=at({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:xe([String,Object,Array]),default:""},style:{type:xe([String,Array,Object]),default:""},alignment:{type:xe(String),default:"center"},prefixCls:{type:String},spacer:{type:xe([Object,String,Number,Array]),default:null,validator:t=>ur(t)||Nt(t)||Mt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Os,validator:t=>Nt(t)||nt(t)&&t.length===2&&t.every(Nt)}}),lee=he({name:"ElSpace",props:iee,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:a}=see(t);function o(s,i="",l=[]){const{prefixCls:c}=t;return s.forEach((u,f)=>{y1(u)?nt(u.children)&&u.children.forEach((h,p)=>{y1(h)&&nt(h.children)?o(h.children,`${i+p}-`,l):l.push(J(Kx,{style:a.value,prefixCls:c,key:`nested-${i+p}`},{default:()=>[h]},Mo.PROPS|Mo.STYLE,["style","prefixCls"]))}):eW(u)&&l.push(J(Kx,{style:a.value,prefixCls:c,key:`LoopKey${i+f}`},{default:()=>[u]},Mo.PROPS|Mo.STYLE,["style","prefixCls"]))}),l}return()=>{var s;const{spacer:i,direction:l}=t,c=Me(e,"default",{key:0},()=>[]);if(((s=c.children)!=null?s:[]).length===0)return null;if(nt(c.children)){let u=o(c.children);if(i){const f=u.length-1;u=u.reduce((h,p,m)=>{const g=[...h,p];return m!==f&&g.push(J("span",{style:[a.value,l==="vertical"?"width: 100%":null],key:m},[ur(i)?i:Zt(i,Mo.TEXT)],Mo.STYLE)),g},[])}return J("div",{class:n.value,style:r.value},u,Mo.STYLE|Mo.CLASS)}return c.children}}}),cee=qt(lee),uee=at({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:xe([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:xe([String,Object,Array])}}),dee=he({name:"ElStatistic"}),fee=he({...dee,props:uee,setup(t,{expose:e}){const n=t,r=Ze("statistic"),a=P(()=>{const{value:o,formatter:s,precision:i,decimalSeparator:l,groupSeparator:c}=n;if(Pt(s))return s(o);if(!Nt(o)||Number.isNaN(o))return o;let[u,f=""]=String(o).split(".");return f=f.padEnd(i,"0").slice(0,i>0?i:0),u=u.replace(/\B(?=(\d{3})+(?!\d))/g,c),[u,f].join(f?l:"")});return e({displayValue:a}),(o,s)=>(N(),ee("div",{class:V(d(r).b())},[o.$slots.title||o.title?(N(),ee("div",{key:0,class:V(d(r).e("head"))},[Me(o.$slots,"title",{},()=>[Zt(rt(o.title),1)])],2)):Te("v-if",!0),re("div",{class:V(d(r).e("content"))},[o.$slots.prefix||o.prefix?(N(),ee("div",{key:0,class:V(d(r).e("prefix"))},[Me(o.$slots,"prefix",{},()=>[re("span",null,rt(o.prefix),1)])],2)):Te("v-if",!0),re("span",{class:V(d(r).e("number")),style:bt(o.valueStyle)},rt(d(a)),7),o.$slots.suffix||o.suffix?(N(),ee("div",{key:1,class:V(d(r).e("suffix"))},[Me(o.$slots,"suffix",{},()=>[re("span",null,rt(o.suffix),1)])],2)):Te("v-if",!0)],2)],2))}});var hee=st(fee,[["__file","statistic.vue"]]);const U5=qt(hee),pee=at({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:xe([Number,Object]),default:0},valueStyle:{type:xe([String,Object,Array])}}),mee={finish:()=>!0,[Fn]:t=>Nt(t)},vee=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],jx=t=>Nt(t)?new Date(t).getTime():t.valueOf(),Yx=(t,e)=>{let n=t;const r=/\[([^\]]*)]/g;return vee.reduce((o,[s,i])=>{const l=new RegExp(`${s}+(?![^\\[\\]]*\\])`,"g");if(l.test(o)){const c=Math.floor(n/i);return n-=c*i,o.replace(l,u=>String(c).padStart(u.length,"0"))}return o},e).replace(r,"$1")},gee=he({name:"ElCountdown"}),yee=he({...gee,props:pee,emits:mee,setup(t,{expose:e,emit:n}){const r=t;let a;const o=j(0),s=P(()=>Yx(o.value,r.format)),i=u=>Yx(u,r.format),l=()=>{a&&(Sc(a),a=void 0)},c=()=>{const u=jx(r.value),f=()=>{let h=u-Date.now();n("change",h),h<=0?(h=0,l(),n("finish")):a=hl(f),o.value=h};a=hl(f)};return Yt(()=>{o.value=jx(r.value)-Date.now(),Qe(()=>[r.value,r.format],()=>{l(),c()},{immediate:!0})}),Un(()=>{l()}),e({displayValue:s}),(u,f)=>(N(),Ue(d(U5),{value:o.value,title:u.title,prefix:u.prefix,suffix:u.suffix,"value-style":u.valueStyle,formatter:i},Oo({_:2},[fn(u.$slots,(h,p)=>({name:p,fn:le(()=>[Me(u.$slots,p)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var bee=st(yee,[["__file","countdown.vue"]]);const See=qt(bee),_ee=at({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),wee={[Fn]:(t,e)=>[t,e].every(Nt)},xee=he({name:"ElSteps"}),Cee=he({...xee,props:_ee,emits:wee,setup(t,{emit:e}){const n=t,r=Ze("steps"),{children:a,addChild:o,removeChild:s}=y2(nn(),"ElStep");return Qe(a,()=>{a.value.forEach((i,l)=>{i.setIndex(l)})}),vn("ElSteps",{props:n,steps:a,addStep:o,removeStep:s}),Qe(()=>n.active,(i,l)=>{e(Fn,i,l)}),(i,l)=>(N(),ee("div",{class:V([d(r).b(),d(r).m(i.simple?"simple":i.direction)])},[Me(i.$slots,"default")],2))}});var Aee=st(Cee,[["__file","steps.vue"]]);const Eee=at({title:{type:String,default:""},icon:{type:On},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Mee=he({name:"ElStep"}),Tee=he({...Mee,props:Eee,setup(t){const e=t,n=Ze("step"),r=j(-1),a=j({}),o=j(""),s=St("ElSteps"),i=nn();Yt(()=>{Qe([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([E])=>{S(E)},{immediate:!0})}),Un(()=>{s.removeStep(C.uid)});const l=P(()=>e.status||o.value),c=P(()=>{const E=s.steps.value[r.value-1];return E?E.currentStatus:"wait"}),u=P(()=>s.props.alignCenter),f=P(()=>s.props.direction==="vertical"),h=P(()=>s.props.simple),p=P(()=>s.steps.value.length),m=P(()=>{var E;return((E=s.steps.value[p.value-1])==null?void 0:E.uid)===(i==null?void 0:i.uid)}),g=P(()=>h.value?"":s.props.space),y=P(()=>[n.b(),n.is(h.value?"simple":s.props.direction),n.is("flex",m.value&&!g.value&&!u.value),n.is("center",u.value&&!f.value&&!h.value)]),v=P(()=>{const E={flexBasis:Nt(g.value)?`${g.value}px`:g.value?g.value:`${100/(p.value-(u.value?0:1))}%`};return f.value||m.value&&(E.maxWidth=`${100/p.value}%`),E}),A=E=>{r.value=E},w=E=>{const I=E==="wait",k={transitionDelay:`${I?"-":""}${150*r.value}ms`},T=E===s.props.processStatus||I?0:100;k.borderWidth=T&&!h.value?"1px":0,k[s.props.direction==="vertical"?"height":"width"]=`${T}%`,a.value=k},S=E=>{E>r.value?o.value=s.props.finishStatus:E===r.value&&c.value!=="error"?o.value=s.props.processStatus:o.value="wait";const I=s.steps.value[r.value-1];I&&I.calcProgress(o.value)},C=Mn({uid:i.uid,currentStatus:l,setIndex:A,calcProgress:w});return s.addStep(C),(E,I)=>(N(),ee("div",{style:bt(d(v)),class:V(d(y))},[Te(" icon & line "),re("div",{class:V([d(n).e("head"),d(n).is(d(l))])},[d(h)?Te("v-if",!0):(N(),ee("div",{key:0,class:V(d(n).e("line"))},[re("i",{class:V(d(n).e("line-inner")),style:bt(a.value)},null,6)],2)),re("div",{class:V([d(n).e("icon"),d(n).is(E.icon||E.$slots.icon?"icon":"text")])},[Me(E.$slots,"icon",{},()=>[E.icon?(N(),Ue(d(Ct),{key:0,class:V(d(n).e("icon-inner"))},{default:le(()=>[(N(),Ue(ln(E.icon)))]),_:1},8,["class"])):d(l)==="success"?(N(),Ue(d(Ct),{key:1,class:V([d(n).e("icon-inner"),d(n).is("status")])},{default:le(()=>[J(d(fh))]),_:1},8,["class"])):d(l)==="error"?(N(),Ue(d(Ct),{key:2,class:V([d(n).e("icon-inner"),d(n).is("status")])},{default:le(()=>[J(d(cs))]),_:1},8,["class"])):d(h)?Te("v-if",!0):(N(),ee("div",{key:3,class:V(d(n).e("icon-inner"))},rt(r.value+1),3))])],2)],2),Te(" title & description "),re("div",{class:V(d(n).e("main"))},[re("div",{class:V([d(n).e("title"),d(n).is(d(l))])},[Me(E.$slots,"title",{},()=>[Zt(rt(E.title),1)])],2),d(h)?(N(),ee("div",{key:0,class:V(d(n).e("arrow"))},null,2)):(N(),ee("div",{key:1,class:V([d(n).e("description"),d(n).is(d(l))])},[Me(E.$slots,"description",{},()=>[Zt(rt(E.description),1)])],2))],2)],6))}});var H5=st(Tee,[["__file","item.vue"]]);const Iee=qt(Aee,{Step:H5}),Ree=hr(H5),$5=t=>["",...Os].includes(t),kee=at({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:$5},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:On},activeActionIcon:{type:On},activeIcon:{type:On},inactiveIcon:{type:On},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:xe(Function)},id:String,tabindex:{type:[String,Number]},...ca(["ariaLabel"])}),Dee={[Jt]:t=>Kn(t)||Mt(t)||Nt(t),[Fn]:t=>Kn(t)||Mt(t)||Nt(t),[ya]:t=>Kn(t)||Mt(t)||Nt(t)},V5="ElSwitch",Pee=he({name:V5}),Bee=he({...Pee,props:kee,emits:Dee,setup(t,{expose:e,emit:n}){const r=t,{formItem:a}=_a(),o=Dr(),s=Ze("switch"),{inputId:i}=Wo(r,{formItemContext:a}),l=wa(P(()=>r.loading)),c=j(r.modelValue!==!1),u=j(),f=j(),h=P(()=>[s.b(),s.m(o.value),s.is("disabled",l.value),s.is("checked",v.value)]),p=P(()=>[s.e("label"),s.em("label","left"),s.is("active",!v.value)]),m=P(()=>[s.e("label"),s.em("label","right"),s.is("active",v.value)]),g=P(()=>({width:Sr(r.width)}));Qe(()=>r.modelValue,()=>{c.value=!0});const y=P(()=>c.value?r.modelValue:!1),v=P(()=>y.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(y.value)||(n(Jt,r.inactiveValue),n(Fn,r.inactiveValue),n(ya,r.inactiveValue)),Qe(v,C=>{var E;u.value.checked=C,r.validateEvent&&((E=a==null?void 0:a.validate)==null||E.call(a,"change").catch(I=>void 0))});const A=()=>{const C=v.value?r.inactiveValue:r.activeValue;n(Jt,C),n(Fn,C),n(ya,C),Bt(()=>{u.value.checked=v.value})},w=()=>{if(l.value)return;const{beforeChange:C}=r;if(!C){A();return}const E=C();[_f(E),Kn(E)].includes(!0)||Wr(V5,"beforeChange must return type `Promise<boolean>` or `boolean`"),_f(E)?E.then(k=>{k&&A()}).catch(k=>{}):E&&A()},S=()=>{var C,E;(E=(C=u.value)==null?void 0:C.focus)==null||E.call(C)};return Yt(()=>{u.value.checked=v.value}),e({focus:S,checked:v}),(C,E)=>(N(),ee("div",{class:V(d(h)),onClick:zt(w,["prevent"])},[re("input",{id:d(i),ref_key:"input",ref:u,class:V(d(s).e("input")),type:"checkbox",role:"switch","aria-checked":d(v),"aria-disabled":d(l),"aria-label":C.ariaLabel,name:C.name,"true-value":C.activeValue,"false-value":C.inactiveValue,disabled:d(l),tabindex:C.tabindex,onChange:A,onKeydown:Vn(w,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!C.inlinePrompt&&(C.inactiveIcon||C.inactiveText)?(N(),ee("span",{key:0,class:V(d(p))},[C.inactiveIcon?(N(),Ue(d(Ct),{key:0},{default:le(()=>[(N(),Ue(ln(C.inactiveIcon)))]),_:1})):Te("v-if",!0),!C.inactiveIcon&&C.inactiveText?(N(),ee("span",{key:1,"aria-hidden":d(v)},rt(C.inactiveText),9,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0),re("span",{ref_key:"core",ref:f,class:V(d(s).e("core")),style:bt(d(g))},[C.inlinePrompt?(N(),ee("div",{key:0,class:V(d(s).e("inner"))},[C.activeIcon||C.inactiveIcon?(N(),Ue(d(Ct),{key:0,class:V(d(s).is("icon"))},{default:le(()=>[(N(),Ue(ln(d(v)?C.activeIcon:C.inactiveIcon)))]),_:1},8,["class"])):C.activeText||C.inactiveText?(N(),ee("span",{key:1,class:V(d(s).is("text")),"aria-hidden":!d(v)},rt(d(v)?C.activeText:C.inactiveText),11,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0),re("div",{class:V(d(s).e("action"))},[C.loading?(N(),Ue(d(Ct),{key:0,class:V(d(s).is("loading"))},{default:le(()=>[J(d(Is))]),_:1},8,["class"])):d(v)?Me(C.$slots,"active-action",{key:1},()=>[C.activeActionIcon?(N(),Ue(d(Ct),{key:0},{default:le(()=>[(N(),Ue(ln(C.activeActionIcon)))]),_:1})):Te("v-if",!0)]):d(v)?Te("v-if",!0):Me(C.$slots,"inactive-action",{key:2},()=>[C.inactiveActionIcon?(N(),Ue(d(Ct),{key:0},{default:le(()=>[(N(),Ue(ln(C.inactiveActionIcon)))]),_:1})):Te("v-if",!0)])],2)],6),!C.inlinePrompt&&(C.activeIcon||C.activeText)?(N(),ee("span",{key:1,class:V(d(m))},[C.activeIcon?(N(),Ue(d(Ct),{key:0},{default:le(()=>[(N(),Ue(ln(C.activeIcon)))]),_:1})):Te("v-if",!0),!C.activeIcon&&C.activeText?(N(),ee("span",{key:1,"aria-hidden":!d(v)},rt(C.activeText),9,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0)],10,["onClick"]))}});var Lee=st(Bee,[["__file","switch.vue"]]);const Nee=qt(Lee),Qv=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},Fee=function(t,e,n,r,a){if(!e&&!r&&(!a||nt(a)&&!a.length))return t;Mt(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(i,l){return a?(nt(a)||(a=[a]),a.map(c=>Mt(c)?Mr(i,c):c(i,l,t))):(e!=="$key"&&tn(i)&&"$value"in i&&(i=i.$value),[tn(i)?Mr(i,e):i])},s=function(i,l){if(r)return r(i.value,l.value);for(let c=0,u=i.key.length;c<u;c++){if(i.key[c]<l.key[c])return-1;if(i.key[c]>l.key[c])return 1}return 0};return t.map((i,l)=>({value:i,index:l,key:o?o(i,l):null})).sort((i,l)=>{let c=s(i,l);return c||(c=i.index-l.index),c*+n}).map(i=>i.value)},W5=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},Oee=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const a=t.columns[r];if(a.columnKey===e){n=a;break}}return n||Wr("ElTable",`No column matching with column-key: ${e}`),n},Xx=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?W5(t,r[0]):null},Ra=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(Mt(e)){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const a of n)r=r[a];return`${r}`}else if(Pt(e))return e.call(null,t)},ac=function(t,e){const n={};return(t||[]).forEach((r,a)=>{n[Ra(r,e)]={row:r,index:a}}),n};function zee(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(xn(e,r)){const a=e[r];typeof a<"u"&&(n[r]=a)}return n}function V2(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function G5(t){return t===""||t!==void 0&&(t=V2(t),Number.isNaN(t)&&(t=80)),t}function Uee(t){return Nt(t)?t:Mt(t)?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function Hee(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Pp(t,e,n,r,a,o){let s=o??0,i=!1;const l=t.indexOf(e),c=l!==-1,u=a==null?void 0:a.call(null,e,o),f=p=>{p==="add"?t.push(e):t.splice(l,1),i=!0},h=p=>{let m=0;const g=(r==null?void 0:r.children)&&p[r.children];return g&&nt(g)&&(m+=g.length,g.forEach(y=>{m+=h(y)})),m};return(!a||u)&&(Kn(n)?n&&!c?f("add"):!n&&c&&f("remove"):f(c?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&nt(e[r.children])&&e[r.children].forEach(p=>{Pp(t,p,n??!c,r,a,s+1),s+=h(p)+1}),i}function $ee(t,e,n="children",r="hasChildren"){const a=s=>!(nt(s)&&s.length);function o(s,i,l){e(s,i,l),i.forEach(c=>{if(c[r]){e(c,null,l+1);return}const u=c[n];a(u)||o(c,u,l+1)})}t.forEach(s=>{if(s[r]){e(s,null,0);return}const i=s[n];a(i)||o(s,i,0)})}const Qx=(t,e)=>({content:e,...t,popperOptions:{strategy:"fixed",...t.popperOptions}});let Eo=null;function Vee(t,e,n,r){if((Eo==null?void 0:Eo.trigger)===n){QE(Eo.vm.component.props,Qx(t,e));return}Eo==null||Eo();const a=r==null?void 0:r.refs.tableWrapper,o=a==null?void 0:a.dataset.prefix,s=J(Sa,{virtualTriggering:!0,virtualRef:n,appendTo:a,placement:"top",transition:"none",offset:0,hideAfter:0,...Qx(t,e)});s.appContext={...r.appContext,...r};const i=document.createElement("div");dl(s,i),s.component.exposed.onOpen();const l=a==null?void 0:a.querySelector(`.${o}-scrollbar__wrap`);Eo=()=>{dl(null,i),l==null||l.removeEventListener("scroll",Eo),Eo=null},Eo.trigger=n,Eo.vm=s,l==null||l.addEventListener("scroll",Eo)}function K5(t){return t.children?jN(t.children,K5):[t]}function Zx(t,e){return t+e.colSpan}const q5=(t,e,n,r)=>{let a=0,o=t;const s=n.states.columns.value;if(r){const l=K5(r[t]);a=s.slice(0,s.indexOf(l[0])).reduce(Zx,0),o=a+l.reduce(Zx,0)-1}else a=t;let i;switch(e){case"left":o<n.states.fixedLeafColumnsLength.value&&(i="left");break;case"right":a>=s.length-n.states.rightFixedLeafColumnsLength.value&&(i="right");break;default:o<n.states.fixedLeafColumnsLength.value?i="left":a>=s.length-n.states.rightFixedLeafColumnsLength.value&&(i="right")}return i?{direction:i,start:a,after:o}:{}},W2=(t,e,n,r,a,o=0)=>{const s=[],{direction:i,start:l,after:c}=q5(e,n,r,a);if(i){const u=i==="left";s.push(`${t}-fixed-column--${i}`),u&&c+o===r.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):!u&&l-o===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&s.push("is-first-column")}return s};function Jx(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const G2=(t,e,n,r)=>{const{direction:a,start:o=0,after:s=0}=q5(t,e,n,r);if(!a)return;const i={},l=a==="left",c=n.states.columns.value;return l?i.left=c.slice(0,o).reduce(Jx,0):i.right=c.slice(s+1).reverse().reduce(Jx,0),i},Qu=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function Wee(t){const e=nn(),n=j(!1),r=j([]);return{updateExpandRows:()=>{const l=t.data.value||[],c=t.rowKey.value;if(n.value)r.value=l.slice();else if(c){const u=ac(r.value,c);r.value=l.reduce((f,h)=>{const p=Ra(h,c);return u[p]&&f.push(h),f},[])}else r.value=[]},toggleRowExpansion:(l,c)=>{Pp(r.value,l,c)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=t.data.value||[],u=t.rowKey.value,f=ac(c,u);r.value=l.reduce((h,p)=>{const m=f[p];return m&&h.push(m.row),h},[])},isRowExpanded:l=>{const c=t.rowKey.value;return c?!!ac(r.value,c)[Ra(l,c)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function Gee(t){const e=nn(),n=j(null),r=j(null),a=c=>{e.store.assertRowKey(),n.value=c,s(c)},o=()=>{n.value=null},s=c=>{const{data:u,rowKey:f}=t;let h=null;f.value&&(h=(d(u)||[]).find(p=>Ra(p,f.value)===c)),r.value=h,e.emit("current-change",r.value,null)};return{setCurrentRowKey:a,restoreCurrentRowKey:o,setCurrentRowByKey:s,updateCurrentRow:c=>{const u=r.value;if(c&&c!==u){r.value=c,e.emit("current-change",r.value,u);return}!c&&u&&(r.value=null,e.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=t.rowKey.value,u=t.data.value||[],f=r.value;if(!u.includes(f)&&f){if(c){const h=Ra(f,c);s(h)}else r.value=null;r.value===null&&e.emit("current-change",null,f)}else n.value&&(s(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function Kee(t){const e=j([]),n=j({}),r=j(16),a=j(!1),o=j({}),s=j("hasChildren"),i=j("children"),l=j(!1),c=nn(),u=P(()=>{if(!t.rowKey.value)return{};const w=t.data.value||[];return h(w)}),f=P(()=>{const w=t.rowKey.value,S=Object.keys(o.value),C={};return S.length&&S.forEach(E=>{if(o.value[E].length){const I={children:[]};o.value[E].forEach(k=>{const T=Ra(k,w);I.children.push(T),k[s.value]&&!C[T]&&(C[T]={children:[]})}),C[E]=I}}),C}),h=w=>{const S=t.rowKey.value,C={};return $ee(w,(E,I,k)=>{const T=Ra(E,S);nt(I)?C[T]={children:I.map(M=>Ra(M,S)),level:k}:a.value&&(C[T]={children:[],lazy:!0,level:k})},i.value,s.value),C},p=(w=!1,S=(C=>(C=c.store)==null?void 0:C.states.defaultExpandAll.value)())=>{var C;const E=u.value,I=f.value,k=Object.keys(E),T={};if(k.length){const M=d(n),D=[],B=(q,$)=>{if(w)return e.value?S||e.value.includes($):!!(S||q!=null&&q.expanded);{const L=S||e.value&&e.value.includes($);return!!(q!=null&&q.expanded||L)}};k.forEach(q=>{const $=M[q],L={...E[q]};if(L.expanded=B($,q),L.lazy){const{loaded:W=!1,loading:U=!1}=$||{};L.loaded=!!W,L.loading=!!U,D.push(q)}T[q]=L});const z=Object.keys(I);a.value&&z.length&&D.length&&z.forEach(q=>{const $=M[q],L=I[q].children;if(D.includes(q)){if(T[q].children.length!==0)throw new Error("[ElTable]children must be an empty array.");T[q].children=L}else{const{loaded:W=!1,loading:U=!1}=$||{};T[q]={lazy:!0,loaded:!!W,loading:!!U,expanded:B($,q),children:L,level:""}}})}n.value=T,(C=c.store)==null||C.updateTableScrollY()};Qe(()=>e.value,()=>{p(!0)}),Qe(()=>u.value,()=>{p()}),Qe(()=>f.value,()=>{p()});const m=w=>{e.value=w,p()},g=(w,S)=>{c.store.assertRowKey();const C=t.rowKey.value,E=Ra(w,C),I=E&&n.value[E];if(E&&I&&"expanded"in I){const k=I.expanded;S=Bn(S)?!I.expanded:S,n.value[E].expanded=S,k!==S&&c.emit("expand-change",w,S),c.store.updateTableScrollY()}},y=w=>{c.store.assertRowKey();const S=t.rowKey.value,C=Ra(w,S),E=n.value[C];a.value&&E&&"loaded"in E&&!E.loaded?v(w,C,E):g(w,void 0)},v=(w,S,C)=>{const{load:E}=c.props;E&&!n.value[S].loaded&&(n.value[S].loading=!0,E(w,C,I=>{if(!nt(I))throw new TypeError("[ElTable] data must be an array");n.value[S].loading=!1,n.value[S].loaded=!0,n.value[S].expanded=!0,I.length&&(o.value[S]=I),c.emit("expand-change",w,!0)}))};return{loadData:v,loadOrToggle:y,toggleTreeExpansion:g,updateTreeExpandKeys:m,updateTreeData:p,updateKeyChildren:(w,S)=>{const{lazy:C,rowKey:E}=c.props;if(C){if(!E)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[w]&&(o.value[w]=S)}},normalize:h,states:{expandRowKeys:e,treeData:n,indent:r,lazy:a,lazyTreeNodeMap:o,lazyColumnIdentifier:s,childrenColumnName:i,checkStrictly:l}}}const qee=(t,e)=>{const n=e.sortingColumn;return!n||Mt(n.sortable)?t:Fee(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},j0=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,j0(n.children)):e.push(n)}),e};function jee(){var t;const e=nn(),{size:n}=jr((t=e.proxy)==null?void 0:t.$props),r=j(null),a=j([]),o=j([]),s=j(!1),i=j([]),l=j([]),c=j([]),u=j([]),f=j([]),h=j([]),p=j([]),m=j([]),g=[],y=j(0),v=j(0),A=j(0),w=j(!1),S=j([]),C=j(!1),E=j(!1),I=j(null),k=j({}),T=j(null),M=j(null),D=j(null),B=j(null),z=j(null);Qe(a,()=>{var X;e.state&&(U(!1),e.props.tableLayout==="auto"&&((X=e.refs.tableHeaderRef)==null||X.updateFixedColumnStyle()))},{deep:!0});const q=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},$=X=>{var He;(He=X.children)==null||He.forEach(ve=>{ve.fixed=X.fixed,$(ve)})};let L;const W=()=>{i.value.forEach(fe=>{$(fe)}),u.value=i.value.filter(fe=>fe.fixed===!0||fe.fixed==="left"),f.value=i.value.filter(fe=>fe.fixed==="right"),Bn(L)&&i.value[0]&&i.value[0].type==="selection"&&(L=!!i.value[0].fixed),u.value.length>0&&i.value[0]&&i.value[0].type==="selection"&&(i.value[0].fixed?u.value.some(tt=>tt.type!=="selection")?L=void 0:(i.value[0].fixed=L,L||u.value.shift()):(i.value[0].fixed=!0,u.value.unshift(i.value[0])));const X=i.value.filter(fe=>!fe.fixed);l.value=[].concat(u.value).concat(X).concat(f.value);const He=j0(X),ve=j0(u.value),ke=j0(f.value);y.value=He.length,v.value=ve.length,A.value=ke.length,c.value=[].concat(ve).concat(He).concat(ke),s.value=u.value.length>0||f.value.length>0},U=(X,He=!1)=>{X&&W(),He?e.state.doLayout():e.state.debouncedUpdateLayout()},F=X=>S.value.some(He=>ia(He,X)),Q=()=>{w.value=!1;const X=S.value;S.value=[],X.length&&e.emit("selection-change",[])},ne=()=>{let X;if(r.value){X=[];const He=ac(S.value,r.value),ve=ac(a.value,r.value);for(const ke in He)xn(He,ke)&&!ve[ke]&&X.push(He[ke].row)}else X=S.value.filter(He=>!a.value.includes(He));if(X.length){const He=S.value.filter(ve=>!X.includes(ve));S.value=He,e.emit("selection-change",He.slice())}},de=()=>(S.value||[]).slice(),ie=(X,He,ve=!0,ke=!1)=>{var fe,tt,Rt,Oe;const Tt={children:(tt=(fe=e==null?void 0:e.store)==null?void 0:fe.states)==null?void 0:tt.childrenColumnName.value,checkStrictly:(Oe=(Rt=e==null?void 0:e.store)==null?void 0:Rt.states)==null?void 0:Oe.checkStrictly.value};if(Pp(S.value,X,He,Tt,ke?void 0:I.value)){const dt=(S.value||[]).slice();ve&&e.emit("select",dt,X),e.emit("selection-change",dt)}},ce=()=>{var X,He;const ve=E.value?!w.value:!(w.value||S.value.length);w.value=ve;let ke=!1,fe=0;const tt=(He=(X=e==null?void 0:e.store)==null?void 0:X.states)==null?void 0:He.rowKey.value,{childrenColumnName:Rt}=e.store.states,Oe={children:Rt.value,checkStrictly:!1};a.value.forEach((Tt,ot)=>{const dt=ot+fe;Pp(S.value,Tt,ve,Oe,I.value,dt)&&(ke=!0),fe+=pe(Ra(Tt,tt))}),ke&&e.emit("selection-change",S.value?S.value.slice():[]),e.emit("select-all",(S.value||[]).slice())},ge=()=>{const X=ac(S.value,r.value);a.value.forEach(He=>{const ve=Ra(He,r.value),ke=X[ve];ke&&(S.value[ke.index]=He)})},Ae=()=>{var X;if(((X=a.value)==null?void 0:X.length)===0){w.value=!1;return}const{childrenColumnName:He}=e.store.states,ve=r.value?ac(S.value,r.value):void 0;let ke=0,fe=0;const tt=Tt=>ve?!!ve[Ra(Tt,r.value)]:S.value.includes(Tt),Rt=Tt=>{var ot;for(const dt of Tt){const It=I.value&&I.value.call(null,dt,ke);if(tt(dt))fe++;else if(!I.value||It)return!1;if(ke++,(ot=dt[He.value])!=null&&ot.length&&!Rt(dt[He.value]))return!1}return!0},Oe=Rt(a.value||[]);w.value=fe===0?!1:Oe},pe=X=>{var He;if(!e||!e.store)return 0;const{treeData:ve}=e.store.states;let ke=0;const fe=(He=ve.value[X])==null?void 0:He.children;return fe&&(ke+=fe.length,fe.forEach(tt=>{ke+=pe(tt)})),ke},Ie=(X,He)=>{nt(X)||(X=[X]);const ve={};return X.forEach(ke=>{k.value[ke.id]=He,ve[ke.columnKey||ke.id]=He}),ve},Re=(X,He,ve)=>{M.value&&M.value!==X&&(M.value.order=null),M.value=X,D.value=He,B.value=ve},Je=()=>{let X=d(o);Object.keys(k.value).forEach(He=>{const ve=k.value[He];if(!ve||ve.length===0)return;const ke=W5({columns:c.value},He);ke&&ke.filterMethod&&(X=X.filter(fe=>ve.some(tt=>ke.filterMethod.call(null,tt,fe,ke))))}),T.value=X},Ye=()=>{a.value=qee(T.value,{sortingColumn:M.value,sortProp:D.value,sortOrder:B.value})},Z=(X=void 0)=>{X&&X.filter||Je(),Ye()},me=X=>{const{tableHeaderRef:He}=e.refs;if(!He)return;const ve=Object.assign({},He.filterPanels),ke=Object.keys(ve);if(ke.length)if(Mt(X)&&(X=[X]),nt(X)){const fe=X.map(tt=>Oee({columns:c.value},tt));ke.forEach(tt=>{const Rt=fe.find(Oe=>Oe.id===tt);Rt&&(Rt.filteredValue=[])}),e.store.commit("filterChange",{column:fe,values:[],silent:!0,multi:!0})}else ke.forEach(fe=>{const tt=c.value.find(Rt=>Rt.id===fe);tt&&(tt.filteredValue=[])}),k.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},oe=()=>{M.value&&(Re(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ve,toggleRowExpansion:Le,updateExpandRows:ze,states:De,isRowExpanded:Fe}=Wee({data:a,rowKey:r}),{updateTreeExpandKeys:Ge,toggleTreeExpansion:ae,updateTreeData:te,updateKeyChildren:we,loadOrToggle:ye,states:$e}=Kee({data:a,rowKey:r}),{updateCurrentRowData:je,updateCurrentRow:yt,setCurrentRowKey:ut,states:_t}=Gee({data:a,rowKey:r});return{assertRowKey:q,updateColumns:W,scheduleLayout:U,isSelected:F,clearSelection:Q,cleanSelection:ne,getSelectionRows:de,toggleRowSelection:ie,_toggleAllSelection:ce,toggleAllSelection:null,updateSelectionByRowKey:ge,updateAllSelected:Ae,updateFilters:Ie,updateCurrentRow:yt,updateSort:Re,execFilter:Je,execSort:Ye,execQuery:Z,clearFilter:me,clearSort:oe,toggleRowExpansion:Le,setExpandRowKeysAdapter:X=>{Ve(X),Ge(X)},setCurrentRowKey:ut,toggleRowExpansionAdapter:(X,He)=>{c.value.some(({type:ke})=>ke==="expand")?Le(X,He):ae(X,He)},isRowExpanded:Fe,updateExpandRows:ze,updateCurrentRowData:je,loadOrToggle:ye,updateTreeData:te,updateKeyChildren:we,states:{tableSize:n,rowKey:r,data:a,_data:o,isComplex:s,_columns:i,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:f,leafColumns:h,fixedLeafColumns:p,rightFixedLeafColumns:m,updateOrderFns:g,leafColumnsLength:y,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:A,isAllSelected:w,selection:S,reserveSelection:C,selectOnIndeterminate:E,selectable:I,filters:k,filteredData:T,sortingColumn:M,sortProp:D,sortOrder:B,hoverRow:z,...De,...$e,..._t}}}function $1(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=$1(n.children,e)),n)})}function V1(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&V1(e.children)}),t.sort((e,n)=>e.no-n.no)}function Yee(){const t=nn(),e=jee();return{ns:Ze("table"),...e,mutations:{setData(s,i){const l=d(s._data)!==i;s.data.value=i,s._data.value=i,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),d(s.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(s,i,l,c){const u=d(s._columns);let f=[];l?(l&&!l.children&&(l.children=[]),l.children.push(i),f=$1(u,l)):(u.push(i),f=u),V1(f),s._columns.value=f,s.updateOrderFns.push(c),i.type==="selection"&&(s.selectable.value=i.selectable,s.reserveSelection.value=i.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(s,i){var l;((l=i.getColumnIndex)==null?void 0:l.call(i))!==i.no&&(V1(s._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(s,i,l,c){const u=d(s._columns)||[];if(l)l.children.splice(l.children.findIndex(h=>h.id===i.id),1),Bt(()=>{var h;((h=l.children)==null?void 0:h.length)===0&&delete l.children}),s._columns.value=$1(u,l);else{const h=u.indexOf(i);h>-1&&(u.splice(h,1),s._columns.value=u)}const f=s.updateOrderFns.indexOf(c);f>-1&&s.updateOrderFns.splice(f,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(s,i){const{prop:l,order:c,init:u}=i;if(l){const f=d(s.columns).find(h=>h.property===l);f&&(f.order=c,t.store.updateSort(f,l,c),t.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(s,i){const{sortingColumn:l,sortProp:c,sortOrder:u}=s,f=d(l),h=d(c),p=d(u);p===null&&(s.sortingColumn.value=null,s.sortProp.value=null);const m={filter:!0};t.store.execQuery(m),(!i||!(i.silent||i.init))&&t.emit("sort-change",{column:f,prop:h,order:p}),t.store.updateTableScrollY()},filterChange(s,i){const{column:l,values:c,silent:u}=i,f=t.store.updateFilters(l,c);t.store.execQuery(),u||t.emit("filter-change",f),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(s,i){t.store.toggleRowSelection(i),t.store.updateAllSelected()},setHoverRow(s,i){s.hoverRow.value=i},setCurrentRow(s,i){t.store.updateCurrentRow(i)}},commit:function(s,...i){const l=t.store.mutations;if(l[s])l[s].apply(t,[t.store.states].concat(i));else throw new Error(`Action not found: ${s}`)},updateTableScrollY:function(){Bt(()=>t.layout.updateScrollY.apply(t.layout))}}}const uf={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function Xee(t,e){if(!t)throw new Error("Table is required.");const n=Yee();return n.toggleAllSelection=eo(n._toggleAllSelection,10),Object.keys(uf).forEach(r=>{j5(Y5(e,r),r,n)}),Qee(n,e),n}function Qee(t,e){Object.keys(uf).forEach(n=>{Qe(()=>Y5(e,n),r=>{j5(r,n,t)})})}function j5(t,e,n){let r=t,a=uf[e];typeof uf[e]=="object"&&(a=a.key,r=r||uf[e].default),n.states[a].value=r}function Y5(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(a=>{r=r[a]}),r}else return t[e]}class Zee{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=j(null),this.scrollX=j(!1),this.scrollY=j(!1),this.bodyWidth=j(null),this.fixedWidth=j(null),this.rightFixedWidth=j(null),this.gutterWidth=0;for(const n in e)xn(e,n)&&(jn(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const a=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,a!==r}return!1}setHeight(e,n="height"){if(!Sn)return;const r=this.table.vnode.el;if(e=Uee(e),this.height.value=Number(e),!r&&(e||e===0))return Bt(()=>this.setHeight(e,n));Nt(e)?(r.style[n]=`${e}px`,this.updateElsHeight()):Mt(e)&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Sn)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const a=this.getFlattenColumns(),o=a.filter(l=>!Nt(l.width));if(a.forEach(l=>{Nt(l.width)&&l.realWidth&&(l.realWidth=null)}),o.length>0&&e){if(a.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=n){this.scrollX.value=!1;const l=n-r;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+l;else{const c=o.reduce((h,p)=>h+Number(p.minWidth||80),0),u=l/c;let f=0;o.forEach((h,p)=>{if(p===0)return;const m=Math.floor(Number(h.minWidth||80)*u);f+=m,h.realWidth=Number(h.minWidth||80)+m}),o[0].realWidth=Number(o[0].minWidth||80)+l-f}}else this.scrollX.value=!0,o.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const s=this.store.states.fixedColumns.value;if(s.length>0){let l=0;s.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const i=this.store.states.rightFixedColumns.value;if(i.length>0){let l=0;i.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var a,o;switch(e){case"columns":(a=r.state)==null||a.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:Jee}=$o,ete=he({name:"ElTableFilterPanel",components:{ElCheckbox:$o,ElCheckboxGroup:Jee,ElScrollbar:zs,ElTooltip:Sa,ElIcon:Ct,ArrowDown:xi,ArrowUp:Qb},directives:{ClickOutside:gi},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(t){const e=nn(),{t:n}=_n(),r=Ze("table-filter"),a=e==null?void 0:e.parent;a.filterPanels.value[t.column.id]||(a.filterPanels.value[t.column.id]=e);const o=j(!1),s=j(null),i=P(()=>t.column&&t.column.filters),l=P(()=>t.column.filterClassName?`${r.b()} ${t.column.filterClassName}`:r.b()),c=P({get:()=>{var C;return(((C=t.column)==null?void 0:C.filteredValue)||[])[0]},set:C=>{u.value&&(typeof C<"u"&&C!==null?u.value.splice(0,1,C):u.value.splice(0,1))}}),u=P({get(){return t.column?t.column.filteredValue||[]:[]},set(C){t.column&&t.upDataColumn("filteredValue",C)}}),f=P(()=>t.column?t.column.filterMultiple:!0),h=C=>C.value===c.value,p=()=>{o.value=!1},m=C=>{C.stopPropagation(),o.value=!o.value},g=()=>{o.value=!1},y=()=>{w(u.value),p()},v=()=>{u.value=[],w(u.value),p()},A=C=>{c.value=C,w(typeof C<"u"&&C!==null?u.value:[]),p()},w=C=>{t.store.commit("filterChange",{column:t.column,values:C}),t.store.updateAllSelected()};Qe(o,C=>{t.column&&t.upDataColumn("filterOpened",C)},{immediate:!0});const S=P(()=>{var C,E;return(E=(C=s.value)==null?void 0:C.popperRef)==null?void 0:E.contentRef});return{tooltipVisible:o,multiple:f,filterClassName:l,filteredValue:u,filterValue:c,filters:i,handleConfirm:y,handleReset:v,handleSelect:A,isActive:h,t:n,ns:r,showFilterPanel:m,hideFilterPanel:g,popperPaneRef:S,tooltip:s}}});function tte(t,e,n,r,a,o){const s=ct("el-checkbox"),i=ct("el-checkbox-group"),l=ct("el-scrollbar"),c=ct("arrow-up"),u=ct("arrow-down"),f=ct("el-icon"),h=ct("el-tooltip"),p=sm("click-outside");return N(),Ue(h,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:le(()=>[t.multiple?(N(),ee("div",{key:0},[re("div",{class:V(t.ns.e("content"))},[J(l,{"wrap-class":t.ns.e("wrap")},{default:le(()=>[J(i,{modelValue:t.filteredValue,"onUpdate:modelValue":m=>t.filteredValue=m,class:V(t.ns.e("checkbox-group"))},{default:le(()=>[(N(!0),ee(Et,null,fn(t.filters,m=>(N(),Ue(s,{key:m.value,value:m.value},{default:le(()=>[Zt(rt(m.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),re("div",{class:V(t.ns.e("bottom"))},[re("button",{class:V({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},rt(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),re("button",{type:"button",onClick:t.handleReset},rt(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(N(),ee("ul",{key:1,class:V(t.ns.e("list"))},[re("li",{class:V([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:m=>t.handleSelect(null)},rt(t.t("el.table.clearFilter")),11,["onClick"]),(N(!0),ee(Et,null,fn(t.filters,m=>(N(),ee("li",{key:m.value,class:V([t.ns.e("list-item"),t.ns.is("active",t.isActive(m))]),label:m.value,onClick:g=>t.handleSelect(m.value)},rt(m.text),11,["label","onClick"]))),128))],2))]),default:le(()=>[Qt((N(),ee("span",{class:V([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[J(f,null,{default:le(()=>[Me(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(N(),Ue(c,{key:0})):(N(),Ue(u,{key:1}))])]),_:3})],10,["onClick"])),[[p,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var nte=st(ete,[["render",tte],["__file","filter-panel.vue"]]);function X5(t){const e=nn();om(()=>{n.value.addObserver(e)}),Yt(()=>{r(n.value),a(n.value)}),Fs(()=>{r(n.value),a(n.value)}),wl(()=>{n.value.removeObserver(e)});const n=P(()=>{const o=t.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var s;const i=((s=t.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!i.length)return;const l=o.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,f=i.length;u<f;u++){const h=i[u],p=h.getAttribute("name"),m=c[p];m&&h.setAttribute("width",m.realWidth||m.width)}},a=o=>{var s,i;const l=((s=t.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,f=l.length;u<f;u++)l[u].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const c=((i=t.vnode.el)==null?void 0:i.querySelectorAll("th.gutter"))||[];for(let u=0,f=c.length;u<f;u++){const h=c[u];h.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",h.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:a}}const $s=Symbol("ElTable");function rte(t,e){const n=nn(),r=St($s),a=g=>{g.stopPropagation()},o=(g,y)=>{!y.filters&&y.sortable?m(g,y,!1):y.filterable&&!y.sortable&&a(g),r==null||r.emit("header-click",y,g)},s=(g,y)=>{r==null||r.emit("header-contextmenu",y,g)},i=j(null),l=j(!1),c=j({}),u=(g,y)=>{if(Sn&&!(y.children&&y.children.length>0)&&i.value&&t.border){l.value=!0;const v=r;e("set-drag-visible",!0);const w=(v==null?void 0:v.vnode.el).getBoundingClientRect().left,S=n.vnode.el.querySelector(`th.${y.id}`),C=S.getBoundingClientRect(),E=C.left-w+30;Do(S,"noclick"),c.value={startMouseLeft:g.clientX,startLeft:C.right-w,startColumnLeft:C.left-w,tableLeft:w};const I=v==null?void 0:v.refs.resizeProxy;I.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const k=M=>{const D=M.clientX-c.value.startMouseLeft,B=c.value.startLeft+D;I.style.left=`${Math.max(E,B)}px`},T=()=>{if(l.value){const{startColumnLeft:M,startLeft:D}=c.value,z=Number.parseInt(I.style.left,10)-M;y.width=y.realWidth=z,v==null||v.emit("header-dragend",y.width,D-M,y,g),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,i.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",T),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Pa(S,"noclick")},0)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",T)}},f=(g,y)=>{var v;if(y.children&&y.children.length>0)return;const A=g.target;if(!vo(A))return;const w=A==null?void 0:A.closest("th");if(!(!y||!y.resizable||!w)&&!l.value&&t.border){const S=w.getBoundingClientRect(),C=document.body.style,E=((v=w.parentNode)==null?void 0:v.lastElementChild)===w;S.width>12&&S.right-g.pageX<8&&!E?(C.cursor="col-resize",Ya(w,"is-sortable")&&(w.style.cursor="col-resize"),i.value=y):l.value||(C.cursor="",Ya(w,"is-sortable")&&(w.style.cursor="pointer"),i.value=null)}},h=()=>{Sn&&(document.body.style.cursor="")},p=({order:g,sortOrders:y})=>{if(g==="")return y[0];const v=y.indexOf(g||null);return y[v>y.length-2?0:v+1]},m=(g,y,v)=>{var A;g.stopPropagation();const w=y.order===v?null:v||p(y),S=(A=g.target)==null?void 0:A.closest("th");if(S&&Ya(S,"noclick")){Pa(S,"noclick");return}if(!y.sortable)return;const C=g.currentTarget;if(["ascending","descending"].some(M=>Ya(C,M)&&!y.sortOrders.includes(M)))return;const E=t.store.states;let I=E.sortProp.value,k;const T=E.sortingColumn.value;(T!==y||T===y&&T.order===null)&&(T&&(T.order=null),E.sortingColumn.value=y,I=y.property),w?k=y.order=w:k=y.order=null,E.sortProp.value=I,E.sortOrder.value=k,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:s,handleMouseDown:u,handleMouseMove:f,handleMouseOut:h,handleSortClick:m,handleFilterClick:a}}function ate(t){const e=St($s),n=Ze("table");return{getHeaderRowStyle:i=>{const l=e==null?void 0:e.props.headerRowStyle;return Pt(l)?l.call(null,{rowIndex:i}):l},getHeaderRowClass:i=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return Mt(c)?l.push(c):Pt(c)&&l.push(c.call(null,{rowIndex:i})),l.join(" ")},getHeaderCellStyle:(i,l,c,u)=>{var f;let h=(f=e==null?void 0:e.props.headerCellStyle)!=null?f:{};Pt(h)&&(h=h.call(null,{rowIndex:i,columnIndex:l,row:c,column:u}));const p=G2(l,u.fixed,t.store,c);return Qu(p,"left"),Qu(p,"right"),Object.assign({},h,p)},getHeaderCellClass:(i,l,c,u)=>{const f=W2(n.b(),l,u.fixed,t.store,c),h=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...f];u.children||h.push("is-leaf"),u.sortable&&h.push("is-sortable");const p=e==null?void 0:e.props.headerCellClassName;return Mt(p)?h.push(p):Pt(p)&&h.push(p.call(null,{rowIndex:i,columnIndex:l,row:c,column:u})),h.push(n.e("cell")),h.filter(m=>!!m).join(" ")}}}const Q5=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,Q5(n.children))):e.push(n)}),e},Z5=t=>{let e=1;const n=(o,s)=>{if(s&&(o.level=s.level+1,e<o.level&&(e=o.level)),o.children){let i=0;o.children.forEach(l=>{n(l,o),i+=l.colSpan}),o.colSpan=i}else o.colSpan=1};t.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<e;o++)r.push([]);return Q5(t).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(s=>s.isSubColumn=!0)):o.rowSpan=e-o.level+1,r[o.level-1].push(o)}),r};function ote(t){const e=St($s),n=P(()=>Z5(t.store.states.originColumns.value));return{isGroup:P(()=>{const o=n.value.length>1;return o&&e&&(e.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var ste=he({name:"ElTableHeader",components:{ElCheckbox:$o},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(t,{emit:e}){const n=nn(),r=St($s),a=Ze("table"),o=j({}),{onColumnsChange:s,onScrollableChange:i}=X5(r),l=(r==null?void 0:r.props.tableLayout)==="auto",c=Mn(new Map),u=j(),f=()=>{setTimeout(()=>{c.size>0&&(c.forEach((M,D)=>{const B=u.value.querySelector(`.${D.replace(/\s/g,".")}`);if(B){const z=B.getBoundingClientRect().width;M.width=z}}),c.clear())})};Qe(c,f),Yt(async()=>{await Bt(),await Bt();const{prop:M,order:D}=t.defaultSort;r==null||r.store.commit("sort",{prop:M,order:D,init:!0}),f()});const{handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:m,handleMouseMove:g,handleMouseOut:y,handleSortClick:v,handleFilterClick:A}=rte(t,e),{getHeaderRowStyle:w,getHeaderRowClass:S,getHeaderCellStyle:C,getHeaderCellClass:E}=ate(t),{isGroup:I,toggleAllSelection:k,columnRows:T}=ote(t);return n.state={onColumnsChange:s,onScrollableChange:i},n.filterPanels=o,{ns:a,filterPanels:o,onColumnsChange:s,onScrollableChange:i,columnRows:T,getHeaderRowClass:S,getHeaderRowStyle:w,getHeaderCellClass:E,getHeaderCellStyle:C,handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:m,handleMouseMove:g,handleMouseOut:y,handleSortClick:v,handleFilterClick:A,isGroup:I,toggleAllSelection:k,saveIndexSelection:c,isTableLayoutAuto:l,theadRef:u,updateFixedColumnStyle:f}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:a,getHeaderRowClass:o,getHeaderRowStyle:s,handleHeaderClick:i,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:f,handleMouseOut:h,store:p,$parent:m,saveIndexSelection:g,isTableLayoutAuto:y}=this;let v=1;return Lt("thead",{ref:"theadRef",class:{[t.is("group")]:e}},n.map((A,w)=>Lt("tr",{class:o(w),key:w,style:s(w)},A.map((S,C)=>{S.rowSpan>v&&(v=S.rowSpan);const E=a(w,C,A,S);return y&&S.fixed&&g.set(E,S),Lt("th",{class:E,colspan:S.colSpan,key:`${S.id}-thead`,rowspan:S.rowSpan,style:r(w,C,A,S),onClick:I=>{I.currentTarget.classList.contains("noclick")||i(I,S)},onContextmenu:I=>l(I,S),onMousedown:I=>c(I,S),onMousemove:I=>u(I,S),onMouseout:h},[Lt("div",{class:["cell",S.filteredValue&&S.filteredValue.length>0?"highlight":""]},[S.renderHeader?S.renderHeader({column:S,$index:C,store:p,_self:m}):S.label,S.sortable&&Lt("span",{onClick:I=>f(I,S),class:"caret-wrapper"},[Lt("i",{onClick:I=>f(I,S,"ascending"),class:"sort-caret ascending"}),Lt("i",{onClick:I=>f(I,S,"descending"),class:"sort-caret descending"})]),S.filterable&&Lt(nte,{store:p,placement:S.filterPlacement||"bottom-start",appendTo:m.appendFilterPanelTo,column:S,upDataColumn:(I,k)=>{S[I]=k}},{"filter-icon":()=>S.renderFilterIcon?S.renderFilterIcon({filterOpened:S.filterOpened}):null})])])}))))}});function Zv(t,e,n=.03){return t-e>n}function ite(t){const e=St($s),n=j(""),r=j(Lt("div")),a=(m,g,y)=>{var v;const A=e,w=Qv(m);let S;const C=(v=A==null?void 0:A.vnode.el)==null?void 0:v.dataset.prefix;w&&(S=Xx({columns:t.store.states.columns.value},w,C),S&&(A==null||A.emit(`cell-${y}`,g,S,w,m))),A==null||A.emit(`row-${y}`,g,S,m)},o=(m,g)=>{a(m,g,"dblclick")},s=(m,g)=>{t.store.commit("setCurrentRow",g),a(m,g,"click")},i=(m,g)=>{a(m,g,"contextmenu")},l=eo(m=>{t.store.commit("setHoverRow",m)},30),c=eo(()=>{t.store.commit("setHoverRow",null)},30),u=m=>{const g=window.getComputedStyle(m,null),y=Number.parseInt(g.paddingLeft,10)||0,v=Number.parseInt(g.paddingRight,10)||0,A=Number.parseInt(g.paddingTop,10)||0,w=Number.parseInt(g.paddingBottom,10)||0;return{left:y,right:v,top:A,bottom:w}},f=(m,g,y)=>{let v=g.target.parentNode;for(;m>1&&(v=v==null?void 0:v.nextSibling,!(!v||v.nodeName!=="TR"));)y(v,"hover-row hover-fixed-row"),m--};return{handleDoubleClick:o,handleClick:s,handleContextMenu:i,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(m,g,y)=>{var v;const A=e,w=Qv(m),S=(v=A==null?void 0:A.vnode.el)==null?void 0:v.dataset.prefix;if(w){const W=Xx({columns:t.store.states.columns.value},w,S);w.rowSpan>1&&f(w.rowSpan,m,Do);const U=A.hoverState={cell:w,column:W,row:g};A==null||A.emit("cell-mouse-enter",U.row,U.column,U.cell,m)}if(!y)return;const C=m.target.querySelector(".cell");if(!(Ya(C,`${S}-tooltip`)&&C.childNodes.length))return;const E=document.createRange();E.setStart(C,0),E.setEnd(C,C.childNodes.length);const{width:I,height:k}=E.getBoundingClientRect(),{width:T,height:M}=C.getBoundingClientRect(),{top:D,left:B,right:z,bottom:q}=u(C),$=B+z,L=D+q;(Zv(I+$,T)||Zv(k+L,M)||Zv(C.scrollWidth,T))&&Vee(y,w.innerText||w.textContent,w,A)},handleCellMouseLeave:m=>{const g=Qv(m);if(!g)return;g.rowSpan>1&&f(g.rowSpan,m,Pa);const y=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",y==null?void 0:y.row,y==null?void 0:y.column,y==null?void 0:y.cell,m)},tooltipContent:n,tooltipTrigger:r}}function lte(t){const e=St($s),n=Ze("table");return{getRowStyle:(c,u)=>{const f=e==null?void 0:e.props.rowStyle;return Pt(f)?f.call(null,{row:c,rowIndex:u}):f||null},getRowClass:(c,u)=>{const f=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&c===t.store.states.currentRow.value&&f.push("current-row"),t.stripe&&u%2===1&&f.push(n.em("row","striped"));const h=e==null?void 0:e.props.rowClassName;return Mt(h)?f.push(h):Pt(h)&&f.push(h.call(null,{row:c,rowIndex:u})),f},getCellStyle:(c,u,f,h)=>{const p=e==null?void 0:e.props.cellStyle;let m=p??{};Pt(p)&&(m=p.call(null,{rowIndex:c,columnIndex:u,row:f,column:h}));const g=G2(u,t==null?void 0:t.fixed,t.store);return Qu(g,"left"),Qu(g,"right"),Object.assign({},m,g)},getCellClass:(c,u,f,h,p)=>{const m=W2(n.b(),u,t==null?void 0:t.fixed,t.store,void 0,p),g=[h.id,h.align,h.className,...m],y=e==null?void 0:e.props.cellClassName;return Mt(y)?g.push(y):Pt(y)&&g.push(y.call(null,{rowIndex:c,columnIndex:u,row:f,column:h})),g.push(n.e("cell")),g.filter(v=>!!v).join(" ")},getSpan:(c,u,f,h)=>{let p=1,m=1;const g=e==null?void 0:e.props.spanMethod;if(Pt(g)){const y=g({row:c,column:u,rowIndex:f,columnIndex:h});nt(y)?(p=y[0],m=y[1]):typeof y=="object"&&(p=y.rowspan,m=y.colspan)}return{rowspan:p,colspan:m}},getColspanRealWidth:(c,u,f)=>{if(u<1)return c[f].realWidth;const h=c.map(({realWidth:p,width:m})=>p||m).slice(f,f+u);return Number(h.reduce((p,m)=>Number(p)+Number(m),-1))}}}const cte=he({name:"TableTdWrapper"}),ute=he({...cte,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(t){return(e,n)=>(N(),ee("td",{colspan:t.colspan,rowspan:t.rowspan},[Me(e.$slots,"default")],8,["colspan","rowspan"]))}});var dte=st(ute,[["__file","td-wrapper.vue"]]);function fte(t){const e=St($s),n=Ze("table"),{handleDoubleClick:r,handleClick:a,handleContextMenu:o,handleMouseEnter:s,handleMouseLeave:i,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:f}=ite(t),{getRowStyle:h,getRowClass:p,getCellStyle:m,getCellClass:g,getSpan:y,getColspanRealWidth:v}=lte(t),A=P(()=>t.store.states.columns.value.findIndex(({type:I})=>I==="default")),w=(I,k)=>{const T=e.props.rowKey;return T?Ra(I,T):k},S=(I,k,T,M=!1)=>{const{tooltipEffect:D,tooltipOptions:B,store:z}=t,{indent:q,columns:$}=z.states,L=p(I,k);let W=!0;return T&&(L.push(n.em("row",`level-${T.level}`)),W=T.display),Lt("tr",{style:[W?null:{display:"none"},h(I,k)],class:L,key:w(I,k),onDblclick:F=>r(F,I),onClick:F=>a(F,I),onContextmenu:F=>o(F,I),onMouseenter:()=>s(k),onMouseleave:i},$.value.map((F,Q)=>{const{rowspan:ne,colspan:de}=y(I,F,k,Q);if(!ne||!de)return null;const ie=Object.assign({},F);ie.realWidth=v($.value,de,Q);const ce={store:t.store,_self:t.context||e,column:ie,row:I,$index:k,cellIndex:Q,expanded:M};Q===A.value&&T&&(ce.treeNode={indent:T.level*q.value,level:T.level},Kn(T.expanded)&&(ce.treeNode.expanded=T.expanded,"loading"in T&&(ce.treeNode.loading=T.loading),"noLazyChildren"in T&&(ce.treeNode.noLazyChildren=T.noLazyChildren)));const ge=`${w(I,k)},${Q}`,Ae=ie.columnKey||ie.rawColumnKey||"",pe=F.showOverflowTooltip&&QE({effect:D},B,F.showOverflowTooltip);return Lt(dte,{style:m(k,Q,I,F),class:g(k,Q,I,F,de-1),key:`${Ae}${ge}`,rowspan:ne,colspan:de,onMouseenter:Ie=>l(Ie,I,pe),onMouseleave:c},{default:()=>C(Q,F,ce)})}))},C=(I,k,T)=>k.renderCell(T);return{wrappedRowRender:(I,k)=>{const T=t.store,{isRowExpanded:M,assertRowKey:D}=T,{treeData:B,lazyTreeNodeMap:z,childrenColumnName:q,rowKey:$}=T.states,L=T.states.columns.value;if(L.some(({type:U})=>U==="expand")){const U=M(I),F=S(I,k,void 0,U),Q=e.renderExpanded;return U?Q?[[F,Lt("tr",{key:`expanded-row__${F.key}`},[Lt("td",{colspan:L.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[Q({row:I,$index:k,store:T,expanded:U})])])]]:(console.error("[Element Error]renderExpanded is required."),F):[[F]]}else if(Object.keys(B.value).length){D();const U=Ra(I,$.value);let F=B.value[U],Q=null;F&&(Q={expanded:F.expanded,level:F.level,display:!0},Kn(F.lazy)&&(Kn(F.loaded)&&F.loaded&&(Q.noLazyChildren=!(F.children&&F.children.length)),Q.loading=F.loading));const ne=[S(I,k,Q)];if(F){let de=0;const ie=(ge,Ae)=>{ge&&ge.length&&Ae&&ge.forEach(pe=>{const Ie={display:Ae.display&&Ae.expanded,level:Ae.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Re=Ra(pe,$.value);if(Re==null)throw new Error("For nested data item, row-key is required.");if(F={...B.value[Re]},F&&(Ie.expanded=F.expanded,F.level=F.level||Ie.level,F.display=!!(F.expanded&&Ie.display),Kn(F.lazy)&&(Kn(F.loaded)&&F.loaded&&(Ie.noLazyChildren=!(F.children&&F.children.length)),Ie.loading=F.loading)),de++,ne.push(S(pe,k+de,Ie)),F){const Je=z.value[Re]||pe[q.value];ie(Je,F)}})};F.display=!0;const ce=z.value[U]||I[q.value];ie(ce,F)}return ne}else return S(I,k,void 0)},tooltipContent:u,tooltipTrigger:f}}const hte={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var pte=he({name:"ElTableBody",props:hte,setup(t){const e=nn(),n=St($s),r=Ze("table"),{wrappedRowRender:a,tooltipContent:o,tooltipTrigger:s}=fte(t),{onColumnsChange:i,onScrollableChange:l}=X5(n),c=[];return Qe(t.store.states.hoverRow,(u,f)=>{var h;const p=e==null?void 0:e.vnode.el,m=Array.from((p==null?void 0:p.children)||[]).filter(v=>v==null?void 0:v.classList.contains(`${r.e("row")}`));let g=u;const y=(h=m[g])==null?void 0:h.childNodes;if(y!=null&&y.length){let v=0;Array.from(y).reduce((w,S,C)=>{var E,I;return((E=y[C])==null?void 0:E.colSpan)>1&&(v=(I=y[C])==null?void 0:I.colSpan),S.nodeName!=="TD"&&v===0&&w.push(C),v>0&&v--,w},[]).forEach(w=>{var S;for(g=u;g>0;){const C=(S=m[g-1])==null?void 0:S.childNodes;if(C[w]&&C[w].nodeName==="TD"&&C[w].rowSpan>1){Do(C[w],"hover-cell"),c.push(C[w]);break}g--}})}else c.forEach(v=>Pa(v,"hover-cell")),c.length=0;!t.store.states.isComplex.value||!Sn||hl(()=>{const v=m[f],A=m[u];v&&!v.classList.contains("hover-fixed-row")&&Pa(v,"hover-row"),A&&Do(A,"hover-row")})}),wl(()=>{var u;(u=Eo)==null||u()}),{ns:r,onColumnsChange:i,onScrollableChange:l,wrappedRowRender:a,tooltipContent:o,tooltipTrigger:s}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return Lt("tbody",{tabIndex:-1},[n.reduce((r,a)=>r.concat(t(a,r.length)),[])])}});function mte(){const t=St($s),e=t==null?void 0:t.store,n=P(()=>e.states.fixedLeafColumnsLength.value),r=P(()=>e.states.rightFixedColumns.value.length),a=P(()=>e.states.columns.value.length),o=P(()=>e.states.fixedColumns.value.length),s=P(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:a,leftFixedCount:o,rightFixedCount:s,columns:e.states.columns}}function vte(t){const{columns:e}=mte(),n=Ze("table");return{getCellClasses:(o,s)=>{const i=o[s],l=[n.e("cell"),i.id,i.align,i.labelClassName,...W2(n.b(),s,i.fixed,t.store)];return i.className&&l.push(i.className),i.children||l.push(n.is("leaf")),l},getCellStyles:(o,s)=>{const i=G2(s,o.fixed,t.store);return Qu(i,"left"),Qu(i,"right"),i},columns:e}}var gte=he({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:r}=vte(t);return{ns:Ze("table"),getCellClasses:e,getCellStyles:n,columns:r}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:a}=this,o=this.store.states.data.value;let s=[];return r?s=r({columns:t,data:o}):t.forEach((i,l)=>{if(l===0){s[l]=a;return}const c=o.map(p=>Number(p[i.property])),u=[];let f=!0;c.forEach(p=>{if(!Number.isNaN(+p)){f=!1;const m=`${p}`.split(".")[1];u.push(m?m.length:0)}});const h=Math.max.apply(null,u);f?s[l]="":s[l]=c.reduce((p,m)=>{const g=Number(m);return Number.isNaN(+g)?p:Number.parseFloat((p+m).toFixed(Math.min(h,20)))},0)}),Lt(Lt("tfoot",[Lt("tr",{},[...t.map((i,l)=>Lt("td",{key:l,colspan:i.colSpan,rowspan:i.rowSpan,class:n(t,l),style:e(i,l)},[Lt("div",{class:["cell",i.labelClassName]},[s[l]])]))])]))}});function yte(t){return{setCurrentRow:f=>{t.commit("setCurrentRow",f)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(f,h,p=!0)=>{t.toggleRowSelection(f,h,!1,p),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:f=>{t.clearFilter(f)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(f,h)=>{t.toggleRowExpansionAdapter(f,h)},clearSort:()=>{t.clearSort()},sort:(f,h)=>{t.commit("sort",{prop:f,order:h})},updateKeyChildren:(f,h)=>{t.updateKeyChildren(f,h)}}}function bte(t,e,n,r){const a=j(!1),o=j(null),s=j(!1),i=U=>{s.value=U},l=j({width:null,height:null,headerHeight:null}),c=j(!1),u={display:"inline-block",verticalAlign:"middle"},f=j(),h=j(0),p=j(0),m=j(0),g=j(0),y=j(0);ga(()=>{e.setHeight(t.height)}),ga(()=>{e.setMaxHeight(t.maxHeight)}),Qe(()=>[t.currentRowKey,n.states.rowKey],([U,F])=>{!d(F)||!d(U)||n.setCurrentRowKey(`${U}`)},{immediate:!0}),Qe(()=>t.data,U=>{r.store.commit("setData",U)},{immediate:!0,deep:!0}),ga(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const v=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},A=(U,F)=>{const{pixelX:Q,pixelY:ne}=F;Math.abs(Q)>=Math.abs(ne)&&(r.refs.bodyWrapper.scrollLeft+=F.pixelX/5)},w=P(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),S=P(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),C=()=>{w.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(T)};Yt(async()=>{await Bt(),n.updateColumns(),M(),requestAnimationFrame(C);const U=r.vnode.el,F=r.refs.headerWrapper;t.flexible&&U&&U.parentElement&&(U.parentElement.style.minWidth="0"),l.value={width:f.value=U.offsetWidth,height:U.offsetHeight,headerHeight:t.showHeader&&F?F.offsetHeight:null},n.states.columns.value.forEach(Q=>{Q.filteredValue&&Q.filteredValue.length&&r.store.commit("filterChange",{column:Q,values:Q.filteredValue,silent:!0})}),r.$ready=!0});const E=(U,F)=>{if(!U)return;const Q=Array.from(U.classList).filter(ne=>!ne.startsWith("is-scrolling-"));Q.push(e.scrollX.value?F:"is-scrolling-none"),U.className=Q.join(" ")},I=U=>{const{tableWrapper:F}=r.refs;E(F,U)},k=U=>{const{tableWrapper:F}=r.refs;return!!(F&&F.classList.contains(U))},T=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const ge="is-scrolling-none";k(ge)||I(ge);return}const U=r.refs.scrollBarRef.wrapRef;if(!U)return;const{scrollLeft:F,offsetWidth:Q,scrollWidth:ne}=U,{headerWrapper:de,footerWrapper:ie}=r.refs;de&&(de.scrollLeft=F),ie&&(ie.scrollLeft=F);const ce=ne-Q-1;F>=ce?I("is-scrolling-right"):I(F===0?"is-scrolling-left":"is-scrolling-middle")},M=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Ln(r.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),t.fit?or(r.vnode.el,D):Ln(window,"resize",D),or(r.refs.bodyWrapper,()=>{var U,F;D(),(F=(U=r.refs)==null?void 0:U.scrollBarRef)==null||F.update()}))},D=()=>{var U,F,Q,ne;const de=r.vnode.el;if(!r.$ready||!de)return;let ie=!1;const{width:ce,height:ge,headerHeight:Ae}=l.value,pe=f.value=de.offsetWidth;ce!==pe&&(ie=!0);const Ie=de.offsetHeight;(t.height||w.value)&&ge!==Ie&&(ie=!0);const Re=t.tableLayout==="fixed"?r.refs.headerWrapper:(U=r.refs.tableHeaderRef)==null?void 0:U.$el;t.showHeader&&(Re==null?void 0:Re.offsetHeight)!==Ae&&(ie=!0),h.value=((F=r.refs.tableWrapper)==null?void 0:F.scrollHeight)||0,m.value=(Re==null?void 0:Re.scrollHeight)||0,g.value=((Q=r.refs.footerWrapper)==null?void 0:Q.offsetHeight)||0,y.value=((ne=r.refs.appendWrapper)==null?void 0:ne.offsetHeight)||0,p.value=h.value-m.value-g.value-y.value,ie&&(l.value={width:pe,height:Ie,headerHeight:t.showHeader&&(Re==null?void 0:Re.offsetHeight)||0},C())},B=Dr(),z=P(()=>{const{bodyWidth:U,scrollY:F,gutterWidth:Q}=e;return U.value?`${U.value-(F.value?Q:0)}px`:""}),q=P(()=>t.maxHeight?"fixed":t.tableLayout),$=P(()=>{if(t.data&&t.data.length)return null;let U="100%";t.height&&p.value&&(U=`${p.value}px`);const F=f.value;return{width:F?`${F}px`:"",height:U}}),L=P(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${m.value+g.value}px)`}:{maxHeight:`${t.maxHeight-m.value-g.value}px`}:{});return{isHidden:a,renderExpanded:o,setDragVisible:i,isGroup:c,handleMouseLeave:v,handleHeaderFooterMousewheel:A,tableSize:B,emptyBlockStyle:$,handleFixedMousewheel:(U,F)=>{const Q=r.refs.bodyWrapper;if(Math.abs(F.spinY)>0){const ne=Q.scrollTop;F.pixelY<0&&ne!==0&&U.preventDefault(),F.pixelY>0&&Q.scrollHeight-Q.clientHeight>ne&&U.preventDefault(),Q.scrollTop+=Math.ceil(F.pixelY/5)}else Q.scrollLeft+=Math.ceil(F.pixelX/5)},resizeProxyVisible:s,bodyWidth:z,resizeState:l,doLayout:C,tableBodyStyles:S,tableLayout:q,scrollbarViewStyle:u,scrollbarStyle:L}}function Ste(t){const e=j(),n=()=>{const a=t.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},s=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{s.forEach(i=>i())}),e.value.observe(a,o)};Yt(()=>{n()}),wl(()=>{var r;(r=e.value)==null||r.disconnect()})}var _te={data:{type:Array,default:()=>[]},size:Or,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function J5(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(a=>a.width===void 0)&&(n=[]);const r=a=>{const o={key:`${t.tableLayout}_${a.id}`,style:{},name:void 0};return e?o.style={width:`${a.width}px`}:o.name=a.id,o};return Lt("colgroup",{},n.map(a=>Lt("col",r(a))))}J5.props=["columns","tableLayout"];const wte=()=>{const t=j(),e=(o,s)=>{const i=t.value;i&&i.scrollTo(o,s)},n=(o,s)=>{const i=t.value;i&&Nt(s)&&["Top","Left"].includes(o)&&i[`setScroll${o}`](s)};return{scrollBarRef:t,scrollTo:e,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};var eC=!1,ql,W1,G1,Y0,X0,e6,Q0,K1,q1,j1,t6,Y1,X1,n6,r6;function qa(){if(!eC){eC=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Y1=/\b(iPhone|iP[ao]d)/.exec(t),X1=/\b(iP[ao]d)/.exec(t),j1=/Android/i.exec(t),n6=/FBAN\/\w+;/i.exec(t),r6=/Mobile/i.exec(t),t6=!!/Win64/.exec(t),e){ql=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,ql&&document&&document.documentMode&&(ql=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);e6=r?parseFloat(r[1])+4:ql,W1=e[2]?parseFloat(e[2]):NaN,G1=e[3]?parseFloat(e[3]):NaN,Y0=e[4]?parseFloat(e[4]):NaN,Y0?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),X0=e&&e[1]?parseFloat(e[1]):NaN):X0=NaN}else ql=W1=G1=X0=Y0=NaN;if(n){if(n[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Q0=a?parseFloat(a[1].replace("_",".")):!0}else Q0=!1;K1=!!n[2],q1=!!n[3]}else Q0=K1=q1=!1}}var Q1={ie:function(){return qa()||ql},ieCompatibilityMode:function(){return qa()||e6>ql},ie64:function(){return Q1.ie()&&t6},firefox:function(){return qa()||W1},opera:function(){return qa()||G1},webkit:function(){return qa()||Y0},safari:function(){return Q1.webkit()},chrome:function(){return qa()||X0},windows:function(){return qa()||K1},osx:function(){return qa()||Q0},linux:function(){return qa()||q1},iphone:function(){return qa()||Y1},mobile:function(){return qa()||Y1||X1||j1||r6},nativeApp:function(){return qa()||n6},android:function(){return qa()||j1},ipad:function(){return qa()||X1}},xte=Q1,a0=!!(typeof window<"u"&&window.document&&window.document.createElement),Cte={canUseDOM:a0,canUseWorkers:typeof Worker<"u",canUseEventListeners:a0&&!!(window.addEventListener||window.attachEvent),canUseViewport:a0&&!!window.screen,isInWorker:!a0},a6=Cte,o6;a6.canUseDOM&&(o6=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Ate(t,e){if(!a6.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r=typeof a[n]=="function"}return!r&&o6&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Ete=Ate,tC=10,nC=40,rC=800;function s6(t){var e=0,n=0,r=0,a=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*tC,a=n*tC,"deltaY"in t&&(a=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||a)&&t.deltaMode&&(t.deltaMode==1?(r*=nC,a*=nC):(r*=rC,a*=rC)),r&&!e&&(e=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:a}}s6.getEventType=function(){return xte.firefox()?"DOMMouseScroll":Ete("wheel")?"wheel":"mousewheel"};var Mte=s6;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Tte=function(t,e){if(t&&t.addEventListener){const n=function(r){const a=Mte(r);e&&Reflect.apply(e,this,[r,a])};t.addEventListener("wheel",n,{passive:!0})}},Ite={beforeMount(t,e){Tte(t,e.value)}};let Rte=1;const kte=he({name:"ElTable",directives:{Mousewheel:Ite},components:{TableHeader:ste,TableBody:pte,TableFooter:gte,ElScrollbar:zs,hColgroup:J5},props:_te,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:e}=_n(),n=Ze("table"),r=nn();vn($s,r);const a=Xee(r,t);r.store=a;const o=new Zee({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=o;const s=P(()=>(a.states.data.value||[]).length===0),{setCurrentRow:i,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:p,clearSort:m,sort:g,updateKeyChildren:y}=yte(a),{isHidden:v,renderExpanded:A,setDragVisible:w,isGroup:S,handleMouseLeave:C,handleHeaderFooterMousewheel:E,tableSize:I,emptyBlockStyle:k,handleFixedMousewheel:T,resizeProxyVisible:M,bodyWidth:D,resizeState:B,doLayout:z,tableBodyStyles:q,tableLayout:$,scrollbarViewStyle:L,scrollbarStyle:W}=bte(t,o,a,r),{scrollBarRef:U,scrollTo:F,setScrollLeft:Q,setScrollTop:ne}=wte(),de=eo(z,50),ie=`${n.namespace.value}-table_${Rte++}`;r.tableId=ie,r.state={isGroup:S,resizeState:B,doLayout:z,debouncedUpdateLayout:de};const ce=P(()=>{var pe;return(pe=t.sumText)!=null?pe:e("el.table.sumText")}),ge=P(()=>{var pe;return(pe=t.emptyText)!=null?pe:e("el.table.emptyText")}),Ae=P(()=>Z5(a.states.originColumns.value)[0]);return Ste(r),Un(()=>{de.cancel()}),{ns:n,layout:o,store:a,columns:Ae,handleHeaderFooterMousewheel:E,handleMouseLeave:C,tableId:ie,tableSize:I,isHidden:v,isEmpty:s,renderExpanded:A,resizeProxyVisible:M,resizeState:B,isGroup:S,bodyWidth:D,tableBodyStyles:q,emptyBlockStyle:k,debouncedUpdateLayout:de,handleFixedMousewheel:T,setCurrentRow:i,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:p,clearSort:m,doLayout:z,sort:g,updateKeyChildren:y,t:e,setDragVisible:w,context:r,computedSumText:ce,computedEmptyText:ge,tableLayout:$,scrollbarViewStyle:L,scrollbarStyle:W,scrollBarRef:U,scrollTo:F,setScrollLeft:Q,setScrollTop:ne}}});function Dte(t,e,n,r,a,o){const s=ct("hColgroup"),i=ct("table-header"),l=ct("table-body"),c=ct("table-footer"),u=ct("el-scrollbar"),f=sm("mousewheel");return N(),ee("div",{ref:"tableWrapper",class:V([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:bt(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[re("div",{class:V(t.ns.e("inner-wrapper"))},[re("div",{ref:"hiddenColumns",class:"hidden-columns"},[Me(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Qt((N(),ee("div",{key:0,ref:"headerWrapper",class:V(t.ns.e("header-wrapper"))},[re("table",{ref:"tableHeader",class:V(t.ns.e("header")),style:bt(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[J(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),J(i,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[f,t.handleHeaderFooterMousewheel]]):Te("v-if",!0),re("div",{ref:"bodyWrapper",class:V(t.ns.e("body-wrapper"))},[J(u,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,onScroll:h=>t.$emit("scroll",h)},{default:le(()=>[re("table",{ref:"tableBody",class:V(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:bt({width:t.bodyWidth,tableLayout:t.tableLayout})},[J(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(N(),Ue(i,{key:0,ref:"tableHeaderRef",class:V(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Te("v-if",!0),J(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(N(),Ue(c,{key:1,class:V(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Te("v-if",!0)],6),t.isEmpty?(N(),ee("div",{key:0,ref:"emptyBlock",style:bt(t.emptyBlockStyle),class:V(t.ns.e("empty-block"))},[re("span",{class:V(t.ns.e("empty-text"))},[Me(t.$slots,"empty",{},()=>[Zt(rt(t.computedEmptyText),1)])],2)],6)):Te("v-if",!0),t.$slots.append?(N(),ee("div",{key:1,ref:"appendWrapper",class:V(t.ns.e("append-wrapper"))},[Me(t.$slots,"append")],2)):Te("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),t.showSummary&&t.tableLayout==="fixed"?Qt((N(),ee("div",{key:1,ref:"footerWrapper",class:V(t.ns.e("footer-wrapper"))},[re("table",{class:V(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:bt(t.tableBodyStyles)},[J(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),J(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[En,!t.isEmpty],[f,t.handleHeaderFooterMousewheel]]):Te("v-if",!0),t.border||t.isGroup?(N(),ee("div",{key:2,class:V(t.ns.e("border-left-patch"))},null,2)):Te("v-if",!0)],2),Qt(re("div",{ref:"resizeProxy",class:V(t.ns.e("column-resize-proxy"))},null,2),[[En,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var Pte=st(kte,[["render",Dte],["__file","table.vue"]]);const Bte={selection:"table-column--selection",expand:"table__expand-column"},Lte={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Nte=t=>Bte[t]||"",Fte={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return Lt($o,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:r}){return Lt($o,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:a=>a.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return Nt(r)?n=e+r:Pt(r)&&(n=r(e)),Lt("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:r}=e,a=[r.e("expand-icon")];return n&&a.push(r.em("expand-icon","expanded")),Lt("div",{class:a,onClick:function(s){s.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[Lt(Ct,null,{default:()=>[Lt(Ha)]})]})},sortable:!1,resizable:!1}};function Ote({row:t,column:e,$index:n}){var r;const a=e.property,o=a&&H0(t,a).value;return e&&e.formatter?e.formatter(t,e,o,n):((r=o==null?void 0:o.toString)==null?void 0:r.call(o))||""}function zte({row:t,treeNode:e,store:n},r=!1){const{ns:a}=n;if(!e)return r?[Lt("span",{class:a.e("placeholder")})]:null;const o=[],s=function(i){i.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&o.push(Lt("span",{class:a.e("indent"),style:{"padding-left":`${e.indent}px`}})),Kn(e.expanded)&&!e.noLazyChildren){const i=[a.e("expand-icon"),e.expanded?a.em("expand-icon","expanded"):""];let l=Ha;e.loading&&(l=Is),o.push(Lt("div",{class:i,onClick:s},{default:()=>[Lt(Ct,{class:{[a.is("loading")]:e.loading}},{default:()=>[Lt(l)]})]}))}else o.push(Lt("span",{class:a.e("placeholder")}));return o}function aC(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function Ute(t,e){const n=nn();return{registerComplexWatchers:()=>{const o=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},i=aC(o,s);Object.keys(i).forEach(l=>{const c=s[l];xn(e,c)&&Qe(()=>e[c],u=>{let f=u;c==="width"&&l==="realWidth"&&(f=V2(u)),c==="minWidth"&&l==="realMinWidth"&&(f=G5(u)),n.columnConfig.value[c]=f,n.columnConfig.value[l]=f;const h=c==="fixed";t.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},i=aC(o,s);Object.keys(i).forEach(l=>{const c=s[l];xn(e,c)&&Qe(()=>e[c],u=>{n.columnConfig.value[l]=u})})}}}function Hte(t,e,n){const r=nn(),a=j(""),o=j(!1),s=j(),i=j(),l=Ze("table");ga(()=>{s.value=t.align?`is-${t.align}`:null,s.value}),ga(()=>{i.value=t.headerAlign?`is-${t.headerAlign}`:s.value,i.value});const c=P(()=>{let S=r.vnode.vParent||r.parent;for(;S&&!S.tableId&&!S.columnId;)S=S.vnode.vParent||S.parent;return S}),u=P(()=>{const{store:S}=r.parent;if(!S)return!1;const{treeData:C}=S.states,E=C.value;return E&&Object.keys(E).length>0}),f=j(V2(t.width)),h=j(G5(t.minWidth)),p=S=>(f.value&&(S.width=f.value),h.value&&(S.minWidth=h.value),!f.value&&h.value&&(S.width=void 0),S.minWidth||(S.minWidth=80),S.realWidth=Number(S.width===void 0?S.minWidth:S.width),S),m=S=>{const C=S.type,E=Fte[C]||{};Object.keys(E).forEach(k=>{const T=E[k];k!=="className"&&T!==void 0&&(S[k]=T)});const I=Nte(C);if(I){const k=`${d(l.namespace)}-${I}`;S.className=S.className?`${S.className} ${k}`:k}return S},g=S=>{nt(S)?S.forEach(E=>C(E)):C(S);function C(E){var I;((I=E==null?void 0:E.type)==null?void 0:I.name)==="ElTableColumn"&&(E.vParent=r)}};return{columnId:a,realAlign:s,isSubColumn:o,realHeaderAlign:i,columnOrTableParent:c,setColumnWidth:p,setColumnForcedProps:m,setColumnRenders:S=>{t.renderHeader||S.type!=="selection"&&(S.renderHeader=E=>(r.columnConfig.value.label,Me(e,"header",E,()=>[S.label]))),e["filter-icon"]&&(S.renderFilterIcon=E=>Me(e,"filter-icon",E));let C=S.renderCell;return S.type==="expand"?(S.renderCell=E=>Lt("div",{class:"cell"},[C(E)]),n.value.renderExpanded=E=>e.default?e.default(E):e.default):(C=C||Ote,S.renderCell=E=>{let I=null;if(e.default){const z=e.default(E);I=z.some(q=>q.type!==Da)?z:C(E)}else I=C(E);const{columns:k}=n.value.store.states,T=k.value.findIndex(z=>z.type==="default"),M=u.value&&E.cellIndex===T,D=zte(E,M),B={class:"cell",style:{}};return S.showOverflowTooltip&&(B.class=`${B.class} ${d(l.namespace)}-tooltip`,B.style={width:`${(E.column.realWidth||Number(E.column.width))-1}px`}),g(I),Lt("div",B,[D,I])}),S},getPropsData:(...S)=>S.reduce((C,E)=>(nt(E)&&E.forEach(I=>{C[I]=t[I]}),C),{}),getColumnElIndex:(S,C)=>Array.prototype.indexOf.call(S,C),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var $te={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let Vte=1;var i6=he({name:"ElTableColumn",components:{ElCheckbox:$o},props:$te,setup(t,{slots:e}){const n=nn(),r=j({}),a=P(()=>{let w=n.parent;for(;w&&!w.tableId;)w=w.parent;return w}),{registerNormalWatchers:o,registerComplexWatchers:s}=Ute(a,t),{columnId:i,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:f,setColumnForcedProps:h,setColumnRenders:p,getPropsData:m,getColumnElIndex:g,realAlign:y,updateColumnOrder:v}=Hte(t,e,a),A=u.value;i.value=`${A.tableId||A.columnId}_column_${Vte++}`,om(()=>{l.value=a.value!==A;const w=t.type||"default",S=t.sortable===""?!0:t.sortable,C=Bn(t.showOverflowTooltip)?A.props.showOverflowTooltip:t.showOverflowTooltip,E={...Lte[w],id:i.value,type:w,property:t.prop||t.property,align:y,headerAlign:c,showOverflowTooltip:C,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:S,index:t.index,rawColumnKey:n.vnode.key};let D=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);D=zee(E,D),D=Hee(p,f,h)(D),r.value=D,o(),s()}),Yt(()=>{var w;const S=u.value,C=l.value?S.vnode.el.children:(w=S.refs.hiddenColumns)==null?void 0:w.children,E=()=>g(C||[],n.vnode.el);r.value.getColumnIndex=E,E()>-1&&a.value.store.commit("insertColumn",r.value,l.value?S.columnConfig.value:null,v)}),Un(()=>{const w=r.value.getColumnIndex;(w?w():-1)>-1&&a.value.store.commit("removeColumn",r.value,l.value?A.columnConfig.value:null,v)}),n.columnId=i.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),a=[];if(nt(r))for(const s of r)((n=s.type)==null?void 0:n.name)==="ElTableColumn"||s.shapeFlag&2?a.push(s):s.type===Et&&nt(s.children)&&s.children.forEach(i=>{(i==null?void 0:i.patchFlag)!==1024&&!Mt(i==null?void 0:i.children)&&a.push(i)});return Lt("div",a)}catch{return Lt("div",[])}}});const Wte=qt(Pte,{TableColumn:i6}),Gte=hr(i6);var jf=(t=>(t.ASC="asc",t.DESC="desc",t))(jf||{}),Yf=(t=>(t.CENTER="center",t.RIGHT="right",t))(Yf||{}),l6=(t=>(t.LEFT="left",t.RIGHT="right",t))(l6||{});const Z1={asc:"desc",desc:"asc"},Xf=Symbol("placeholder"),Kte=(t,e,n)=>{var r;const a={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(a.flexShrink=1);const o={...(r=t.style)!=null?r:{},...a,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(o.maxWidth=t.maxWidth),t.minWidth&&(o.minWidth=t.minWidth)),o};function qte(t,e,n){const r=P(()=>d(e).map((y,v)=>{var A,w;return{...y,key:(w=(A=y.key)!=null?A:y.dataKey)!=null?w:v}})),a=P(()=>d(r).filter(y=>!y.hidden)),o=P(()=>d(a).filter(y=>y.fixed==="left"||y.fixed===!0)),s=P(()=>d(a).filter(y=>y.fixed==="right")),i=P(()=>d(a).filter(y=>!y.fixed)),l=P(()=>{const y=[];return d(o).forEach(v=>{y.push({...v,placeholderSign:Xf})}),d(i).forEach(v=>{y.push(v)}),d(s).forEach(v=>{y.push({...v,placeholderSign:Xf})}),y}),c=P(()=>d(o).length||d(s).length),u=P(()=>d(r).reduce((y,v)=>(y[v.key]=Kte(v,d(n),t.fixed),y),{})),f=P(()=>d(a).reduce((y,v)=>y+v.width,0)),h=y=>d(r).find(v=>v.key===y),p=y=>d(u)[y],m=(y,v)=>{y.width=v};function g(y){var v;const{key:A}=y.currentTarget.dataset;if(!A)return;const{sortState:w,sortBy:S}=t;let C=jf.ASC;tn(w)?C=Z1[w[A]]:C=Z1[S.order],(v=t.onColumnSort)==null||v.call(t,{column:h(A),key:A,order:C})}return{columns:r,columnsStyles:u,columnsTotalWidth:f,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,hasFixedColumns:c,mainColumns:l,normalColumns:i,visibleColumns:a,getColumn:h,getColumnStyle:p,updateColumnWidth:m,onColumnSorted:g}}const jte=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:a})=>{const o=j({scrollLeft:0,scrollTop:0});function s(p){var m,g,y;const{scrollTop:v}=p;(m=e.value)==null||m.scrollTo(p),(g=n.value)==null||g.scrollToTop(v),(y=r.value)==null||y.scrollToTop(v)}function i(p){o.value=p,s(p)}function l(p){o.value.scrollTop=p,s(d(o))}function c(p){var m,g;o.value.scrollLeft=p,(g=(m=e.value)==null?void 0:m.scrollTo)==null||g.call(m,d(o))}function u(p){var m;i(p),(m=t.onScroll)==null||m.call(t,p)}function f({scrollTop:p}){const{scrollTop:m}=d(o);p!==m&&l(p)}function h(p,m="auto"){var g;(g=e.value)==null||g.scrollToRow(p,m)}return Qe(()=>d(o).scrollTop,(p,m)=>{p>m&&a()}),{scrollPos:o,scrollTo:i,scrollToLeft:c,scrollToTop:l,scrollToRow:h,onScroll:u,onVerticalScroll:f}},Yte=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:a,ns:o,isScrolling:s})=>{const i=nn(),{emit:l}=i,c=Xn(!1),u=j(t.defaultExpandedRowKeys||[]),f=j(-1),h=Xn(null),p=j({}),m=j({}),g=Xn({}),y=Xn({}),v=Xn({}),A=P(()=>Nt(t.estimatedRowHeight));function w(M){var D;(D=t.onRowsRendered)==null||D.call(t,M),M.rowCacheEnd>d(f)&&(f.value=M.rowCacheEnd)}function S({hovered:M,rowKey:D}){if(s.value)return;a.vnode.el.querySelectorAll(`[rowkey="${String(D)}"]`).forEach(q=>{M?q.classList.add(o.is("hovered")):q.classList.remove(o.is("hovered"))})}function C({expanded:M,rowData:D,rowIndex:B,rowKey:z}){var q,$;const L=[...d(u)],W=L.indexOf(z);M?W===-1&&L.push(z):W>-1&&L.splice(W,1),u.value=L,l("update:expandedRowKeys",L),(q=t.onRowExpand)==null||q.call(t,{expanded:M,rowData:D,rowIndex:B,rowKey:z}),($=t.onExpandedRowsChange)==null||$.call(t,L)}const E=eo(()=>{var M,D,B,z;c.value=!0,p.value={...d(p),...d(m)},I(d(h),!1),m.value={},h.value=null,(M=e.value)==null||M.forceUpdate(),(D=n.value)==null||D.forceUpdate(),(B=r.value)==null||B.forceUpdate(),(z=i.proxy)==null||z.$forceUpdate(),c.value=!1},0);function I(M,D=!1){d(A)&&[e,n,r].forEach(B=>{const z=d(B);z&&z.resetAfterRowIndex(M,D)})}function k(M,D,B){const z=d(h);(z===null||z>B)&&(h.value=B),m.value[M]=D}function T({rowKey:M,height:D,rowIndex:B},z){z?z===l6.RIGHT?v.value[M]=D:g.value[M]=D:y.value[M]=D;const q=Math.max(...[g,v,y].map($=>$.value[M]||0));d(p)[M]!==q&&(k(M,q,B),E())}return{expandedRowKeys:u,lastRenderedRowIndex:f,isDynamic:A,isResetting:c,rowHeights:p,resetAfterIndex:I,onRowExpanded:C,onRowHovered:S,onRowsRendered:w,onRowHeightChange:T}},Xte=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const a=j({}),o=P(()=>{const i={},{data:l,rowKey:c}=t,u=d(e);if(!u||!u.length)return l;const f=[],h=new Set;u.forEach(m=>h.add(m));let p=l.slice();for(p.forEach(m=>i[m[c]]=0);p.length>0;){const m=p.shift();f.push(m),h.has(m[c])&&nt(m.children)&&m.children.length>0&&(p=[...m.children,...p],m.children.forEach(g=>i[g[c]]=i[m[c]]+1))}return a.value=i,f}),s=P(()=>{const{data:i,expandColumnKey:l}=t;return l?d(o):i});return Qe(s,(i,l)=>{i!==l&&(n.value=-1,r(0,!0))}),{data:s,depthMap:a}},Qte=(t,e)=>t+e,Z0=t=>nt(t)?t.reduce(Qte,0):t,wc=(t,e,n={})=>Pt(t)?t(e):t??n,Zi=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Sr(t[e])}),t),c6=t=>ur(t)?e=>Lt(t,e):t,Zte=(t,{columnsTotalWidth:e,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:a})=>{const o=P(()=>{const{fixed:A,width:w,vScrollbarSize:S}=t,C=w-S;return A?Math.max(Math.round(d(e)),C):C}),s=P(()=>d(o)+t.vScrollbarSize),i=P(()=>{const{height:A=0,maxHeight:w=0,footerHeight:S,hScrollbarSize:C}=t;if(w>0){const E=d(p),I=d(n),T=d(h)+E+I+C;return Math.min(T,w-S)}return A-S}),l=P(()=>{const{maxHeight:A}=t,w=d(i);if(Nt(A)&&A>0)return w;const S=d(n)+d(h)+d(p);return Math.min(w,S)}),c=A=>A.width,u=P(()=>Z0(d(r).map(c))),f=P(()=>Z0(d(a).map(c))),h=P(()=>Z0(t.headerHeight)),p=P(()=>{var A;return(((A=t.fixedData)==null?void 0:A.length)||0)*t.rowHeight}),m=P(()=>d(i)-d(h)-d(p)),g=P(()=>{const{style:A={},height:w,width:S}=t;return Zi({...A,height:w,width:S})}),y=P(()=>Zi({height:t.footerHeight})),v=P(()=>({top:Sr(d(h)),bottom:Sr(t.footerHeight),width:Sr(t.width)}));return{bodyWidth:o,fixedTableHeight:l,mainTableHeight:i,leftTableWidth:u,rightTableWidth:f,headerWidth:s,windowHeight:m,footerHeight:y,emptyStyle:v,rootStyle:g,headerHeight:h}};function Jte(t){const e=j(),n=j(),r=j(),{columns:a,columnsStyles:o,columnsTotalWidth:s,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:f}=qte(t,Rn(t,"columns"),Rn(t,"fixed")),{scrollTo:h,scrollToLeft:p,scrollToTop:m,scrollToRow:g,onScroll:y,onVerticalScroll:v,scrollPos:A}=jte(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:me}),w=Ze("table-v2"),S=nn(),C=Xn(!1),{expandedRowKeys:E,lastRenderedRowIndex:I,isDynamic:k,isResetting:T,rowHeights:M,resetAfterIndex:D,onRowExpanded:B,onRowHeightChange:z,onRowHovered:q,onRowsRendered:$}=Yte(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:S,ns:w,isScrolling:C}),{data:L,depthMap:W}=Xte(t,{expandedRowKeys:E,lastRenderedRowIndex:I,resetAfterIndex:D}),U=P(()=>{const{estimatedRowHeight:oe,rowHeight:Ve}=t,Le=d(L);return Nt(oe)?Object.values(d(M)).reduce((ze,De)=>ze+De,0):Le.length*Ve}),{bodyWidth:F,fixedTableHeight:Q,mainTableHeight:ne,leftTableWidth:de,rightTableWidth:ie,headerWidth:ce,windowHeight:ge,footerHeight:Ae,emptyStyle:pe,rootStyle:Ie,headerHeight:Re}=Zte(t,{columnsTotalWidth:s,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,rowsHeight:U}),Je=j(),Ye=P(()=>{const oe=d(L).length===0;return nt(t.fixedData)?t.fixedData.length===0&&oe:oe});function Z(oe){const{estimatedRowHeight:Ve,rowHeight:Le,rowKey:ze}=t;return Ve?d(M)[d(L)[oe][ze]]||Ve:Le}function me(){const{onEndReached:oe}=t;if(!oe)return;const{scrollTop:Ve}=d(A),Le=d(U),ze=d(ge),De=Le-(Ve+ze)+t.hScrollbarSize;d(I)>=0&&Le===Ve+d(ne)-d(Re)&&oe(De)}return Qe(()=>t.expandedRowKeys,oe=>E.value=oe,{deep:!0}),{columns:a,containerRef:Je,mainTableRef:e,leftTableRef:n,rightTableRef:r,isDynamic:k,isResetting:T,isScrolling:C,hasFixedColumns:c,columnsStyles:o,columnsTotalWidth:s,data:L,expandedRowKeys:E,depthMap:W,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:F,emptyStyle:pe,rootStyle:Ie,headerWidth:ce,footerHeight:Ae,mainTableHeight:ne,fixedTableHeight:Q,leftTableWidth:de,rightTableWidth:ie,showEmpty:Ye,getRowHeight:Z,onColumnSorted:f,onRowHovered:q,onRowExpanded:B,onRowsRendered:$,onRowHeightChange:z,scrollTo:h,scrollToLeft:p,scrollToTop:m,scrollToRow:g,onScroll:y,onVerticalScroll:v}}const K2=Symbol("tableV2"),u6=String,yh={type:xe(Array),required:!0},q2={type:xe(Array)},d6={...q2,required:!0},ene=String,oC={type:xe(Array),default:()=>fr([])},jl={type:Number,required:!0},f6={type:xe([String,Number,Symbol]),default:"id"},sC={type:xe(Object)},oc=at({class:String,columns:yh,columnsStyles:{type:xe(Object),required:!0},depth:Number,expandColumnKey:ene,estimatedRowHeight:{...pc.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:xe(Function)},onRowHover:{type:xe(Function)},onRowHeightChange:{type:xe(Function)},rowData:{type:xe(Object),required:!0},rowEventHandlers:{type:xe(Object)},rowIndex:{type:Number,required:!0},rowKey:f6,style:{type:xe(Object)}}),Jv={type:Number,required:!0},j2=at({class:String,columns:yh,fixedHeaderData:{type:xe(Array)},headerData:{type:xe(Array),required:!0},headerHeight:{type:xe([Number,Array]),default:50},rowWidth:Jv,rowHeight:{type:Number,default:50},height:Jv,width:Jv}),J0=at({columns:yh,data:d6,fixedData:q2,estimatedRowHeight:oc.estimatedRowHeight,width:jl,height:jl,headerWidth:jl,headerHeight:j2.headerHeight,bodyWidth:jl,rowHeight:jl,cache:D5.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:pc.scrollbarAlwaysOn,scrollbarStartGap:pc.scrollbarStartGap,scrollbarEndGap:pc.scrollbarEndGap,class:u6,style:sC,containerStyle:sC,getRowHeight:{type:xe(Function),required:!0},rowKey:oc.rowKey,onRowsRendered:{type:xe(Function)},onScroll:{type:xe(Function)}}),tne=at({cache:J0.cache,estimatedRowHeight:oc.estimatedRowHeight,rowKey:f6,headerClass:{type:xe([String,Function])},headerProps:{type:xe([Object,Function])},headerCellProps:{type:xe([Object,Function])},headerHeight:j2.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:xe([String,Function])},rowProps:{type:xe([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:xe([Object,Function])},columns:yh,data:d6,dataGetter:{type:xe(Function)},fixedData:q2,expandColumnKey:oc.expandColumnKey,expandedRowKeys:oC,defaultExpandedRowKeys:oC,class:u6,fixed:Boolean,style:{type:xe(Object)},width:jl,height:jl,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:pc.hScrollbarSize,vScrollbarSize:pc.vScrollbarSize,scrollbarAlwaysOn:L5.alwaysOn,sortBy:{type:xe(Object),default:()=>({})},sortState:{type:xe(Object),default:void 0},onColumnSort:{type:xe(Function)},onExpandedRowsChange:{type:xe(Function)},onEndReached:{type:xe(Function)},onRowExpand:oc.onRowExpand,onScroll:J0.onScroll,onRowsRendered:J0.onRowsRendered,rowEventHandlers:oc.rowEventHandlers}),nne="ElTableV2Header",rne=he({name:nne,props:j2,setup(t,{slots:e,expose:n}){const r=Ze("table-v2"),a=St("tableV2GridScrollLeft"),o=j(),s=P(()=>Zi({width:t.width,height:t.height})),i=P(()=>Zi({width:t.rowWidth,height:t.height})),l=P(()=>Ia(d(t.headerHeight))),c=h=>{const p=d(o);Bt(()=>{p!=null&&p.scroll&&p.scroll({left:h})})},u=()=>{const h=r.e("fixed-header-row"),{columns:p,fixedHeaderData:m,rowHeight:g}=t;return m==null?void 0:m.map((y,v)=>{var A;const w=Zi({height:g,width:"100%"});return(A=e.fixed)==null?void 0:A.call(e,{class:h,columns:p,rowData:y,rowIndex:-(v+1),style:w})})},f=()=>{const h=r.e("dynamic-header-row"),{columns:p}=t;return d(l).map((m,g)=>{var y;const v=Zi({width:"100%",height:m});return(y=e.dynamic)==null?void 0:y.call(e,{class:h,columns:p,headerIndex:g,style:v})})};return Fs(()=>{a!=null&&a.value&&c(a.value)}),n({scrollToLeft:c}),()=>{if(!(t.height<=0))return J("div",{ref:o,class:t.class,style:d(s),role:"rowgroup"},[J("div",{style:d(i),class:r.e("header")},[f(),u()])])}}});var ane=rne;const one=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:r},a)=>{let o=null,s=0,i=0;const l=(u,f)=>{const h=u<=0&&e.value||u>=0&&t.value,p=f<=0&&r.value||f>=0&&n.value;return h&&p};return{hasReachedEdge:l,onWheel:u=>{Sc(o);let f=u.deltaX,h=u.deltaY;Math.abs(f)>Math.abs(h)?h=0:f=0,u.shiftKey&&h!==0&&(f=h,h=0),!(l(s,i)&&l(s+f,i+h))&&(s+=f,i+=h,u.preventDefault(),o=hl(()=>{a(s,i),s=0,i=0}))}}},h6=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:o,getEstimatedTotalWidth:s,getColumnOffset:i,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:f,initCache:h,injectToInstance:p,validateProps:m})=>he({name:t??"ElVirtualList",props:pc,emits:[Mp,Tp],setup(g,{emit:y,expose:v,slots:A}){const w=Ze("vl");m(g);const S=nn(),C=j(h(g,S));p==null||p(S,C);const E=j(),I=j(),k=j(),T=j(null),M=j({isScrolling:!1,scrollLeft:Nt(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:Nt(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:gu,yAxisScrollDir:gu}),D=I5(),B=P(()=>Number.parseInt(`${g.height}`,10)),z=P(()=>Number.parseInt(`${g.width}`,10)),q=P(()=>{const{totalColumn:ze,totalRow:De,columnCache:Fe}=g,{isScrolling:Ge,xAxisScrollDir:ae,scrollLeft:te}=d(M);if(ze===0||De===0)return[0,0,0,0];const we=r(g,te,d(C)),ye=a(g,we,te,d(C)),$e=!Ge||ae===Ip?Math.max(1,Fe):1,je=!Ge||ae===gu?Math.max(1,Fe):1;return[Math.max(0,we-$e),Math.max(0,Math.min(ze-1,ye+je)),we,ye]}),$=P(()=>{const{totalColumn:ze,totalRow:De,rowCache:Fe}=g,{isScrolling:Ge,yAxisScrollDir:ae,scrollTop:te}=d(M);if(ze===0||De===0)return[0,0,0,0];const we=u(g,te,d(C)),ye=f(g,we,te,d(C)),$e=!Ge||ae===Ip?Math.max(1,Fe):1,je=!Ge||ae===gu?Math.max(1,Fe):1;return[Math.max(0,we-$e),Math.max(0,Math.min(De-1,ye+je)),we,ye]}),L=P(()=>o(g,d(C))),W=P(()=>s(g,d(C))),U=P(()=>{var ze;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:Nt(g.height)?`${g.height}px`:g.height,width:Nt(g.width)?`${g.width}px`:g.width},(ze=g.style)!=null?ze:{}]}),F=P(()=>{const ze=`${d(W)}px`;return{height:`${d(L)}px`,pointerEvents:d(M).isScrolling?"none":void 0,width:ze}}),Q=()=>{const{totalColumn:ze,totalRow:De}=g;if(ze>0&&De>0){const[ye,$e,je,yt]=d(q),[ut,_t,Ft,ht]=d($);y(Mp,{columnCacheStart:ye,columnCacheEnd:$e,rowCacheStart:ut,rowCacheEnd:_t,columnVisibleStart:je,columnVisibleEnd:yt,rowVisibleStart:Ft,rowVisibleEnd:ht})}const{scrollLeft:Fe,scrollTop:Ge,updateRequested:ae,xAxisScrollDir:te,yAxisScrollDir:we}=d(M);y(Tp,{xAxisScrollDir:te,scrollLeft:Fe,yAxisScrollDir:we,scrollTop:Ge,updateRequested:ae})},ne=ze=>{const{clientHeight:De,clientWidth:Fe,scrollHeight:Ge,scrollLeft:ae,scrollTop:te,scrollWidth:we}=ze.currentTarget,ye=d(M);if(ye.scrollTop===te&&ye.scrollLeft===ae)return;let $e=ae;if(Vx(g.direction))switch(kp()){case Kf:$e=-ae;break;case $2:$e=we-Fe-ae;break}M.value={...ye,isScrolling:!0,scrollLeft:$e,scrollTop:Math.max(0,Math.min(te,Ge-De)),updateRequested:!0,xAxisScrollDir:rc(ye.scrollLeft,$e),yAxisScrollDir:rc(ye.scrollTop,te)},Bt(()=>Ie()),Re(),Q()},de=(ze,De)=>{const Fe=d(B),Ge=(L.value-Fe)/De*ze;ge({scrollTop:Math.min(L.value-Fe,Ge)})},ie=(ze,De)=>{const Fe=d(z),Ge=(W.value-Fe)/De*ze;ge({scrollLeft:Math.min(W.value-Fe,Ge)})},{onWheel:ce}=one({atXStartEdge:P(()=>M.value.scrollLeft<=0),atXEndEdge:P(()=>M.value.scrollLeft>=W.value-d(z)),atYStartEdge:P(()=>M.value.scrollTop<=0),atYEndEdge:P(()=>M.value.scrollTop>=L.value-d(B))},(ze,De)=>{var Fe,Ge,ae,te;(Ge=(Fe=I.value)==null?void 0:Fe.onMouseUp)==null||Ge.call(Fe),(te=(ae=k.value)==null?void 0:ae.onMouseUp)==null||te.call(ae);const we=d(z),ye=d(B);ge({scrollLeft:Math.min(M.value.scrollLeft+ze,W.value-we),scrollTop:Math.min(M.value.scrollTop+De,L.value-ye)})});Ln(E,"wheel",ce,{passive:!1});const ge=({scrollLeft:ze=M.value.scrollLeft,scrollTop:De=M.value.scrollTop})=>{ze=Math.max(ze,0),De=Math.max(De,0);const Fe=d(M);De===Fe.scrollTop&&ze===Fe.scrollLeft||(M.value={...Fe,xAxisScrollDir:rc(Fe.scrollLeft,ze),yAxisScrollDir:rc(Fe.scrollTop,De),scrollLeft:ze,scrollTop:De,updateRequested:!0},Bt(()=>Ie()),Re(),Q())},Ae=(ze=0,De=0,Fe=Po)=>{const Ge=d(M);De=Math.max(0,Math.min(De,g.totalColumn-1)),ze=Math.max(0,Math.min(ze,g.totalRow-1));const ae=pM(w.namespace.value),te=d(C),we=o(g,te),ye=s(g,te);ge({scrollLeft:i(g,De,Fe,Ge.scrollLeft,te,ye>g.width?ae:0),scrollTop:l(g,ze,Fe,Ge.scrollTop,te,we>g.height?ae:0)})},pe=(ze,De)=>{const{columnWidth:Fe,direction:Ge,rowHeight:ae}=g,te=D.value(e&&Fe,e&&ae,e&&Ge),we=`${ze},${De}`;if(xn(te,we))return te[we];{const[,ye]=n(g,De,d(C)),$e=d(C),je=Vx(Ge),[yt,ut]=c(g,ze,$e),[_t]=n(g,De,$e);return te[we]={position:"absolute",left:je?void 0:`${ye}px`,right:je?`${ye}px`:void 0,top:`${ut}px`,height:`${yt}px`,width:`${_t}px`},te[we]}},Ie=()=>{M.value.isScrolling=!1,Bt(()=>{D.value(-1,null,null)})};Yt(()=>{if(!Sn)return;const{initScrollLeft:ze,initScrollTop:De}=g,Fe=d(E);Fe&&(Nt(ze)&&(Fe.scrollLeft=ze),Nt(De)&&(Fe.scrollTop=De)),Q()});const Re=()=>{const{direction:ze}=g,{scrollLeft:De,scrollTop:Fe,updateRequested:Ge}=d(M),ae=d(E);if(Ge&&ae){if(ze===Tu)switch(kp()){case Kf:{ae.scrollLeft=-De;break}case H2:{ae.scrollLeft=De;break}default:{const{clientWidth:te,scrollWidth:we}=ae;ae.scrollLeft=we-te-De;break}}else ae.scrollLeft=Math.max(0,De);ae.scrollTop=Math.max(0,Fe)}},{resetAfterColumnIndex:Je,resetAfterRowIndex:Ye,resetAfter:Z}=S.proxy;v({windowRef:E,innerRef:T,getItemStyleCache:D,scrollTo:ge,scrollToItem:Ae,states:M,resetAfterColumnIndex:Je,resetAfterRowIndex:Ye,resetAfter:Z});const me=()=>{const{scrollbarAlwaysOn:ze,scrollbarStartGap:De,scrollbarEndGap:Fe,totalColumn:Ge,totalRow:ae}=g,te=d(z),we=d(B),ye=d(W),$e=d(L),{scrollLeft:je,scrollTop:yt}=d(M),ut=Lt(H1,{ref:I,alwaysOn:ze,startGap:De,endGap:Fe,class:w.e("horizontal"),clientSize:te,layout:"horizontal",onScroll:ie,ratio:te*100/ye,scrollFrom:je/(ye-te),total:ae,visible:!0}),_t=Lt(H1,{ref:k,alwaysOn:ze,startGap:De,endGap:Fe,class:w.e("vertical"),clientSize:we,layout:"vertical",onScroll:de,ratio:we*100/$e,scrollFrom:yt/($e-we),total:Ge,visible:!0});return{horizontalScrollbar:ut,verticalScrollbar:_t}},oe=()=>{var ze;const[De,Fe]=d(q),[Ge,ae]=d($),{data:te,totalColumn:we,totalRow:ye,useIsScrolling:$e,itemKey:je}=g,yt=[];if(ye>0&&we>0)for(let ut=Ge;ut<=ae;ut++)for(let _t=De;_t<=Fe;_t++){const Ft=je({columnIndex:_t,data:te,rowIndex:ut});yt.push(Lt(Et,{key:Ft},(ze=A.default)==null?void 0:ze.call(A,{columnIndex:_t,data:te,isScrolling:$e?d(M).isScrolling:void 0,style:pe(ut,_t),rowIndex:ut})))}return yt},Ve=()=>{const ze=ln(g.innerElement),De=oe();return[Lt(ze,{style:d(F),ref:T},Mt(ze)?De:{default:()=>De})]};return()=>{const ze=ln(g.containerElement),{horizontalScrollbar:De,verticalScrollbar:Fe}=me(),Ge=Ve();return Lt("div",{key:0,class:w.e("wrapper"),role:g.role},[Lt(ze,{class:g.className,style:d(U),onScroll:ne,ref:E},Mt(ze)?Ge:{default:()=>Ge}),De,Fe])}}}),{max:Bp,min:p6,floor:m6}=Math,sne={column:"columnWidth",row:"rowHeight"},J1={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ai=(t,e,n,r)=>{const[a,o,s]=[n[r],t[sne[r]],n[J1[r]]];if(e>s){let i=0;if(s>=0){const l=a[s];i=l.offset+l.size}for(let l=s+1;l<=e;l++){const c=o(l);a[l]={offset:i,size:c},i+=c}n[J1[r]]=e}return a[e]},v6=(t,e,n,r,a,o)=>{for(;n<=r;){const s=n+m6((r-n)/2),i=ai(t,s,e,o).offset;if(i===a)return s;i<a?n=s+1:r=s-1}return Bp(0,n-1)},ine=(t,e,n,r,a)=>{const o=a==="column"?t.totalColumn:t.totalRow;let s=1;for(;n<o&&ai(t,n,e,a).offset<r;)n+=s,s*=2;return v6(t,e,m6(n/2),p6(n,o-1),r,a)},iC=(t,e,n,r)=>{const[a,o]=[e[r],e[J1[r]]];return(o>0?a[o].offset:0)>=n?v6(t,e,0,o,n,r):ine(t,e,Bp(0,o),n,r)},g6=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:r})=>{let a=0;if(n>=t&&(n=t-1),n>=0){const i=r[n];a=i.offset+i.size}const s=(t-n-1)*e;return a+s},y6=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let a=0;if(r>t&&(r=t-1),r>=0){const i=e[r];a=i.offset+i.size}const s=(t-r-1)*n;return a+s},lne={column:y6,row:g6},lC=(t,e,n,r,a,o,s)=>{const[i,l]=[o==="row"?t.height:t.width,lne[o]],c=ai(t,e,a,o),u=l(t,a),f=Bp(0,p6(u-i,c.offset)),h=Bp(0,c.offset-i+s+c.size);switch(n===Dm&&(r>=h-i&&r<=f+i?n=Po:n=xs),n){case Wf:return f;case Gf:return h;case xs:return Math.round(h+(f-h)/2);case Po:default:return r>=h&&r<=f?r:h>f||r<h?h:f}},cne=h6({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const r=ai(t,e,n,"column");return[r.size,r.offset]},getRowPosition:(t,e,n)=>{const r=ai(t,e,n,"row");return[r.size,r.offset]},getColumnOffset:(t,e,n,r,a,o)=>lC(t,e,n,r,a,"column",o),getRowOffset:(t,e,n,r,a,o)=>lC(t,e,n,r,a,"row",o),getColumnStartIndexForOffset:(t,e,n)=>iC(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,r)=>{const a=ai(t,e,r,"column"),o=n+t.width;let s=a.offset+a.size,i=e;for(;i<t.totalColumn-1&&s<o;)i++,s+=ai(t,e,r,"column").size;return i},getEstimatedTotalHeight:g6,getEstimatedTotalWidth:y6,getRowStartIndexForOffset:(t,e,n)=>iC(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,r)=>{const{totalRow:a,height:o}=t,s=ai(t,e,r,"row"),i=n+o;let l=s.size+s.offset,c=e;for(;c<a-1&&l<i;)c++,l+=ai(t,c,r,"row").size;return c},injectToInstance:(t,e)=>{const n=({columnIndex:o,rowIndex:s},i)=>{var l,c;i=Bn(i)?!0:i,Nt(o)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,o-1)),Nt(s)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,s-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),i&&((c=t.proxy)==null||c.$forceUpdate())},r=(o,s)=>{n({columnIndex:o},s)},a=(o,s)=>{n({rowIndex:o},s)};Object.assign(t.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:a,resetAfter:n})},initCache:({estimatedColumnWidth:t=L1,estimatedRowHeight:e=L1})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),une=h6({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},r,a,o,s,i)=>{n=Number(n);const l=Math.max(0,t*e-n),c=Math.min(l,r*e),u=Math.max(0,r*e-n+i+e);switch(a==="smart"&&(o>=u-n&&o<=c+n?a=Po:a=xs),a){case Wf:return c;case Gf:return u;case xs:{const f=Math.round(u+(c-u)/2);return f<Math.ceil(n/2)?0:f>l+Math.floor(n/2)?l:f}case Po:default:return o>=u&&o<=c?o:u>c||o<u?u:c}},getRowOffset:({rowHeight:t,height:e,totalRow:n},r,a,o,s,i)=>{e=Number(e);const l=Math.max(0,n*t-e),c=Math.min(l,r*t),u=Math.max(0,r*t-e+i+t);switch(a===Dm&&(o>=u-e&&o<=c+e?a=Po:a=xs),a){case Wf:return c;case Gf:return u;case xs:{const f=Math.round(u+(c-u)/2);return f<Math.ceil(e/2)?0:f>l+Math.floor(e/2)?l:f}case Po:default:return o>=u&&o<=c?o:u>c||o<u?u:c}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},r,a)=>{const o=r*t,s=Math.ceil((n+a-o)/t);return Math.max(0,Math.min(e-1,r+s-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},r,a)=>{const o=r*t,s=Math.ceil((n+a-o)/t);return Math.max(0,Math.min(e-1,r+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),dne="ElTableV2Grid",fne=t=>{const e=j(),n=j(),r=j(0),a=P(()=>{const{data:y,rowHeight:v,estimatedRowHeight:A}=t;if(!A)return y.length*v}),o=P(()=>{const{fixedData:y,rowHeight:v}=t;return((y==null?void 0:y.length)||0)*v}),s=P(()=>Z0(t.headerHeight)),i=P(()=>{const{height:y}=t;return Math.max(0,y-d(s)-d(o))}),l=P(()=>d(s)+d(o)>0),c=({data:y,rowIndex:v})=>y[v][t.rowKey];function u({rowCacheStart:y,rowCacheEnd:v,rowVisibleStart:A,rowVisibleEnd:w}){var S;(S=t.onRowsRendered)==null||S.call(t,{rowCacheStart:y,rowCacheEnd:v,rowVisibleStart:A,rowVisibleEnd:w})}function f(y,v){var A;(A=n.value)==null||A.resetAfterRowIndex(y,v)}function h(y,v){const A=d(e),w=d(n);tn(y)?(A==null||A.scrollToLeft(y.scrollLeft),r.value=y.scrollLeft,w==null||w.scrollTo(y)):(A==null||A.scrollToLeft(y),r.value=y,w==null||w.scrollTo({scrollLeft:y,scrollTop:v}))}function p(y){var v;(v=d(n))==null||v.scrollTo({scrollTop:y})}function m(y,v){var A;(A=d(n))==null||A.scrollToItem(y,1,v)}function g(){var y,v;(y=d(n))==null||y.$forceUpdate(),(v=d(e))==null||v.$forceUpdate()}return{bodyRef:n,forceUpdate:g,fixedRowHeight:o,gridHeight:i,hasHeader:l,headerHeight:s,headerRef:e,totalHeight:a,itemKey:c,onItemRendered:u,resetAfterRowIndex:f,scrollTo:h,scrollToTop:p,scrollToRow:m,scrollLeft:r}},hne=he({name:dne,props:J0,setup(t,{slots:e,expose:n}){const{ns:r}=St(K2),{bodyRef:a,fixedRowHeight:o,gridHeight:s,hasHeader:i,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:f,itemKey:h,onItemRendered:p,resetAfterRowIndex:m,scrollTo:g,scrollToTop:y,scrollToRow:v,scrollLeft:A}=fne(t);vn("tableV2GridScrollLeft",A),n({forceUpdate:f,totalHeight:u,scrollTo:g,scrollToTop:y,scrollToRow:v,resetAfterRowIndex:m});const w=()=>t.bodyWidth;return()=>{const{cache:S,columns:C,data:E,fixedData:I,useIsScrolling:k,scrollbarAlwaysOn:T,scrollbarEndGap:M,scrollbarStartGap:D,style:B,rowHeight:z,bodyWidth:q,estimatedRowHeight:$,headerWidth:L,height:W,width:U,getRowHeight:F,onScroll:Q}=t,ne=Nt($),de=ne?cne:une,ie=d(c);return J("div",{role:"table",class:[r.e("table"),t.class],style:B},[J(de,{ref:a,data:E,useIsScrolling:k,itemKey:h,columnCache:0,columnWidth:ne?w:q,totalColumn:1,totalRow:E.length,rowCache:S,rowHeight:ne?F:z,width:U,height:d(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:D,scrollbarEndGap:M,scrollbarAlwaysOn:T,onScroll:Q,onItemRendered:p,perfMode:!1},{default:ce=>{var ge;const Ae=E[ce.rowIndex];return(ge=e.row)==null?void 0:ge.call(e,{...ce,columns:C,rowData:Ae})}}),d(i)&&J(ane,{ref:l,class:r.e("header-wrapper"),columns:C,headerData:E,headerHeight:t.headerHeight,fixedHeaderData:I,rowWidth:L,rowHeight:z,width:U,height:Math.min(ie+d(o),W)},{dynamic:e.header,fixed:e.row})])}}});var Y2=hne;function pne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ur(t)}const mne=(t,{slots:e})=>{const{mainTableRef:n,...r}=t;return J(Y2,un({ref:n},r),pne(e)?e:{default:()=>[e]})};var vne=mne;function gne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ur(t)}const yne=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...r}=t;return J(Y2,un({ref:n},r),gne(e)?e:{default:()=>[e]})};var bne=yne;function Sne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ur(t)}const _ne=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...r}=t;return J(Y2,un({ref:n},r),Sne(e)?e:{default:()=>[e]})};var wne=_ne;const xne=t=>{const{isScrolling:e}=St(K2),n=j(!1),r=j(),a=P(()=>Nt(t.estimatedRowHeight)&&t.rowIndex>=0),o=(l=!1)=>{const c=d(r);if(!c)return;const{columns:u,onRowHeightChange:f,rowKey:h,rowIndex:p,style:m}=t,{height:g}=c.getBoundingClientRect();n.value=!0,Bt(()=>{if(l||g!==Number.parseInt(m.height)){const y=u[0],v=(y==null?void 0:y.placeholderSign)===Xf;f==null||f({rowKey:h,height:g,rowIndex:p},y&&!v&&y.fixed)}})},s=P(()=>{const{rowData:l,rowIndex:c,rowKey:u,onRowHover:f}=t,h=t.rowEventHandlers||{},p={};return Object.entries(h).forEach(([m,g])=>{Pt(g)&&(p[m]=y=>{g({event:y,rowData:l,rowIndex:c,rowKey:u})})}),f&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:m,hovered:g})=>{const y=p[m];p[m]=v=>{f({event:v,hovered:g,rowData:l,rowIndex:c,rowKey:u}),y==null||y(v)}}),p}),i=l=>{const{onRowExpand:c,rowData:u,rowIndex:f,rowKey:h}=t;c==null||c({expanded:l,rowData:u,rowIndex:f,rowKey:h})};return Yt(()=>{d(a)&&o(!0)}),{isScrolling:e,measurable:a,measured:n,rowRef:r,eventHandlers:s,onExpand:i}},Cne="ElTableV2TableRow",Ane=he({name:Cne,props:oc,setup(t,{expose:e,slots:n,attrs:r}){const{eventHandlers:a,isScrolling:o,measurable:s,measured:i,rowRef:l,onExpand:c}=xne(t);return e({onExpand:c}),()=>{const{columns:u,columnsStyles:f,expandColumnKey:h,depth:p,rowData:m,rowIndex:g,style:y}=t;let v=u.map((A,w)=>{const S=nt(m.children)&&m.children.length>0&&A.key===h;return n.cell({column:A,columns:u,columnIndex:w,depth:p,style:f[A.key],rowData:m,rowIndex:g,isScrolling:d(o),expandIconProps:S?{rowData:m,rowIndex:g,onExpand:c}:void 0})});if(n.row&&(v=n.row({cells:v.map(A=>nt(A)&&A.length===1?A[0]:A),style:y,columns:u,depth:p,rowData:m,rowIndex:g,isScrolling:d(o)})),d(s)){const{height:A,...w}=y||{},S=d(i);return J("div",un({ref:l,class:t.class,style:S?y:w,role:"row"},r,d(a)),[v])}return J("div",un(r,{ref:l,class:t.class,style:y,role:"row"},d(a)),[v])}}});var Ene=Ane;function Mne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ur(t)}const Tne=(t,{slots:e})=>{const{columns:n,columnsStyles:r,depthMap:a,expandColumnKey:o,expandedRowKeys:s,estimatedRowHeight:i,hasFixedColumns:l,rowData:c,rowIndex:u,style:f,isScrolling:h,rowProps:p,rowClass:m,rowKey:g,rowEventHandlers:y,ns:v,onRowHovered:A,onRowExpanded:w}=t,S=wc(m,{columns:n,rowData:c,rowIndex:u},""),C=wc(p,{columns:n,rowData:c,rowIndex:u}),E=c[g],I=a[E]||0,k=!!o,T=u<0,M=[v.e("row"),S,{[v.e(`row-depth-${I}`)]:k&&u>=0,[v.is("expanded")]:k&&s.includes(E),[v.is("fixed")]:!I&&T,[v.is("customized")]:!!e.row}],D=l?A:void 0,B={...C,columns:n,columnsStyles:r,class:M,depth:I,expandColumnKey:o,estimatedRowHeight:T?void 0:i,isScrolling:h,rowIndex:u,rowData:c,rowKey:E,rowEventHandlers:y,style:f};return J(Ene,un(B,{onRowExpand:w,onMouseenter:$=>{D==null||D({hovered:!0,rowKey:E,event:$,rowData:c,rowIndex:u})},onMouseleave:$=>{D==null||D({hovered:!1,rowKey:E,event:$,rowData:c,rowIndex:u})},rowkey:E}),Mne(e)?e:{default:()=>[e]})};var Ine=Tne;const X2=(t,{slots:e})=>{var n;const{cellData:r,style:a}=t,o=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",s=Me(e,"default",t,()=>[o]);return J("div",{class:t.class,title:o,style:a},[s])};X2.displayName="ElTableV2Cell";X2.inheritAttrs=!1;var Rne=X2;const kne=t=>{const{expanded:e,expandable:n,onExpand:r,style:a,size:o}=t,s={onClick:n?()=>r(!e):void 0,class:t.class};return J(Ct,un(s,{size:o,style:a}),{default:()=>[J(Ha,null,null)]})};var Dne=kne;const b6=({columns:t,column:e,columnIndex:n,depth:r,expandIconProps:a,isScrolling:o,rowData:s,rowIndex:i,style:l,expandedRowKeys:c,ns:u,cellProps:f,expandColumnKey:h,indentSize:p,iconSize:m,rowKey:g},{slots:y})=>{const v=Zi(l);if(e.placeholderSign===Xf)return J("div",{class:u.em("row-cell","placeholder"),style:v},null);const{cellRenderer:A,dataKey:w,dataGetter:S}=e,C=Pt(S)?S({columns:t,column:e,columnIndex:n,rowData:s,rowIndex:i}):Mr(s,w??""),E=wc(f,{cellData:C,columns:t,column:e,columnIndex:n,rowIndex:i,rowData:s}),I={class:u.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:C,isScrolling:o,rowData:s,rowIndex:i},k=c6(A),T=k?k(I):Me(y,"default",I,()=>[J(Rne,I,null)]),M=[u.e("row-cell"),e.class,e.align===Yf.CENTER&&u.is("align-center"),e.align===Yf.RIGHT&&u.is("align-right")],D=i>=0&&h&&e.key===h,B=i>=0&&c.includes(s[g]);let z;const q=`margin-inline-start: ${r*p}px;`;return D&&(tn(a)?z=J(Dne,un(a,{class:[u.e("expand-icon"),u.is("expanded",B)],size:m,expanded:B,style:q,expandable:!0}),null):z=J("div",{style:[q,`width: ${m}px; height: ${m}px;`].join(" ")},null)),J("div",un({class:M,style:v},E,{role:"cell"}),[z,T])};b6.inheritAttrs=!1;var cC=b6;const Pne=at({class:String,columns:yh,columnsStyles:{type:xe(Object),required:!0},headerIndex:Number,style:{type:xe(Object)}}),Bne=he({name:"ElTableV2HeaderRow",props:Pne,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:r,headerIndex:a,style:o}=t;let s=n.map((i,l)=>e.cell({columns:n,column:i,columnIndex:l,headerIndex:a,style:r[i.key]}));return e.header&&(s=e.header({cells:s.map(i=>nt(i)&&i.length===1?i[0]:i),columns:n,headerIndex:a})),J("div",{class:t.class,style:o,role:"row"},[s])}}});var Lne=Bne;function Nne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ur(t)}const Fne=({columns:t,columnsStyles:e,headerIndex:n,style:r,headerClass:a,headerProps:o,ns:s},{slots:i})=>{const l={columns:t,headerIndex:n},c=[s.e("header-row"),wc(a,l,""),{[s.is("customized")]:!!i.header}],u={...wc(o,l),columnsStyles:e,class:c,columns:t,headerIndex:n,style:r};return J(Lne,u,Nne(i)?i:{default:()=>[i]})};var One=Fne;const Q2=(t,{slots:e})=>Me(e,"default",t,()=>{var n,r;return[J("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(r=t.column)==null?void 0:r.title])]});Q2.displayName="ElTableV2HeaderCell";Q2.inheritAttrs=!1;var zne=Q2;const Une=t=>{const{sortOrder:e}=t;return J(Ct,{size:14,class:t.class},{default:()=>[e===jf.ASC?J(bz,null,null):J(gz,null,null)]})};var Hne=Une;const $ne=(t,{slots:e})=>{const{column:n,ns:r,style:a,onColumnSorted:o}=t,s=Zi(a);if(n.placeholderSign===Xf)return J("div",{class:r.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:i,headerClass:l,sortable:c}=n,u={...t,class:r.e("header-cell-text")},f=c6(i),h=f?f(u):Me(e,"default",u,()=>[J(zne,u,null)]),{sortBy:p,sortState:m,headerCellProps:g}=t;let y,v;if(m){const S=m[n.key];y=!!Z1[S],v=y?S:jf.ASC}else y=n.key===p.key,v=y?p.order:jf.ASC;const A=[r.e("header-cell"),wc(l,t,""),n.align===Yf.CENTER&&r.is("align-center"),n.align===Yf.RIGHT&&r.is("align-right"),c&&r.is("sortable")],w={...wc(g,t),onClick:n.sortable?o:void 0,class:A,style:s,"data-key":n.key};return J("div",un(w,{role:"columnheader"}),[h,c&&J(Hne,{class:[r.e("sort-icon"),y&&r.is("sorting")],sortOrder:v},null)])};var uC=$ne;const S6=(t,{slots:e})=>{var n;return J("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};S6.displayName="ElTableV2Footer";var Vne=S6;const _6=(t,{slots:e})=>{const n=Me(e,"default",{},()=>[J(p5,null,null)]);return J("div",{class:t.class,style:t.style},[n])};_6.displayName="ElTableV2Empty";var Wne=_6;const w6=(t,{slots:e})=>{var n;return J("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};w6.displayName="ElTableV2Overlay";var Gne=w6;function Hd(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ur(t)}const Kne="ElTableV2",qne=he({name:Kne,props:tne,setup(t,{slots:e,expose:n}){const r=Ze("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,mainColumns:i,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:f,data:h,depthMap:p,expandedRowKeys:m,hasFixedColumns:g,mainTableRef:y,leftTableRef:v,rightTableRef:A,isDynamic:w,isResetting:S,isScrolling:C,bodyWidth:E,emptyStyle:I,rootStyle:k,headerWidth:T,footerHeight:M,showEmpty:D,scrollTo:B,scrollToLeft:z,scrollToTop:q,scrollToRow:$,getRowHeight:L,onColumnSorted:W,onRowHeightChange:U,onRowHovered:F,onRowExpanded:Q,onRowsRendered:ne,onScroll:de,onVerticalScroll:ie}=Jte(t);return n({scrollTo:B,scrollToLeft:z,scrollToTop:q,scrollToRow:$}),vn(K2,{ns:r,isResetting:S,isScrolling:C}),()=>{const{cache:ce,cellProps:ge,estimatedRowHeight:Ae,expandColumnKey:pe,fixedData:Ie,headerHeight:Re,headerClass:Je,headerProps:Ye,headerCellProps:Z,sortBy:me,sortState:oe,rowHeight:Ve,rowClass:Le,rowEventHandlers:ze,rowKey:De,rowProps:Fe,scrollbarAlwaysOn:Ge,indentSize:ae,iconSize:te,useIsScrolling:we,vScrollbarSize:ye,width:$e}=t,je=d(h),yt={cache:ce,class:r.e("main"),columns:d(i),data:je,fixedData:Ie,estimatedRowHeight:Ae,bodyWidth:d(E)+ye,headerHeight:Re,headerWidth:d(T),height:d(l),mainTableRef:y,rowKey:De,rowHeight:Ve,scrollbarAlwaysOn:Ge,scrollbarStartGap:2,scrollbarEndGap:ye,useIsScrolling:we,width:$e,getRowHeight:L,onRowsRendered:ne,onScroll:de},ut=d(u),_t=d(c),Ft={cache:ce,class:r.e("left"),columns:d(o),data:je,estimatedRowHeight:Ae,leftTableRef:v,rowHeight:Ve,bodyWidth:ut,headerWidth:ut,headerHeight:Re,height:_t,rowKey:De,scrollbarAlwaysOn:Ge,scrollbarStartGap:2,scrollbarEndGap:ye,useIsScrolling:we,width:ut,getRowHeight:L,onScroll:ie},X=d(f)+ye,He={cache:ce,class:r.e("right"),columns:d(s),data:je,estimatedRowHeight:Ae,rightTableRef:A,rowHeight:Ve,bodyWidth:X,headerWidth:X,headerHeight:Re,height:_t,rowKey:De,scrollbarAlwaysOn:Ge,scrollbarStartGap:2,scrollbarEndGap:ye,width:X,style:`--${d(r.namespace)}-table-scrollbar-size: ${ye}px`,useIsScrolling:we,getRowHeight:L,onScroll:ie},ve=d(a),ke={ns:r,depthMap:d(p),columnsStyles:ve,expandColumnKey:pe,expandedRowKeys:d(m),estimatedRowHeight:Ae,hasFixedColumns:d(g),rowProps:Fe,rowClass:Le,rowKey:De,rowEventHandlers:ze,onRowHovered:F,onRowExpanded:Q,onRowHeightChange:U},fe={cellProps:ge,expandColumnKey:pe,indentSize:ae,iconSize:te,rowKey:De,expandedRowKeys:d(m),ns:r},tt={ns:r,headerClass:Je,headerProps:Ye,columnsStyles:ve},Rt={ns:r,sortBy:me,sortState:oe,headerCellProps:Z,onColumnSorted:W},Oe={row:dt=>J(Ine,un(dt,ke),{row:e.row,cell:It=>{let gt;return e.cell?J(cC,un(It,fe,{style:ve[It.column.key]}),Hd(gt=e.cell(It))?gt:{default:()=>[gt]}):J(cC,un(It,fe,{style:ve[It.column.key]}),null)}}),header:dt=>J(One,un(dt,tt),{header:e.header,cell:It=>{let gt;return e["header-cell"]?J(uC,un(It,Rt,{style:ve[It.column.key]}),Hd(gt=e["header-cell"](It))?gt:{default:()=>[gt]}):J(uC,un(It,Rt,{style:ve[It.column.key]}),null)}})},Tt=[t.class,r.b(),r.e("root"),{[r.is("dynamic")]:d(w)}],ot={class:r.e("footer"),style:d(M)};return J("div",{class:Tt,style:d(k)},[J(vne,yt,Hd(Oe)?Oe:{default:()=>[Oe]}),J(bne,Ft,Hd(Oe)?Oe:{default:()=>[Oe]}),J(wne,He,Hd(Oe)?Oe:{default:()=>[Oe]}),e.footer&&J(Vne,ot,{default:e.footer}),d(D)&&J(Wne,{class:r.e("empty"),style:d(I)},{default:e.empty}),e.overlay&&J(Gne,{class:r.e("overlay")},{default:e.overlay})])}}});var jne=qne;const Yne=at({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:xe(Function)}}),Xne=t=>{const e=j(),n=j(0),r=j(0);let a;return Yt(()=>{a=or(e,([o])=>{const{width:s,height:i}=o.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:u,paddingBottom:f}=getComputedStyle(o.target),h=Number.parseInt(l)||0,p=Number.parseInt(c)||0,m=Number.parseInt(u)||0,g=Number.parseInt(f)||0;n.value=s-h-p,r.value=i-m-g}).stop}),Un(()=>{a==null||a()}),Qe([n,r],([o,s])=>{var i;(i=t.onResize)==null||i.call(t,{width:o,height:s})}),{sizer:e,width:n,height:r}},Qne=he({name:"ElAutoResizer",props:Yne,setup(t,{slots:e}){const n=Ze("auto-resizer"),{height:r,width:a,sizer:o}=Xne(t),s={width:"100%",height:"100%"};return()=>{var i;return J("div",{ref:o,class:n.b(),style:s},[(i=e.default)==null?void 0:i.call(e,{height:r.value,width:a.value})])}}});var Zne=Qne;const Jne=qt(jne),ere=qt(Zne),Pm=Symbol("tabsRootContextKey"),tre=at({tabs:{type:xe(Array),default:()=>fr([])}}),x6="ElTabBar",nre=he({name:x6}),rre=he({...nre,props:tre,setup(t,{expose:e}){const n=t,r=nn(),a=St(Pm);a||Wr(x6,"<el-tabs><el-tab-bar /></el-tabs>");const o=Ze("tabs"),s=j(),i=j(),l=()=>{let p=0,m=0;const g=["top","bottom"].includes(a.props.tabPosition)?"width":"height",y=g==="width"?"x":"y",v=y==="x"?"left":"top";return n.tabs.every(A=>{var w,S;const C=(S=(w=r.parent)==null?void 0:w.refs)==null?void 0:S[`tab-${A.uid}`];if(!C)return!1;if(!A.active)return!0;p=C[`offset${ws(v)}`],m=C[`client${ws(g)}`];const E=window.getComputedStyle(C);return g==="width"&&(m-=Number.parseFloat(E.paddingLeft)+Number.parseFloat(E.paddingRight),p+=Number.parseFloat(E.paddingLeft)),!1}),{[g]:`${m}px`,transform:`translate${ws(y)}(${p}px)`}},c=()=>i.value=l(),u=[],f=()=>{var p;u.forEach(g=>g.stop()),u.length=0;const m=(p=r.parent)==null?void 0:p.refs;if(m){for(const g in m)if(g.startsWith("tab-")){const y=m[g];y&&u.push(or(y,c))}}};Qe(()=>n.tabs,async()=>{await Bt(),c(),f()},{immediate:!0});const h=or(s,()=>c());return Un(()=>{u.forEach(p=>p.stop()),u.length=0,h.stop()}),e({ref:s,update:c}),(p,m)=>(N(),ee("div",{ref_key:"barRef",ref:s,class:V([d(o).e("active-bar"),d(o).is(d(a).props.tabPosition)]),style:bt(i.value)},null,6))}});var are=st(rre,[["__file","tab-bar.vue"]]);const ore=at({panes:{type:xe(Array),default:()=>fr([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),sre={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},dC="ElTabNav",ire=he({name:dC,props:ore,emits:sre,setup(t,{expose:e,emit:n}){const r=St(Pm);r||Wr(dC,"<el-tabs><tab-nav /></el-tabs>");const a=Ze("tabs"),o=FF(),s=YF(),i=j(),l=j(),c=j(),u=j(),f=j(!1),h=j(0),p=j(!1),m=j(!0),g=P(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),y=P(()=>({transform:`translate${g.value==="width"?"X":"Y"}(-${h.value}px)`})),v=()=>{if(!i.value)return;const k=i.value[`offset${ws(g.value)}`],T=h.value;if(!T)return;const M=T>k?T-k:0;h.value=M},A=()=>{if(!i.value||!l.value)return;const k=l.value[`offset${ws(g.value)}`],T=i.value[`offset${ws(g.value)}`],M=h.value;if(k-M<=T)return;const D=k-M>T*2?M+T:k-T;h.value=D},w=async()=>{const k=l.value;if(!f.value||!c.value||!i.value||!k)return;await Bt();const T=c.value.querySelector(".is-active");if(!T)return;const M=i.value,D=["top","bottom"].includes(r.props.tabPosition),B=T.getBoundingClientRect(),z=M.getBoundingClientRect(),q=D?k.offsetWidth-z.width:k.offsetHeight-z.height,$=h.value;let L=$;D?(B.left<z.left&&(L=$-(z.left-B.left)),B.right>z.right&&(L=$+B.right-z.right)):(B.top<z.top&&(L=$-(z.top-B.top)),B.bottom>z.bottom&&(L=$+(B.bottom-z.bottom))),L=Math.max(L,0),h.value=Math.min(L,q)},S=()=>{var k;if(!l.value||!i.value)return;t.stretch&&((k=u.value)==null||k.update());const T=l.value[`offset${ws(g.value)}`],M=i.value[`offset${ws(g.value)}`],D=h.value;M<T?(f.value=f.value||{},f.value.prev=D,f.value.next=D+M<T,T-D<M&&(h.value=T-M)):(f.value=!1,D>0&&(h.value=0))},C=k=>{let T=0;switch(k.code){case mt.left:case mt.up:T=-1;break;case mt.right:case mt.down:T=1;break;default:return}const M=Array.from(k.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let B=M.indexOf(k.target)+T;B<0?B=M.length-1:B>=M.length&&(B=0),M[B].focus({preventScroll:!0}),M[B].click(),E()},E=()=>{m.value&&(p.value=!0)},I=()=>p.value=!1;return Qe(o,k=>{k==="hidden"?m.value=!1:k==="visible"&&setTimeout(()=>m.value=!0,50)}),Qe(s,k=>{k?setTimeout(()=>m.value=!0,50):m.value=!1}),or(c,S),Yt(()=>setTimeout(()=>w(),0)),Fs(()=>S()),e({scrollToActiveTab:w,removeFocus:I}),()=>{const k=f.value?[J("span",{class:[a.e("nav-prev"),a.is("disabled",!f.value.prev)],onClick:v},[J(Ct,null,{default:()=>[J(pl,null,null)]})]),J("span",{class:[a.e("nav-next"),a.is("disabled",!f.value.next)],onClick:A},[J(Ct,null,{default:()=>[J(Ha,null,null)]})])]:null,T=t.panes.map((M,D)=>{var B,z,q,$;const L=M.uid,W=M.props.disabled,U=(z=(B=M.props.name)!=null?B:M.index)!=null?z:`${D}`,F=!W&&(M.isClosable||t.editable);M.index=`${D}`;const Q=F?J(Ct,{class:"is-icon-close",onClick:ie=>n("tabRemove",M,ie)},{default:()=>[J(cs,null,null)]}):null,ne=(($=(q=M.slots).label)==null?void 0:$.call(q))||M.props.label,de=!W&&M.active?0:-1;return J("div",{ref:`tab-${L}`,class:[a.e("item"),a.is(r.props.tabPosition),a.is("active",M.active),a.is("disabled",W),a.is("closable",F),a.is("focus",p.value)],id:`tab-${U}`,key:`tab-${L}`,"aria-controls":`pane-${U}`,role:"tab","aria-selected":M.active,tabindex:de,onFocus:()=>E(),onBlur:()=>I(),onClick:ie=>{I(),n("tabClick",M,U,ie)},onKeydown:ie=>{F&&(ie.code===mt.delete||ie.code===mt.backspace)&&n("tabRemove",M,ie)}},[ne,Q])});return J("div",{ref:c,class:[a.e("nav-wrap"),a.is("scrollable",!!f.value),a.is(r.props.tabPosition)]},[k,J("div",{class:a.e("nav-scroll"),ref:i},[J("div",{class:[a.e("nav"),a.is(r.props.tabPosition),a.is("stretch",t.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:y.value,role:"tablist",onKeydown:C},[t.type?null:J(are,{ref:u,tabs:[...t.panes]},null),T])])])}}}),lre=at({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:xe(Function),default:()=>!0},stretch:Boolean}),eg=t=>Mt(t)||Nt(t),cre={[Jt]:t=>eg(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>eg(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>eg(t),tabAdd:()=>!0},ure=he({name:"ElTabs",props:lre,emits:cre,setup(t,{emit:e,slots:n,expose:r}){var a;const o=Ze("tabs"),s=P(()=>["left","right"].includes(t.tabPosition)),{children:i,addChild:l,removeChild:c}=y2(nn(),"ElTabPane"),u=j(),f=j((a=t.modelValue)!=null?a:"0"),h=async(v,A=!1)=>{var w,S,C;if(!(f.value===v||Bn(v)))try{await((w=t.beforeLeave)==null?void 0:w.call(t,v,f.value))!==!1&&(f.value=v,A&&(e(Jt,v),e("tabChange",v)),(C=(S=u.value)==null?void 0:S.removeFocus)==null||C.call(S))}catch{}},p=(v,A,w)=>{v.props.disabled||(h(A,!0),e("tabClick",v,w))},m=(v,A)=>{v.props.disabled||Bn(v.props.name)||(A.stopPropagation(),e("edit",v.props.name,"remove"),e("tabRemove",v.props.name))},g=()=>{e("edit",void 0,"add"),e("tabAdd")};Qe(()=>t.modelValue,v=>h(v)),Qe(f,async()=>{var v;await Bt(),(v=u.value)==null||v.scrollToActiveTab()}),vn(Pm,{props:t,currentName:f,registerPane:v=>{i.value.push(v)},sortPane:l,unregisterPane:c}),r({currentName:f});const y=({render:v})=>v();return()=>{const v=n["add-icon"],A=t.editable||t.addable?J("div",{class:[o.e("new-tab"),s.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:g,onKeydown:C=>{[mt.enter,mt.numpadEnter].includes(C.code)&&g()}},[v?Me(n,"add-icon"):J(Ct,{class:o.is("icon-plus")},{default:()=>[J(bM,null,null)]})]):null,w=J("div",{class:[o.e("header"),s.value&&o.e("header-vertical"),o.is(t.tabPosition)]},[J(y,{render:()=>{const C=i.value.some(E=>E.slots.label);return J(ire,{ref:u,currentName:f.value,editable:t.editable,type:t.type,panes:i.value,stretch:t.stretch,onTabClick:p,onTabRemove:m},{$stable:!C})}},null),A]),S=J("div",{class:o.e("content")},[Me(n,"default")]);return J("div",{class:[o.b(),o.m(t.tabPosition),{[o.m("card")]:t.type==="card",[o.m("border-card")]:t.type==="border-card"}]},[S,w])}}});var dre=ure;const fre=at({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),C6="ElTabPane",hre=he({name:C6}),pre=he({...hre,props:fre,setup(t){const e=t,n=nn(),r=zr(),a=St(Pm);a||Wr(C6,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=Ze("tab-pane"),s=j(),i=P(()=>e.closable||a.props.closable),l=c1(()=>{var p;return a.currentName.value===((p=e.name)!=null?p:s.value)}),c=j(l.value),u=P(()=>{var p;return(p=e.name)!=null?p:s.value}),f=c1(()=>!e.lazy||c.value||l.value);Qe(l,p=>{p&&(c.value=!0)});const h=Mn({uid:n.uid,slots:r,props:e,paneName:u,active:l,index:s,isClosable:i});return a.registerPane(h),Yt(()=>{a.sortPane(h)}),wl(()=>{a.unregisterPane(h.uid)}),(p,m)=>d(f)?Qt((N(),ee("div",{key:0,id:`pane-${d(u)}`,class:V(d(o).b()),role:"tabpanel","aria-hidden":!d(l),"aria-labelledby":`tab-${d(u)}`},[Me(p.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[En,d(l)]]):Te("v-if",!0)}});var A6=st(pre,[["__file","tab-pane.vue"]]);const mre=qt(dre,{TabPane:A6}),vre=hr(A6),gre=at({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Os,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),yre=he({name:"ElText"}),bre=he({...yre,props:gre,setup(t){const e=t,n=Dr(),r=Ze("text"),a=P(()=>[r.b(),r.m(e.type),r.m(n.value),r.is("truncated",e.truncated),r.is("line-clamp",!Bn(e.lineClamp))]);return(o,s)=>(N(),Ue(ln(o.tag),{class:V(d(a)),style:bt({"-webkit-line-clamp":o.lineClamp})},{default:le(()=>[Me(o.$slots,"default")]),_:3},8,["class","style"]))}});var Sre=st(bre,[["__file","text.vue"]]);const _re=qt(Sre),wre=at({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:xe(String),default:"light"},clearable:{type:Boolean,default:!0},size:Or,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:xe([String,Object]),default:()=>yM},clearIcon:{type:xe([String,Object]),default:()=>Ci},...Sd}),li=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),a=t.toUpperCase();return a.includes("AM")&&n===12?n=0:a.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},tg=(t,e)=>{const n=li(t);if(!n)return-1;const r=li(e);if(!r)return-1;const a=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return a===o?0:a>o?1:-1},fC=t=>`${t}`.padStart(2,"0"),du=t=>`${fC(t.hours)}:${fC(t.minutes)}`,xre=(t,e)=>{const n=li(t);if(!n)return"";const r=li(e);if(!r)return"";const a={hours:n.hours,minutes:n.minutes};return a.minutes+=r.minutes,a.hours+=r.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,du(a)},Cre=he({name:"ElTimeSelect"}),Are=he({...Cre,props:wre,emits:["change","blur","focus","clear","update:modelValue"],setup(t,{expose:e}){const n=t;Wt.extend(w2);const{Option:r}=_c,a=Ze("input"),o=j(),s=wa(),{lang:i}=_n(),l=P(()=>n.modelValue),c=P(()=>{const v=li(n.start);return v?du(v):null}),u=P(()=>{const v=li(n.end);return v?du(v):null}),f=P(()=>{const v=li(n.step);return v?du(v):null}),h=P(()=>{const v=li(n.minTime||"");return v?du(v):null}),p=P(()=>{const v=li(n.maxTime||"");return v?du(v):null}),m=P(()=>{const v=[];if(n.start&&n.end&&n.step){let A=c.value,w;for(;A&&u.value&&tg(A,u.value)<=0;)w=Wt(A,"HH:mm").locale(i.value).format(n.format),v.push({value:w,disabled:tg(A,h.value||"-1:-1")<=0||tg(A,p.value||"100:100")>=0}),A=xre(A,f.value)}return v});return e({blur:()=>{var v,A;(A=(v=o.value)==null?void 0:v.blur)==null||A.call(v)},focus:()=>{var v,A;(A=(v=o.value)==null?void 0:v.focus)==null||A.call(v)}}),(v,A)=>(N(),Ue(d(_c),{ref_key:"select",ref:o,"model-value":d(l),disabled:d(s),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"empty-values":v.emptyValues,"value-on-clear":v.valueOnClear,"onUpdate:modelValue":w=>v.$emit("update:modelValue",w),onChange:w=>v.$emit("change",w),onBlur:w=>v.$emit("blur",w),onFocus:w=>v.$emit("focus",w),onClear:()=>v.$emit("clear")},{prefix:le(()=>[v.prefixIcon?(N(),Ue(d(Ct),{key:0,class:V(d(a).e("prefix-icon"))},{default:le(()=>[(N(),Ue(ln(v.prefixIcon)))]),_:1},8,["class"])):Te("v-if",!0)]),default:le(()=>[(N(!0),ee(Et,null,fn(d(m),w=>(N(),Ue(d(r),{key:w.value,label:w.value,value:w.value,disabled:w.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var Ere=st(Are,[["__file","time-select.vue"]]);const Mre=qt(Ere),Tre=he({name:"ElTimeline",setup(t,{slots:e}){const n=Ze("timeline");return vn("timeline",e),()=>Lt("ul",{class:[n.b()]},[Me(e,"default")])}}),Ire=at({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:On},hollow:Boolean}),Rre=he({name:"ElTimelineItem"}),kre=he({...Rre,props:Ire,setup(t){const e=t,n=Ze("timeline-item"),r=P(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(a,o)=>(N(),ee("li",{class:V([d(n).b(),{[d(n).e("center")]:a.center}])},[re("div",{class:V(d(n).e("tail"))},null,2),a.$slots.dot?Te("v-if",!0):(N(),ee("div",{key:0,class:V(d(r)),style:bt({backgroundColor:a.color})},[a.icon?(N(),Ue(d(Ct),{key:0,class:V(d(n).e("icon"))},{default:le(()=>[(N(),Ue(ln(a.icon)))]),_:1},8,["class"])):Te("v-if",!0)],6)),a.$slots.dot?(N(),ee("div",{key:1,class:V(d(n).e("dot"))},[Me(a.$slots,"dot")],2)):Te("v-if",!0),re("div",{class:V(d(n).e("wrapper"))},[!a.hideTimestamp&&a.placement==="top"?(N(),ee("div",{key:0,class:V([d(n).e("timestamp"),d(n).is("top")])},rt(a.timestamp),3)):Te("v-if",!0),re("div",{class:V(d(n).e("content"))},[Me(a.$slots,"default")],2),!a.hideTimestamp&&a.placement==="bottom"?(N(),ee("div",{key:1,class:V([d(n).e("timestamp"),d(n).is("bottom")])},rt(a.timestamp),3)):Te("v-if",!0)],2)],2))}});var E6=st(kre,[["__file","timeline-item.vue"]]);const Dre=qt(Tre,{TimelineItem:E6}),Pre=hr(E6),M6=at({nowrap:Boolean});var T6=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(T6||{});const Bre=Object.values(T6),Z2=at({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:xe(Object),default:null}}),Lre=at({side:{type:xe(String),values:Bre,required:!0}}),Nre=["absolute","fixed"],Fre=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],J2=at({arrowPadding:{type:xe(Number),default:5},effect:{type:xe(String),default:"light"},contentClass:String,placement:{type:xe(String),values:Fre,default:"bottom"},reference:{type:xe(Object),default:null},offset:{type:Number,default:8},strategy:{type:xe(String),values:Nre,default:"absolute"},showArrow:Boolean,...ca(["ariaLabel"])}),eS=at({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:xe(Function)},"onUpdate:open":{type:xe(Function)}}),Hc={type:xe(Function)},tS=at({onBlur:Hc,onClick:Hc,onFocus:Hc,onMouseDown:Hc,onMouseEnter:Hc,onMouseLeave:Hc}),Ore=at({...eS,...Z2,...tS,...J2,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:xe(Object),default:null},teleported:Boolean,to:{type:xe(String),default:"body"}}),Bm=Symbol("tooltipV2"),I6=Symbol("tooltipV2Content"),ng="tooltip_v2.open",zre=he({name:"ElTooltipV2Root"}),Ure=he({...zre,props:eS,setup(t,{expose:e}){const n=t,r=j(n.defaultOpen),a=j(null),o=P({get:()=>yc(n.open)?r.value:n.open,set:y=>{var v;r.value=y,(v=n["onUpdate:open"])==null||v.call(n,y)}}),s=P(()=>Nt(n.delayDuration)&&n.delayDuration>0),{start:i,stop:l}=bc(()=>{o.value=!0},P(()=>n.delayDuration),{immediate:!1}),c=Ze("tooltip-v2"),u=la(),f=()=>{l(),o.value=!0},h=()=>{d(s)?i():f()},p=f,m=()=>{l(),o.value=!1};return Qe(o,y=>{var v;y&&(document.dispatchEvent(new CustomEvent(ng)),p()),(v=n.onOpenChange)==null||v.call(n,y)}),Yt(()=>{document.addEventListener(ng,m)}),Un(()=>{l(),document.removeEventListener(ng,m)}),vn(Bm,{contentId:u,triggerRef:a,ns:c,onClose:m,onDelayOpen:h,onOpen:p}),e({onOpen:p,onClose:m}),(y,v)=>Me(y.$slots,"default",{open:d(o)})}});var Hre=st(Ure,[["__file","root.vue"]]);const $re=he({name:"ElTooltipV2Arrow"}),Vre=he({...$re,props:{...Z2,...Lre},setup(t){const e=t,{ns:n}=St(Bm),{arrowRef:r}=St(I6),a=P(()=>{const{style:o,width:s,height:i}=e,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${s}px`,[`--${l}-tooltip-v2-arrow-height`]:`${i}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${s/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:s/2-1,...o||{}}});return(o,s)=>(N(),ee("span",{ref_key:"arrowRef",ref:r,style:bt(d(a)),class:V(d(n).e("arrow"))},null,6))}});var hC=st(Vre,[["__file","arrow.vue"]]);const Zu=Math.min,mc=Math.max,Lp=Math.round,o0=Math.floor,yl=t=>({x:t,y:t}),Wre={left:"right",right:"left",bottom:"top",top:"bottom"},Gre={start:"end",end:"start"};function ey(t,e,n){return mc(t,Zu(e,n))}function bh(t,e){return typeof t=="function"?t(e):t}function xc(t){return t.split("-")[0]}function Sh(t){return t.split("-")[1]}function R6(t){return t==="x"?"y":"x"}function nS(t){return t==="y"?"height":"width"}function Lm(t){return["top","bottom"].includes(xc(t))?"y":"x"}function rS(t){return R6(Lm(t))}function Kre(t,e,n){n===void 0&&(n=!1);const r=Sh(t),a=rS(t),o=nS(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Np(s)),[s,Np(s)]}function qre(t){const e=Np(t);return[ty(t),e,ty(e)]}function ty(t){return t.replace(/start|end/g,e=>Gre[e])}function jre(t,e,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?a:r:e?r:a;case"left":case"right":return e?o:s;default:return[]}}function Yre(t,e,n,r){const a=Sh(t);let o=jre(xc(t),n==="start",r);return a&&(o=o.map(s=>s+"-"+a),e&&(o=o.concat(o.map(ty)))),o}function Np(t){return t.replace(/left|right|bottom|top/g,e=>Wre[e])}function Xre(t){return{top:0,right:0,bottom:0,left:0,...t}}function k6(t){return typeof t!="number"?Xre(t):{top:t,right:t,bottom:t,left:t}}function Fp(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function pC(t,e,n){let{reference:r,floating:a}=t;const o=Lm(e),s=rS(e),i=nS(s),l=xc(e),c=o==="y",u=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[i]/2-a[i]/2;let p;switch(l){case"top":p={x:u,y:r.y-a.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-a.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Sh(e)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const Qre=async(t,e,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,i=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:u,y:f}=pC(c,r,l),h=r,p={},m=0;for(let g=0;g<i.length;g++){const{name:y,fn:v}=i[g],{x:A,y:w,data:S,reset:C}=await v({x:u,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});if(u=A??u,f=w??f,p={...p,[y]:{...p[y],...S}},C&&m<=50){m++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):C.rects),{x:u,y:f}=pC(c,h,l)),g=-1;continue}}return{x:u,y:f,placement:h,strategy:a,middlewareData:p}};async function aS(t,e){var n;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:s,elements:i,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=bh(e,t),m=k6(p),y=i[h?f==="floating"?"reference":"floating":f],v=Fp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:c,rootBoundary:u,strategy:l})),A=f==="floating"?{...s.floating,x:r,y:a}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Fp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:A,offsetParent:w,strategy:l}):A);return{top:(v.top-C.top+m.top)/S.y,bottom:(C.bottom-v.bottom+m.bottom)/S.y,left:(v.left-C.left+m.left)/S.x,right:(C.right-v.right+m.right)/S.x}}const D6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:a,rects:o,platform:s,elements:i}=e,{element:l,padding:c=0}=bh(t,e)||{};if(l==null)return{};const u=k6(c),f={x:n,y:r},h=rS(a),p=nS(h),m=await s.getDimensions(l),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",A=g?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[h]-f[h]-o.floating[p],S=f[h]-o.reference[h],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let E=C?C[A]:0;(!E||!await(s.isElement==null?void 0:s.isElement(C)))&&(E=i.floating[A]||o.floating[p]);const I=w/2-S/2,k=E/2-m[p]/2-1,T=Zu(u[y],k),M=Zu(u[v],k),D=T,B=E-m[p]-M,z=E/2-m[p]/2+I,q=ey(D,z,B),L=Sh(a)!=null&&z!=q&&o.reference[p]/2-(z<D?T:M)-m[p]/2<0?z<D?D-z:B-z:0;return{[h]:f[h]-L,data:{[h]:q,centerOffset:z-q+L}}}}),Zre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:a,rects:o,initialPlacement:s,platform:i,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=bh(t,e),y=xc(r),v=xc(s)===s,A=await(i.isRTL==null?void 0:i.isRTL(l.floating)),w=f||(v||!m?[Np(s)]:qre(s));!f&&p!=="none"&&w.push(...Yre(s,m,p,A));const S=[s,...w],C=await aS(e,g),E=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(c&&E.push(C[y]),u){const D=Kre(r,o,A);E.push(C[D[0]],C[D[1]])}if(I=[...I,{placement:r,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=a.flip)==null?void 0:k.index)||0)+1,B=S[D];if(B)return{data:{index:D,overflows:I},reset:{placement:B}};let z=(T=I.filter(q=>q.overflows[0]<=0).sort((q,$)=>q.overflows[1]-$.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(h){case"bestFit":{var M;const q=(M=I.map($=>[$.placement,$.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort(($,L)=>$[1]-L[1])[0])==null?void 0:M[0];q&&(z=q);break}case"initialPlacement":z=s;break}if(r!==z)return{reset:{placement:z}}}return{}}}};async function Jre(t,e){const{placement:n,platform:r,elements:a}=t,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=xc(n),i=Sh(n),l=Lm(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=bh(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return i&&typeof m=="number"&&(p=i==="end"?m*-1:m),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const P6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,a=await Jre(e,t);return{x:n+a.x,y:r+a.y,data:a}}}},eae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:a}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:i={fn:y=>{let{x:v,y:A}=y;return{x:v,y:A}}},...l}=bh(t,e),c={x:n,y:r},u=await aS(e,l),f=Lm(xc(a)),h=R6(f);let p=c[h],m=c[f];if(o){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",A=p+u[y],w=p-u[v];p=ey(A,p,w)}if(s){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",A=m+u[y],w=m-u[v];m=ey(A,m,w)}const g=i.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function bl(t){return B6(t)?(t.nodeName||"").toLowerCase():"#document"}function go(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ei(t){var e;return(e=(B6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function B6(t){return t instanceof Node||t instanceof go(t).Node}function yi(t){return t instanceof Element||t instanceof go(t).Element}function Ds(t){return t instanceof HTMLElement||t instanceof go(t).HTMLElement}function mC(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof go(t).ShadowRoot}function _h(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=Vo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(a)}function tae(t){return["table","td","th"].includes(bl(t))}function oS(t){const e=sS(),n=Vo(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nm(t){return["html","body","#document"].includes(bl(t))}function Vo(t){return go(t).getComputedStyle(t)}function Fm(t){return yi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ju(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mC(t)&&t.host||Ei(t);return mC(e)?e.host:e}function L6(t){const e=Ju(t);return Nm(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ds(e)&&_h(e)?e:L6(e)}function Op(t,e){var n;e===void 0&&(e=[]);const r=L6(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),o=go(r);return a?e.concat(o,o.visualViewport||[],_h(r)?r:[]):e.concat(r,Op(r))}function N6(t){const e=Vo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=Ds(t),o=a?t.offsetWidth:n,s=a?t.offsetHeight:r,i=Lp(n)!==o||Lp(r)!==s;return i&&(n=o,r=s),{width:n,height:r,$:i}}function iS(t){return yi(t)?t:t.contextElement}function Iu(t){const e=iS(t);if(!Ds(e))return yl(1);const n=e.getBoundingClientRect(),{width:r,height:a,$:o}=N6(e);let s=(o?Lp(n.width):n.width)/r,i=(o?Lp(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const nae=yl(0);function F6(t){const e=go(t);return!sS()||!e.visualViewport?nae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==go(t)?!1:e}function Cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),o=iS(t);let s=yl(1);e&&(r?yi(r)&&(s=Iu(r)):s=Iu(t));const i=rae(o,n,r)?F6(o):yl(0);let l=(a.left+i.x)/s.x,c=(a.top+i.y)/s.y,u=a.width/s.x,f=a.height/s.y;if(o){const h=go(o),p=r&&yi(r)?go(r):r;let m=h.frameElement;for(;m&&r&&p!==h;){const g=Iu(m),y=m.getBoundingClientRect(),v=Vo(m),A=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,w=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,f*=g.y,l+=A,c+=w,m=go(m).frameElement}}return Fp({width:u,height:f,x:l,y:c})}function aae(t){let{rect:e,offsetParent:n,strategy:r}=t;const a=Ds(n),o=Ei(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},i=yl(1);const l=yl(0);if((a||!a&&r!=="fixed")&&((bl(n)!=="body"||_h(o))&&(s=Fm(n)),Ds(n))){const c=Cc(n);i=Iu(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*i.x,height:e.height*i.y,x:e.x*i.x-s.scrollLeft*i.x+l.x,y:e.y*i.y-s.scrollTop*i.y+l.y}}function oae(t){return Array.from(t.getClientRects())}function O6(t){return Cc(Ei(t)).left+Fm(t).scrollLeft}function sae(t){const e=Ei(t),n=Fm(t),r=t.ownerDocument.body,a=mc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=mc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+O6(t);const i=-n.scrollTop;return Vo(r).direction==="rtl"&&(s+=mc(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:s,y:i}}function iae(t,e){const n=go(t),r=Ei(t),a=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,i=0,l=0;if(a){o=a.width,s=a.height;const c=sS();(!c||c&&e==="fixed")&&(i=a.offsetLeft,l=a.offsetTop)}return{width:o,height:s,x:i,y:l}}function lae(t,e){const n=Cc(t,!0,e==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,o=Ds(t)?Iu(t):yl(1),s=t.clientWidth*o.x,i=t.clientHeight*o.y,l=a*o.x,c=r*o.y;return{width:s,height:i,x:l,y:c}}function vC(t,e,n){let r;if(e==="viewport")r=iae(t,n);else if(e==="document")r=sae(Ei(t));else if(yi(e))r=lae(e,n);else{const a=F6(t);r={...e,x:e.x-a.x,y:e.y-a.y}}return Fp(r)}function z6(t,e){const n=Ju(t);return n===e||!yi(n)||Nm(n)?!1:Vo(n).position==="fixed"||z6(n,e)}function cae(t,e){const n=e.get(t);if(n)return n;let r=Op(t).filter(i=>yi(i)&&bl(i)!=="body"),a=null;const o=Vo(t).position==="fixed";let s=o?Ju(t):t;for(;yi(s)&&!Nm(s);){const i=Vo(s),l=oS(s);!l&&i.position==="fixed"&&(a=null),(o?!l&&!a:!l&&i.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||_h(s)&&!l&&z6(t,s))?r=r.filter(u=>u!==s):a=i,s=Ju(s)}return e.set(t,r),r}function uae(t){let{element:e,boundary:n,rootBoundary:r,strategy:a}=t;const s=[...n==="clippingAncestors"?cae(e,this._c):[].concat(n),r],i=s[0],l=s.reduce((c,u)=>{const f=vC(e,u,a);return c.top=mc(f.top,c.top),c.right=Zu(f.right,c.right),c.bottom=Zu(f.bottom,c.bottom),c.left=mc(f.left,c.left),c},vC(e,i,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dae(t){return N6(t)}function fae(t,e,n){const r=Ds(e),a=Ei(e),o=n==="fixed",s=Cc(t,!0,o,e);let i={scrollLeft:0,scrollTop:0};const l=yl(0);if(r||!r&&!o)if((bl(e)!=="body"||_h(a))&&(i=Fm(e)),r){const c=Cc(e,!0,o,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else a&&(l.x=O6(a));return{x:s.left+i.scrollLeft-l.x,y:s.top+i.scrollTop-l.y,width:s.width,height:s.height}}function gC(t,e){return!Ds(t)||Vo(t).position==="fixed"?null:e?e(t):t.offsetParent}function hae(t){let e=Ju(t);for(;Ds(e)&&!Nm(e);){if(oS(e))return e;e=Ju(e)}return null}function U6(t,e){const n=go(t);if(!Ds(t))return n;let r=gC(t,e);for(;r&&tae(r)&&Vo(r).position==="static";)r=gC(r,e);return r&&(bl(r)==="html"||bl(r)==="body"&&Vo(r).position==="static"&&!oS(r))?n:r||hae(t)||n}const pae=async function(t){let{reference:e,floating:n,strategy:r}=t;const a=this.getOffsetParent||U6,o=this.getDimensions;return{reference:fae(e,await a(n),r),floating:{x:0,y:0,...await o(n)}}};function mae(t){return Vo(t).direction==="rtl"}const vae={convertOffsetParentRelativeRectToViewportRelativeRect:aae,getDocumentElement:Ei,getClippingRect:uae,getOffsetParent:U6,getElementRects:pae,getClientRects:oae,getDimensions:dae,getScale:Iu,isElement:yi,isRTL:mae};function gae(t,e){let n=null,r;const a=Ei(t);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function s(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:f,height:h}=t.getBoundingClientRect();if(i||e(),!f||!h)return;const p=o0(u),m=o0(a.clientWidth-(c+f)),g=o0(a.clientHeight-(u+h)),y=o0(c),A={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:mc(0,Zu(1,l))||1};let w=!0;function S(C){const E=C[0].intersectionRatio;if(E!==l){if(!w)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(S,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,A)}n.observe(t)}return s(!0),o}function yae(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=iS(t),u=a||o?[...c?Op(c):[],...Op(e)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=c&&i?gae(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[A]=v;A&&A.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{p&&p.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Cc(t):null;l&&y();function y(){const v=Cc(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,m=requestAnimationFrame(y)}return n(),()=>{u.forEach(v=>{a&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f&&f(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const H6=(t,e,n)=>{const r=new Map,a={platform:vae,...n},o={...a.platform,_c:r};return Qre(t,e,{...a,platform:o})},bae=at({style:{type:xe([String,Object,Array]),default:()=>({})}}),Sae=he({name:"ElVisuallyHidden"}),_ae=he({...Sae,props:bae,setup(t){const e=t,n=P(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,a)=>(N(),ee("span",un(r.$attrs,{style:d(n)}),[Me(r.$slots,"default")],16))}});var wae=st(_ae,[["__file","visual-hidden.vue"]]);at({});const xae=t=>{if(!Sn)return;if(!t)return t;const e=za(t);return e||(jn(t)?e:t)},Cae=({middleware:t,placement:e,strategy:n})=>{const r=j(),a=j(),o=j(),s=j(),i=j({}),l={x:o,y:s,placement:e,strategy:n,middlewareData:i},c=async()=>{if(!Sn)return;const u=xae(r),f=za(a);if(!u||!f)return;const h=await H6(u,f,{placement:d(e),strategy:d(n),middleware:d(t)});$u(l).forEach(p=>{l[p].value=h[p]})};return Yt(()=>{ga(()=>{c()})}),{...l,update:c,referenceRef:r,contentRef:a}},Aae=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const r=d(t);return r?D6({element:r,padding:e}).fn(n):{}}}),Eae=he({name:"ElTooltipV2Content"}),Mae=he({...Eae,props:{...J2,...M6},setup(t){const e=t,{triggerRef:n,contentId:r}=St(Bm),a=j(e.placement),o=j(e.strategy),s=j(null),{referenceRef:i,contentRef:l,middlewareData:c,x:u,y:f,update:h}=Cae({placement:a,strategy:o,middleware:P(()=>{const w=[P6(e.offset)];return e.showArrow&&w.push(Aae({arrowRef:s})),w})}),p=bd().nextZIndex(),m=Ze("tooltip-v2"),g=P(()=>a.value.split("-")[0]),y=P(()=>({position:d(o),top:`${d(f)||0}px`,left:`${d(u)||0}px`,zIndex:p})),v=P(()=>{if(!e.showArrow)return{};const{arrow:w}=d(c);return{[`--${m.namespace.value}-tooltip-v2-arrow-x`]:`${w==null?void 0:w.x}px`||"",[`--${m.namespace.value}-tooltip-v2-arrow-y`]:`${w==null?void 0:w.y}px`||""}}),A=P(()=>[m.e("content"),m.is("dark",e.effect==="dark"),m.is(d(o)),e.contentClass]);return Qe(s,()=>h()),Qe(()=>e.placement,w=>a.value=w),Yt(()=>{Qe(()=>e.reference||n.value,w=>{i.value=w||void 0},{immediate:!0})}),vn(I6,{arrowRef:s}),(w,S)=>(N(),ee("div",{ref_key:"contentRef",ref:l,style:bt(d(y)),"data-tooltip-v2-root":""},[w.nowrap?Te("v-if",!0):(N(),ee("div",{key:0,"data-side":d(g),class:V(d(A))},[Me(w.$slots,"default",{contentStyle:d(y),contentClass:d(A)}),J(d(wae),{id:d(r),role:"tooltip"},{default:le(()=>[w.ariaLabel?(N(),ee(Et,{key:0},[Zt(rt(w.ariaLabel),1)],64)):Me(w.$slots,"default",{key:1})]),_:3},8,["id"]),Me(w.$slots,"arrow",{style:bt(d(v)),side:d(g)})],10,["data-side"]))],4))}});var yC=st(Mae,[["__file","content.vue"]]);const Tae=at({setRef:{type:xe(Function),required:!0},onlyChild:Boolean});var Iae=he({props:Tae,setup(t,{slots:e}){const n=j(),r=Im(n,a=>{a?t.setRef(a.nextElementSibling):t.setRef(null)});return()=>{var a;const[o]=((a=e.default)==null?void 0:a.call(e))||[],s=t.onlyChild?nW(o.children):o.children;return J(Et,{ref:r},[s])}}});const Rae=he({name:"ElTooltipV2Trigger"}),kae=he({...Rae,props:{...M6,...tS},setup(t){const e=t,{onClose:n,onOpen:r,onDelayOpen:a,triggerRef:o,contentId:s}=St(Bm);let i=!1;const l=A=>{o.value=A},c=()=>{i=!1},u=br(e.onMouseEnter,a),f=br(e.onMouseLeave,n),h=br(e.onMouseDown,()=>{n(),i=!0,document.addEventListener("mouseup",c,{once:!0})}),p=br(e.onFocus,()=>{i||r()}),m=br(e.onBlur,n),g=br(e.onClick,A=>{A.detail===0&&n()}),y={blur:m,click:g,focus:p,mousedown:h,mouseenter:u,mouseleave:f},v=(A,w,S)=>{A&&Object.entries(w).forEach(([C,E])=>{A[S](C,E)})};return Qe(o,(A,w)=>{v(A,y,"addEventListener"),v(w,y,"removeEventListener"),A&&A.setAttribute("aria-describedby",s.value)}),Un(()=>{v(o.value,y,"removeEventListener"),document.removeEventListener("mouseup",c)}),(A,w)=>A.nowrap?(N(),Ue(d(Iae),{key:0,"set-ref":l,"only-child":""},{default:le(()=>[Me(A.$slots,"default")]),_:3})):(N(),ee("button",un({key:1,ref_key:"triggerRef",ref:o},A.$attrs),[Me(A.$slots,"default")],16))}});var Dae=st(kae,[["__file","trigger.vue"]]);const Pae=he({name:"ElTooltipV2"}),Bae=he({...Pae,props:Ore,setup(t){const n=jr(t),r=Mn(as(n,Object.keys(Z2))),a=Mn(as(n,Object.keys(J2))),o=Mn(as(n,Object.keys(eS))),s=Mn(as(n,Object.keys(tS)));return(i,l)=>(N(),Ue(Hre,ns(ul(o)),{default:le(({open:c})=>[J(Dae,un(s,{nowrap:""}),{default:le(()=>[Me(i.$slots,"trigger")]),_:3},16),J(d(wd),{to:i.to,disabled:!i.teleported},{default:le(()=>[i.fullTransition?(N(),Ue(Vr,ns(un({key:0},i.transitionProps)),{default:le(()=>[i.alwaysOn||c?(N(),Ue(yC,ns(un({key:0},a)),{arrow:le(({style:u,side:f})=>[i.showArrow?(N(),Ue(hC,un({key:0},r,{style:u,side:f}),null,16,["style","side"])):Te("v-if",!0)]),default:le(()=>[Me(i.$slots,"default")]),_:3},16)):Te("v-if",!0)]),_:2},1040)):(N(),ee(Et,{key:1},[i.alwaysOn||c?(N(),Ue(yC,ns(un({key:0},a)),{arrow:le(({style:u,side:f})=>[i.showArrow?(N(),Ue(hC,un({key:0},r,{style:u,side:f}),null,16,["style","side"])):Te("v-if",!0)]),default:le(()=>[Me(i.$slots,"default")]),_:3},16)):Te("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var Lae=st(Bae,[["__file","tooltip.vue"]]);const Nae=qt(Lae),$6="left-check-change",V6="right-check-change",fu=at({data:{type:xe(Array),default:()=>[]},titles:{type:xe(Array),default:()=>[]},buttonTexts:{type:xe(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:xe(Function)},leftDefaultChecked:{type:xe(Array),default:()=>[]},rightDefaultChecked:{type:xe(Array),default:()=>[]},renderContent:{type:xe(Function)},modelValue:{type:xe(Array),default:()=>[]},format:{type:xe(Object),default:()=>({})},filterable:Boolean,props:{type:xe(Object),default:()=>fr({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),ny=(t,e)=>[t,e].every(nt)||nt(t)&&qr(e),Fae={[Fn]:(t,e,n)=>[t,n].every(nt)&&["left","right"].includes(e),[Jt]:t=>nt(t),[$6]:ny,[V6]:ny},ry="checked-change",Oae=at({data:fu.data,optionRender:{type:xe(Function)},placeholder:String,title:String,filterable:Boolean,format:fu.format,filterMethod:fu.filterMethod,defaultChecked:fu.leftDefaultChecked,props:fu.props}),zae={[ry]:ny},wh=t=>{const e={label:"label",key:"key",disabled:"disabled"};return P(()=>({...e,...t.props}))},Uae=(t,e,n)=>{const r=wh(t),a=P(()=>t.data.filter(u=>Pt(t.filterMethod)?t.filterMethod(e.query,u):String(u[r.value.label]||u[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),o=P(()=>a.value.filter(u=>!u[r.value.disabled])),s=P(()=>{const u=e.checked.length,f=t.data.length,{noChecked:h,hasChecked:p}=t.format;return h&&p?u>0?p.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,f.toString()):h.replace(/\${total}/g,f.toString()):`${u}/${f}`}),i=P(()=>{const u=e.checked.length;return u>0&&u<o.value.length}),l=()=>{const u=o.value.map(f=>f[r.value.key]);e.allChecked=u.length>0&&u.every(f=>e.checked.includes(f))},c=u=>{e.checked=u?o.value.map(f=>f[r.value.key]):[]};return Qe(()=>e.checked,(u,f)=>{if(l(),e.checkChangeByUser){const h=u.concat(f).filter(p=>!u.includes(p)||!f.includes(p));n(ry,u,h)}else n(ry,u),e.checkChangeByUser=!0}),Qe(o,()=>{l()}),Qe(()=>t.data,()=>{const u=[],f=a.value.map(h=>h[r.value.key]);e.checked.forEach(h=>{f.includes(h)&&u.push(h)}),e.checkChangeByUser=!1,e.checked=u}),Qe(()=>t.defaultChecked,(u,f)=>{if(f&&u.length===f.length&&u.every(m=>f.includes(m)))return;const h=[],p=o.value.map(m=>m[r.value.key]);u.forEach(m=>{p.includes(m)&&h.push(m)}),e.checkChangeByUser=!1,e.checked=h},{immediate:!0}),{filteredData:a,checkableData:o,checkedSummary:s,isIndeterminate:i,updateAllChecked:l,handleAllCheckedChange:c}},Hae=he({name:"ElTransferPanel"}),$ae=he({...Hae,props:Oae,emits:zae,setup(t,{expose:e,emit:n}){const r=t,a=zr(),o=({option:w})=>w,{t:s}=_n(),i=Ze("transfer"),l=Mn({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=wh(r),{filteredData:u,checkedSummary:f,isIndeterminate:h,handleAllCheckedChange:p}=Uae(r,l,n),m=P(()=>!fo(l.query)&&fo(u.value)),g=P(()=>!fo(a.default()[0].children)),{checked:y,allChecked:v,query:A}=jr(l);return e({query:A}),(w,S)=>(N(),ee("div",{class:V(d(i).b("panel"))},[re("p",{class:V(d(i).be("panel","header"))},[J(d($o),{modelValue:d(v),"onUpdate:modelValue":C=>jn(v)?v.value=C:null,indeterminate:d(h),"validate-event":!1,onChange:d(p)},{default:le(()=>[Zt(rt(w.title)+" ",1),re("span",null,rt(d(f)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),re("div",{class:V([d(i).be("panel","body"),d(i).is("with-footer",d(g))])},[w.filterable?(N(),Ue(d(ka),{key:0,modelValue:d(A),"onUpdate:modelValue":C=>jn(A)?A.value=C:null,class:V(d(i).be("panel","filter")),size:"default",placeholder:w.placeholder,"prefix-icon":d(mz),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Te("v-if",!0),Qt(J(d(gT),{modelValue:d(y),"onUpdate:modelValue":C=>jn(y)?y.value=C:null,"validate-event":!1,class:V([d(i).is("filterable",w.filterable),d(i).be("panel","list")])},{default:le(()=>[(N(!0),ee(Et,null,fn(d(u),C=>(N(),Ue(d($o),{key:C[d(c).key],class:V(d(i).be("panel","item")),value:C[d(c).key],disabled:C[d(c).disabled],"validate-event":!1},{default:le(()=>{var E;return[J(o,{option:(E=w.optionRender)==null?void 0:E.call(w,C)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[En,!d(m)&&!d(fo)(w.data)]]),Qt(re("div",{class:V(d(i).be("panel","empty"))},[Me(w.$slots,"empty",{},()=>[Zt(rt(d(m)?d(s)("el.transfer.noMatch"):d(s)("el.transfer.noData")),1)])],2),[[En,d(m)||d(fo)(w.data)]])],2),d(g)?(N(),ee("p",{key:0,class:V(d(i).be("panel","footer"))},[Me(w.$slots,"default")],2)):Te("v-if",!0)],2))}});var bC=st($ae,[["__file","transfer-panel.vue"]]);const Vae=t=>{const e=wh(t),n=P(()=>t.data.reduce((o,s)=>(o[s[e.value.key]]=s)&&o,{})),r=P(()=>t.data.filter(o=>!t.modelValue.includes(o[e.value.key]))),a=P(()=>t.targetOrder==="original"?t.data.filter(o=>t.modelValue.includes(o[e.value.key])):t.modelValue.reduce((o,s)=>{const i=n.value[s];return i&&o.push(i),o},[]));return{sourceData:r,targetData:a}},Wae=(t,e,n)=>{const r=wh(t),a=(i,l,c)=>{n(Jt,i),n(Fn,i,l,c)};return{addToLeft:()=>{const i=t.modelValue.slice();e.rightChecked.forEach(l=>{const c=i.indexOf(l);c>-1&&i.splice(c,1)}),a(i,"left",e.rightChecked)},addToRight:()=>{let i=t.modelValue.slice();const l=t.data.filter(c=>{const u=c[r.value.key];return e.leftChecked.includes(u)&&!t.modelValue.includes(u)}).map(c=>c[r.value.key]);i=t.targetOrder==="unshift"?l.concat(i):i.concat(l),t.targetOrder==="original"&&(i=t.data.filter(c=>i.includes(c[r.value.key])).map(c=>c[r.value.key])),a(i,"right",e.leftChecked)}}},Gae=(t,e)=>({onSourceCheckedChange:(a,o)=>{t.leftChecked=a,o&&e($6,a,o)},onTargetCheckedChange:(a,o)=>{t.rightChecked=a,o&&e(V6,a,o)}}),Kae=he({name:"ElTransfer"}),qae=he({...Kae,props:fu,emits:Fae,setup(t,{expose:e,emit:n}){const r=t,a=zr(),{t:o}=_n(),s=Ze("transfer"),{formItem:i}=_a(),l=Mn({leftChecked:[],rightChecked:[]}),c=wh(r),{sourceData:u,targetData:f}=Vae(r),{onSourceCheckedChange:h,onTargetCheckedChange:p}=Gae(l,n),{addToLeft:m,addToRight:g}=Wae(r,l,n),y=j(),v=j(),A=k=>{switch(k){case"left":y.value.query="";break;case"right":v.value.query="";break}},w=P(()=>r.buttonTexts.length===2),S=P(()=>r.titles[0]||o("el.transfer.titles.0")),C=P(()=>r.titles[1]||o("el.transfer.titles.1")),E=P(()=>r.filterPlaceholder||o("el.transfer.filterPlaceholder"));Qe(()=>r.modelValue,()=>{var k;r.validateEvent&&((k=i==null?void 0:i.validate)==null||k.call(i,"change").catch(T=>void 0))});const I=P(()=>k=>{var T;if(r.renderContent)return r.renderContent(Lt,k);const M=(((T=a.default)==null?void 0:T.call(a,{option:k}))||[]).filter(D=>D.type!==Da);return M.length?M:Lt("span",k[c.value.label]||k[c.value.key])});return e({clearQuery:A,leftPanel:y,rightPanel:v}),(k,T)=>(N(),ee("div",{class:V(d(s).b())},[J(bC,{ref_key:"leftPanel",ref:y,data:d(u),"option-render":d(I),placeholder:d(E),title:d(S),filterable:k.filterable,format:k.format,"filter-method":k.filterMethod,"default-checked":k.leftDefaultChecked,props:r.props,onCheckedChange:d(h)},{empty:le(()=>[Me(k.$slots,"left-empty")]),default:le(()=>[Me(k.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),re("div",{class:V(d(s).e("buttons"))},[J(d(Jr),{type:"primary",class:V([d(s).e("button"),d(s).is("with-texts",d(w))]),disabled:d(fo)(l.rightChecked),onClick:d(m)},{default:le(()=>[J(d(Ct),null,{default:le(()=>[J(d(pl))]),_:1}),d(Bn)(k.buttonTexts[0])?Te("v-if",!0):(N(),ee("span",{key:0},rt(k.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),J(d(Jr),{type:"primary",class:V([d(s).e("button"),d(s).is("with-texts",d(w))]),disabled:d(fo)(l.leftChecked),onClick:d(g)},{default:le(()=>[d(Bn)(k.buttonTexts[1])?Te("v-if",!0):(N(),ee("span",{key:0},rt(k.buttonTexts[1]),1)),J(d(Ct),null,{default:le(()=>[J(d(Ha))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),J(bC,{ref_key:"rightPanel",ref:v,data:d(f),"option-render":d(I),placeholder:d(E),filterable:k.filterable,format:k.format,"filter-method":k.filterMethod,title:d(C),"default-checked":k.rightDefaultChecked,props:r.props,onCheckedChange:d(p)},{empty:le(()=>[Me(k.$slots,"right-empty")]),default:le(()=>[Me(k.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var jae=st(qae,[["__file","transfer.vue"]]);const Yae=qt(jae),Ru="$treeNodeId",SC=function(t,e){!e||e[Ru]||Object.defineProperty(e,Ru,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},lS=function(t,e){return t?e[t]:e[Ru]},ay=(t,e,n)=>{const r=t.value.currentNode;n();const a=t.value.currentNode;r!==a&&e("current-change",a?a.data:null,a)},oy=t=>{let e=!0,n=!0,r=!0;for(let a=0,o=t.length;a<o;a++){const s=t[a];(s.checked!==!0||s.indeterminate)&&(e=!1,s.disabled||(r=!1)),(s.checked!==!1||s.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n}},Yd=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:r}=oy(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const a=t.parent;!a||a.level===0||t.store.checkStrictly||Yd(a)},s0=function(t,e){const n=t.store.props,r=t.data||{},a=n[e];if(Pt(a))return a(r,t);if(Mt(a))return r[a];if(Bn(a)){const o=r[e];return o===void 0?"":o}};let Xae=0,sy=class ep{constructor(e){this.id=Xae++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)xn(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const o=s0(this,"isLeaf");Kn(o)&&(this.isLeafByUser=o)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),nt(this.data)||SC(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,a=e.key;a&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),a&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){nt(e)||SC(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&nt(this.data)?n=this.data:n=s0(this,"children")||[];for(let r=0,a=n.length;r<a;r++)this.insertChild({data:n[r]})}get label(){return s0(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return s0(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof ep)){if(!r){const a=this.getChildren(!0);a.includes(e.data)||(Bn(n)||n<0?a.push(e.data):a.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=Mn(new ep(e)),e instanceof ep&&e.initialize()}e.level=this.level+1,Bn(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const a=this.childNodes.indexOf(e);a>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{nt(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Yd(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,r,a){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:i}=oy(this.childNodes);!this.isLeaf&&!s&&i&&(this.checked=!1,e=!1);const l=()=>{if(n){const c=this.childNodes;for(let h=0,p=c.length;h<p;h++){const m=c[h];a=a||e!==!1;const g=m.disabled?m.checked:a;m.setChecked(g,n,!0,a)}const{half:u,all:f}=oy(c);f||(this.checked=f,this.indeterminate=u)}};if(this.shouldLoadData()){this.loadData(()=>{l(),Yd(this)},{checked:e!==!1});return}else l()}const o=this.parent;!o||o.level===0||r||Yd(o)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let a="children";return r&&(a=r.children||"children"),n[a]===void 0&&(n[a]=null),e&&!n[a]&&(n[a]=[]),n[a]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},a=[];e.forEach((o,s)=>{const i=o[Ru];!!i&&n.findIndex(c=>c[Ru]===i)>=0?r[i]={index:s,data:o}:a.push({index:s,data:o})}),this.store.lazy||n.forEach(o=>{r[o[Ru]]||this.removeChildByData(o)}),a.forEach(({index:o,data:s})=>{this.insertChild({data:s},o)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,o)},a=()=>{this.loading=!1};this.store.load(this,r,a)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||Yd(this)}};class Qae{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)xn(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new sy({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,a=function(o){const s=o.root?o.root.childNodes:o.childNodes;if(s.forEach(i=>{i.visible=n.call(i,e,i.data,i),a(i)}),!o.visible&&s.length){let i=!0;i=!s.some(l=>l.visible),o.root?o.root.visible=i===!1:o.visible=i===!1}e&&o.visible&&!o.isLeaf&&(!r||o.loaded)&&o.expand()};a(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof sy)return e;const n=tn(e)?lS(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const r=this.getNode(n);r.parent.insertBefore({data:e},r)}insertAfter(e,n){const r=this.getNode(n);r.parent.insertAfter({data:e},r)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=yc(n)?this.root:this.getNode(n);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const a=n[r];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],a=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(i=>{(i.checked||n&&i.indeterminate)&&(!e||e&&i.isLeaf)&&r.push(i.data),a(i)})};return a(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),n(o)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)xn(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const a=r.childNodes;for(let o=a.length-1;o>=0;o--){const s=a[o];this.remove(s.data)}for(let o=0,s=n.length;o<s;o++){const i=n[o];this.append(i,r.data)}}_setCheckedKeys(e,n=!1,r){const a=this._getAllNodes().sort((l,c)=>l.level-c.level),o=Object.create(null),s=Object.keys(r);a.forEach(l=>l.setChecked(!1,!1));const i=l=>{l.childNodes.forEach(c=>{var u;o[c.data[e]]=!0,(u=c.childNodes)!=null&&u.length&&i(c)})};for(let l=0,c=a.length;l<c;l++){const u=a[l],f=u.data[e].toString();if(!s.includes(f)){u.checked&&!o[f]&&u.setChecked(!1,!1);continue}if(u.childNodes.length&&i(u),u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),n){u.setChecked(!1,!1);const p=function(m){m.childNodes.forEach(y=>{y.isLeaf||y.setChecked(!1,!1),p(y)})};p(u)}}}setCheckedNodes(e,n=!1){const r=this.key,a={};e.forEach(o=>{a[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,a)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,a={};e.forEach(o=>{a[o]=!0}),this._setCheckedKeys(r,n,a)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const a=this.getNode(e);a&&a.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const r=e[this.key],a=this.nodesMap[r];this.setCurrentNode(a),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(this.currentNodeKey=e,e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Zae=he({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Ze("tree"),n=St("NodeInstance"),r=St("RootTree");return()=>{const a=t.node,{data:o,store:s}=a;return t.renderContent?t.renderContent(Lt,{_self:n,node:a,data:o,store:s}):Me(r.ctx.slots,"default",{node:a,data:o},()=>[Lt("span",{class:e.be("node","label")},[a.label])])}}});var Jae=st(Zae,[["__file","tree-node-content.vue"]]);function W6(t){const e=St("TreeNodeMap",null),n={treeNodeExpand:r=>{t.node!==r&&t.node.collapse()},children:[]};return e&&e.children.push(n),vn("TreeNodeMap",n),{broadcastExpanded:r=>{if(t.accordion)for(const a of n.children)a.treeNodeExpand(r)}}}const G6=Symbol("dragEvents");function eoe({props:t,ctx:e,el$:n,dropIndicator$:r,store:a}){const o=Ze("tree"),s=j({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return vn(G6,{treeNodeDragStart:({event:u,treeNode:f})=>{if(Pt(t.allowDrag)&&!t.allowDrag(f.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=f,e.emit("node-drag-start",f.node,u)},treeNodeDragOver:({event:u,treeNode:f})=>{const h=f,p=s.value.dropNode;p&&p.node.id!==h.node.id&&Pa(p.$el,o.is("drop-inner"));const m=s.value.draggingNode;if(!m||!h)return;let g=!0,y=!0,v=!0,A=!0;Pt(t.allowDrop)&&(g=t.allowDrop(m.node,h.node,"prev"),A=y=t.allowDrop(m.node,h.node,"inner"),v=t.allowDrop(m.node,h.node,"next")),u.dataTransfer.dropEffect=y||g||v?"move":"none",(g||y||v)&&(p==null?void 0:p.node.id)!==h.node.id&&(p&&e.emit("node-drag-leave",m.node,p.node,u),e.emit("node-drag-enter",m.node,h.node,u)),g||y||v?s.value.dropNode=h:s.value.dropNode=null,h.node.nextSibling===m.node&&(v=!1),h.node.previousSibling===m.node&&(g=!1),h.node.contains(m.node,!1)&&(y=!1),(m.node===h.node||m.node.contains(h.node))&&(g=!1,y=!1,v=!1);const w=h.$el.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),S=n.value.getBoundingClientRect();let C;const E=g?y?.25:v?.45:1:-1,I=v?y?.75:g?.55:0:1;let k=-9999;const T=u.clientY-w.top;T<w.height*E?C="before":T>w.height*I?C="after":y?C="inner":C="none";const M=h.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),D=r.value;C==="before"?k=M.top-S.top:C==="after"&&(k=M.bottom-S.top),D.style.top=`${k}px`,D.style.left=`${M.right-S.left}px`,C==="inner"?Do(h.$el,o.is("drop-inner")):Pa(h.$el,o.is("drop-inner")),s.value.showDropIndicator=C==="before"||C==="after",s.value.allowDrop=s.value.showDropIndicator||A,s.value.dropType=C,e.emit("node-drag-over",m.node,h.node,u)},treeNodeDragEnd:u=>{const{draggingNode:f,dropType:h,dropNode:p}=s.value;if(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="move"),f&&p){const m={data:f.node.data};h!=="none"&&f.node.remove(),h==="before"?p.node.parent.insertBefore(m,p.node):h==="after"?p.node.parent.insertAfter(m,p.node):h==="inner"&&p.node.insertChild(m),h!=="none"&&(a.value.registerNode(m),a.value.key&&f.node.eachNode(g=>{var y;(y=a.value.nodesMap[g.data[a.value.key]])==null||y.setChecked(g.checked,!a.value.checkStrictly)})),Pa(p.$el,o.is("drop-inner")),e.emit("node-drag-end",f.node,p.node,h,u),h!=="none"&&e.emit("node-drop",f.node,p.node,h,u)}f&&!p&&e.emit("node-drag-end",f.node,null,h,u),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const toe=he({name:"ElTreeNode",components:{ElCollapseTransition:Mm,ElCheckbox:$o,NodeContent:Jae,ElIcon:Ct,Loading:Is},props:{node:{type:sy,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Ze("tree"),{broadcastExpanded:r}=W6(t),a=St("RootTree"),o=j(!1),s=j(!1),i=j(null),l=j(null),c=j(null),u=St(G6),f=nn();vn("NodeInstance",f),t.node.expanded&&(o.value=!0,s.value=!0);const h=a.props.props.children||"children";Qe(()=>{const T=t.node.data[h];return T&&[...T]},()=>{t.node.updateChildren()}),Qe(()=>t.node.indeterminate,T=>{g(t.node.checked,T)}),Qe(()=>t.node.checked,T=>{g(T,t.node.indeterminate)}),Qe(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Qe(()=>t.node.expanded,T=>{Bt(()=>o.value=T),T&&(s.value=!0)});const p=T=>lS(a.props.nodeKey,T.data),m=T=>{const M=t.props.class;if(!M)return{};let D;if(Pt(M)){const{data:B}=T;D=M(B,T)}else D=M;return Mt(D)?{[D]:!0}:D},g=(T,M)=>{(i.value!==T||l.value!==M)&&a.ctx.emit("check-change",t.node.data,T,M),i.value=T,l.value=M},y=T=>{ay(a.store,a.ctx.emit,()=>{var M;if((M=a==null?void 0:a.props)==null?void 0:M.nodeKey){const B=p(t.node);a.store.value.setCurrentNodeKey(B)}else a.store.value.setCurrentNode(t.node)}),a.currentNode.value=t.node,a.props.expandOnClickNode&&A(),a.props.checkOnClickNode&&!t.node.disabled&&w(null,{target:{checked:!t.node.checked}}),a.ctx.emit("node-click",t.node.data,t.node,f,T)},v=T=>{a.instance.vnode.props.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),a.ctx.emit("node-contextmenu",T,t.node.data,t.node,f)},A=()=>{t.node.isLeaf||(o.value?(a.ctx.emit("node-collapse",t.node.data,t.node,f),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,f)}))},w=(T,M)=>{t.node.setChecked(M.target.checked,!a.props.checkStrictly),Bt(()=>{const D=a.store.value;a.ctx.emit("check",t.node.data,{checkedNodes:D.getCheckedNodes(),checkedKeys:D.getCheckedKeys(),halfCheckedNodes:D.getHalfCheckedNodes(),halfCheckedKeys:D.getHalfCheckedKeys()})})};return{ns:n,node$:c,tree:a,expanded:o,childNodeRendered:s,oldChecked:i,oldIndeterminate:l,getNodeKey:p,getNodeClass:m,handleSelectChange:g,handleClick:y,handleContextMenu:v,handleExpandIconClick:A,handleCheckChange:w,handleChildNodeExpand:(T,M,D)=>{r(M),a.ctx.emit("node-expand",T,M,D)},handleDragStart:T=>{a.props.draggable&&u.treeNodeDragStart({event:T,treeNode:t})},handleDragOver:T=>{T.preventDefault(),a.props.draggable&&u.treeNodeDragOver({event:T,treeNode:{$el:c.value,node:t.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{a.props.draggable&&u.treeNodeDragEnd(T)},CaretRight:gM}}});function noe(t,e,n,r,a,o){const s=ct("el-icon"),i=ct("el-checkbox"),l=ct("loading"),c=ct("node-content"),u=ct("el-tree-node"),f=ct("el-collapse-transition");return Qt((N(),ee("div",{ref:"node$",class:V([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:zt(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:zt(t.handleDragStart,["stop"]),onDragover:zt(t.handleDragOver,["stop"]),onDragend:zt(t.handleDragEnd,["stop"]),onDrop:zt(t.handleDrop,["stop"])},[re("div",{class:V(t.ns.be("node","content")),style:bt({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(N(),Ue(s,{key:0,class:V([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:zt(t.handleExpandIconClick,["stop"])},{default:le(()=>[(N(),Ue(ln(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):Te("v-if",!0),t.showCheckbox?(N(),Ue(i,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:zt(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Te("v-if",!0),t.node.loading?(N(),Ue(s,{key:2,class:V([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:le(()=>[J(l)]),_:1},8,["class"])):Te("v-if",!0),J(c,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),J(f,null,{default:le(()=>[!t.renderAfterExpand||t.childNodeRendered?Qt((N(),ee("div",{key:0,class:V(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(N(!0),ee(Et,null,fn(t.node.childNodes,h=>(N(),Ue(u,{key:t.getNodeKey(h),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:h,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[En,t.expanded]]):Te("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[En,t.node.visible]])}var roe=st(toe,[["render",noe],["__file","tree-node.vue"]]);function aoe({el$:t},e){const n=Ze("tree"),r=Xn([]),a=Xn([]);Yt(()=>{s()}),Fs(()=>{r.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Qe(a,i=>{i.forEach(l=>{l.setAttribute("tabindex","-1")})}),Ln(t,"keydown",i=>{const l=i.target;if(!l.className.includes(n.b("node")))return;const c=i.code;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const u=r.value.indexOf(l);let f;if([mt.up,mt.down].includes(c)){if(i.preventDefault(),c===mt.up){f=u===-1?0:u!==0?u-1:r.value.length-1;const p=f;for(;!e.value.getNode(r.value[f].dataset.key).canFocus;){if(f--,f===p){f=-1;break}f<0&&(f=r.value.length-1)}}else{f=u===-1?0:u<r.value.length-1?u+1:0;const p=f;for(;!e.value.getNode(r.value[f].dataset.key).canFocus;){if(f++,f===p){f=-1;break}f>=r.value.length&&(f=0)}}f!==-1&&r.value[f].focus()}[mt.left,mt.right].includes(c)&&(i.preventDefault(),l.click());const h=l.querySelector('[type="checkbox"]');[mt.enter,mt.numpadEnter,mt.space].includes(c)&&h&&(i.preventDefault(),h.click())});const s=()=>{var i;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),a.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(i=r.value[0])==null||i.setAttribute("tabindex","0")}}const ooe=he({name:"ElTree",components:{ElTreeNode:roe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:On}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=_n(),r=Ze("tree"),a=St(Cd,null),o=j(new Qae({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));o.value.initialize();const s=j(o.value.root),i=j(null),l=j(null),c=j(null),{broadcastExpanded:u}=W6(t),{dragState:f}=eoe({props:t,ctx:e,el$:l,dropIndicator$:c,store:o});aoe({el$:l},o);const h=P(()=>{const{childNodes:U}=s.value,F=a?a.hasFilteredOptions!==0:!1;return(!U||U.length===0||U.every(({visible:Q})=>!Q))&&!F});Qe(()=>t.currentNodeKey,U=>{o.value.setCurrentNodeKey(U)}),Qe(()=>t.defaultCheckedKeys,U=>{o.value.setDefaultCheckedKey(U)}),Qe(()=>t.defaultExpandedKeys,U=>{o.value.setDefaultExpandedKeys(U)}),Qe(()=>t.data,U=>{o.value.setData(U)},{deep:!0}),Qe(()=>t.checkStrictly,U=>{o.value.checkStrictly=U});const p=U=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(U)},m=U=>lS(t.nodeKey,U.data),g=U=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const F=o.value.getNode(U);if(!F)return[];const Q=[F.data];let ne=F.parent;for(;ne&&ne!==s.value;)Q.push(ne.data),ne=ne.parent;return Q.reverse()},y=(U,F)=>o.value.getCheckedNodes(U,F),v=U=>o.value.getCheckedKeys(U),A=()=>{const U=o.value.getCurrentNode();return U?U.data:null},w=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const U=A();return U?U[t.nodeKey]:null},S=(U,F)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(U,F)},C=(U,F)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(U,F)},E=(U,F,Q)=>{o.value.setChecked(U,F,Q)},I=()=>o.value.getHalfCheckedNodes(),k=()=>o.value.getHalfCheckedKeys(),T=(U,F=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");ay(o,e.emit,()=>{u(U),o.value.setUserCurrentNode(U,F)})},M=(U,F=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");ay(o,e.emit,()=>{u(),o.value.setCurrentNodeKey(U,F)})},D=U=>o.value.getNode(U),B=U=>{o.value.remove(U)},z=(U,F)=>{o.value.append(U,F)},q=(U,F)=>{o.value.insertBefore(U,F)},$=(U,F)=>{o.value.insertAfter(U,F)},L=(U,F,Q)=>{u(F),e.emit("node-expand",U,F,Q)},W=(U,F)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(U,F)};return vn("RootTree",{ctx:e,props:t,store:o,root:s,currentNode:i,instance:nn()}),vn(Rs,void 0),{ns:r,store:o,root:s,currentNode:i,dragState:f,el$:l,dropIndicator$:c,isEmpty:h,filter:p,getNodeKey:m,getNodePath:g,getCheckedNodes:y,getCheckedKeys:v,getCurrentNode:A,getCurrentKey:w,setCheckedNodes:S,setCheckedKeys:C,setChecked:E,getHalfCheckedNodes:I,getHalfCheckedKeys:k,setCurrentNode:T,setCurrentKey:M,t:n,getNode:D,remove:B,append:z,insertBefore:q,insertAfter:$,handleNodeExpand:L,updateKeyChildren:W}}});function soe(t,e,n,r,a,o){const s=ct("el-tree-node");return N(),ee("div",{ref:"el$",class:V([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(N(!0),ee(Et,null,fn(t.root.childNodes,i=>(N(),Ue(s,{key:t.getNodeKey(i),node:i,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(N(),ee("div",{key:0,class:V(t.ns.e("empty-block"))},[Me(t.$slots,"empty",{},()=>{var i;return[re("span",{class:V(t.ns.e("empty-text"))},rt((i=t.emptyText)!=null?i:t.t("el.tree.emptyText")),3)]})],2)):Te("v-if",!0),Qt(re("div",{ref:"dropIndicator$",class:V(t.ns.e("drop-indicator"))},null,2),[[En,t.dragState.showDropIndicator]])],2)}var ioe=st(ooe,[["render",soe],["__file","tree.vue"]]);const zp=qt(ioe),loe=(t,{attrs:e,emit:n},{select:r,tree:a,key:o})=>{const s=Ze("tree-select");return Qe(()=>t.data,()=>{t.filterable&&Bt(()=>{var l,c;(c=a.value)==null||c.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...as(jr(t),Object.keys(_c.props)),...e,"onUpdate:modelValue":l=>n(Jt,l),valueKey:o,popperClass:P(()=>{const l=[s.e("popper")];return t.popperClass&&l.push(t.popperClass),l.join(" ")}),filterMethod:(l="")=>{var c;t.filterMethod?t.filterMethod(l):t.remoteMethod?t.remoteMethod(l):(c=a.value)==null||c.filter(l)}}},coe=he({extends:Ep,setup(t,e){const n=Ep.setup(t,e);delete n.selectOptionClick;const r=nn().proxy;return Bt(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),Qe(()=>e.attrs.visible,a=>{n.states.visible=a},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function iy(t){return t||t===0}function cS(t){return nt(t)&&t.length}function $c(t){return nt(t)?t:iy(t)?[t]:[]}function tp(t,e,n,r,a){for(let o=0;o<t.length;o++){const s=t[o];if(e(s,o,t,a))return r?r(s,o,t,a):s;{const i=n(s);if(cS(i)){const l=tp(i,e,n,r,s);if(l)return l}}}}function np(t,e,n,r){for(let a=0;a<t.length;a++){const o=t[a];e(o,a,t,r);const s=n(o);cS(s)&&np(s,e,n,o)}}const uoe=(t,{attrs:e,slots:n,emit:r},{select:a,tree:o,key:s})=>{Qe(()=>t.modelValue,()=>{t.showCheckbox&&Bt(()=>{const h=o.value;h&&!ia(h.getCheckedKeys(),$c(t.modelValue))&&h.setCheckedKeys($c(t.modelValue))})},{immediate:!0,deep:!0});const i=P(()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),l=(h,p)=>{var m;const g=i.value[h];return Pt(g)?g(p,(m=o.value)==null?void 0:m.getNode(l("value",p))):p[g]},c=$c(t.modelValue).map(h=>tp(t.data||[],p=>l("value",p)===h,p=>l("children",p),(p,m,g,y)=>y&&l("value",y))).filter(h=>iy(h)),u=P(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const h=[];return np(t.data.concat(t.cacheData),p=>{const m=l("value",p);h.push({value:m,currentLabel:l("label",p),isDisabled:l("disabled",p)})},p=>l("children",p)),h}),f=()=>{var h;return(h=o.value)==null?void 0:h.getCheckedKeys().filter(p=>{var m;const g=(m=o.value)==null?void 0:m.getNode(p);return!qr(g)&&fo(g.childNodes)})};return{...as(jr(t),Object.keys(zp.props)),...e,nodeKey:s,expandOnClickNode:P(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:P(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(c):c),renderContent:(h,{node:p,data:m,store:g})=>h(coe,{value:l("value",m),label:l("label",m),disabled:l("disabled",m),visible:p.visible},t.renderContent?()=>t.renderContent(h,{node:p,data:m,store:g}):n.default?()=>n.default({node:p,data:m,store:g}):void 0),filterNodeMethod:(h,p,m)=>t.filterNodeMethod?t.filterNodeMethod(h,p,m):h?new RegExp(S2(h),"i").test(l("label",p)||""):!0,onNodeClick:(h,p,m)=>{var g,y,v,A;if((g=e.onNodeClick)==null||g.call(e,h,p,m),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||p.isLeaf)){if(!l("disabled",h)){const w=(y=a.value)==null?void 0:y.states.options.get(l("value",h));(v=a.value)==null||v.handleOptionSelect(w)}}else t.expandOnClickNode&&m.proxy.handleExpandIconClick();(A=a.value)==null||A.focus()}},onCheck:(h,p)=>{var m;if(!t.showCheckbox)return;const g=l("value",h),y={};np([o.value.store.root],S=>y[S.key]=S,S=>S.childNodes);const v=p.checkedKeys,A=t.multiple?$c(t.modelValue).filter(S=>!(S in y)&&!v.includes(S)):[],w=A.concat(v);if(t.checkStrictly)r(Jt,t.multiple?w:w.includes(g)?g:void 0);else if(t.multiple){const S=f();r(Jt,A.concat(S))}else{const S=tp([h],I=>!cS(l("children",I))&&!l("disabled",I),I=>l("children",I)),C=S?l("value",S):void 0,E=iy(t.modelValue)&&!!tp([h],I=>l("value",I)===t.modelValue,I=>l("children",I));r(Jt,C===t.modelValue||E?void 0:C)}Bt(()=>{var S;const C=$c(t.modelValue);o.value.setCheckedKeys(C),(S=e.onCheck)==null||S.call(e,h,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(m=a.value)==null||m.focus()},onNodeExpand:(h,p,m)=>{var g;(g=e.onNodeExpand)==null||g.call(e,h,p,m),Bt(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&p.checked){const y={},v=o.value.getCheckedKeys();np([o.value.store.root],S=>y[S.key]=S,S=>S.childNodes);const A=$c(t.modelValue).filter(S=>!(S in y)&&!v.includes(S)),w=f();r(Jt,A.concat(w))}})},cacheOptions:u}};var doe=he({props:{data:{type:Array,default:()=>[]}},setup(t){const e=St(Cd);return Qe(()=>t.data,()=>{var n;t.data.forEach(a=>{e.states.cachedOptions.has(a.value)||e.states.cachedOptions.set(a.value,a)});const r=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Sn&&!Array.from(r).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const foe=he({name:"ElTreeSelect",inheritAttrs:!1,props:{..._c.props,...zp.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:r}=e,a=j(),o=j(),s=P(()=>t.nodeKey||t.valueKey||"value"),i=loe(t,e,{select:a,tree:o,key:s}),{cacheOptions:l,...c}=uoe(t,e,{select:a,tree:o,key:s}),u=Mn({});return r(u),Yt(()=>{Object.assign(u,{...as(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...as(a.value,["focus","blur","selectedLabel"])})}),()=>Lt(_c,Mn({...i,ref:f=>a.value=f}),{...n,default:()=>[Lt(doe,{data:l.value}),Lt(zp,Mn({...c,ref:f=>o.value=f}))]})}});var hoe=st(foe,[["__file","tree-select.vue"]]);const poe=qt(hoe),uS=Symbol(),moe={key:-1,level:-1,data:{}};var Xd=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t.CLASS="",t))(Xd||{}),ly=(t=>(t.ADD="add",t.DELETE="delete",t))(ly||{});const K6={type:Number,default:26},voe=at({data:{type:xe(Array),default:()=>fr([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:xe(Object),default:()=>fr({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:xe(Array),default:()=>fr([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:xe(Array),default:()=>fr([])},indent:{type:Number,default:16},itemSize:K6,icon:{type:On},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:xe([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:xe(Function)},perfMode:{type:Boolean,default:!0}}),goe=at({node:{type:xe(Object),default:()=>fr(moe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:K6}),yoe=at({node:{type:xe(Object),required:!0}}),q6="node-click",j6="node-drop",Y6="node-expand",X6="node-collapse",Q6="current-change",Z6="check",J6="check-change",e8="node-contextmenu",boe={[q6]:(t,e,n)=>t&&e&&n,[j6]:(t,e,n)=>t&&e&&n,[Y6]:(t,e)=>t&&e,[X6]:(t,e)=>t&&e,[Q6]:(t,e)=>t&&e,[Z6]:(t,e)=>t&&e,[J6]:(t,e)=>t&&Kn(e),[e8]:(t,e,n)=>t&&e&&n},Soe={click:(t,e)=>!!(t&&e),drop:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&Kn(e)};function _oe(t,e){const n=j(new Set),r=j(new Set),{emit:a}=nn();Qe([()=>e.value,()=>t.defaultCheckedKeys],()=>Bt(()=>{A(t.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:w,maxLevel:S}=e.value,C=n.value,E=new Set;for(let I=S-1;I>=1;--I){const k=w.get(I);k&&k.forEach(T=>{const M=T.children;if(M){let D=!0,B=!1;for(const z of M){const q=z.key;if(C.has(q))B=!0;else if(E.has(q)){D=!1,B=!0;break}else D=!1}D?C.add(T.key):B?(E.add(T.key),C.delete(T.key)):(C.delete(T.key),E.delete(T.key))}})}r.value=E},s=w=>n.value.has(w.key),i=w=>r.value.has(w.key),l=(w,S,C=!0,E=!0)=>{const I=n.value,k=(T,M)=>{I[M?ly.ADD:ly.DELETE](T.key);const D=T.children;!t.checkStrictly&&D&&D.forEach(B=>{B.disabled||k(B,M)})};k(w,S),E&&o(),C&&c(w,S)},c=(w,S)=>{const{checkedNodes:C,checkedKeys:E}=m(),{halfCheckedNodes:I,halfCheckedKeys:k}=g();a(Z6,w.data,{checkedKeys:E,checkedNodes:C,halfCheckedKeys:k,halfCheckedNodes:I}),a(J6,w.data,S)};function u(w=!1){return m(w).checkedKeys}function f(w=!1){return m(w).checkedNodes}function h(){return g().halfCheckedKeys}function p(){return g().halfCheckedNodes}function m(w=!1){const S=[],C=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:E}=e.value;n.value.forEach(I=>{const k=E.get(I);k&&(!w||w&&k.isLeaf)&&(C.push(I),S.push(k.data))})}return{checkedKeys:C,checkedNodes:S}}function g(){const w=[],S=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:C}=e.value;r.value.forEach(E=>{const I=C.get(E);I&&(S.push(E),w.push(I.data))})}return{halfCheckedNodes:w,halfCheckedKeys:S}}function y(w){n.value.clear(),r.value.clear(),Bt(()=>{A(w)})}function v(w,S){if(e!=null&&e.value&&t.showCheckbox){const C=e.value.treeNodeMap.get(w);C&&l(C,S,!1)}}function A(w){if(e!=null&&e.value){const{treeNodeMap:S}=e.value;if(t.showCheckbox&&S&&(w==null?void 0:w.length)>0){for(const C of w){const E=S.get(C);E&&!s(E)&&l(E,!0,!1,!1)}o()}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:s,isIndeterminate:i,getCheckedKeys:u,getCheckedNodes:f,getHalfCheckedKeys:h,getHalfCheckedNodes:p,setChecked:v,setCheckedKeys:y}}function woe(t,e){const n=j(new Set([])),r=j(new Set([])),a=P(()=>Pt(t.filterMethod));function o(i){var l;if(!a.value)return;const c=new Set,u=r.value,f=n.value,h=[],p=((l=e.value)==null?void 0:l.treeNodes)||[],m=t.filterMethod;f.clear();function g(y){y.forEach(v=>{h.push(v),m!=null&&m(i,v.data,v)?h.forEach(w=>{c.add(w.key)}):v.isLeaf&&f.add(v.key);const A=v.children;if(A&&g(A),!v.isLeaf){if(!c.has(v.key))f.add(v.key);else if(A){let w=!0;for(const S of A)if(!f.has(S.key)){w=!1;break}w?u.add(v.key):u.delete(v.key)}}h.pop()})}return g(p),c}function s(i){return r.value.has(i.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:s}}function xoe(t,e){const n=j(new Set(t.defaultExpandedKeys)),r=j(),a=Xn(),o=j();Qe(()=>t.currentNodeKey,Z=>{r.value=Z},{immediate:!0}),Qe(()=>t.data,Z=>{Ie(Z)},{immediate:!0});const{isIndeterminate:s,isChecked:i,toggleCheckbox:l,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:p,setCheckedKeys:m}=_oe(t,a),{doFilter:g,hiddenNodeKeySet:y,isForceHiddenExpandIcon:v}=woe(t,a),A=P(()=>{var Z;return((Z=t.props)==null?void 0:Z.value)||Xd.KEY}),w=P(()=>{var Z;return((Z=t.props)==null?void 0:Z.children)||Xd.CHILDREN}),S=P(()=>{var Z;return((Z=t.props)==null?void 0:Z.disabled)||Xd.DISABLED}),C=P(()=>{var Z;return((Z=t.props)==null?void 0:Z.label)||Xd.LABEL}),E=P(()=>{var Z;const me=n.value,oe=y.value,Ve=[],Le=((Z=a.value)==null?void 0:Z.treeNodes)||[],ze=[];for(let De=Le.length-1;De>=0;--De)ze.push(Le[De]);for(;ze.length;){const De=ze.pop();if(!oe.has(De.key)&&(Ve.push(De),De.children&&me.has(De.key)))for(let Fe=De.children.length-1;Fe>=0;--Fe)ze.push(De.children[Fe])}return Ve}),I=P(()=>E.value.length>0);function k(Z){const me=new Map,oe=new Map;let Ve=1;function Le(De,Fe=1,Ge=void 0){var ae;const te=[];for(const we of De){const ye=D(we),$e={level:Fe,key:ye,data:we};$e.label=z(we),$e.parent=Ge;const je=M(we);$e.disabled=B(we),$e.isLeaf=!je||je.length===0,je&&je.length&&($e.children=Le(je,Fe+1,$e)),te.push($e),me.set(ye,$e),oe.has(Fe)||oe.set(Fe,[]),(ae=oe.get(Fe))==null||ae.push($e)}return Fe>Ve&&(Ve=Fe),te}const ze=Le(Z);return{treeNodeMap:me,levelTreeNodeMap:oe,maxLevel:Ve,treeNodes:ze}}function T(Z){const me=g(Z);me&&(n.value=me)}function M(Z){return Z[w.value]}function D(Z){return Z?Z[A.value]:""}function B(Z){return Z[S.value]}function z(Z){return Z[C.value]}function q(Z){n.value.has(Z.key)?ne(Z):Q(Z)}function $(Z){const me=new Set,oe=a.value.treeNodeMap;Z.forEach(Ve=>{let Le=oe.get(Ve);for(;Le&&!me.has(Le.key);)me.add(Le.key),Le=Le.parent}),n.value=me}function L(Z,me){e(q6,Z.data,Z,me),U(Z),t.expandOnClickNode&&q(Z),t.showCheckbox&&t.checkOnClickNode&&!Z.disabled&&l(Z,!i(Z),!0)}function W(Z,me){e(j6,Z.data,Z,me)}function U(Z){ce(Z)||(r.value=Z.key,e(Q6,Z.data,Z))}function F(Z,me){l(Z,me)}function Q(Z){const me=n.value;if(a.value&&t.accordion){const{treeNodeMap:oe}=a.value;me.forEach(Ve=>{const Le=oe.get(Ve);Z&&Z.level===(Le==null?void 0:Le.level)&&me.delete(Ve)})}me.add(Z.key),e(Y6,Z.data,Z)}function ne(Z){n.value.delete(Z.key),e(X6,Z.data,Z)}function de(Z){return n.value.has(Z.key)}function ie(Z){return!!Z.disabled}function ce(Z){const me=r.value;return me!==void 0&&me===Z.key}function ge(){var Z,me;if(r.value)return(me=(Z=a.value)==null?void 0:Z.treeNodeMap.get(r.value))==null?void 0:me.data}function Ae(){return r.value}function pe(Z){r.value=Z}function Ie(Z){Bt(()=>a.value=k(Z))}function Re(Z){var me;const oe=tn(Z)?D(Z):Z;return(me=a.value)==null?void 0:me.treeNodeMap.get(oe)}function Je(Z,me="auto"){const oe=Re(Z);oe&&o.value&&o.value.scrollToItem(E.value.indexOf(oe),me)}function Ye(Z){var me;(me=o.value)==null||me.scrollTo(Z)}return{tree:a,flattenTree:E,isNotEmpty:I,listRef:o,getKey:D,getChildren:M,toggleExpand:q,toggleCheckbox:l,isExpanded:de,isChecked:i,isIndeterminate:s,isDisabled:ie,isCurrent:ce,isForceHiddenExpandIcon:v,handleNodeClick:L,handleNodeDrop:W,handleNodeCheck:F,getCurrentNode:ge,getCurrentKey:Ae,setCurrentKey:pe,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:p,setCheckedKeys:m,filter:T,setData:Ie,getNode:Re,expandNode:Q,collapseNode:ne,setExpandedKeys:$,scrollToNode:Je,scrollTo:Ye}}var Coe=he({name:"ElTreeNodeContent",props:yoe,setup(t){const e=St(uS),n=Ze("tree");return()=>{const r=t.node,{data:a}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:a}):Lt("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const Aoe=he({name:"ElTreeNode"}),Eoe=he({...Aoe,props:goe,emits:Soe,setup(t,{emit:e}){const n=t,r=St(uS),a=Ze("tree"),o=P(()=>{var p;return(p=r==null?void 0:r.props.indent)!=null?p:16}),s=P(()=>{var p;return(p=r==null?void 0:r.props.icon)!=null?p:gM}),i=p=>{const m=r==null?void 0:r.props.props.class;if(!m)return{};let g;if(Pt(m)){const{data:y}=p;g=m(y,p)}else g=m;return Mt(g)?{[g]:!0}:g},l=p=>{e("click",n.node,p)},c=p=>{e("drop",n.node,p)},u=()=>{e("toggle",n.node)},f=p=>{e("check",n.node,p)},h=p=>{var m,g,y,v;(y=(g=(m=r==null?void 0:r.instance)==null?void 0:m.vnode)==null?void 0:g.props)!=null&&y.onNodeContextmenu&&(p.stopPropagation(),p.preventDefault()),r==null||r.ctx.emit(e8,p,(v=n.node)==null?void 0:v.data,n.node)};return(p,m)=>{var g,y,v;return N(),ee("div",{ref:"node$",class:V([d(a).b("node"),d(a).is("expanded",p.expanded),d(a).is("current",p.current),d(a).is("focusable",!p.disabled),d(a).is("checked",!p.disabled&&p.checked),i(p.node)]),role:"treeitem",tabindex:"-1","aria-expanded":p.expanded,"aria-disabled":p.disabled,"aria-checked":p.checked,"data-key":(g=p.node)==null?void 0:g.key,onClick:zt(l,["stop"]),onContextmenu:h,onDragover:zt(()=>{},["prevent"]),onDragenter:zt(()=>{},["prevent"]),onDrop:zt(c,["stop"])},[re("div",{class:V(d(a).be("node","content")),style:bt({paddingLeft:`${(p.node.level-1)*d(o)}px`,height:p.itemSize+"px"})},[d(s)?(N(),Ue(d(Ct),{key:0,class:V([d(a).is("leaf",!!((y=p.node)!=null&&y.isLeaf)),d(a).is("hidden",p.hiddenExpandIcon),{expanded:!((v=p.node)!=null&&v.isLeaf)&&p.expanded},d(a).be("node","expand-icon")]),onClick:zt(u,["stop"])},{default:le(()=>[(N(),Ue(ln(d(s))))]),_:1},8,["class","onClick"])):Te("v-if",!0),p.showCheckbox?(N(),Ue(d($o),{key:1,"model-value":p.checked,indeterminate:p.indeterminate,disabled:p.disabled,onChange:f,onClick:zt(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Te("v-if",!0),J(d(Coe),{node:p.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var Moe=st(Eoe,[["__file","tree-node.vue"]]);const Toe=he({name:"ElTreeV2"}),Ioe=he({...Toe,props:voe,emits:boe,setup(t,{expose:e,emit:n}){const r=t,a=zr(),o=P(()=>r.itemSize);vn(uS,{ctx:{emit:n,slots:a},props:r,instance:nn()}),vn(Rs,void 0);const{t:s}=_n(),i=Ze("tree"),{flattenTree:l,isNotEmpty:c,listRef:u,toggleExpand:f,isExpanded:h,isIndeterminate:p,isChecked:m,isDisabled:g,isCurrent:y,isForceHiddenExpandIcon:v,handleNodeClick:A,handleNodeDrop:w,handleNodeCheck:S,toggleCheckbox:C,getCurrentNode:E,getCurrentKey:I,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:M,getHalfCheckedKeys:D,getHalfCheckedNodes:B,setChecked:z,setCheckedKeys:q,filter:$,setData:L,getNode:W,expandNode:U,collapseNode:F,setExpandedKeys:Q,scrollToNode:ne,scrollTo:de}=xoe(r,n);return e({toggleCheckbox:C,getCurrentNode:E,getCurrentKey:I,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:M,getHalfCheckedKeys:D,getHalfCheckedNodes:B,setChecked:z,setCheckedKeys:q,filter:$,setData:L,getNode:W,expandNode:U,collapseNode:F,setExpandedKeys:Q,scrollToNode:ne,scrollTo:de}),(ie,ce)=>(N(),ee("div",{class:V([d(i).b(),{[d(i).m("highlight-current")]:ie.highlightCurrent}]),role:"tree"},[d(c)?(N(),Ue(d(F5),{key:0,ref_key:"listRef",ref:u,"class-name":d(i).b("virtual-list"),data:d(l),total:d(l).length,height:ie.height,"item-size":d(o),"perf-mode":ie.perfMode},{default:le(({data:ge,index:Ae,style:pe})=>[(N(),Ue(Moe,{key:ge[Ae].key,style:bt(pe),node:ge[Ae],expanded:d(h)(ge[Ae]),"show-checkbox":ie.showCheckbox,checked:d(m)(ge[Ae]),indeterminate:d(p)(ge[Ae]),"item-size":d(o),disabled:d(g)(ge[Ae]),current:d(y)(ge[Ae]),"hidden-expand-icon":d(v)(ge[Ae]),onClick:d(A),onToggle:d(f),onCheck:d(S),onDrop:d(w)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(N(),ee("div",{key:1,class:V(d(i).e("empty-block"))},[Me(ie.$slots,"empty",{},()=>{var ge;return[re("span",{class:V(d(i).e("empty-text"))},rt((ge=ie.emptyText)!=null?ge:d(s)("el.tree.emptyText")),3)]})],2))],2))}});var Roe=st(Ioe,[["__file","tree.vue"]]);const koe=qt(Roe),t8=Symbol("uploadContextKey"),Doe="ElUpload";class Poe extends Error{constructor(e,n,r,a){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=a}}function _C(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new Poe(r,n.status,e.method,t)}function Boe(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Loe=t=>{typeof XMLHttpRequest>"u"&&Wr(Doe,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",o=>{const s=o;s.percent=o.total>0?o.loaded/o.total*100:0,t.onProgress(s)});const r=new FormData;if(t.data)for(const[o,s]of Object.entries(t.data))nt(s)&&s.length?r.append(o,...s):r.append(o,s);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(_C(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(_C(n,t,e));t.onSuccess(Boe(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const a=t.headers||{};if(a instanceof Headers)a.forEach((o,s)=>e.setRequestHeader(s,o));else for(const[o,s]of Object.entries(a))qr(s)||e.setRequestHeader(o,String(s));return e.send(r),e},n8=["text","picture","picture-card"];let Noe=1;const cy=()=>Date.now()+Noe++,r8=at({action:{type:String,default:"#"},headers:{type:xe(Object)},method:{type:String,default:"post"},data:{type:xe([Object,Function,Promise]),default:()=>fr({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:xe(Array),default:()=>fr([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:n8,default:"text"},httpRequest:{type:xe(Function),default:Loe},disabled:Boolean,limit:Number}),Foe=at({...r8,beforeUpload:{type:xe(Function),default:Dn},beforeRemove:{type:xe(Function)},onRemove:{type:xe(Function),default:Dn},onChange:{type:xe(Function),default:Dn},onPreview:{type:xe(Function),default:Dn},onSuccess:{type:xe(Function),default:Dn},onProgress:{type:xe(Function),default:Dn},onError:{type:xe(Function),default:Dn},onExceed:{type:xe(Function),default:Dn},crossorigin:{type:xe(String)}}),Ooe=at({files:{type:xe(Array),default:()=>fr([])},disabled:{type:Boolean,default:!1},handlePreview:{type:xe(Function),default:Dn},listType:{type:String,values:n8,default:"text"},crossorigin:{type:xe(String)}}),zoe={remove:t=>!!t},Uoe=he({name:"ElUploadList"}),Hoe=he({...Uoe,props:Ooe,emits:zoe,setup(t,{emit:e}){const n=t,{t:r}=_n(),a=Ze("upload"),o=Ze("icon"),s=Ze("list"),i=wa(),l=j(!1),c=P(()=>[a.b("list"),a.bm("list",n.listType),a.is("disabled",n.disabled)]),u=f=>{e("remove",f)};return(f,h)=>(N(),Ue(aE,{tag:"ul",class:V(d(c)),name:d(s).b()},{default:le(()=>[(N(!0),ee(Et,null,fn(f.files,(p,m)=>(N(),ee("li",{key:p.uid||p.name,class:V([d(a).be("list","item"),d(a).is(p.status),{focusing:l.value}]),tabindex:"0",onKeydown:Vn(g=>!d(i)&&u(p),["delete"]),onFocus:g=>l.value=!0,onBlur:g=>l.value=!1,onClick:g=>l.value=!1},[Me(f.$slots,"default",{file:p,index:m},()=>[f.listType==="picture"||p.status!=="uploading"&&f.listType==="picture-card"?(N(),ee("img",{key:0,class:V(d(a).be("list","item-thumbnail")),src:p.url,crossorigin:f.crossorigin,alt:""},null,10,["src","crossorigin"])):Te("v-if",!0),p.status==="uploading"||f.listType!=="picture-card"?(N(),ee("div",{key:1,class:V(d(a).be("list","item-info"))},[re("a",{class:V(d(a).be("list","item-name")),onClick:zt(g=>f.handlePreview(p),["prevent"])},[J(d(Ct),{class:V(d(o).m("document"))},{default:le(()=>[J(d(GO))]),_:1},8,["class"]),re("span",{class:V(d(a).be("list","item-file-name")),title:p.name},rt(p.name),11,["title"])],10,["onClick"]),p.status==="uploading"?(N(),Ue(d(M5),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(p.percentage),style:bt(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Te("v-if",!0)],2)):Te("v-if",!0),re("label",{class:V(d(a).be("list","item-status-label"))},[f.listType==="text"?(N(),Ue(d(Ct),{key:0,class:V([d(o).m("upload-success"),d(o).m("circle-check")])},{default:le(()=>[J(d(Zb))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(N(),Ue(d(Ct),{key:1,class:V([d(o).m("upload-success"),d(o).m("check")])},{default:le(()=>[J(d(fh))]),_:1},8,["class"])):Te("v-if",!0)],2),d(i)?Te("v-if",!0):(N(),Ue(d(Ct),{key:2,class:V(d(o).m("close")),onClick:g=>u(p)},{default:le(()=>[J(d(cs))]),_:2},1032,["class","onClick"])),Te(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Te(" This is a bug which needs to be fixed "),Te(" TODO: Fix the incorrect navigation interaction "),d(i)?Te("v-if",!0):(N(),ee("i",{key:3,class:V(d(o).m("close-tip"))},rt(d(r)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(N(),ee("span",{key:4,class:V(d(a).be("list","item-actions"))},[re("span",{class:V(d(a).be("list","item-preview")),onClick:g=>f.handlePreview(p)},[J(d(Ct),{class:V(d(o).m("zoom-in"))},{default:le(()=>[J(d(_M))]),_:1},8,["class"])],10,["onClick"]),d(i)?Te("v-if",!0):(N(),ee("span",{key:0,class:V(d(a).be("list","item-delete")),onClick:g=>u(p)},[J(d(Ct),{class:V(d(o).m("delete"))},{default:le(()=>[J(d(VO))]),_:1},8,["class"])],10,["onClick"]))],2)):Te("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Me(f.$slots,"append")]),_:3},8,["class","name"]))}});var wC=st(Hoe,[["__file","upload-list.vue"]]);const $oe=at({disabled:{type:Boolean,default:!1}}),Voe={file:t=>nt(t)},a8="ElUploadDrag",Woe=he({name:a8}),Goe=he({...Woe,props:$oe,emits:Voe,setup(t,{emit:e}){St(t8)||Wr(a8,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=Ze("upload"),a=j(!1),o=wa(),s=l=>{if(o.value)return;a.value=!1,l.stopPropagation();const c=Array.from(l.dataTransfer.files);e("file",c)},i=()=>{o.value||(a.value=!0)};return(l,c)=>(N(),ee("div",{class:V([d(r).b("dragger"),d(r).is("dragover",a.value)]),onDrop:zt(s,["prevent"]),onDragover:zt(i,["prevent"]),onDragleave:zt(u=>a.value=!1,["prevent"])},[Me(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Koe=st(Goe,[["__file","upload-dragger.vue"]]);const qoe=at({...r8,beforeUpload:{type:xe(Function),default:Dn},onRemove:{type:xe(Function),default:Dn},onStart:{type:xe(Function),default:Dn},onSuccess:{type:xe(Function),default:Dn},onProgress:{type:xe(Function),default:Dn},onError:{type:xe(Function),default:Dn},onExceed:{type:xe(Function),default:Dn}}),joe=he({name:"ElUploadContent",inheritAttrs:!1}),Yoe=he({...joe,props:qoe,setup(t,{expose:e}){const n=t,r=Ze("upload"),a=wa(),o=Xn({}),s=Xn(),i=g=>{if(g.length===0)return;const{autoUpload:y,limit:v,fileList:A,multiple:w,onStart:S,onExceed:C}=n;if(v&&A.length+g.length>v){C(g,A);return}w||(g=g.slice(0,1));for(const E of g){const I=E;I.uid=cy(),S(I),y&&l(I)}},l=async g=>{if(s.value.value="",!n.beforeUpload)return u(g);let y,v={};try{const w=n.data,S=n.beforeUpload(g);v=wf(n.data)?Sp(n.data):n.data,y=await S,wf(n.data)&&ia(w,v)&&(v=Sp(n.data))}catch{y=!1}if(y===!1){n.onRemove(g);return}let A=g;y instanceof Blob&&(y instanceof File?A=y:A=new File([y],g.name,{type:g.type})),u(Object.assign(A,{uid:g.uid}),v)},c=async(g,y)=>Pt(g)?g(y):g,u=async(g,y)=>{const{headers:v,data:A,method:w,withCredentials:S,name:C,action:E,onProgress:I,onSuccess:k,onError:T,httpRequest:M}=n;try{y=await c(y??A,g)}catch{n.onRemove(g);return}const{uid:D}=g,B={headers:v||{},withCredentials:S,file:g,data:y,method:w,filename:C,action:E,onProgress:q=>{I(q,g)},onSuccess:q=>{k(q,g),delete o.value[D]},onError:q=>{T(q,g),delete o.value[D]}},z=M(B);o.value[D]=z,z instanceof Promise&&z.then(B.onSuccess,B.onError)},f=g=>{const y=g.target.files;y&&i(Array.from(y))},h=()=>{a.value||(s.value.value="",s.value.click())},p=()=>{h()};return e({abort:g=>{dM(o.value).filter(g?([v])=>String(g.uid)===v:()=>!0).forEach(([v,A])=>{A instanceof XMLHttpRequest&&A.abort(),delete o.value[v]})},upload:l}),(g,y)=>(N(),ee("div",{class:V([d(r).b(),d(r).m(g.listType),d(r).is("drag",g.drag),d(r).is("disabled",d(a))]),tabindex:d(a)?"-1":"0",onClick:h,onKeydown:Vn(zt(p,["self"]),["enter","space"])},[g.drag?(N(),Ue(Koe,{key:0,disabled:d(a),onFile:i},{default:le(()=>[Me(g.$slots,"default")]),_:3},8,["disabled"])):Me(g.$slots,"default",{key:1}),re("input",{ref_key:"inputRef",ref:s,class:V(d(r).e("input")),name:g.name,disabled:d(a),multiple:g.multiple,accept:g.accept,type:"file",onChange:f,onClick:zt(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var xC=st(Yoe,[["__file","upload-content.vue"]]);const CC="ElUpload",AC=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Xoe=(t,e)=>{const n=rM(t,"fileList",void 0,{passive:!0}),r=p=>n.value.find(m=>m.uid===p.uid);function a(p){var m;(m=e.value)==null||m.abort(p)}function o(p=["ready","uploading","success","fail"]){n.value=n.value.filter(m=>!p.includes(m.status))}function s(p){n.value=n.value.filter(m=>m!==p)}const i=(p,m)=>{const g=r(m);g&&(console.error(p),g.status="fail",s(g),t.onError(p,g,n.value),t.onChange(g,n.value))},l=(p,m)=>{const g=r(m);g&&(t.onProgress(p,g,n.value),g.status="uploading",g.percentage=Math.round(p.percent))},c=(p,m)=>{const g=r(m);g&&(g.status="success",g.response=p,t.onSuccess(p,g,n.value),t.onChange(g,n.value))},u=p=>{qr(p.uid)&&(p.uid=cy());const m={name:p.name,percentage:0,status:"ready",size:p.size,raw:p,uid:p.uid};if(t.listType==="picture-card"||t.listType==="picture")try{m.url=URL.createObjectURL(p)}catch(g){g.message,t.onError(g,m,n.value)}n.value=[...n.value,m],t.onChange(m,n.value)},f=async p=>{const m=p instanceof File?r(p):p;m||Wr(CC,"file to be removed not found");const g=y=>{a(y),s(y),t.onRemove(y,n.value),AC(y)};t.beforeRemove?await t.beforeRemove(m,n.value)!==!1&&g(m):g(m)};function h(){n.value.filter(({status:p})=>p==="ready").forEach(({raw:p})=>{var m;return p&&((m=e.value)==null?void 0:m.upload(p))})}return Qe(()=>t.listType,p=>{p!=="picture-card"&&p!=="picture"||(n.value=n.value.map(m=>{const{raw:g,url:y}=m;if(!y&&g)try{m.url=URL.createObjectURL(g)}catch(v){t.onError(v,m,n.value)}return m}))}),Qe(n,p=>{for(const m of p)m.uid||(m.uid=cy()),m.status||(m.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:a,clearFiles:o,handleError:i,handleProgress:l,handleStart:u,handleSuccess:c,handleRemove:f,submit:h,revokeFileObjectURL:AC}},Qoe=he({name:"ElUpload"}),Zoe=he({...Qoe,props:Foe,setup(t,{expose:e}){const n=t,r=wa(),a=Xn(),{abort:o,submit:s,clearFiles:i,uploadFiles:l,handleStart:c,handleError:u,handleRemove:f,handleSuccess:h,handleProgress:p,revokeFileObjectURL:m}=Xoe(n,a),g=P(()=>n.listType==="picture-card"),y=P(()=>({...n,fileList:l.value,onStart:c,onProgress:p,onSuccess:h,onError:u,onRemove:f}));return Un(()=>{l.value.forEach(m)}),vn(t8,{accept:Rn(n,"accept")}),e({abort:o,submit:s,clearFiles:i,handleStart:c,handleRemove:f}),(v,A)=>(N(),ee("div",null,[d(g)&&v.showFileList?(N(),Ue(wC,{key:0,disabled:d(r),"list-type":v.listType,files:d(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:d(f)},Oo({append:le(()=>[J(xC,un({ref_key:"uploadRef",ref:a},d(y)),{default:le(()=>[v.$slots.trigger?Me(v.$slots,"trigger",{key:0}):Te("v-if",!0),!v.$slots.trigger&&v.$slots.default?Me(v.$slots,"default",{key:1}):Te("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:le(({file:w,index:S})=>[Me(v.$slots,"file",{file:w,index:S})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Te("v-if",!0),!d(g)||d(g)&&!v.showFileList?(N(),Ue(xC,un({key:1,ref_key:"uploadRef",ref:a},d(y)),{default:le(()=>[v.$slots.trigger?Me(v.$slots,"trigger",{key:0}):Te("v-if",!0),!v.$slots.trigger&&v.$slots.default?Me(v.$slots,"default",{key:1}):Te("v-if",!0)]),_:3},16)):Te("v-if",!0),v.$slots.trigger?Me(v.$slots,"default",{key:2}):Te("v-if",!0),Me(v.$slots,"tip"),!d(g)&&v.showFileList?(N(),Ue(wC,{key:3,disabled:d(r),"list-type":v.listType,files:d(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:d(f)},Oo({_:2},[v.$slots.file?{name:"default",fn:le(({file:w,index:S})=>[Me(v.$slots,"file",{file:w,index:S})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Te("v-if",!0)]))}});var Joe=st(Zoe,[["__file","upload.vue"]]);const ese=qt(Joe),tse=at({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:xe([String,Array]),default:"Element Plus"},font:{type:xe(Object)},gap:{type:xe(Array),default:()=>[100,100]},offset:{type:xe(Array)}});function nse(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function rse(t){return Object.keys(t).map(e=>`${nse(e)}: ${t[e]};`).join(" ")}function ase(){return window.devicePixelRatio||1}const ose=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},o8=3;function rg(t,e,n=1){const r=document.createElement("canvas"),a=r.getContext("2d"),o=t*n,s=e*n;return r.setAttribute("width",`${o}px`),r.setAttribute("height",`${s}px`),a.save(),[a,r,o,s]}function sse(){function t(e,n,r,a,o,s,i,l){const[c,u,f,h]=rg(a,o,r);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,f,h);else{const{color:ne,fontSize:de,fontStyle:ie,fontWeight:ce,fontFamily:ge,textAlign:Ae,textBaseline:pe}=s,Ie=Number(de)*r;c.font=`${ie} normal ${ce} ${Ie}px/${o}px ${ge}`,c.fillStyle=ne,c.textAlign=Ae,c.textBaseline=pe;const Re=nt(e)?e:[e];Re==null||Re.forEach((Je,Ye)=>{c.fillText(Je??"",f/2,Ye*(Ie+o8*r))})}const p=Math.PI/180*Number(n),m=Math.max(a,o),[g,y,v]=rg(m,m,r);g.translate(v/2,v/2),g.rotate(p),f>0&&h>0&&g.drawImage(u,-f/2,-h/2);function A(ne,de){const ie=ne*Math.cos(p)-de*Math.sin(p),ce=ne*Math.sin(p)+de*Math.cos(p);return[ie,ce]}let w=0,S=0,C=0,E=0;const I=f/2,k=h/2;[[0-I,0-k],[0+I,0-k],[0+I,0+k],[0-I,0+k]].forEach(([ne,de])=>{const[ie,ce]=A(ne,de);w=Math.min(w,ie),S=Math.max(S,ie),C=Math.min(C,ce),E=Math.max(E,ce)});const M=w+v/2,D=C+v/2,B=S-w,z=E-C,q=i*r,$=l*r,L=(B+q)*2,W=z+$,[U,F]=rg(L,W);function Q(ne=0,de=0){U.drawImage(y,M,D,B,z,ne,de,B,z)}return Q(),Q(B+q,-z/2-$/2),Q(B+q,+z/2+$/2),[F.toDataURL(),L/r,W/r]}return t}const ise=he({name:"ElWatermark"}),lse=he({...ise,props:tse,setup(t){const e=t,n={position:"relative"},r=P(()=>{var M,D;return(D=(M=e.font)==null?void 0:M.color)!=null?D:"rgba(0,0,0,.15)"}),a=P(()=>{var M,D;return(D=(M=e.font)==null?void 0:M.fontSize)!=null?D:16}),o=P(()=>{var M,D;return(D=(M=e.font)==null?void 0:M.fontWeight)!=null?D:"normal"}),s=P(()=>{var M,D;return(D=(M=e.font)==null?void 0:M.fontStyle)!=null?D:"normal"}),i=P(()=>{var M,D;return(D=(M=e.font)==null?void 0:M.fontFamily)!=null?D:"sans-serif"}),l=P(()=>{var M,D;return(D=(M=e.font)==null?void 0:M.textAlign)!=null?D:"center"}),c=P(()=>{var M,D;return(D=(M=e.font)==null?void 0:M.textBaseline)!=null?D:"hanging"}),u=P(()=>e.gap[0]),f=P(()=>e.gap[1]),h=P(()=>u.value/2),p=P(()=>f.value/2),m=P(()=>{var M,D;return(D=(M=e.offset)==null?void 0:M[0])!=null?D:h.value}),g=P(()=>{var M,D;return(D=(M=e.offset)==null?void 0:M[1])!=null?D:p.value}),y=()=>{const M={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let D=m.value-h.value,B=g.value-p.value;return D>0&&(M.left=`${D}px`,M.width=`calc(100% - ${D}px)`,D=0),B>0&&(M.top=`${B}px`,M.height=`calc(100% - ${B}px)`,B=0),M.backgroundPosition=`${D}px ${B}px`,M},v=Xn(null),A=Xn(),w=j(!1),S=()=>{A.value&&(A.value.remove(),A.value=void 0)},C=(M,D)=>{var B;v.value&&A.value&&(w.value=!0,A.value.setAttribute("style",rse({...y(),backgroundImage:`url('${M}')`,backgroundSize:`${Math.floor(D)}px`})),(B=v.value)==null||B.append(A.value),setTimeout(()=>{w.value=!1}))},E=M=>{let D=120,B=64;const z=e.image,q=e.content,$=e.width,L=e.height;if(!z&&M.measureText){M.font=`${Number(a.value)}px ${i.value}`;const W=nt(q)?q:[q],U=W.map(F=>{const Q=M.measureText(F);return[Q.width,Q.fontBoundingBoxAscent!==void 0?Q.fontBoundingBoxAscent+Q.fontBoundingBoxDescent:Q.actualBoundingBoxAscent+Q.actualBoundingBoxDescent]});D=Math.ceil(Math.max(...U.map(F=>F[0]))),B=Math.ceil(Math.max(...U.map(F=>F[1])))*W.length+(W.length-1)*o8}return[$??D,L??B]},I=sse(),k=()=>{const D=document.createElement("canvas").getContext("2d"),B=e.image,z=e.content,q=e.rotate;if(D){A.value||(A.value=document.createElement("div"));const $=ase(),[L,W]=E(D),U=F=>{const[Q,ne]=I(F||"",q,$,L,W,{color:r.value,fontSize:a.value,fontStyle:s.value,fontWeight:o.value,fontFamily:i.value,textAlign:l.value,textBaseline:c.value},u.value,f.value);C(Q,ne)};if(B){const F=new Image;F.onload=()=>{U(F)},F.onerror=()=>{U(z)},F.crossOrigin="anonymous",F.referrerPolicy="no-referrer",F.src=B}else U(z)}};return Yt(()=>{k()}),Qe(()=>e,()=>{k()},{deep:!0,flush:"post"}),Un(()=>{S()}),nM(v,M=>{w.value||M.forEach(D=>{ose(D,A.value)&&(S(),k())})},{attributes:!0,subtree:!0,childList:!0}),(M,D)=>(N(),ee("div",{ref_key:"containerRef",ref:v,style:bt([n])},[Me(M.$slots,"default")],4))}});var cse=st(lse,[["__file","watermark.vue"]]);const use=qt(cse),dse=at({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:xe(Object)},targetAreaClickable:{type:Boolean,default:!0}}),fse=(t,e,n,r,a)=>{const o=j(null),s=()=>{let f;return Mt(t.value)?f=document.querySelector(t.value):Pt(t.value)?f=t.value():f=t.value,f},i=()=>{const f=s();if(!f||!e.value){o.value=null;return}hse(f)||f.scrollIntoView(a.value);const{left:h,top:p,width:m,height:g}=f.getBoundingClientRect();o.value={left:h,top:p,width:m,height:g,radius:0}};Yt(()=>{Qe([e,t],()=>{i()},{immediate:!0}),window.addEventListener("resize",i)}),Un(()=>{window.removeEventListener("resize",i)});const l=f=>{var h;return(h=nt(n.value.offset)?n.value.offset[f]:n.value.offset)!=null?h:6},c=P(()=>{var f;if(!o.value)return o.value;const h=l(0),p=l(1),m=((f=n.value)==null?void 0:f.radius)||2;return{left:o.value.left-h,top:o.value.top-p,width:o.value.width+h*2,height:o.value.height+p*2,radius:m}}),u=P(()=>{const f=s();return!r.value||!f||!window.DOMRect?f||void 0:{getBoundingClientRect(){var h,p,m,g;return window.DOMRect.fromRect({width:((h=c.value)==null?void 0:h.width)||0,height:((p=c.value)==null?void 0:p.height)||0,x:((m=c.value)==null?void 0:m.left)||0,y:((g=c.value)==null?void 0:g.top)||0})}}});return{mergedPosInfo:c,triggerTarget:u}},Om=Symbol("ElTour");function hse(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:a,bottom:o,left:s}=t.getBoundingClientRect();return r>=0&&s>=0&&a<=e&&o<=n}const pse=(t,e,n,r,a,o,s,i)=>{const l=j(),c=j(),u=j({}),f={x:l,y:c,placement:r,strategy:a,middlewareData:u},h=P(()=>{const v=[P6(d(o)),Zre(),eae(),mse()];return d(i)&&d(n)&&v.push(D6({element:d(n)})),v}),p=async()=>{if(!Sn)return;const v=d(t),A=d(e);if(!v||!A)return;const w=await H6(v,A,{placement:d(r),strategy:d(a),middleware:d(h)});$u(f).forEach(S=>{f[S].value=w[S]})},m=P(()=>{if(!d(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:d(s)};const{overflow:v}=d(u);return{position:d(a),zIndex:d(s),top:d(c)!=null?`${d(c)}px`:"",left:d(l)!=null?`${d(l)}px`:"",maxWidth:v!=null&&v.maxWidth?`${v==null?void 0:v.maxWidth}px`:""}}),g=P(()=>{if(!d(i))return{};const{arrow:v}=d(u);return{left:(v==null?void 0:v.x)!=null?`${v==null?void 0:v.x}px`:"",top:(v==null?void 0:v.y)!=null?`${v==null?void 0:v.y}px`:""}});let y;return Yt(()=>{const v=d(t),A=d(e);v&&A&&(y=yae(v,A,p)),ga(()=>{p()})}),Un(()=>{y&&y()}),{update:p,contentStyle:m,arrowStyle:g}},mse=()=>({name:"overflow",async fn(t){const e=await aS(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),vse=he({name:"ElTourMask",inheritAttrs:!1}),gse=he({...vse,props:dse,setup(t){const e=t,{ns:n}=St(Om),r=P(()=>{var i,l;return(l=(i=e.pos)==null?void 0:i.radius)!=null?l:2}),a=P(()=>{const i=r.value,l=`a${i},${i} 0 0 1`;return{topRight:`${l} ${i},${i}`,bottomRight:`${l} ${-i},${i}`,bottomLeft:`${l} ${-i},${-i}`,topLeft:`${l} ${i},${-i}`}}),o=P(()=>{const i=window.innerWidth,l=window.innerHeight,c=a.value,u=`M${i},0 L0,0 L0,${l} L${i},${l} L${i},0 Z`,f=r.value;return e.pos?`${u} M${e.pos.left+f},${e.pos.top} h${e.pos.width-f*2} ${c.topRight} v${e.pos.height-f*2} ${c.bottomRight} h${-e.pos.width+f*2} ${c.bottomLeft} v${-e.pos.height+f*2} ${c.topLeft} z`:u}),s=P(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return D2(Rn(e,"visible"),{ns:n}),(i,l)=>i.visible?(N(),ee("div",un({key:0,class:d(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:i.zIndex,pointerEvents:i.pos&&i.targetAreaClickable?"none":"auto"}},i.$attrs),[(N(),ee("svg",{style:{width:"100%",height:"100%"}},[re("path",{class:V(d(n).e("hollow")),style:bt(d(s)),d:d(o)},null,14,["d"])]))],16)):Te("v-if",!0)}});var yse=st(gse,[["__file","mask.vue"]]);const bse=["absolute","fixed"],Sse=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],dS=at({placement:{type:xe(String),values:Sse,default:"bottom"},reference:{type:xe(Object),default:null},strategy:{type:xe(String),values:bse,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),_se={close:()=>!0},wse=he({name:"ElTourContent"}),xse=he({...wse,props:dS,emits:_se,setup(t,{emit:e}){const n=t,r=j(n.placement),a=j(n.strategy),o=j(null),s=j(null);Qe(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:i,arrowStyle:l}=pse(Rn(n,"reference"),o,s,r,a,Rn(n,"offset"),Rn(n,"zIndex"),Rn(n,"showArrow")),c=P(()=>r.value.split("-")[0]),{ns:u}=St(Om),f=()=>{e("close")},h=p=>{p.detail.focusReason==="pointer"&&p.preventDefault()};return(p,m)=>(N(),ee("div",{ref_key:"contentRef",ref:o,style:bt(d(i)),class:V(d(u).e("content")),"data-side":d(c),tabindex:"-1"},[J(d(_d),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":o.value||void 0,onReleaseRequested:f,onFocusoutPrevented:h},{default:le(()=>[Me(p.$slots,"default")]),_:3},8,["focus-trap-el"]),p.showArrow?(N(),ee("span",{key:0,ref_key:"arrowRef",ref:s,style:bt(d(l)),class:V(d(u).e("arrow"))},null,6)):Te("v-if",!0)],14,["data-side"]))}});var Cse=st(xse,[["__file","content.vue"]]),Ase=he({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let r=0;return()=>{var a,o;const s=(a=e.default)==null?void 0:a.call(e),i=[];let l=0;function c(u){nt(u)&&u.forEach(f=>{var h;((h=(f==null?void 0:f.type)||{})==null?void 0:h.name)==="ElTourStep"&&(i.push(f),l+=1)})}return s.length&&c(rl((o=s[0])==null?void 0:o.children)),r!==l&&(r=l,n("update-total",l)),i.length?i[t.current]:null}}});const Ese=at({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:On},placement:dS.placement,contentStyle:{type:xe([Object])},mask:{type:xe([Boolean,Object]),default:!0},gap:{type:xe(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:xe([Boolean,Object]),default:()=>({block:"center"})},type:{type:xe(String)},appendTo:{type:xe([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),Mse={[Jt]:t=>Kn(t),"update:current":t=>Nt(t),close:t=>Nt(t),finish:()=>!0,change:t=>Nt(t)},Tse=he({name:"ElTour"}),Ise=he({...Tse,props:Ese,emits:Mse,setup(t,{emit:e}){const n=t,r=Ze("tour"),a=j(0),o=j(),s=rM(n,"current",e,{passive:!0}),i=P(()=>{var T;return(T=o.value)==null?void 0:T.target}),l=P(()=>[r.b(),y.value==="primary"?r.m("primary"):""]),c=P(()=>{var T;return((T=o.value)==null?void 0:T.placement)||n.placement}),u=P(()=>{var T,M;return(M=(T=o.value)==null?void 0:T.contentStyle)!=null?M:n.contentStyle}),f=P(()=>{var T,M;return(M=(T=o.value)==null?void 0:T.mask)!=null?M:n.mask}),h=P(()=>!!f.value&&n.modelValue),p=P(()=>Kn(f.value)?void 0:f.value),m=P(()=>{var T,M;return!!i.value&&((M=(T=o.value)==null?void 0:T.showArrow)!=null?M:n.showArrow)}),g=P(()=>{var T,M;return(M=(T=o.value)==null?void 0:T.scrollIntoViewOptions)!=null?M:n.scrollIntoViewOptions}),y=P(()=>{var T,M;return(M=(T=o.value)==null?void 0:T.type)!=null?M:n.type}),{nextZIndex:v}=bd(),A=v(),w=P(()=>{var T;return(T=n.zIndex)!=null?T:A}),{mergedPosInfo:S,triggerTarget:C}=fse(i,Rn(n,"modelValue"),Rn(n,"gap"),f,g);Qe(()=>n.modelValue,T=>{T||(s.value=0)});const E=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",s.value))},I=T=>{a.value=T},k=zr();return vn(Om,{currentStep:o,current:s,total:a,showClose:Rn(n,"showClose"),closeIcon:Rn(n,"closeIcon"),mergedType:y,ns:r,slots:k,updateModelValue(T){e("update:modelValue",T)},onClose(){e("close",s.value)},onFinish(){e("finish")},onChange(){e("change",s.value)}}),(T,M)=>(N(),ee(Et,null,[J(d(wd),{to:T.appendTo},{default:le(()=>{var D,B;return[re("div",un({class:d(l)},T.$attrs),[J(yse,{visible:d(h),fill:(D=d(p))==null?void 0:D.color,style:bt((B=d(p))==null?void 0:B.style),pos:d(S),"z-index":d(w),"target-area-clickable":T.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),T.modelValue?(N(),Ue(Cse,{key:d(s),reference:d(C),placement:d(c),"show-arrow":d(m),"z-index":d(w),style:bt(d(u)),onClose:E},{default:le(()=>[J(d(Ase),{current:d(s),onUpdateTotal:I},{default:le(()=>[Me(T.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Te("v-if",!0)],16)]}),_:3},8,["to"]),Te(" just for IDE "),Te("v-if",!0)],64))}});var Rse=st(Ise,[["__file","tour.vue"]]);const kse=at({target:{type:xe([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:On},showArrow:{type:Boolean,default:void 0},placement:dS.placement,mask:{type:xe([Boolean,Object]),default:void 0},contentStyle:{type:xe([Object])},prevButtonProps:{type:xe(Object)},nextButtonProps:{type:xe(Object)},scrollIntoViewOptions:{type:xe([Boolean,Object]),default:void 0},type:{type:xe(String)}}),Dse={close:()=>!0},Pse=he({name:"ElTourStep"}),Bse=he({...Pse,props:kse,emits:Dse,setup(t,{emit:e}){const n=t,{Close:r}=t2,{t:a}=_n(),{currentStep:o,current:s,total:i,showClose:l,closeIcon:c,mergedType:u,ns:f,slots:h,updateModelValue:p,onClose:m,onFinish:g,onChange:y}=St(Om);Qe(n,k=>{o.value=k},{immediate:!0});const v=P(()=>{var k;return(k=n.showClose)!=null?k:l.value}),A=P(()=>{var k,T;return(T=(k=n.closeIcon)!=null?k:c.value)!=null?T:r}),w=k=>{if(k)return oF(k,["children","onClick"])},S=()=>{var k,T;s.value-=1,(k=n.prevButtonProps)!=null&&k.onClick&&((T=n.prevButtonProps)==null||T.onClick()),y()},C=()=>{var k;s.value>=i.value-1?E():s.value+=1,(k=n.nextButtonProps)!=null&&k.onClick&&n.nextButtonProps.onClick(),y()},E=()=>{I(),g()},I=()=>{p(!1),m(),e("close")};return(k,T)=>(N(),ee(Et,null,[d(v)?(N(),ee("button",{key:0,"aria-label":"Close",class:V(d(f).e("closebtn")),type:"button",onClick:I},[J(d(Ct),{class:V(d(f).e("close"))},{default:le(()=>[(N(),Ue(ln(d(A))))]),_:1},8,["class"])],2)):Te("v-if",!0),re("header",{class:V([d(f).e("header"),{"show-close":d(l)}])},[Me(k.$slots,"header",{},()=>[re("span",{role:"heading",class:V(d(f).e("title"))},rt(k.title),3)])],2),re("div",{class:V(d(f).e("body"))},[Me(k.$slots,"default",{},()=>[re("span",null,rt(k.description),1)])],2),re("footer",{class:V(d(f).e("footer"))},[re("div",{class:V(d(f).b("indicators"))},[d(h).indicators?(N(),Ue(ln(d(h).indicators),{key:0,current:d(s),total:d(i)},null,8,["current","total"])):(N(!0),ee(Et,{key:1},fn(d(i),(M,D)=>(N(),ee("span",{key:M,class:V([d(f).b("indicator"),D===d(s)?"is-active":""])},null,2))),128))],2),re("div",{class:V(d(f).b("buttons"))},[d(s)>0?(N(),Ue(d(Jr),un({key:0,size:"small",type:d(u)},w(k.prevButtonProps),{onClick:S}),{default:le(()=>{var M,D;return[Zt(rt((D=(M=k.prevButtonProps)==null?void 0:M.children)!=null?D:d(a)("el.tour.previous")),1)]}),_:1},16,["type"])):Te("v-if",!0),d(s)<=d(i)-1?(N(),Ue(d(Jr),un({key:1,size:"small",type:d(u)==="primary"?"default":"primary"},w(k.nextButtonProps),{onClick:C}),{default:le(()=>{var M,D;return[Zt(rt((D=(M=k.nextButtonProps)==null?void 0:M.children)!=null?D:d(s)===d(i)-1?d(a)("el.tour.finish"):d(a)("el.tour.next")),1)]}),_:1},16,["type"])):Te("v-if",!0)],2)],2)],64))}});var s8=st(Bse,[["__file","step.vue"]]);const Lse=qt(Rse,{TourStep:s8}),Nse=hr(s8),Fse=at({container:{type:xe([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:xe(String),default:"default"},direction:{type:xe(String),default:"vertical"}}),Ose={change:t=>Mt(t),click:(t,e)=>t instanceof MouseEvent&&(Mt(e)||Bn(e))},i8=Symbol("anchor"),i0=t=>{if(!Sn||t==="")return null;if(Mt(t))try{return document.querySelector(t)}catch{return null}return t};function zse(t){let e=0;const n=(...r)=>{e&&Sc(e),e=hl(()=>{t(...r),e=0})};return n.cancel=()=>{Sc(e),e=0},n}const Use=he({name:"ElAnchor"}),Hse=he({...Use,props:Fse,emits:Ose,setup(t,{expose:e,emit:n}){const r=t,a=j(""),o=j(null),s=j(null),i=j(),l={};let c=!1,u=0;const f=Ze("anchor"),h=P(()=>[f.b(),r.type==="underline"?f.m("underline"):"",f.m(r.direction)]),p=k=>{l[k.href]=k.el},m=k=>{delete l[k]},g=k=>{a.value!==k&&(a.value=k,n("change",k))};let y=null;const v=k=>{if(!i.value)return;const T=i0(k);if(!T)return;y&&y(),c=!0;const M=L4(T,i.value),D=w1(T,M),B=M.scrollHeight-M.clientHeight,z=Math.min(D-r.offset,B);y=dO(i.value,u,z,r.duration,()=>{setTimeout(()=>{c=!1},20)})},A=k=>{k&&(g(k),v(k))},w=(k,T)=>{n("click",k,T),A(T)},S=zse(()=>{i.value&&(u=N4(i.value));const k=C();c||Bn(k)||g(k)}),C=()=>{if(!i.value)return;const k=N4(i.value),T=[];for(const M of Object.keys(l)){const D=i0(M);if(!D)continue;const B=L4(D,i.value),z=w1(D,B);T.push({top:z-r.offset-r.bound,href:M})}T.sort((M,D)=>M.top-D.top);for(let M=0;M<T.length;M++){const D=T[M],B=T[M+1];if(M===0&&k===0)return"";if(D.top<=k&&(!B||B.top>k))return D.href}},E=()=>{const k=i0(r.container);!k||gm(k)?i.value=window:i.value=k};Ln(i,"scroll",S);const I=P(()=>{if(!o.value||!s.value||!a.value)return{};const k=l[a.value];if(!k)return{};const T=o.value.getBoundingClientRect(),M=s.value.getBoundingClientRect(),D=k.getBoundingClientRect();return r.direction==="horizontal"?{left:`${D.left-T.left}px`,width:`${D.width}px`,opacity:1}:{top:`${D.top-T.top+(D.height-M.height)/2}px`,opacity:1}});return Yt(()=>{E();const k=decodeURIComponent(window.location.hash);i0(k)?A(k):S()}),Qe(()=>r.container,()=>{E()}),vn(i8,{ns:f,direction:r.direction,currentAnchor:a,addLink:p,removeLink:m,handleClick:w}),e({scrollTo:A}),(k,T)=>(N(),ee("div",{ref_key:"anchorRef",ref:o,class:V(d(h))},[k.marker?(N(),ee("div",{key:0,ref_key:"markerRef",ref:s,class:V(d(f).e("marker")),style:bt(d(I))},null,6)):Te("v-if",!0),re("div",{class:V(d(f).e("list"))},[Me(k.$slots,"default")],2)],2))}});var $se=st(Hse,[["__file","anchor.vue"]]);const Vse=at({title:String,href:String}),Wse=he({name:"ElAnchorLink"}),Gse=he({...Wse,props:Vse,setup(t){const e=t,n=j(null),{ns:r,direction:a,currentAnchor:o,addLink:s,removeLink:i,handleClick:l}=St(i8),c=P(()=>[r.e("link"),r.is("active",o.value===e.href)]),u=f=>{l(f,e.href)};return Qe(()=>e.href,(f,h)=>{Bt(()=>{h&&i(h),f&&s({href:f,el:n.value})})}),Yt(()=>{const{href:f}=e;f&&s({href:f,el:n.value})}),Un(()=>{const{href:f}=e;f&&i(f)}),(f,h)=>(N(),ee("div",{class:V(d(r).e("item"))},[re("a",{ref_key:"linkRef",ref:n,class:V(d(c)),href:f.href,onClick:u},[Me(f.$slots,"default",{},()=>[Zt(rt(f.title),1)])],10,["href"]),f.$slots["sub-link"]&&d(a)==="vertical"?(N(),ee("div",{key:0,class:V(d(r).e("list"))},[Me(f.$slots,"sub-link")],2)):Te("v-if",!0)],2))}});var l8=st(Gse,[["__file","anchor-link.vue"]]);const Kse=qt($se,{AnchorLink:l8}),qse=hr(l8),jse=at({direction:{type:xe(String),default:"horizontal"},options:{type:xe(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:Or,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...ca(["ariaLabel"])}),Yse={[Jt]:t=>Mt(t)||Nt(t)||Kn(t),[Fn]:t=>Mt(t)||Nt(t)||Kn(t)},Xse=he({name:"ElSegmented"}),Qse=he({...Xse,props:jse,emits:Yse,setup(t,{emit:e}){const n=t,r=Ze("segmented"),a=la(),o=Dr(),s=wa(),{formItem:i}=_a(),{inputId:l,isLabeledByFormItem:c}=Wo(n,{formItemContext:i}),u=j(null),f=BF(),h=Mn({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),p=T=>{const M=m(T);e(Jt,M),e(Fn,M)},m=T=>tn(T)?T.value:T,g=T=>tn(T)?T.label:T,y=T=>!!(s.value||tn(T)&&T.disabled),v=T=>n.modelValue===m(T),A=T=>n.options.find(M=>m(M)===T),w=T=>[r.e("item"),r.is("selected",v(T)),r.is("disabled",y(T))],S=()=>{if(!u.value)return;const T=u.value.querySelector(".is-selected"),M=u.value.querySelector(".is-selected input");if(!T||!M){h.width=0,h.height=0,h.translateX=0,h.translateY=0,h.focusVisible=!1;return}const D=T.getBoundingClientRect();h.isInit=!0,n.direction==="vertical"?(h.height=D.height,h.translateY=T.offsetTop):(h.width=D.width,h.translateX=T.offsetLeft);try{h.focusVisible=M.matches(":focus-visible")}catch{}},C=P(()=>[r.b(),r.m(o.value),r.is("block",n.block)]),E=P(()=>({width:n.direction==="vertical"?"100%":`${h.width}px`,height:n.direction==="vertical"?`${h.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${h.translateY}px)`:`translateX(${h.translateX}px)`,display:h.isInit?"block":"none"})),I=P(()=>[r.e("item-selected"),r.is("disabled",y(A(n.modelValue))),r.is("focus-visible",h.focusVisible)]),k=P(()=>n.name||a.value);return or(u,S),Qe(f,S),Qe(()=>n.modelValue,()=>{var T;S(),n.validateEvent&&((T=i==null?void 0:i.validate)==null||T.call(i,"change").catch(M=>void 0))},{flush:"post"}),(T,M)=>T.options.length?(N(),ee("div",{key:0,id:d(l),ref_key:"segmentedRef",ref:u,class:V(d(C)),role:"radiogroup","aria-label":d(c)?void 0:T.ariaLabel||"segmented","aria-labelledby":d(c)?d(i).labelId:void 0},[re("div",{class:V([d(r).e("group"),d(r).m(n.direction)])},[re("div",{style:bt(d(E)),class:V(d(I))},null,6),(N(!0),ee(Et,null,fn(T.options,(D,B)=>(N(),ee("label",{key:B,class:V(w(D))},[re("input",{class:V(d(r).e("item-input")),type:"radio",name:d(k),disabled:y(D),checked:v(D),onChange:z=>p(D)},null,42,["name","disabled","checked","onChange"]),re("div",{class:V(d(r).e("item-label"))},[Me(T.$slots,"default",{item:D},()=>[Zt(rt(g(D)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Te("v-if",!0)}});var Zse=st(Qse,[["__file","segmented.vue"]]);const Jse=qt(Zse),eie=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},tie=(t,e,n)=>{const{selectionEnd:r}=t;if(r===null)return;const a=t.value,o=Ia(e);let s=-1,i;for(let l=r-1;l>=0;--l){const c=a[l];if(c===n||c===`
`||c==="\r"){s=l;continue}if(o.includes(c)){const u=s===-1?r:s;i={pattern:a.slice(l+1,u),start:l+1,end:u,prefix:c,prefixIndex:l,splitIndex:s,selectionEnd:r};break}}return i},nie=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,r=t.selectionEnd!==null?t.selectionEnd:0,a=e.useSelectionEnd?r:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const h=document.querySelector("#input-textarea-caret-position-mirror-div");h!=null&&h.parentNode&&h.parentNode.removeChild(h)}const s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);const i=s.style,l=window.getComputedStyle(t),c=t.nodeName==="INPUT";i.whiteSpace=c?"nowrap":"pre-wrap",c||(i.wordWrap="break-word"),i.position="absolute",e.debug||(i.visibility="hidden"),o.forEach(h=>{if(c&&h==="lineHeight")if(l.boxSizing==="border-box"){const p=Number.parseInt(l.height),m=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),g=m+Number.parseInt(l.lineHeight);p>g?i.lineHeight=`${p-m}px`:p===g?i.lineHeight=l.lineHeight:i.lineHeight="0"}else i.lineHeight=l.height;else i[h]=l[h]}),xm()?t.scrollHeight>Number.parseInt(l.height)&&(i.overflowY="scroll"):i.overflow="hidden",s.textContent=t.value.slice(0,Math.max(0,a)),c&&s.textContent&&(s.textContent=s.textContent.replace(/\s/g," "));const u=document.createElement("span");u.textContent=t.value.slice(Math.max(0,a))||".",u.style.position="relative",u.style.left=`${-t.scrollLeft}px`,u.style.top=`${-t.scrollTop}px`,s.appendChild(u);const f={top:u.offsetTop+Number.parseInt(l.borderTopWidth),left:u.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?u.style.backgroundColor="#aaa":document.body.removeChild(s),f.left>=t.clientWidth&&(f.left=t.clientWidth),f},rie=at({...r2,options:{type:xe(Array),default:()=>[]},prefix:{type:xe([String,Array]),default:"@",validator:t=>Mt(t)?t.length===1:t.every(e=>Mt(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:xe([Boolean,Function]),default:()=>eie,validator:t=>t===!1?!0:Pt(t)},placement:{type:xe(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:xe(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:xe(Object),default:()=>({})}}),aie={[Jt]:t=>Mt(t),search:(t,e)=>Mt(t)&&Mt(e),select:(t,e)=>Mt(t.value)&&Mt(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},oie=at({options:{type:xe(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),sie={select:t=>Mt(t.value)},iie=he({name:"ElMentionDropdown"}),lie=he({...iie,props:oie,emits:sie,setup(t,{expose:e,emit:n}){const r=t,a=Ze("mention"),{t:o}=_n(),s=j(-1),i=j(),l=j(),c=j(),u=(w,S)=>[a.be("dropdown","item"),a.is("hovering",s.value===S),a.is("disabled",w.disabled||r.disabled)],f=w=>{w.disabled||r.disabled||n("select",w)},h=w=>{s.value=w},p=P(()=>r.disabled||r.options.every(w=>w.disabled)),m=P(()=>r.options[s.value]),g=()=>{m.value&&n("select",m.value)},y=w=>{const{options:S}=r;if(S.length===0||p.value)return;w==="next"?(s.value++,s.value===S.length&&(s.value=0)):w==="prev"&&(s.value--,s.value<0&&(s.value=S.length-1));const C=S[s.value];if(C.disabled){y(w);return}Bt(()=>v(C))},v=w=>{var S,C,E,I;const{options:k}=r,T=k.findIndex(D=>D.value===w.value),M=(S=l.value)==null?void 0:S[T];if(M){const D=(E=(C=c.value)==null?void 0:C.querySelector)==null?void 0:E.call(C,`.${a.be("dropdown","wrap")}`);D&&Xb(D,M)}(I=i.value)==null||I.handleScroll()};return Qe(()=>r.options,()=>{p.value||r.options.length===0?s.value=-1:s.value=0},{immediate:!0}),e({hoveringIndex:s,navigateOptions:y,selectHoverOption:g,hoverOption:m}),(w,S)=>(N(),ee("div",{ref_key:"dropdownRef",ref:c,class:V(d(a).b("dropdown"))},[w.$slots.header?(N(),ee("div",{key:0,class:V(d(a).be("dropdown","header"))},[Me(w.$slots,"header")],2)):Te("v-if",!0),Qt(J(d(zs),{id:w.contentId,ref_key:"scrollbarRef",ref:i,tag:"ul","wrap-class":d(a).be("dropdown","wrap"),"view-class":d(a).be("dropdown","list"),role:"listbox","aria-label":w.ariaLabel,"aria-orientation":"vertical"},{default:le(()=>[(N(!0),ee(Et,null,fn(w.options,(C,E)=>(N(),ee("li",{id:`${w.contentId}-${E}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:E,class:V(u(C,E)),role:"option","aria-disabled":C.disabled||w.disabled||void 0,"aria-selected":s.value===E,onMousemove:I=>h(E),onClick:zt(I=>f(C),["stop"])},[Me(w.$slots,"label",{item:C,index:E},()=>{var I;return[re("span",null,rt((I=C.label)!=null?I:C.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[En,w.options.length>0&&!w.loading]]),w.loading?(N(),ee("div",{key:1,class:V(d(a).be("dropdown","loading"))},[Me(w.$slots,"loading",{},()=>[Zt(rt(d(o)("el.mention.loading")),1)])],2)):Te("v-if",!0),w.$slots.footer?(N(),ee("div",{key:2,class:V(d(a).be("dropdown","footer"))},[Me(w.$slots,"footer")],2)):Te("v-if",!0)],2))}});var cie=st(lie,[["__file","mention-dropdown.vue"]]);const uie=he({name:"ElMention",inheritAttrs:!1}),die=he({...uie,props:rie,emits:aie,setup(t,{expose:e,emit:n}){const r=t,a=P(()=>as(r,Object.keys(r2))),o=Ze("mention"),s=wa(),i=la(),l=j(),c=j(),u=j(),f=j(!1),h=j(),p=j(),m=P(()=>r.showArrow?r.placement:`${r.placement}-start`),g=P(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),y=P(()=>{const{filterOption:B,options:z}=r;return!p.value||!B?z:z.filter(q=>B(p.value.pattern,q))}),v=P(()=>f.value&&(!!y.value.length||r.loading)),A=P(()=>{var B;return`${i.value}-${(B=u.value)==null?void 0:B.hoveringIndex}`}),w=B=>{n("update:modelValue",B),T()},S=B=>{var z,q,$,L;if(!(!("code"in B)||(z=l.value)!=null&&z.isComposing))switch(B.code){case mt.left:case mt.right:T();break;case mt.up:case mt.down:if(!f.value)return;B.preventDefault(),(q=u.value)==null||q.navigateOptions(B.code===mt.up?"prev":"next");break;case mt.enter:case mt.numpadEnter:if(!f.value)return;B.preventDefault(),($=u.value)!=null&&$.hoverOption?(L=u.value)==null||L.selectHoverOption():f.value=!1;break;case mt.esc:if(!f.value)return;B.preventDefault(),f.value=!1;break;case mt.backspace:if(r.whole&&p.value){const{splitIndex:W,selectionEnd:U,pattern:F,prefixIndex:Q,prefix:ne}=p.value,de=k();if(!de)return;const ie=de.value,ce=r.options.find(Ae=>Ae.value===F);if((Pt(r.checkIsWhole)?r.checkIsWhole(F,ne):ce)&&W!==-1&&W+1===U){B.preventDefault();const Ae=ie.slice(0,Q)+ie.slice(W+1);n(Jt,Ae);const pe=Q;Bt(()=>{de.selectionStart=pe,de.selectionEnd=pe,D()})}}}},{wrapperRef:C}=Al(l,{beforeFocus(){return s.value},afterFocus(){T()},beforeBlur(B){var z;return(z=c.value)==null?void 0:z.isFocusInsideContent(B)},afterBlur(){f.value=!1}}),E=()=>{T()},I=B=>{if(!p.value)return;const z=k();if(!z)return;const q=z.value,{split:$}=r,L=q.slice(p.value.end),W=L.startsWith($),U=`${B.value}${W?"":$}`,F=q.slice(0,p.value.start)+U+L;n(Jt,F),n("select",B,p.value.prefix);const Q=p.value.start+U.length+(W?1:0);Bt(()=>{z.selectionStart=Q,z.selectionEnd=Q,z.focus(),D()})},k=()=>{var B,z;return r.type==="textarea"?(B=l.value)==null?void 0:B.textarea:(z=l.value)==null?void 0:z.input},T=()=>{setTimeout(()=>{M(),D(),Bt(()=>{var B;return(B=c.value)==null?void 0:B.updatePopper()})},0)},M=()=>{const B=k();if(!B)return;const z=nie(B),q=B.getBoundingClientRect(),$=l.value.$el.getBoundingClientRect();h.value={position:"absolute",width:0,height:`${z.height}px`,left:`${z.left+q.left-$.left}px`,top:`${z.top+q.top-$.top}px`}},D=()=>{const B=k();if(document.activeElement!==B){f.value=!1;return}const{prefix:z,split:q}=r;if(p.value=tie(B,z,q),p.value&&p.value.splitIndex===-1){f.value=!0,n("search",p.value.pattern,p.value.prefix);return}f.value=!1};return e({input:l,tooltip:c,dropdownVisible:v}),(B,z)=>(N(),ee("div",{ref_key:"wrapperRef",ref:C,class:V(d(o).b())},[J(d(ka),un(un(d(a),B.$attrs),{ref_key:"elInputRef",ref:l,"model-value":B.modelValue,disabled:d(s),role:d(v)?"combobox":void 0,"aria-activedescendant":d(v)?d(A)||"":void 0,"aria-controls":d(v)?d(i):void 0,"aria-expanded":d(v)||void 0,"aria-label":B.ariaLabel,"aria-autocomplete":d(v)?"none":void 0,"aria-haspopup":d(v)?"listbox":void 0,onInput:w,onKeydown:S,onMousedown:E}),Oo({_:2},[fn(B.$slots,(q,$)=>({name:$,fn:le(L=>[Me(B.$slots,$,ns(ul(L)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),J(d(Sa),{ref_key:"tooltipRef",ref:c,visible:d(v),"popper-class":[d(o).e("popper"),B.popperClass],"popper-options":B.popperOptions,placement:d(m),"fallback-placements":d(g),effect:"light",pure:"",offset:B.offset,"show-arrow":B.showArrow},{default:le(()=>[re("div",{style:bt(h.value)},null,4)]),content:le(()=>{var q;return[J(cie,{ref_key:"dropdownRef",ref:u,options:d(y),disabled:d(s),loading:B.loading,"content-id":d(i),"aria-label":B.ariaLabel,onSelect:I,onClick:zt((q=l.value)==null?void 0:q.focus,["stop"])},Oo({_:2},[fn(B.$slots,($,L)=>({name:L,fn:le(W=>[Me(B.$slots,L,ns(ul(W)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var fie=st(die,[["__file","mention.vue"]]);const hie=qt(fie);var pie=[vO,Nz,I$,ere,L$,$$,QM,eV,tV,Jr,aT,GV,XV,hW,pW,pG,ET,SG,$o,TW,gT,AG,HG,$G,Mm,pK,gK,IK,RK,kK,DK,PK,Wq,ej,tj,hj,o5,xj,fY,hY,pY,p5,hX,pX,Ct,AX,g5,ka,y5,HX,qX,hQ,pQ,mQ,vQ,wQ,hZ,bZ,TZ,KM,M5,CT,HW,UW,OZ,VZ,XZ,zs,_c,Ep,qQ,IJ,OJ,zJ,aee,cee,U5,See,Iee,Ree,Nee,Wte,Gte,Jne,mre,vre,ju,_re,uq,Mre,Dre,Pre,Sa,Nae,Yae,zp,poe,koe,ese,use,Lse,Nse,Kse,qse,Jse,hie];const To="ElInfiniteScroll",mie=50,vie=200,gie=0,yie={delay:{type:Number,default:vie},distance:{type:Number,default:gie},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},fS=(t,e)=>Object.entries(yie).reduce((n,[r,a])=>{var o,s;const{type:i,default:l}=a,c=t.getAttribute(`infinite-scroll-${r}`);let u=(s=(o=e[c])!=null?o:c)!=null?s:l;return u=u==="false"?!1:u,u=i(u),n[r]=Number.isNaN(u)?l:u,n},{}),c8=t=>{const{observer:e}=t[To];e&&(e.disconnect(),delete t[To].observer)},bie=(t,e)=>{const{container:n,containerEl:r,instance:a,observer:o,lastScrollTop:s}=t[To],{disabled:i,distance:l}=fS(t,a),{clientHeight:c,scrollHeight:u,scrollTop:f}=r,h=f-s;if(t[To].lastScrollTop=f,o||i||h<0)return;let p=!1;if(n===t)p=u-(c+f)<=l;else{const{clientTop:m,scrollHeight:g}=t,y=w1(t,r);p=f+c>=y+m+g-l}p&&e.call(a)};function ag(t,e){const{containerEl:n,instance:r}=t[To],{disabled:a}=fS(t,r);a||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):c8(t))}const Sie={async mounted(t,e){const{instance:n,value:r}=e;Pt(r)||Wr(To,"'v-infinite-scroll' binding value must be a function"),await Bt();const{delay:a,immediate:o}=fS(t,n),s=Yb(t,!0),i=s===window?document.documentElement:s,l=fc(bie.bind(null,t,r),a);if(s){if(t[To]={instance:n,container:s,containerEl:i,delay:a,cb:r,onScroll:l,lastScrollTop:i.scrollTop},o){const c=new MutationObserver(fc(ag.bind(null,t,r),mie));t[To].observer=c,c.observe(t,{childList:!0,subtree:!0}),ag(t,r)}s.addEventListener("scroll",l)}},unmounted(t){if(!t[To])return;const{container:e,onScroll:n}=t[To];e==null||e.removeEventListener("scroll",n),c8(t)},async updated(t){if(!t[To])await Bt();else{const{containerEl:e,cb:n,observer:r}=t[To];e.clientHeight&&r&&ag(t,n)}}},uy=Sie;uy.install=t=>{t.directive("InfiniteScroll",uy)};const _ie=uy;function wie(t){let e;const n=j(!1),r=Mn({...t,originalPosition:"",originalOverflow:"",visible:!1});function a(h){r.text=h}function o(){const h=r.parent,p=f.ns;if(!h.vLoadingAddClassList){let m=h.getAttribute("loading-number");m=Number.parseInt(m)-1,m?h.setAttribute("loading-number",m.toString()):(Pa(h,p.bm("parent","relative")),h.removeAttribute("loading-number")),Pa(h,p.bm("parent","hidden"))}s(),u.unmount()}function s(){var h,p;(p=(h=f.$el)==null?void 0:h.parentNode)==null||p.removeChild(f.$el)}function i(){var h;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=setTimeout(l,400),r.visible=!1,(h=t.closed)==null||h.call(t))}function l(){if(!n.value)return;const h=r.parent;n.value=!1,h.vLoadingAddClassList=void 0,o()}const c=he({name:"ElLoading",setup(h,{expose:p}){const{ns:m,zIndex:g}=Sm("loading");return p({ns:m,zIndex:g}),()=>{const y=r.spinner||r.svg,v=Lt("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[Lt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),A=r.text?Lt("p",{class:m.b("text")},[r.text]):void 0;return Lt(Vr,{name:m.b("fade"),onAfterLeave:l},{default:le(()=>[Qt(J("div",{style:{backgroundColor:r.background||""},class:[m.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[Lt("div",{class:m.b("spinner")},[v,A])]),[[En,r.visible]])])})}}}),u=cE(c),f=u.mount(document.createElement("div"));return{...jr(r),setText:a,removeElLoadingChild:s,close:i,handleAfterLeave:l,vm:f,get $el(){return f.$el}}}let l0;const dy=function(t={}){if(!Sn)return;const e=xie(t);if(e.fullscreen&&l0)return l0;const n=wie({...e,closed:()=>{var a;(a=e.closed)==null||a.call(e),e.fullscreen&&(l0=void 0)}});Cie(e,e.parent,n),EC(e,e.parent,n),e.parent.vLoadingAddClassList=()=>EC(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),Bt(()=>n.visible.value=e.visible),e.fullscreen&&(l0=n),n},xie=t=>{var e,n,r,a;let o;return Mt(t.target)?o=(e=document.querySelector(t.target))!=null?e:document.body:o=t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(a=t.visible)!=null?a:!0,beforeClose:t.beforeClose,closed:t.closed,target:o}},Cie=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,a={};if(t.fullscreen)n.originalPosition.value=ii(document.body,"position"),n.originalOverflow.value=ii(document.body,"overflow"),a.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=ii(document.body,"position"),await Bt();for(const o of["top","left"]){const s=o==="top"?"scrollTop":"scrollLeft";a[o]=`${t.target.getBoundingClientRect()[o]+document.body[s]+document.documentElement[s]-Number.parseInt(ii(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])a[o]=`${t.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=ii(e,"position");for(const[o,s]of Object.entries(a))n.$el.style[o]=s},EC=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Pa(e,r.bm("parent","relative")):Do(e,r.bm("parent","relative")),t.fullscreen&&t.lock?Do(e,r.bm("parent","hidden")):Pa(e,r.bm("parent","hidden"))},rp=Symbol("ElLoading"),MC=(t,e)=>{var n,r,a,o;const s=e.instance,i=h=>tn(e.value)?e.value[h]:void 0,l=h=>{const p=Mt(h)&&(s==null?void 0:s[h])||h;return p&&j(p)},c=h=>l(i(h)||t.getAttribute(`element-loading-${_l(h)}`)),u=(n=i("fullscreen"))!=null?n:e.modifiers.fullscreen,f={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(r=i("target"))!=null?r:u?void 0:t,body:(a=i("body"))!=null?a:e.modifiers.body,lock:(o=i("lock"))!=null?o:e.modifiers.lock};t[rp]={options:f,instance:dy(f)}},Aie=(t,e)=>{for(const n of Object.keys(e))jn(e[n])&&(e[n].value=t[n])},TC={mounted(t,e){e.value&&MC(t,e)},updated(t,e){const n=t[rp];e.oldValue!==e.value&&(e.value&&!e.oldValue?MC(t,e):e.value&&e.oldValue?tn(e.value)&&Aie(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[rp])==null||e.instance.close(),t[rp]=null}},Eie={install(t){t.directive("loading",TC),t.config.globalProperties.$loading=dy},directive:TC,service:dy},u8=["success","info","warning","error"],Ea=fr({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Sn?document.body:void 0}),Mie=at({customClass:{type:String,default:Ea.customClass},center:{type:Boolean,default:Ea.center},dangerouslyUseHTMLString:{type:Boolean,default:Ea.dangerouslyUseHTMLString},duration:{type:Number,default:Ea.duration},icon:{type:On,default:Ea.icon},id:{type:String,default:Ea.id},message:{type:xe([String,Object,Function]),default:Ea.message},onClose:{type:xe(Function),default:Ea.onClose},showClose:{type:Boolean,default:Ea.showClose},type:{type:String,values:u8,default:Ea.type},plain:{type:Boolean,default:Ea.plain},offset:{type:Number,default:Ea.offset},zIndex:{type:Number,default:Ea.zIndex},grouping:{type:Boolean,default:Ea.grouping},repeatNum:{type:Number,default:Ea.repeatNum}}),Tie={destroy:()=>!0},os=yA([]),Iie=t=>{const e=os.findIndex(a=>a.id===t),n=os[e];let r;return e>0&&(r=os[e-1]),{current:n,prev:r}},Rie=t=>{const{prev:e}=Iie(t);return e?e.vm.exposed.bottom.value:0},kie=(t,e)=>os.findIndex(r=>r.id===t)>0?16:e,Die=he({name:"ElMessage"}),Pie=he({...Die,props:Mie,emits:Tie,setup(t,{expose:e}){const n=t,{Close:r}=n2,{ns:a,zIndex:o}=Sm("message"),{currentZIndex:s,nextZIndex:i}=o,l=j(),c=j(!1),u=j(0);let f;const h=P(()=>n.type?n.type==="error"?"danger":n.type:"info"),p=P(()=>{const I=n.type;return{[a.bm("icon",I)]:I&&gl[I]}}),m=P(()=>n.icon||gl[n.type]||""),g=P(()=>Rie(n.id)),y=P(()=>kie(n.id,n.offset)+g.value),v=P(()=>u.value+y.value),A=P(()=>({top:`${y.value}px`,zIndex:s.value}));function w(){n.duration!==0&&({stop:f}=bc(()=>{C()},n.duration))}function S(){f==null||f()}function C(){c.value=!1}function E({code:I}){I===mt.esc&&C()}return Yt(()=>{w(),i(),c.value=!0}),Qe(()=>n.repeatNum,()=>{S(),w()}),Ln(document,"keydown",E),or(l,()=>{u.value=l.value.getBoundingClientRect().height}),e({visible:c,bottom:v,close:C}),(I,k)=>(N(),Ue(Vr,{name:d(a).b("fade"),onBeforeLeave:I.onClose,onAfterLeave:T=>I.$emit("destroy"),persisted:""},{default:le(()=>[Qt(re("div",{id:I.id,ref_key:"messageRef",ref:l,class:V([d(a).b(),{[d(a).m(I.type)]:I.type},d(a).is("center",I.center),d(a).is("closable",I.showClose),d(a).is("plain",I.plain),I.customClass]),style:bt(d(A)),role:"alert",onMouseenter:S,onMouseleave:w},[I.repeatNum>1?(N(),Ue(d(QM),{key:0,value:I.repeatNum,type:d(h),class:V(d(a).e("badge"))},null,8,["value","type","class"])):Te("v-if",!0),d(m)?(N(),Ue(d(Ct),{key:1,class:V([d(a).e("icon"),d(p)])},{default:le(()=>[(N(),Ue(ln(d(m))))]),_:1},8,["class"])):Te("v-if",!0),Me(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(N(),ee(Et,{key:1},[Te(" Caution here, message could've been compromised, never use user's input as message "),re("p",{class:V(d(a).e("content")),innerHTML:I.message},null,10,["innerHTML"])],2112)):(N(),ee("p",{key:0,class:V(d(a).e("content"))},rt(I.message),3))]),I.showClose?(N(),Ue(d(Ct),{key:2,class:V(d(a).e("closeBtn")),onClick:zt(C,["stop"])},{default:le(()=>[J(d(r))]),_:1},8,["class","onClick"])):Te("v-if",!0)],46,["id"]),[[En,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Bie=st(Pie,[["__file","message.vue"]]);let Lie=1;const d8=t=>{const e=!t||Mt(t)||ur(t)||Pt(t)?{message:t}:t,n={...Ea,...e};if(!n.appendTo)n.appendTo=document.body;else if(Mt(n.appendTo)){let r=document.querySelector(n.appendTo);vo(r)||(r=document.body),n.appendTo=r}return Kn(Jo.grouping)&&!n.grouping&&(n.grouping=Jo.grouping),Nt(Jo.duration)&&n.duration===3e3&&(n.duration=Jo.duration),Nt(Jo.offset)&&n.offset===16&&(n.offset=Jo.offset),Kn(Jo.showClose)&&!n.showClose&&(n.showClose=Jo.showClose),n},Nie=t=>{const e=os.indexOf(t);if(e===-1)return;os.splice(e,1);const{handler:n}=t;n.close()},Fie=({appendTo:t,...e},n)=>{const r=`message_${Lie++}`,a=e.onClose,o=document.createElement("div"),s={...e,id:r,onClose:()=>{a==null||a(),Nie(u)},onDestroy:()=>{dl(null,o)}},i=J(Bie,s,Pt(s.message)||ur(s.message)?{default:Pt(s.message)?s.message:()=>s.message}:null);i.appContext=n||ed._context,dl(i,o),t.appendChild(o.firstElementChild);const l=i.component,u={id:r,vnode:i,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:i.component.props};return u},ed=(t={},e)=>{if(!Sn)return{close:()=>{}};const n=d8(t);if(n.grouping&&os.length){const a=os.find(({vnode:o})=>{var s;return((s=o.props)==null?void 0:s.message)===n.message});if(a)return a.props.repeatNum+=1,a.props.type=n.type,a.handler}if(Nt(Jo.max)&&os.length>=Jo.max)return{close:()=>{}};const r=Fie(n,e);return os.push(r),r.handler};u8.forEach(t=>{ed[t]=(e={},n)=>{const r=d8(e);return ed({...r,type:t},n)}});function Oie(t){for(const e of os)(!t||t===e.props.type)&&e.handler.close()}ed.closeAll=Oie;ed._context=null;const zie=vM(ed,"$message"),fy="_trap-focus-children",sc=[],IC=t=>{if(sc.length===0)return;const e=sc[sc.length-1][fy];if(e.length>0&&t.code===mt.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,r=t.target===e[0],a=t.target===e[e.length-1];r&&n&&(t.preventDefault(),e[e.length-1].focus()),a&&!n&&(t.preventDefault(),e[0].focus())}},Uie={beforeMount(t){t[fy]=H4(t),sc.push(t),sc.length<=1&&document.addEventListener("keydown",IC)},updated(t){Bt(()=>{t[fy]=H4(t)})},unmounted(){sc.shift(),sc.length===0&&document.removeEventListener("keydown",IC)}},Hie=he({name:"ElMessageBox",directives:{TrapFocus:Uie},components:{ElButton:Jr,ElFocusTrap:_d,ElInput:ka,ElOverlay:k2,ElIcon:Ct,...n2},inheritAttrs:!1,props:{buttonSize:{type:String,validator:$5},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:r,ns:a,size:o}=Sm("message-box",P(()=>t.buttonSize)),{t:s}=n,{nextZIndex:i}=r,l=j(!1),c=Mn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:di(Is),cancelButtonLoadingIcon:di(Is),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:i()}),u=P(()=>{const L=c.type;return{[a.bm("icon",L)]:L&&gl[L]}}),f=la(),h=la(),p=P(()=>c.icon||gl[c.type]||""),m=P(()=>!!c.message),g=j(),y=j(),v=j(),A=j(),w=j(),S=P(()=>c.confirmButtonClass);Qe(()=>c.inputValue,async L=>{await Bt(),t.boxType==="prompt"&&L!==null&&B()},{immediate:!0}),Qe(()=>l.value,L=>{var W,U;L&&(t.boxType!=="prompt"&&(c.autofocus?v.value=(U=(W=w.value)==null?void 0:W.$el)!=null?U:g.value:v.value=g.value),c.zIndex=i()),t.boxType==="prompt"&&(L?Bt().then(()=>{var F;A.value&&A.value.$el&&(c.autofocus?v.value=(F=z())!=null?F:g.value:v.value=g.value)}):(c.editorErrorMessage="",c.validateError=!1))});const C=P(()=>t.draggable),E=P(()=>t.overflow);t5(g,y,C,E),Yt(async()=>{await Bt(),t.closeOnHashChange&&window.addEventListener("hashchange",I)}),Un(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",I)});function I(){l.value&&(l.value=!1,Bt(()=>{c.action&&e("action",c.action)}))}const k=()=>{t.closeOnClickModal&&D(c.distinguishCancelAndClose?"close":"cancel")},T=R2(k),M=L=>{if(c.inputType!=="textarea")return L.preventDefault(),D("confirm")},D=L=>{var W;t.boxType==="prompt"&&L==="confirm"&&!B()||(c.action=L,c.beforeClose?(W=c.beforeClose)==null||W.call(c,L,c,I):I())},B=()=>{if(t.boxType==="prompt"){const L=c.inputPattern;if(L&&!L.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;const W=c.inputValidator;if(Pt(W)){const U=W(c.inputValue);if(U===!1)return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;if(Mt(U))return c.editorErrorMessage=U,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},z=()=>{const L=A.value.$refs;return L.input||L.textarea},q=()=>{D("close")},$=()=>{t.closeOnPressEscape&&q()};return t.lockScroll&&D2(l),{...jr(c),ns:a,overlayEvent:T,visible:l,hasMessage:m,typeClass:u,contentId:f,inputId:h,btnSize:o,iconComponent:p,confirmButtonClasses:S,rootRef:g,focusStartRef:v,headerRef:y,inputRef:A,confirmRef:w,doClose:I,handleClose:q,onCloseRequested:$,handleWrapperClick:k,handleInputEnter:M,handleAction:D,t:s}}});function $ie(t,e,n,r,a,o){const s=ct("el-icon"),i=ct("close"),l=ct("el-input"),c=ct("el-button"),u=ct("el-focus-trap"),f=ct("el-overlay");return N(),Ue(Vr,{name:"fade-in-linear",onAfterLeave:h=>t.$emit("vanish"),persisted:""},{default:le(()=>[Qt(J(f,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:le(()=>[re("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:V(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[J(u,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:le(()=>[re("div",{ref:"rootRef",class:V([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:bt(t.customStyle),tabindex:"-1",onClick:zt(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(N(),ee("div",{key:0,ref:"headerRef",class:V([t.ns.e("header"),{"show-close":t.showClose}])},[re("div",{class:V(t.ns.e("title"))},[t.iconComponent&&t.center?(N(),Ue(s,{key:0,class:V([t.ns.e("status"),t.typeClass])},{default:le(()=>[(N(),Ue(ln(t.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),re("span",null,rt(t.title),1)],2),t.showClose?(N(),ee("button",{key:0,type:"button",class:V(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:Vn(zt(h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[J(s,{class:V(t.ns.e("close"))},{default:le(()=>[J(i)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Te("v-if",!0)],2)):Te("v-if",!0),re("div",{id:t.contentId,class:V(t.ns.e("content"))},[re("div",{class:V(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(N(),Ue(s,{key:0,class:V([t.ns.e("status"),t.typeClass])},{default:le(()=>[(N(),Ue(ln(t.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),t.hasMessage?(N(),ee("div",{key:1,class:V(t.ns.e("message"))},[Me(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(N(),Ue(ln(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(N(),Ue(ln(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:le(()=>[Zt(rt(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):Te("v-if",!0)],2),Qt(re("div",{class:V(t.ns.e("input"))},[J(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":h=>t.inputValue=h,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:V({invalid:t.validateError}),onKeydown:Vn(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),re("div",{class:V(t.ns.e("errormsg")),style:bt({visibility:t.editorErrorMessage?"visible":"hidden"})},rt(t.editorErrorMessage),7)],2),[[En,t.showInput]])],10,["id"]),re("div",{class:V(t.ns.e("btns"))},[t.showCancelButton?(N(),Ue(c,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:V([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:h=>t.handleAction("cancel"),onKeydown:Vn(zt(h=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:le(()=>[Zt(rt(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Te("v-if",!0),Qt(J(c,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:V([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:h=>t.handleAction("confirm"),onKeydown:Vn(zt(h=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:le(()=>[Zt(rt(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[En,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[En,t.visible]])]),_:3},8,["onAfterLeave"])}var Vie=st(Hie,[["render",$ie],["__file","index.vue"]]);const Qf=new Map,Wie=t=>{let e=document.body;return t.appendTo&&(Mt(t.appendTo)&&(e=document.querySelector(t.appendTo)),vo(t.appendTo)&&(e=t.appendTo),vo(e)||(e=document.body)),e},Gie=(t,e,n=null)=>{const r=J(Vie,t,Pt(t.message)||ur(t.message)?{default:Pt(t.message)?t.message:()=>t.message}:null);return r.appContext=n,dl(r,e),Wie(t).appendChild(e.firstElementChild),r.component},Kie=()=>document.createElement("div"),qie=(t,e)=>{const n=Kie();t.onVanish=()=>{dl(null,n),Qf.delete(a)},t.onAction=o=>{const s=Qf.get(a);let i;t.showInput?i={value:a.inputValue,action:o}:i=o,t.callback?t.callback(i,r.proxy):o==="cancel"||o==="close"?t.distinguishCancelAndClose&&o!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(i)};const r=Gie(t,n,e),a=r.proxy;for(const o in t)xn(t,o)&&!xn(a.$props,o)&&(a[o]=t[o]);return a.visible=!0,a};function Ad(t,e=null){if(!Sn)return Promise.reject();let n;return Mt(t)||ur(t)?t={message:t}:n=t.callback,new Promise((r,a)=>{const o=qie(t,e??Ad._context);Qf.set(o,{options:t,callback:n,resolve:r,reject:a})})}const jie=["alert","confirm","prompt"],Yie={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};jie.forEach(t=>{Ad[t]=Xie(t)});function Xie(t){return(e,n,r,a)=>{let o="";return tn(n)?(r=n,o=""):Bn(n)?o="":o=n,Ad(Object.assign({title:o,message:e,type:"",...Yie[t]},r,{boxType:t}),a)}}Ad.close=()=>{Qf.forEach((t,e)=>{e.doClose()}),Qf.clear()};Ad._context=null;const Gi=Ad;Gi.install=t=>{Gi._context=t._context,t.config.globalProperties.$msgbox=Gi,t.config.globalProperties.$messageBox=Gi,t.config.globalProperties.$alert=Gi.alert,t.config.globalProperties.$confirm=Gi.confirm,t.config.globalProperties.$prompt=Gi.prompt};const Qie=Gi,f8=["success","info","warning","error"],Zie=at({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:On},id:{type:String,default:""},message:{type:xe([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:xe(Function),default:()=>{}},onClose:{type:xe(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...f8,""],default:""},zIndex:Number}),Jie={destroy:()=>!0},ele=he({name:"ElNotification"}),tle=he({...ele,props:Zie,emits:Jie,setup(t,{expose:e}){const n=t,{ns:r,zIndex:a}=Sm("notification"),{nextZIndex:o,currentZIndex:s}=a,{Close:i}=t2,l=j(!1);let c;const u=P(()=>{const w=n.type;return w&&gl[n.type]?r.m(w):""}),f=P(()=>n.type&&gl[n.type]||n.icon),h=P(()=>n.position.endsWith("right")?"right":"left"),p=P(()=>n.position.startsWith("top")?"top":"bottom"),m=P(()=>{var w;return{[p.value]:`${n.offset}px`,zIndex:(w=n.zIndex)!=null?w:s.value}});function g(){n.duration>0&&({stop:c}=bc(()=>{l.value&&v()},n.duration))}function y(){c==null||c()}function v(){l.value=!1}function A({code:w}){w===mt.delete||w===mt.backspace?y():w===mt.esc?l.value&&v():g()}return Yt(()=>{g(),o(),l.value=!0}),Ln(document,"keydown",A),e({visible:l,close:v}),(w,S)=>(N(),Ue(Vr,{name:d(r).b("fade"),onBeforeLeave:w.onClose,onAfterLeave:C=>w.$emit("destroy"),persisted:""},{default:le(()=>[Qt(re("div",{id:w.id,class:V([d(r).b(),w.customClass,d(h)]),style:bt(d(m)),role:"alert",onMouseenter:y,onMouseleave:g,onClick:w.onClick},[d(f)?(N(),Ue(d(Ct),{key:0,class:V([d(r).e("icon"),d(u)])},{default:le(()=>[(N(),Ue(ln(d(f))))]),_:1},8,["class"])):Te("v-if",!0),re("div",{class:V(d(r).e("group"))},[re("h2",{class:V(d(r).e("title")),textContent:rt(w.title)},null,10,["textContent"]),Qt(re("div",{class:V(d(r).e("content")),style:bt(w.title?void 0:{margin:0})},[Me(w.$slots,"default",{},()=>[w.dangerouslyUseHTMLString?(N(),ee(Et,{key:1},[Te(" Caution here, message could've been compromised, never use user's input as message "),re("p",{innerHTML:w.message},null,8,["innerHTML"])],2112)):(N(),ee("p",{key:0},rt(w.message),1))])],6),[[En,w.message]]),w.showClose?(N(),Ue(d(Ct),{key:0,class:V(d(r).e("closeBtn")),onClick:zt(v,["stop"])},{default:le(()=>[J(d(i))]),_:1},8,["class","onClick"])):Te("v-if",!0)],2)],46,["id","onClick"]),[[En,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var nle=st(tle,[["__file","notification.vue"]]);const Up={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},hy=16;let rle=1;const td=function(t={},e){if(!Sn)return{close:()=>{}};(Mt(t)||ur(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;Up[n].forEach(({vm:u})=>{var f;r+=(((f=u.el)==null?void 0:f.offsetHeight)||0)+hy}),r+=hy;const a=`notification_${rle++}`,o=t.onClose,s={...t,offset:r,id:a,onClose:()=>{ale(a,n,o)}};let i=document.body;vo(t.appendTo)?i=t.appendTo:Mt(t.appendTo)&&(i=document.querySelector(t.appendTo)),vo(i)||(i=document.body);const l=document.createElement("div"),c=J(nle,s,Pt(s.message)?s.message:ur(s.message)?()=>s.message:null);return c.appContext=Bn(e)?td._context:e,c.props.onDestroy=()=>{dl(null,l)},dl(c,l),Up[n].push({vm:c}),i.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};f8.forEach(t=>{td[t]=(e={},n)=>((Mt(e)||ur(e))&&(e={message:e}),td({...e,type:t},n))});function ale(t,e,n){const r=Up[e],a=r.findIndex(({vm:c})=>{var u;return((u=c.component)==null?void 0:u.props.id)===t});if(a===-1)return;const{vm:o}=r[a];if(!o)return;n==null||n(o);const s=o.el.offsetHeight,i=e.split("-")[0];r.splice(a,1);const l=r.length;if(!(l<1))for(let c=a;c<l;c++){const{el:u,component:f}=r[c].vm,h=Number.parseInt(u.style[i],10)-s-hy;f.props.offset=h}}function ole(){for(const t of Object.values(Up))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}td.closeAll=ole;td._context=null;const sle=vM(td,"$notify");var ile=[_ie,Eie,zie,Qie,sle,E5],lle=sO([...pie,...ile]);const cle=he({__name:"Header",setup(t){return(e,n)=>{const r=ct("el-menu"),a=ct("el-affix");return N(),Ue(a,{offset:0,style:{width:"100%"}},{default:le(()=>[J(r,{"default-active":"1",class:"el-menu-demo",mode:"horizontal",ellipsis:!1})]),_:1})}}}),ua=(t,e)=>{const n=t.__vccOpts||t;for(const[r,a]of e)n[r]=a;return n},ule=ua(cle,[["__scopeId","data-v-166bd4c3"]]),dle={class:"paper-title"},RC="AuraLuxMuse: Aesthetic Stage Lighting Design via Music-Driven, Expert-Guided, Preference-Adaptive Modeling",fle="#000000",kC="",hle="#42B883",ple="",mle=he({__name:"Title",setup(t){return(e,n)=>{ct("el-image");const r=ct("el-row"),a=ct("el-col");return N(),ee("div",null,[Te("",!0),J(r,{justify:"center"},{default:le(()=>[J(a,{span:20},{default:le(()=>[re("h1",dle,[RC?(N(),ee("span",{key:0,style:bt({color:fle})},rt(RC),4)):Te("",!0),kC?(N(),ee("span",{key:1,style:bt({color:hle})},rt(kC),4)):Te("",!0)])]),_:1})]),_:1}),J(r,{justify:"center",class:"con-cor"},{default:le(()=>[Zt(rt(ple))]),_:1})])}}}),vle=ua(mle,[["__scopeId","data-v-1610eee9"]]);function ri(t,e,n){const{children:r}=e;return delete e.children,arguments.length>2&&(e.key=n),Lt(t,e,r)}function DC(t){const e={h1:"h1",p:"p",strong:"strong",...t.components};return ri(Et,{children:[ri(e.h1,{children:"Abstract"}),`
`,ri(e.p,{children:["In this work, we present ",ri(e.strong,{children:"AuxLuxMuse"}),`, a novel system for automated aesthetic stage lighting generation that integrates expert knowledge, multimodal representation learning and preference-adaptive modeling.
Lighting design in live performance settings requires the seamless translation of musical structure, rhythm and thematic intent into dynamic lighting behaviors. However, traditional workflows remain time-consuming, labor-intensive and difficult to transfer or scale.
Mimicking the traditional stage lighting workflow, AuraLuxMuse replaces expert-driven analysis with deep learning-based feature extraction and decomposes lighting attributes into structured representations, which are jointly learned alongside music features under the supervision of curated metadata.
At the heart of AuraLuxMuse are two key modules: `,ri(e.strong,{children:"LAMP"})," (Lighting-Aligned Music Pretraining), which performs contrastive learning between audio and lighting cues to enable alignment, and ",ri(e.strong,{children:"PAMoE"})," (Preference-Adaptive Mixture of Experts), which conditions lighting generation on designer intent through a gated ensemble of style-specific expert networks. To support training and evaluation, we introduce ",ri(e.strong,{children:"Musilux"}),", the first dataset of paired musical audio and professional lighting cue sequences under diverse live performance scenarios. Experimental results, including objective metrics and subjective evaluation, demonstrate that AuxLuxMuse produces stage lighting that is visually cohesive, semantically aligned and artistically expressive, advancing the frontier of AI-assisted aesthetic stage design."]})]})}function gle(t={}){const{wrapper:e}=t.components||{};return e?ri(e,{...t,children:ri(DC,{...t})}):DC(t)}const yle={class:"abstract-container"},ble={__name:"Abstract",setup(t){return(e,n)=>{const r=ct("el-divider"),a=ct("el-col"),o=ct("el-row");return N(),ee("div",null,[J(r),J(o,{justify:"center"},{default:le(()=>[J(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[re("div",yle,[J(d(gle))])]),_:1})]),_:1})])}}},Sle=ua(ble,[["__scopeId","data-v-5c51648e"]]);var h8={exports:{}};(function(t,e){(function(r,a){t.exports=a()})(typeof self<"u"?self:Us,function(){return function(){var n={};(function(){n.d=function(K,b){for(var _ in b)n.o(b,_)&&!n.o(K,_)&&Object.defineProperty(K,_,{enumerable:!0,get:b[_]})}})(),function(){n.o=function(K,b){return Object.prototype.hasOwnProperty.call(K,b)}}();var r={};n.d(r,{default:function(){return bR}});var a=function K(b,_){this.position=void 0;var x="KaTeX parse error: "+b,R,O=_&&_.loc;if(O&&O.start<=O.end){var G=O.lexer.input;R=O.start;var se=O.end;R===G.length?x+=" at end of input: ":x+=" at position "+(R+1)+": ";var Se=G.slice(R,se).replace(/[^]/g,"$&̲"),Ce;R>15?Ce="…"+G.slice(R-15,R):Ce=G.slice(0,R);var Ke;se+15<G.length?Ke=G.slice(se,se+15)+"…":Ke=G.slice(se),x+=Ce+Se+Ke}var it=new Error(x);return it.name="ParseError",it.__proto__=K.prototype,it.position=R,it};a.prototype.__proto__=Error.prototype;var o=a,s=function(b,_){return b.indexOf(_)!==-1},i=function(b,_){return b===void 0?_:b},l=/([A-Z])/g,c=function(b){return b.replace(l,"-$1").toLowerCase()},u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},f=/[&><"']/g;function h(K){return String(K).replace(f,function(b){return u[b]})}var p=function K(b){return b.type==="ordgroup"||b.type==="color"?b.body.length===1?K(b.body[0]):b:b.type==="font"?K(b.body):b},m=function(b){var _=p(b);return _.type==="mathord"||_.type==="textord"||_.type==="atom"},g=function(b){if(!b)throw new Error("Expected non-null, but got "+String(b));return b},y=function(b){var _=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(b);return _!=null?_[1]:"_relative"},v={contains:s,deflt:i,escape:h,hyphenate:c,getBaseElem:p,isCharacterBox:m,protocolFromUrl:y},A=function(){function K(_){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,_=_||{},this.displayMode=v.deflt(_.displayMode,!1),this.output=v.deflt(_.output,"htmlAndMathml"),this.leqno=v.deflt(_.leqno,!1),this.fleqn=v.deflt(_.fleqn,!1),this.throwOnError=v.deflt(_.throwOnError,!0),this.errorColor=v.deflt(_.errorColor,"#cc0000"),this.macros=_.macros||{},this.minRuleThickness=Math.max(0,v.deflt(_.minRuleThickness,0)),this.colorIsTextColor=v.deflt(_.colorIsTextColor,!1),this.strict=v.deflt(_.strict,"warn"),this.trust=v.deflt(_.trust,!1),this.maxSize=Math.max(0,v.deflt(_.maxSize,1/0)),this.maxExpand=Math.max(0,v.deflt(_.maxExpand,1e3)),this.globalGroup=v.deflt(_.globalGroup,!1)}var b=K.prototype;return b.reportNonstrict=function(x,R,O){var G=this.strict;if(typeof G=="function"&&(G=G(x,R,O)),!(!G||G==="ignore")){if(G===!0||G==="error")throw new o("LaTeX-incompatible input and strict mode is set to 'error': "+(R+" ["+x+"]"),O);G==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(R+" ["+x+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+G+"': "+R+" ["+x+"]"))}},b.useStrictBehavior=function(x,R,O){var G=this.strict;if(typeof G=="function")try{G=G(x,R,O)}catch{G="error"}return!G||G==="ignore"?!1:G===!0||G==="error"?!0:G==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(R+" ["+x+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+G+"': "+R+" ["+x+"]")),!1)},b.isTrusted=function(x){x.url&&!x.protocol&&(x.protocol=v.protocolFromUrl(x.url));var R=typeof this.trust=="function"?this.trust(x):this.trust;return!!R},K}(),w=function(){function K(_,x,R){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=_,this.size=x,this.cramped=R}var b=K.prototype;return b.sup=function(){return B[z[this.id]]},b.sub=function(){return B[q[this.id]]},b.fracNum=function(){return B[$[this.id]]},b.fracDen=function(){return B[L[this.id]]},b.cramp=function(){return B[W[this.id]]},b.text=function(){return B[U[this.id]]},b.isTight=function(){return this.size>=2},K}(),S=0,C=1,E=2,I=3,k=4,T=5,M=6,D=7,B=[new w(S,0,!1),new w(C,0,!0),new w(E,1,!1),new w(I,1,!0),new w(k,2,!1),new w(T,2,!0),new w(M,3,!1),new w(D,3,!0)],z=[k,T,k,T,M,D,M,D],q=[T,T,T,T,D,D,D,D],$=[E,I,k,T,M,D,M,D],L=[I,I,T,T,D,D,D,D],W=[C,C,I,I,T,T,D,D],U=[S,C,E,I,E,I,E,I],F={DISPLAY:B[S],TEXT:B[E],SCRIPT:B[k],SCRIPTSCRIPT:B[M]},Q=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ne(K){for(var b=0;b<Q.length;b++)for(var _=Q[b],x=0;x<_.blocks.length;x++){var R=_.blocks[x];if(K>=R[0]&&K<=R[1])return _.name}return null}var de=[];Q.forEach(function(K){return K.blocks.forEach(function(b){return de.push.apply(de,b)})});function ie(K){for(var b=0;b<de.length;b+=2)if(K>=de[b]&&K<=de[b+1])return!0;return!1}var ce=80,ge=function(b,_){return"M95,"+(622+b+_)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+b/2.075+" -"+b+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+b)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+b)+" "+_+"h400000v"+(40+b)+"h-400000z"},Ae=function(b,_){return"M263,"+(601+b+_)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+b/2.084+" -"+b+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+b)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+b)+" "+_+"h400000v"+(40+b)+"h-400000z"},pe=function(b,_){return"M983 "+(10+b+_)+`
l`+b/3.13+" -"+b+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+b)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+b)+" "+_+"h400000v"+(40+b)+"h-400000z"},Ie=function(b,_){return"M424,"+(2398+b+_)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+b/4.223+" -"+b+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+b)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+b)+" "+_+`
h400000v`+(40+b)+"h-400000z"},Re=function(b,_){return"M473,"+(2713+b+_)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+b/5.298+" -"+b+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+b)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+b)+" "+_+"h400000v"+(40+b)+"H1017.7z"},Je=function(b){var _=b/2;return"M400000 "+b+" H0 L"+_+" 0 l65 45 L145 "+(b-80)+" H400000z"},Ye=function(b,_,x){var R=x-54-_-b;return"M702 "+(b+_)+"H400000"+(40+b)+`
H742v`+R+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+_+"H400000v"+(40+b)+"H742z"},Z=function(b,_,x){_=1e3*_;var R="";switch(b){case"sqrtMain":R=ge(_,ce);break;case"sqrtSize1":R=Ae(_,ce);break;case"sqrtSize2":R=pe(_,ce);break;case"sqrtSize3":R=Ie(_,ce);break;case"sqrtSize4":R=Re(_,ce);break;case"sqrtTall":R=Ye(_,ce,x)}return R},me=function(b,_){switch(b){case"⎜":return"M291 0 H417 V"+_+" H291z M291 0 H417 V"+_+" H291z";case"∣":return"M145 0 H188 V"+_+" H145z M145 0 H188 V"+_+" H145z";case"∥":return"M145 0 H188 V"+_+" H145z M145 0 H188 V"+_+" H145z"+("M367 0 H410 V"+_+" H367z M367 0 H410 V"+_+" H367z");case"⎟":return"M457 0 H583 V"+_+" H457z M457 0 H583 V"+_+" H457z";case"⎢":return"M319 0 H403 V"+_+" H319z M319 0 H403 V"+_+" H319z";case"⎥":return"M263 0 H347 V"+_+" H263z M263 0 H347 V"+_+" H263z";case"⎪":return"M384 0 H504 V"+_+" H384z M384 0 H504 V"+_+" H384z";case"⏐":return"M312 0 H355 V"+_+" H312z M312 0 H355 V"+_+" H312z";case"‖":return"M257 0 H300 V"+_+" H257z M257 0 H300 V"+_+" H257z"+("M478 0 H521 V"+_+" H478z M478 0 H521 V"+_+" H478z");default:return""}},oe={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Ve=function(){function K(_){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=_,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var b=K.prototype;return b.hasClass=function(x){return v.contains(this.classes,x)},b.toNode=function(){for(var x=document.createDocumentFragment(),R=0;R<this.children.length;R++)x.appendChild(this.children[R].toNode());return x},b.toMarkup=function(){for(var x="",R=0;R<this.children.length;R++)x+=this.children[R].toMarkup();return x},b.toText=function(){var x=function(O){return O.toText()};return this.children.map(x).join("")},K}(),Le={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ze={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},De={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Fe(K,b){Le[K]=b}function Ge(K,b,_){if(!Le[b])throw new Error("Font metrics not found for font: "+b+".");var x=K.charCodeAt(0),R=Le[b][x];if(!R&&K[0]in De&&(x=De[K[0]].charCodeAt(0),R=Le[b][x]),!R&&_==="text"&&ie(x)&&(R=Le[b][77]),R)return{depth:R[0],height:R[1],italic:R[2],skew:R[3],width:R[4]}}var ae={};function te(K){var b;if(K>=5?b=0:K>=3?b=1:b=2,!ae[b]){var _=ae[b]={cssEmPerMu:ze.quad[b]/18};for(var x in ze)ze.hasOwnProperty(x)&&(_[x]=ze[x][b])}return ae[b]}var we=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ye=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],$e=function(b,_){return _.size<2?b:we[b-1][_.size-1]},je=function(){function K(_){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=_.style,this.color=_.color,this.size=_.size||K.BASESIZE,this.textSize=_.textSize||this.size,this.phantom=!!_.phantom,this.font=_.font||"",this.fontFamily=_.fontFamily||"",this.fontWeight=_.fontWeight||"",this.fontShape=_.fontShape||"",this.sizeMultiplier=ye[this.size-1],this.maxSize=_.maxSize,this.minRuleThickness=_.minRuleThickness,this._fontMetrics=void 0}var b=K.prototype;return b.extend=function(x){var R={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var O in x)x.hasOwnProperty(O)&&(R[O]=x[O]);return new K(R)},b.havingStyle=function(x){return this.style===x?this:this.extend({style:x,size:$e(this.textSize,x)})},b.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},b.havingSize=function(x){return this.size===x&&this.textSize===x?this:this.extend({style:this.style.text(),size:x,textSize:x,sizeMultiplier:ye[x-1]})},b.havingBaseStyle=function(x){x=x||this.style.text();var R=$e(K.BASESIZE,x);return this.size===R&&this.textSize===K.BASESIZE&&this.style===x?this:this.extend({style:x,size:R})},b.havingBaseSizing=function(){var x;switch(this.style.id){case 4:case 5:x=3;break;case 6:case 7:x=1;break;default:x=6}return this.extend({style:this.style.text(),size:x})},b.withColor=function(x){return this.extend({color:x})},b.withPhantom=function(){return this.extend({phantom:!0})},b.withFont=function(x){return this.extend({font:x})},b.withTextFontFamily=function(x){return this.extend({fontFamily:x,font:""})},b.withTextFontWeight=function(x){return this.extend({fontWeight:x,font:""})},b.withTextFontShape=function(x){return this.extend({fontShape:x,font:""})},b.sizingClasses=function(x){return x.size!==this.size?["sizing","reset-size"+x.size,"size"+this.size]:[]},b.baseSizingClasses=function(){return this.size!==K.BASESIZE?["sizing","reset-size"+this.size,"size"+K.BASESIZE]:[]},b.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=te(this.size)),this._fontMetrics},b.getColor=function(){return this.phantom?"transparent":this.color},K}();je.BASESIZE=6;var yt=je,ut={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},_t={ex:!0,em:!0,mu:!0},Ft=function(b){return typeof b!="string"&&(b=b.unit),b in ut||b in _t||b==="ex"},ht=function(b,_){var x;if(b.unit in ut)x=ut[b.unit]/_.fontMetrics().ptPerEm/_.sizeMultiplier;else if(b.unit==="mu")x=_.fontMetrics().cssEmPerMu;else{var R;if(_.style.isTight()?R=_.havingStyle(_.style.text()):R=_,b.unit==="ex")x=R.fontMetrics().xHeight;else if(b.unit==="em")x=R.fontMetrics().quad;else throw new o("Invalid unit: '"+b.unit+"'");R!==_&&(x*=R.sizeMultiplier/_.sizeMultiplier)}return Math.min(b.number*x,_.maxSize)},X=function(b){return+b.toFixed(4)+"em"},He=function(b){return b.filter(function(_){return _}).join(" ")},ve=function(b,_,x){if(this.classes=b||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=x||{},_){_.style.isTight()&&this.classes.push("mtight");var R=_.getColor();R&&(this.style.color=R)}},ke=function(b){var _=document.createElement(b);_.className=He(this.classes);for(var x in this.style)this.style.hasOwnProperty(x)&&(_.style[x]=this.style[x]);for(var R in this.attributes)this.attributes.hasOwnProperty(R)&&_.setAttribute(R,this.attributes[R]);for(var O=0;O<this.children.length;O++)_.appendChild(this.children[O].toNode());return _},fe=function(b){var _="<"+b;this.classes.length&&(_+=' class="'+v.escape(He(this.classes))+'"');var x="";for(var R in this.style)this.style.hasOwnProperty(R)&&(x+=v.hyphenate(R)+":"+this.style[R]+";");x&&(_+=' style="'+v.escape(x)+'"');for(var O in this.attributes)this.attributes.hasOwnProperty(O)&&(_+=" "+O+'="'+v.escape(this.attributes[O])+'"');_+=">";for(var G=0;G<this.children.length;G++)_+=this.children[G].toMarkup();return _+="</"+b+">",_},tt=function(){function K(_,x,R,O){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ve.call(this,_,R,O),this.children=x||[]}var b=K.prototype;return b.setAttribute=function(x,R){this.attributes[x]=R},b.hasClass=function(x){return v.contains(this.classes,x)},b.toNode=function(){return ke.call(this,"span")},b.toMarkup=function(){return fe.call(this,"span")},K}(),Rt=function(){function K(_,x,R,O){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ve.call(this,x,O),this.children=R||[],this.setAttribute("href",_)}var b=K.prototype;return b.setAttribute=function(x,R){this.attributes[x]=R},b.hasClass=function(x){return v.contains(this.classes,x)},b.toNode=function(){return ke.call(this,"a")},b.toMarkup=function(){return fe.call(this,"a")},K}(),Oe=function(){function K(_,x,R){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=x,this.src=_,this.classes=["mord"],this.style=R}var b=K.prototype;return b.hasClass=function(x){return v.contains(this.classes,x)},b.toNode=function(){var x=document.createElement("img");x.src=this.src,x.alt=this.alt,x.className="mord";for(var R in this.style)this.style.hasOwnProperty(R)&&(x.style[R]=this.style[R]);return x},b.toMarkup=function(){var x="<img  src='"+this.src+" 'alt='"+this.alt+"' ",R="";for(var O in this.style)this.style.hasOwnProperty(O)&&(R+=v.hyphenate(O)+":"+this.style[O]+";");return R&&(x+=' style="'+v.escape(R)+'"'),x+="'/>",x},K}(),Tt={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"},ot=function(){function K(_,x,R,O,G,se,Se,Ce){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=_,this.height=x||0,this.depth=R||0,this.italic=O||0,this.skew=G||0,this.width=se||0,this.classes=Se||[],this.style=Ce||{},this.maxFontSize=0;var Ke=ne(this.text.charCodeAt(0));Ke&&this.classes.push(Ke+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Tt[this.text])}var b=K.prototype;return b.hasClass=function(x){return v.contains(this.classes,x)},b.toNode=function(){var x=document.createTextNode(this.text),R=null;this.italic>0&&(R=document.createElement("span"),R.style.marginRight=X(this.italic)),this.classes.length>0&&(R=R||document.createElement("span"),R.className=He(this.classes));for(var O in this.style)this.style.hasOwnProperty(O)&&(R=R||document.createElement("span"),R.style[O]=this.style[O]);return R?(R.appendChild(x),R):x},b.toMarkup=function(){var x=!1,R="<span";this.classes.length&&(x=!0,R+=' class="',R+=v.escape(He(this.classes)),R+='"');var O="";this.italic>0&&(O+="margin-right:"+this.italic+"em;");for(var G in this.style)this.style.hasOwnProperty(G)&&(O+=v.hyphenate(G)+":"+this.style[G]+";");O&&(x=!0,R+=' style="'+v.escape(O)+'"');var se=v.escape(this.text);return x?(R+=">",R+=se,R+="</span>",R):se},K}(),dt=function(){function K(_,x){this.children=void 0,this.attributes=void 0,this.children=_||[],this.attributes=x||{}}var b=K.prototype;return b.toNode=function(){var x="http://www.w3.org/2000/svg",R=document.createElementNS(x,"svg");for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&R.setAttribute(O,this.attributes[O]);for(var G=0;G<this.children.length;G++)R.appendChild(this.children[G].toNode());return R},b.toMarkup=function(){var x='<svg xmlns="http://www.w3.org/2000/svg"';for(var R in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,R)&&(x+=" "+R+"='"+this.attributes[R]+"'");x+=">";for(var O=0;O<this.children.length;O++)x+=this.children[O].toMarkup();return x+="</svg>",x},K}(),It=function(){function K(_,x){this.pathName=void 0,this.alternate=void 0,this.pathName=_,this.alternate=x}var b=K.prototype;return b.toNode=function(){var x="http://www.w3.org/2000/svg",R=document.createElementNS(x,"path");return this.alternate?R.setAttribute("d",this.alternate):R.setAttribute("d",oe[this.pathName]),R},b.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+oe[this.pathName]+"'/>"},K}(),gt=function(){function K(_){this.attributes=void 0,this.attributes=_||{}}var b=K.prototype;return b.toNode=function(){var x="http://www.w3.org/2000/svg",R=document.createElementNS(x,"line");for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&R.setAttribute(O,this.attributes[O]);return R},b.toMarkup=function(){var x="<line";for(var R in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,R)&&(x+=" "+R+"='"+this.attributes[R]+"'");return x+="/>",x},K}();function an(K){if(K instanceof ot)return K;throw new Error("Expected symbolNode but got "+String(K)+".")}function Yn(K){if(K instanceof tt)return K;throw new Error("Expected span<HtmlDomNode> but got "+String(K)+".")}var Tr={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Wn={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Pr={math:{},text:{}},Tn=Pr;function H(K,b,_,x,R,O){Pr[K][R]={font:b,group:_,replace:x},O&&x&&(Pr[K][x]=Pr[K][R])}var Y="math",At="text",ue="main",Pe="ams",nr="accent-token",jt="bin",Br="close",ft="inner",vt="mathord",on="op-token",Hn="open",Ir="punct",Ne="rel",Lr="spacing",Xe="textord";H(Y,ue,Ne,"≡","\\equiv",!0),H(Y,ue,Ne,"≺","\\prec",!0),H(Y,ue,Ne,"≻","\\succ",!0),H(Y,ue,Ne,"∼","\\sim",!0),H(Y,ue,Ne,"⊥","\\perp"),H(Y,ue,Ne,"⪯","\\preceq",!0),H(Y,ue,Ne,"⪰","\\succeq",!0),H(Y,ue,Ne,"≃","\\simeq",!0),H(Y,ue,Ne,"∣","\\mid",!0),H(Y,ue,Ne,"≪","\\ll",!0),H(Y,ue,Ne,"≫","\\gg",!0),H(Y,ue,Ne,"≍","\\asymp",!0),H(Y,ue,Ne,"∥","\\parallel"),H(Y,ue,Ne,"⋈","\\bowtie",!0),H(Y,ue,Ne,"⌣","\\smile",!0),H(Y,ue,Ne,"⊑","\\sqsubseteq",!0),H(Y,ue,Ne,"⊒","\\sqsupseteq",!0),H(Y,ue,Ne,"≐","\\doteq",!0),H(Y,ue,Ne,"⌢","\\frown",!0),H(Y,ue,Ne,"∋","\\ni",!0),H(Y,ue,Ne,"∝","\\propto",!0),H(Y,ue,Ne,"⊢","\\vdash",!0),H(Y,ue,Ne,"⊣","\\dashv",!0),H(Y,ue,Ne,"∋","\\owns"),H(Y,ue,Ir,".","\\ldotp"),H(Y,ue,Ir,"⋅","\\cdotp"),H(Y,ue,Xe,"#","\\#"),H(At,ue,Xe,"#","\\#"),H(Y,ue,Xe,"&","\\&"),H(At,ue,Xe,"&","\\&"),H(Y,ue,Xe,"ℵ","\\aleph",!0),H(Y,ue,Xe,"∀","\\forall",!0),H(Y,ue,Xe,"ℏ","\\hbar",!0),H(Y,ue,Xe,"∃","\\exists",!0),H(Y,ue,Xe,"∇","\\nabla",!0),H(Y,ue,Xe,"♭","\\flat",!0),H(Y,ue,Xe,"ℓ","\\ell",!0),H(Y,ue,Xe,"♮","\\natural",!0),H(Y,ue,Xe,"♣","\\clubsuit",!0),H(Y,ue,Xe,"℘","\\wp",!0),H(Y,ue,Xe,"♯","\\sharp",!0),H(Y,ue,Xe,"♢","\\diamondsuit",!0),H(Y,ue,Xe,"ℜ","\\Re",!0),H(Y,ue,Xe,"♡","\\heartsuit",!0),H(Y,ue,Xe,"ℑ","\\Im",!0),H(Y,ue,Xe,"♠","\\spadesuit",!0),H(Y,ue,Xe,"§","\\S",!0),H(At,ue,Xe,"§","\\S"),H(Y,ue,Xe,"¶","\\P",!0),H(At,ue,Xe,"¶","\\P"),H(Y,ue,Xe,"†","\\dag"),H(At,ue,Xe,"†","\\dag"),H(At,ue,Xe,"†","\\textdagger"),H(Y,ue,Xe,"‡","\\ddag"),H(At,ue,Xe,"‡","\\ddag"),H(At,ue,Xe,"‡","\\textdaggerdbl"),H(Y,ue,Br,"⎱","\\rmoustache",!0),H(Y,ue,Hn,"⎰","\\lmoustache",!0),H(Y,ue,Br,"⟯","\\rgroup",!0),H(Y,ue,Hn,"⟮","\\lgroup",!0),H(Y,ue,jt,"∓","\\mp",!0),H(Y,ue,jt,"⊖","\\ominus",!0),H(Y,ue,jt,"⊎","\\uplus",!0),H(Y,ue,jt,"⊓","\\sqcap",!0),H(Y,ue,jt,"∗","\\ast"),H(Y,ue,jt,"⊔","\\sqcup",!0),H(Y,ue,jt,"◯","\\bigcirc",!0),H(Y,ue,jt,"∙","\\bullet"),H(Y,ue,jt,"‡","\\ddagger"),H(Y,ue,jt,"≀","\\wr",!0),H(Y,ue,jt,"⨿","\\amalg"),H(Y,ue,jt,"&","\\And"),H(Y,ue,Ne,"⟵","\\longleftarrow",!0),H(Y,ue,Ne,"⇐","\\Leftarrow",!0),H(Y,ue,Ne,"⟸","\\Longleftarrow",!0),H(Y,ue,Ne,"⟶","\\longrightarrow",!0),H(Y,ue,Ne,"⇒","\\Rightarrow",!0),H(Y,ue,Ne,"⟹","\\Longrightarrow",!0),H(Y,ue,Ne,"↔","\\leftrightarrow",!0),H(Y,ue,Ne,"⟷","\\longleftrightarrow",!0),H(Y,ue,Ne,"⇔","\\Leftrightarrow",!0),H(Y,ue,Ne,"⟺","\\Longleftrightarrow",!0),H(Y,ue,Ne,"↦","\\mapsto",!0),H(Y,ue,Ne,"⟼","\\longmapsto",!0),H(Y,ue,Ne,"↗","\\nearrow",!0),H(Y,ue,Ne,"↩","\\hookleftarrow",!0),H(Y,ue,Ne,"↪","\\hookrightarrow",!0),H(Y,ue,Ne,"↘","\\searrow",!0),H(Y,ue,Ne,"↼","\\leftharpoonup",!0),H(Y,ue,Ne,"⇀","\\rightharpoonup",!0),H(Y,ue,Ne,"↙","\\swarrow",!0),H(Y,ue,Ne,"↽","\\leftharpoondown",!0),H(Y,ue,Ne,"⇁","\\rightharpoondown",!0),H(Y,ue,Ne,"↖","\\nwarrow",!0),H(Y,ue,Ne,"⇌","\\rightleftharpoons",!0),H(Y,Pe,Ne,"≮","\\nless",!0),H(Y,Pe,Ne,"","\\@nleqslant"),H(Y,Pe,Ne,"","\\@nleqq"),H(Y,Pe,Ne,"⪇","\\lneq",!0),H(Y,Pe,Ne,"≨","\\lneqq",!0),H(Y,Pe,Ne,"","\\@lvertneqq"),H(Y,Pe,Ne,"⋦","\\lnsim",!0),H(Y,Pe,Ne,"⪉","\\lnapprox",!0),H(Y,Pe,Ne,"⊀","\\nprec",!0),H(Y,Pe,Ne,"⋠","\\npreceq",!0),H(Y,Pe,Ne,"⋨","\\precnsim",!0),H(Y,Pe,Ne,"⪹","\\precnapprox",!0),H(Y,Pe,Ne,"≁","\\nsim",!0),H(Y,Pe,Ne,"","\\@nshortmid"),H(Y,Pe,Ne,"∤","\\nmid",!0),H(Y,Pe,Ne,"⊬","\\nvdash",!0),H(Y,Pe,Ne,"⊭","\\nvDash",!0),H(Y,Pe,Ne,"⋪","\\ntriangleleft"),H(Y,Pe,Ne,"⋬","\\ntrianglelefteq",!0),H(Y,Pe,Ne,"⊊","\\subsetneq",!0),H(Y,Pe,Ne,"","\\@varsubsetneq"),H(Y,Pe,Ne,"⫋","\\subsetneqq",!0),H(Y,Pe,Ne,"","\\@varsubsetneqq"),H(Y,Pe,Ne,"≯","\\ngtr",!0),H(Y,Pe,Ne,"","\\@ngeqslant"),H(Y,Pe,Ne,"","\\@ngeqq"),H(Y,Pe,Ne,"⪈","\\gneq",!0),H(Y,Pe,Ne,"≩","\\gneqq",!0),H(Y,Pe,Ne,"","\\@gvertneqq"),H(Y,Pe,Ne,"⋧","\\gnsim",!0),H(Y,Pe,Ne,"⪊","\\gnapprox",!0),H(Y,Pe,Ne,"⊁","\\nsucc",!0),H(Y,Pe,Ne,"⋡","\\nsucceq",!0),H(Y,Pe,Ne,"⋩","\\succnsim",!0),H(Y,Pe,Ne,"⪺","\\succnapprox",!0),H(Y,Pe,Ne,"≆","\\ncong",!0),H(Y,Pe,Ne,"","\\@nshortparallel"),H(Y,Pe,Ne,"∦","\\nparallel",!0),H(Y,Pe,Ne,"⊯","\\nVDash",!0),H(Y,Pe,Ne,"⋫","\\ntriangleright"),H(Y,Pe,Ne,"⋭","\\ntrianglerighteq",!0),H(Y,Pe,Ne,"","\\@nsupseteqq"),H(Y,Pe,Ne,"⊋","\\supsetneq",!0),H(Y,Pe,Ne,"","\\@varsupsetneq"),H(Y,Pe,Ne,"⫌","\\supsetneqq",!0),H(Y,Pe,Ne,"","\\@varsupsetneqq"),H(Y,Pe,Ne,"⊮","\\nVdash",!0),H(Y,Pe,Ne,"⪵","\\precneqq",!0),H(Y,Pe,Ne,"⪶","\\succneqq",!0),H(Y,Pe,Ne,"","\\@nsubseteqq"),H(Y,Pe,jt,"⊴","\\unlhd"),H(Y,Pe,jt,"⊵","\\unrhd"),H(Y,Pe,Ne,"↚","\\nleftarrow",!0),H(Y,Pe,Ne,"↛","\\nrightarrow",!0),H(Y,Pe,Ne,"⇍","\\nLeftarrow",!0),H(Y,Pe,Ne,"⇏","\\nRightarrow",!0),H(Y,Pe,Ne,"↮","\\nleftrightarrow",!0),H(Y,Pe,Ne,"⇎","\\nLeftrightarrow",!0),H(Y,Pe,Ne,"△","\\vartriangle"),H(Y,Pe,Xe,"ℏ","\\hslash"),H(Y,Pe,Xe,"▽","\\triangledown"),H(Y,Pe,Xe,"◊","\\lozenge"),H(Y,Pe,Xe,"Ⓢ","\\circledS"),H(Y,Pe,Xe,"®","\\circledR"),H(At,Pe,Xe,"®","\\circledR"),H(Y,Pe,Xe,"∡","\\measuredangle",!0),H(Y,Pe,Xe,"∄","\\nexists"),H(Y,Pe,Xe,"℧","\\mho"),H(Y,Pe,Xe,"Ⅎ","\\Finv",!0),H(Y,Pe,Xe,"⅁","\\Game",!0),H(Y,Pe,Xe,"‵","\\backprime"),H(Y,Pe,Xe,"▲","\\blacktriangle"),H(Y,Pe,Xe,"▼","\\blacktriangledown"),H(Y,Pe,Xe,"■","\\blacksquare"),H(Y,Pe,Xe,"⧫","\\blacklozenge"),H(Y,Pe,Xe,"★","\\bigstar"),H(Y,Pe,Xe,"∢","\\sphericalangle",!0),H(Y,Pe,Xe,"∁","\\complement",!0),H(Y,Pe,Xe,"ð","\\eth",!0),H(At,ue,Xe,"ð","ð"),H(Y,Pe,Xe,"╱","\\diagup"),H(Y,Pe,Xe,"╲","\\diagdown"),H(Y,Pe,Xe,"□","\\square"),H(Y,Pe,Xe,"□","\\Box"),H(Y,Pe,Xe,"◊","\\Diamond"),H(Y,Pe,Xe,"¥","\\yen",!0),H(At,Pe,Xe,"¥","\\yen",!0),H(Y,Pe,Xe,"✓","\\checkmark",!0),H(At,Pe,Xe,"✓","\\checkmark"),H(Y,Pe,Xe,"ℶ","\\beth",!0),H(Y,Pe,Xe,"ℸ","\\daleth",!0),H(Y,Pe,Xe,"ℷ","\\gimel",!0),H(Y,Pe,Xe,"ϝ","\\digamma",!0),H(Y,Pe,Xe,"ϰ","\\varkappa"),H(Y,Pe,Hn,"┌","\\@ulcorner",!0),H(Y,Pe,Br,"┐","\\@urcorner",!0),H(Y,Pe,Hn,"└","\\@llcorner",!0),H(Y,Pe,Br,"┘","\\@lrcorner",!0),H(Y,Pe,Ne,"≦","\\leqq",!0),H(Y,Pe,Ne,"⩽","\\leqslant",!0),H(Y,Pe,Ne,"⪕","\\eqslantless",!0),H(Y,Pe,Ne,"≲","\\lesssim",!0),H(Y,Pe,Ne,"⪅","\\lessapprox",!0),H(Y,Pe,Ne,"≊","\\approxeq",!0),H(Y,Pe,jt,"⋖","\\lessdot"),H(Y,Pe,Ne,"⋘","\\lll",!0),H(Y,Pe,Ne,"≶","\\lessgtr",!0),H(Y,Pe,Ne,"⋚","\\lesseqgtr",!0),H(Y,Pe,Ne,"⪋","\\lesseqqgtr",!0),H(Y,Pe,Ne,"≑","\\doteqdot"),H(Y,Pe,Ne,"≓","\\risingdotseq",!0),H(Y,Pe,Ne,"≒","\\fallingdotseq",!0),H(Y,Pe,Ne,"∽","\\backsim",!0),H(Y,Pe,Ne,"⋍","\\backsimeq",!0),H(Y,Pe,Ne,"⫅","\\subseteqq",!0),H(Y,Pe,Ne,"⋐","\\Subset",!0),H(Y,Pe,Ne,"⊏","\\sqsubset",!0),H(Y,Pe,Ne,"≼","\\preccurlyeq",!0),H(Y,Pe,Ne,"⋞","\\curlyeqprec",!0),H(Y,Pe,Ne,"≾","\\precsim",!0),H(Y,Pe,Ne,"⪷","\\precapprox",!0),H(Y,Pe,Ne,"⊲","\\vartriangleleft"),H(Y,Pe,Ne,"⊴","\\trianglelefteq"),H(Y,Pe,Ne,"⊨","\\vDash",!0),H(Y,Pe,Ne,"⊪","\\Vvdash",!0),H(Y,Pe,Ne,"⌣","\\smallsmile"),H(Y,Pe,Ne,"⌢","\\smallfrown"),H(Y,Pe,Ne,"≏","\\bumpeq",!0),H(Y,Pe,Ne,"≎","\\Bumpeq",!0),H(Y,Pe,Ne,"≧","\\geqq",!0),H(Y,Pe,Ne,"⩾","\\geqslant",!0),H(Y,Pe,Ne,"⪖","\\eqslantgtr",!0),H(Y,Pe,Ne,"≳","\\gtrsim",!0),H(Y,Pe,Ne,"⪆","\\gtrapprox",!0),H(Y,Pe,jt,"⋗","\\gtrdot"),H(Y,Pe,Ne,"⋙","\\ggg",!0),H(Y,Pe,Ne,"≷","\\gtrless",!0),H(Y,Pe,Ne,"⋛","\\gtreqless",!0),H(Y,Pe,Ne,"⪌","\\gtreqqless",!0),H(Y,Pe,Ne,"≖","\\eqcirc",!0),H(Y,Pe,Ne,"≗","\\circeq",!0),H(Y,Pe,Ne,"≜","\\triangleq",!0),H(Y,Pe,Ne,"∼","\\thicksim"),H(Y,Pe,Ne,"≈","\\thickapprox"),H(Y,Pe,Ne,"⫆","\\supseteqq",!0),H(Y,Pe,Ne,"⋑","\\Supset",!0),H(Y,Pe,Ne,"⊐","\\sqsupset",!0),H(Y,Pe,Ne,"≽","\\succcurlyeq",!0),H(Y,Pe,Ne,"⋟","\\curlyeqsucc",!0),H(Y,Pe,Ne,"≿","\\succsim",!0),H(Y,Pe,Ne,"⪸","\\succapprox",!0),H(Y,Pe,Ne,"⊳","\\vartriangleright"),H(Y,Pe,Ne,"⊵","\\trianglerighteq"),H(Y,Pe,Ne,"⊩","\\Vdash",!0),H(Y,Pe,Ne,"∣","\\shortmid"),H(Y,Pe,Ne,"∥","\\shortparallel"),H(Y,Pe,Ne,"≬","\\between",!0),H(Y,Pe,Ne,"⋔","\\pitchfork",!0),H(Y,Pe,Ne,"∝","\\varpropto"),H(Y,Pe,Ne,"◀","\\blacktriangleleft"),H(Y,Pe,Ne,"∴","\\therefore",!0),H(Y,Pe,Ne,"∍","\\backepsilon"),H(Y,Pe,Ne,"▶","\\blacktriangleright"),H(Y,Pe,Ne,"∵","\\because",!0),H(Y,Pe,Ne,"⋘","\\llless"),H(Y,Pe,Ne,"⋙","\\gggtr"),H(Y,Pe,jt,"⊲","\\lhd"),H(Y,Pe,jt,"⊳","\\rhd"),H(Y,Pe,Ne,"≂","\\eqsim",!0),H(Y,ue,Ne,"⋈","\\Join"),H(Y,Pe,Ne,"≑","\\Doteq",!0),H(Y,Pe,jt,"∔","\\dotplus",!0),H(Y,Pe,jt,"∖","\\smallsetminus"),H(Y,Pe,jt,"⋒","\\Cap",!0),H(Y,Pe,jt,"⋓","\\Cup",!0),H(Y,Pe,jt,"⩞","\\doublebarwedge",!0),H(Y,Pe,jt,"⊟","\\boxminus",!0),H(Y,Pe,jt,"⊞","\\boxplus",!0),H(Y,Pe,jt,"⋇","\\divideontimes",!0),H(Y,Pe,jt,"⋉","\\ltimes",!0),H(Y,Pe,jt,"⋊","\\rtimes",!0),H(Y,Pe,jt,"⋋","\\leftthreetimes",!0),H(Y,Pe,jt,"⋌","\\rightthreetimes",!0),H(Y,Pe,jt,"⋏","\\curlywedge",!0),H(Y,Pe,jt,"⋎","\\curlyvee",!0),H(Y,Pe,jt,"⊝","\\circleddash",!0),H(Y,Pe,jt,"⊛","\\circledast",!0),H(Y,Pe,jt,"⋅","\\centerdot"),H(Y,Pe,jt,"⊺","\\intercal",!0),H(Y,Pe,jt,"⋒","\\doublecap"),H(Y,Pe,jt,"⋓","\\doublecup"),H(Y,Pe,jt,"⊠","\\boxtimes",!0),H(Y,Pe,Ne,"⇢","\\dashrightarrow",!0),H(Y,Pe,Ne,"⇠","\\dashleftarrow",!0),H(Y,Pe,Ne,"⇇","\\leftleftarrows",!0),H(Y,Pe,Ne,"⇆","\\leftrightarrows",!0),H(Y,Pe,Ne,"⇚","\\Lleftarrow",!0),H(Y,Pe,Ne,"↞","\\twoheadleftarrow",!0),H(Y,Pe,Ne,"↢","\\leftarrowtail",!0),H(Y,Pe,Ne,"↫","\\looparrowleft",!0),H(Y,Pe,Ne,"⇋","\\leftrightharpoons",!0),H(Y,Pe,Ne,"↶","\\curvearrowleft",!0),H(Y,Pe,Ne,"↺","\\circlearrowleft",!0),H(Y,Pe,Ne,"↰","\\Lsh",!0),H(Y,Pe,Ne,"⇈","\\upuparrows",!0),H(Y,Pe,Ne,"↿","\\upharpoonleft",!0),H(Y,Pe,Ne,"⇃","\\downharpoonleft",!0),H(Y,ue,Ne,"⊶","\\origof",!0),H(Y,ue,Ne,"⊷","\\imageof",!0),H(Y,Pe,Ne,"⊸","\\multimap",!0),H(Y,Pe,Ne,"↭","\\leftrightsquigarrow",!0),H(Y,Pe,Ne,"⇉","\\rightrightarrows",!0),H(Y,Pe,Ne,"⇄","\\rightleftarrows",!0),H(Y,Pe,Ne,"↠","\\twoheadrightarrow",!0),H(Y,Pe,Ne,"↣","\\rightarrowtail",!0),H(Y,Pe,Ne,"↬","\\looparrowright",!0),H(Y,Pe,Ne,"↷","\\curvearrowright",!0),H(Y,Pe,Ne,"↻","\\circlearrowright",!0),H(Y,Pe,Ne,"↱","\\Rsh",!0),H(Y,Pe,Ne,"⇊","\\downdownarrows",!0),H(Y,Pe,Ne,"↾","\\upharpoonright",!0),H(Y,Pe,Ne,"⇂","\\downharpoonright",!0),H(Y,Pe,Ne,"⇝","\\rightsquigarrow",!0),H(Y,Pe,Ne,"⇝","\\leadsto"),H(Y,Pe,Ne,"⇛","\\Rrightarrow",!0),H(Y,Pe,Ne,"↾","\\restriction"),H(Y,ue,Xe,"‘","`"),H(Y,ue,Xe,"$","\\$"),H(At,ue,Xe,"$","\\$"),H(At,ue,Xe,"$","\\textdollar"),H(Y,ue,Xe,"%","\\%"),H(At,ue,Xe,"%","\\%"),H(Y,ue,Xe,"_","\\_"),H(At,ue,Xe,"_","\\_"),H(At,ue,Xe,"_","\\textunderscore"),H(Y,ue,Xe,"∠","\\angle",!0),H(Y,ue,Xe,"∞","\\infty",!0),H(Y,ue,Xe,"′","\\prime"),H(Y,ue,Xe,"△","\\triangle"),H(Y,ue,Xe,"Γ","\\Gamma",!0),H(Y,ue,Xe,"Δ","\\Delta",!0),H(Y,ue,Xe,"Θ","\\Theta",!0),H(Y,ue,Xe,"Λ","\\Lambda",!0),H(Y,ue,Xe,"Ξ","\\Xi",!0),H(Y,ue,Xe,"Π","\\Pi",!0),H(Y,ue,Xe,"Σ","\\Sigma",!0),H(Y,ue,Xe,"Υ","\\Upsilon",!0),H(Y,ue,Xe,"Φ","\\Phi",!0),H(Y,ue,Xe,"Ψ","\\Psi",!0),H(Y,ue,Xe,"Ω","\\Omega",!0),H(Y,ue,Xe,"A","Α"),H(Y,ue,Xe,"B","Β"),H(Y,ue,Xe,"E","Ε"),H(Y,ue,Xe,"Z","Ζ"),H(Y,ue,Xe,"H","Η"),H(Y,ue,Xe,"I","Ι"),H(Y,ue,Xe,"K","Κ"),H(Y,ue,Xe,"M","Μ"),H(Y,ue,Xe,"N","Ν"),H(Y,ue,Xe,"O","Ο"),H(Y,ue,Xe,"P","Ρ"),H(Y,ue,Xe,"T","Τ"),H(Y,ue,Xe,"X","Χ"),H(Y,ue,Xe,"¬","\\neg",!0),H(Y,ue,Xe,"¬","\\lnot"),H(Y,ue,Xe,"⊤","\\top"),H(Y,ue,Xe,"⊥","\\bot"),H(Y,ue,Xe,"∅","\\emptyset"),H(Y,Pe,Xe,"∅","\\varnothing"),H(Y,ue,vt,"α","\\alpha",!0),H(Y,ue,vt,"β","\\beta",!0),H(Y,ue,vt,"γ","\\gamma",!0),H(Y,ue,vt,"δ","\\delta",!0),H(Y,ue,vt,"ϵ","\\epsilon",!0),H(Y,ue,vt,"ζ","\\zeta",!0),H(Y,ue,vt,"η","\\eta",!0),H(Y,ue,vt,"θ","\\theta",!0),H(Y,ue,vt,"ι","\\iota",!0),H(Y,ue,vt,"κ","\\kappa",!0),H(Y,ue,vt,"λ","\\lambda",!0),H(Y,ue,vt,"μ","\\mu",!0),H(Y,ue,vt,"ν","\\nu",!0),H(Y,ue,vt,"ξ","\\xi",!0),H(Y,ue,vt,"ο","\\omicron",!0),H(Y,ue,vt,"π","\\pi",!0),H(Y,ue,vt,"ρ","\\rho",!0),H(Y,ue,vt,"σ","\\sigma",!0),H(Y,ue,vt,"τ","\\tau",!0),H(Y,ue,vt,"υ","\\upsilon",!0),H(Y,ue,vt,"ϕ","\\phi",!0),H(Y,ue,vt,"χ","\\chi",!0),H(Y,ue,vt,"ψ","\\psi",!0),H(Y,ue,vt,"ω","\\omega",!0),H(Y,ue,vt,"ε","\\varepsilon",!0),H(Y,ue,vt,"ϑ","\\vartheta",!0),H(Y,ue,vt,"ϖ","\\varpi",!0),H(Y,ue,vt,"ϱ","\\varrho",!0),H(Y,ue,vt,"ς","\\varsigma",!0),H(Y,ue,vt,"φ","\\varphi",!0),H(Y,ue,jt,"∗","*",!0),H(Y,ue,jt,"+","+"),H(Y,ue,jt,"−","-",!0),H(Y,ue,jt,"⋅","\\cdot",!0),H(Y,ue,jt,"∘","\\circ"),H(Y,ue,jt,"÷","\\div",!0),H(Y,ue,jt,"±","\\pm",!0),H(Y,ue,jt,"×","\\times",!0),H(Y,ue,jt,"∩","\\cap",!0),H(Y,ue,jt,"∪","\\cup",!0),H(Y,ue,jt,"∖","\\setminus"),H(Y,ue,jt,"∧","\\land"),H(Y,ue,jt,"∨","\\lor"),H(Y,ue,jt,"∧","\\wedge",!0),H(Y,ue,jt,"∨","\\vee",!0),H(Y,ue,Xe,"√","\\surd"),H(Y,ue,Hn,"⟨","\\langle",!0),H(Y,ue,Hn,"∣","\\lvert"),H(Y,ue,Hn,"∥","\\lVert"),H(Y,ue,Br,"?","?"),H(Y,ue,Br,"!","!"),H(Y,ue,Br,"⟩","\\rangle",!0),H(Y,ue,Br,"∣","\\rvert"),H(Y,ue,Br,"∥","\\rVert"),H(Y,ue,Ne,"=","="),H(Y,ue,Ne,":",":"),H(Y,ue,Ne,"≈","\\approx",!0),H(Y,ue,Ne,"≅","\\cong",!0),H(Y,ue,Ne,"≥","\\ge"),H(Y,ue,Ne,"≥","\\geq",!0),H(Y,ue,Ne,"←","\\gets"),H(Y,ue,Ne,">","\\gt",!0),H(Y,ue,Ne,"∈","\\in",!0),H(Y,ue,Ne,"","\\@not"),H(Y,ue,Ne,"⊂","\\subset",!0),H(Y,ue,Ne,"⊃","\\supset",!0),H(Y,ue,Ne,"⊆","\\subseteq",!0),H(Y,ue,Ne,"⊇","\\supseteq",!0),H(Y,Pe,Ne,"⊈","\\nsubseteq",!0),H(Y,Pe,Ne,"⊉","\\nsupseteq",!0),H(Y,ue,Ne,"⊨","\\models"),H(Y,ue,Ne,"←","\\leftarrow",!0),H(Y,ue,Ne,"≤","\\le"),H(Y,ue,Ne,"≤","\\leq",!0),H(Y,ue,Ne,"<","\\lt",!0),H(Y,ue,Ne,"→","\\rightarrow",!0),H(Y,ue,Ne,"→","\\to"),H(Y,Pe,Ne,"≱","\\ngeq",!0),H(Y,Pe,Ne,"≰","\\nleq",!0),H(Y,ue,Lr," ","\\ "),H(Y,ue,Lr," ","\\space"),H(Y,ue,Lr," ","\\nobreakspace"),H(At,ue,Lr," ","\\ "),H(At,ue,Lr," "," "),H(At,ue,Lr," ","\\space"),H(At,ue,Lr," ","\\nobreakspace"),H(Y,ue,Lr,null,"\\nobreak"),H(Y,ue,Lr,null,"\\allowbreak"),H(Y,ue,Ir,",",","),H(Y,ue,Ir,";",";"),H(Y,Pe,jt,"⊼","\\barwedge",!0),H(Y,Pe,jt,"⊻","\\veebar",!0),H(Y,ue,jt,"⊙","\\odot",!0),H(Y,ue,jt,"⊕","\\oplus",!0),H(Y,ue,jt,"⊗","\\otimes",!0),H(Y,ue,Xe,"∂","\\partial",!0),H(Y,ue,jt,"⊘","\\oslash",!0),H(Y,Pe,jt,"⊚","\\circledcirc",!0),H(Y,Pe,jt,"⊡","\\boxdot",!0),H(Y,ue,jt,"△","\\bigtriangleup"),H(Y,ue,jt,"▽","\\bigtriangledown"),H(Y,ue,jt,"†","\\dagger"),H(Y,ue,jt,"⋄","\\diamond"),H(Y,ue,jt,"⋆","\\star"),H(Y,ue,jt,"◃","\\triangleleft"),H(Y,ue,jt,"▹","\\triangleright"),H(Y,ue,Hn,"{","\\{"),H(At,ue,Xe,"{","\\{"),H(At,ue,Xe,"{","\\textbraceleft"),H(Y,ue,Br,"}","\\}"),H(At,ue,Xe,"}","\\}"),H(At,ue,Xe,"}","\\textbraceright"),H(Y,ue,Hn,"{","\\lbrace"),H(Y,ue,Br,"}","\\rbrace"),H(Y,ue,Hn,"[","\\lbrack",!0),H(At,ue,Xe,"[","\\lbrack",!0),H(Y,ue,Br,"]","\\rbrack",!0),H(At,ue,Xe,"]","\\rbrack",!0),H(Y,ue,Hn,"(","\\lparen",!0),H(Y,ue,Br,")","\\rparen",!0),H(At,ue,Xe,"<","\\textless",!0),H(At,ue,Xe,">","\\textgreater",!0),H(Y,ue,Hn,"⌊","\\lfloor",!0),H(Y,ue,Br,"⌋","\\rfloor",!0),H(Y,ue,Hn,"⌈","\\lceil",!0),H(Y,ue,Br,"⌉","\\rceil",!0),H(Y,ue,Xe,"\\","\\backslash"),H(Y,ue,Xe,"∣","|"),H(Y,ue,Xe,"∣","\\vert"),H(At,ue,Xe,"|","\\textbar",!0),H(Y,ue,Xe,"∥","\\|"),H(Y,ue,Xe,"∥","\\Vert"),H(At,ue,Xe,"∥","\\textbardbl"),H(At,ue,Xe,"~","\\textasciitilde"),H(At,ue,Xe,"\\","\\textbackslash"),H(At,ue,Xe,"^","\\textasciicircum"),H(Y,ue,Ne,"↑","\\uparrow",!0),H(Y,ue,Ne,"⇑","\\Uparrow",!0),H(Y,ue,Ne,"↓","\\downarrow",!0),H(Y,ue,Ne,"⇓","\\Downarrow",!0),H(Y,ue,Ne,"↕","\\updownarrow",!0),H(Y,ue,Ne,"⇕","\\Updownarrow",!0),H(Y,ue,on,"∐","\\coprod"),H(Y,ue,on,"⋁","\\bigvee"),H(Y,ue,on,"⋀","\\bigwedge"),H(Y,ue,on,"⨄","\\biguplus"),H(Y,ue,on,"⋂","\\bigcap"),H(Y,ue,on,"⋃","\\bigcup"),H(Y,ue,on,"∫","\\int"),H(Y,ue,on,"∫","\\intop"),H(Y,ue,on,"∬","\\iint"),H(Y,ue,on,"∭","\\iiint"),H(Y,ue,on,"∏","\\prod"),H(Y,ue,on,"∑","\\sum"),H(Y,ue,on,"⨂","\\bigotimes"),H(Y,ue,on,"⨁","\\bigoplus"),H(Y,ue,on,"⨀","\\bigodot"),H(Y,ue,on,"∮","\\oint"),H(Y,ue,on,"∯","\\oiint"),H(Y,ue,on,"∰","\\oiiint"),H(Y,ue,on,"⨆","\\bigsqcup"),H(Y,ue,on,"∫","\\smallint"),H(At,ue,ft,"…","\\textellipsis"),H(Y,ue,ft,"…","\\mathellipsis"),H(At,ue,ft,"…","\\ldots",!0),H(Y,ue,ft,"…","\\ldots",!0),H(Y,ue,ft,"⋯","\\@cdots",!0),H(Y,ue,ft,"⋱","\\ddots",!0),H(Y,ue,Xe,"⋮","\\varvdots"),H(Y,ue,nr,"ˊ","\\acute"),H(Y,ue,nr,"ˋ","\\grave"),H(Y,ue,nr,"¨","\\ddot"),H(Y,ue,nr,"~","\\tilde"),H(Y,ue,nr,"ˉ","\\bar"),H(Y,ue,nr,"˘","\\breve"),H(Y,ue,nr,"ˇ","\\check"),H(Y,ue,nr,"^","\\hat"),H(Y,ue,nr,"⃗","\\vec"),H(Y,ue,nr,"˙","\\dot"),H(Y,ue,nr,"˚","\\mathring"),H(Y,ue,vt,"","\\@imath"),H(Y,ue,vt,"","\\@jmath"),H(Y,ue,Xe,"ı","ı"),H(Y,ue,Xe,"ȷ","ȷ"),H(At,ue,Xe,"ı","\\i",!0),H(At,ue,Xe,"ȷ","\\j",!0),H(At,ue,Xe,"ß","\\ss",!0),H(At,ue,Xe,"æ","\\ae",!0),H(At,ue,Xe,"œ","\\oe",!0),H(At,ue,Xe,"ø","\\o",!0),H(At,ue,Xe,"Æ","\\AE",!0),H(At,ue,Xe,"Œ","\\OE",!0),H(At,ue,Xe,"Ø","\\O",!0),H(At,ue,nr,"ˊ","\\'"),H(At,ue,nr,"ˋ","\\`"),H(At,ue,nr,"ˆ","\\^"),H(At,ue,nr,"˜","\\~"),H(At,ue,nr,"ˉ","\\="),H(At,ue,nr,"˘","\\u"),H(At,ue,nr,"˙","\\."),H(At,ue,nr,"¸","\\c"),H(At,ue,nr,"˚","\\r"),H(At,ue,nr,"ˇ","\\v"),H(At,ue,nr,"¨",'\\"'),H(At,ue,nr,"˝","\\H"),H(At,ue,nr,"◯","\\textcircled");var be={"--":!0,"---":!0,"``":!0,"''":!0};H(At,ue,Xe,"–","--",!0),H(At,ue,Xe,"–","\\textendash"),H(At,ue,Xe,"—","---",!0),H(At,ue,Xe,"—","\\textemdash"),H(At,ue,Xe,"‘","`",!0),H(At,ue,Xe,"‘","\\textquoteleft"),H(At,ue,Xe,"’","'",!0),H(At,ue,Xe,"’","\\textquoteright"),H(At,ue,Xe,"“","``",!0),H(At,ue,Xe,"“","\\textquotedblleft"),H(At,ue,Xe,"”","''",!0),H(At,ue,Xe,"”","\\textquotedblright"),H(Y,ue,Xe,"°","\\degree",!0),H(At,ue,Xe,"°","\\degree"),H(At,ue,Xe,"°","\\textdegree",!0),H(Y,ue,Xe,"£","\\pounds"),H(Y,ue,Xe,"£","\\mathsterling",!0),H(At,ue,Xe,"£","\\pounds"),H(At,ue,Xe,"£","\\textsterling",!0),H(Y,Pe,Xe,"✠","\\maltese"),H(At,Pe,Xe,"✠","\\maltese");for(var et='0123456789/@."',Ee=0;Ee<et.length;Ee++){var qe=et.charAt(Ee);H(Y,ue,Xe,qe,qe)}for(var We='0123456789!@*()-=+";:?/.,',pt=0;pt<We.length;pt++){var Ut=We.charAt(pt);H(At,ue,Xe,Ut,Ut)}for(var Gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",sn=0;sn<Gt.length;sn++){var wn=Gt.charAt(sn);H(Y,ue,vt,wn,wn),H(At,ue,Xe,wn,wn)}H(Y,Pe,Xe,"C","ℂ"),H(At,Pe,Xe,"C","ℂ"),H(Y,Pe,Xe,"H","ℍ"),H(At,Pe,Xe,"H","ℍ"),H(Y,Pe,Xe,"N","ℕ"),H(At,Pe,Xe,"N","ℕ"),H(Y,Pe,Xe,"P","ℙ"),H(At,Pe,Xe,"P","ℙ"),H(Y,Pe,Xe,"Q","ℚ"),H(At,Pe,Xe,"Q","ℚ"),H(Y,Pe,Xe,"R","ℝ"),H(At,Pe,Xe,"R","ℝ"),H(Y,Pe,Xe,"Z","ℤ"),H(At,Pe,Xe,"Z","ℤ"),H(Y,ue,vt,"h","ℎ"),H(At,ue,vt,"h","ℎ");for(var Ht="",rn=0;rn<Gt.length;rn++){var yn=Gt.charAt(rn);Ht=String.fromCharCode(55349,56320+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),Ht=String.fromCharCode(55349,56372+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),Ht=String.fromCharCode(55349,56424+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),Ht=String.fromCharCode(55349,56580+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),Ht=String.fromCharCode(55349,56736+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),Ht=String.fromCharCode(55349,56788+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),Ht=String.fromCharCode(55349,56840+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),Ht=String.fromCharCode(55349,56944+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),rn<26&&(Ht=String.fromCharCode(55349,56632+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht),Ht=String.fromCharCode(55349,56476+rn),H(Y,ue,vt,yn,Ht),H(At,ue,Xe,yn,Ht))}Ht=String.fromCharCode(55349,56668),H(Y,ue,vt,"k",Ht),H(At,ue,Xe,"k",Ht);for(var Nn=0;Nn<10;Nn++){var sr=Nn.toString();Ht=String.fromCharCode(55349,57294+Nn),H(Y,ue,vt,sr,Ht),H(At,ue,Xe,sr,Ht),Ht=String.fromCharCode(55349,57314+Nn),H(Y,ue,vt,sr,Ht),H(At,ue,Xe,sr,Ht),Ht=String.fromCharCode(55349,57324+Nn),H(Y,ue,vt,sr,Ht),H(At,ue,Xe,sr,Ht),Ht=String.fromCharCode(55349,57334+Nn),H(Y,ue,vt,sr,Ht),H(At,ue,Xe,sr,Ht)}for(var mr="ÐÞþ",Gn=0;Gn<mr.length;Gn++){var gn=mr.charAt(Gn);H(Y,ue,vt,gn,gn),H(At,ue,Xe,gn,gn)}var Nr=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Qn=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],to=function(b,_){var x=b.charCodeAt(0),R=b.charCodeAt(1),O=(x-55296)*1024+(R-56320)+65536,G=_==="math"?0:1;if(119808<=O&&O<120484){var se=Math.floor((O-119808)/26);return[Nr[se][2],Nr[se][G]]}else if(120782<=O&&O<=120831){var Se=Math.floor((O-120782)/10);return[Qn[Se][2],Qn[Se][G]]}else{if(O===120485||O===120486)return[Nr[0][2],Nr[0][G]];if(120486<O&&O<120782)return["",""];throw new o("Unsupported character: "+b)}},Ko=function(b,_,x){return Tn[x][b]&&Tn[x][b].replace&&(b=Tn[x][b].replace),{value:b,metrics:Ge(b,_,x)}},_r=function(b,_,x,R,O){var G=Ko(b,_,x),se=G.metrics;b=G.value;var Se;if(se){var Ce=se.italic;(x==="text"||R&&R.font==="mathit")&&(Ce=0),Se=new ot(b,se.height,se.depth,Ce,se.skew,se.width,O)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+b+"' in style '"+_+"' and mode '"+x+"'")),Se=new ot(b,0,0,0,0,0,O);if(R){Se.maxFontSize=R.sizeMultiplier,R.style.isTight()&&Se.classes.push("mtight");var Ke=R.getColor();Ke&&(Se.style.color=Ke)}return Se},Ml=function(b,_,x,R){return R===void 0&&(R=[]),x.font==="boldsymbol"&&Ko(b,"Main-Bold",_).metrics?_r(b,"Main-Bold",_,x,R.concat(["mathbf"])):b==="\\"||Tn[_][b].font==="main"?_r(b,"Main-Regular",_,x,R):_r(b,"AMS-Regular",_,x,R.concat(["amsrm"]))},vr=function(b,_,x,R,O){return O!=="textord"&&Ko(b,"Math-BoldItalic",_).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Ga=function(b,_,x){var R=b.mode,O=b.text,G=["mord"],se=R==="math"||R==="text"&&_.font,Se=se?_.font:_.fontFamily;if(O.charCodeAt(0)===55349){var Ce=to(O,R),Ke=Ce[0],it=Ce[1];return _r(O,Ke,R,_,G.concat(it))}else if(Se){var xt,kt;if(Se==="boldsymbol"){var Dt=vr(O,R,_,G,x);xt=Dt.fontName,kt=[Dt.fontClass]}else se?(xt=$S[Se].fontName,kt=[Se]):(xt=Ch(Se,_.fontWeight,_.fontShape),kt=[Se,_.fontWeight,_.fontShape]);if(Ko(O,xt,R).metrics)return _r(O,xt,R,_,G.concat(kt));if(be.hasOwnProperty(O)&&xt.substr(0,10)==="Typewriter"){for(var Vt=[],Kt=0;Kt<O.length;Kt++)Vt.push(_r(O[Kt],xt,R,_,G.concat(kt)));return HS(Vt)}}if(x==="mathord")return _r(O,"Math-Italic",R,_,G.concat(["mathnormal"]));if(x==="textord"){var cn=Tn[R][O]&&Tn[R][O].font;if(cn==="ams"){var pn=Ch("amsrm",_.fontWeight,_.fontShape);return _r(O,pn,R,_,G.concat("amsrm",_.fontWeight,_.fontShape))}else if(cn==="main"||!cn){var bn=Ch("textrm",_.fontWeight,_.fontShape);return _r(O,bn,R,_,G.concat(_.fontWeight,_.fontShape))}else{var Jn=Ch(cn,_.fontWeight,_.fontShape);return _r(O,Jn,R,_,G.concat(Jn,_.fontWeight,_.fontShape))}}else throw new Error("unexpected type: "+x+" in makeOrd")},Ka=function(b,_){if(He(b.classes)!==He(_.classes)||b.skew!==_.skew||b.maxFontSize!==_.maxFontSize)return!1;if(b.classes.length===1){var x=b.classes[0];if(x==="mbin"||x==="mord")return!1}for(var R in b.style)if(b.style.hasOwnProperty(R)&&b.style[R]!==_.style[R])return!1;for(var O in _.style)if(_.style.hasOwnProperty(O)&&b.style[O]!==_.style[O])return!1;return!0},da=function(b){for(var _=0;_<b.length-1;_++){var x=b[_],R=b[_+1];x instanceof ot&&R instanceof ot&&Ka(x,R)&&(x.text+=R.text,x.height=Math.max(x.height,R.height),x.depth=Math.max(x.depth,R.depth),x.italic=R.italic,b.splice(_+1,1),_--)}return b},ra=function(b){for(var _=0,x=0,R=0,O=0;O<b.children.length;O++){var G=b.children[O];G.height>_&&(_=G.height),G.depth>x&&(x=G.depth),G.maxFontSize>R&&(R=G.maxFontSize)}b.height=_,b.depth=x,b.maxFontSize=R},aa=function(b,_,x,R){var O=new tt(b,_,x,R);return ra(O),O},hs=function(b,_,x,R){return new tt(b,_,x,R)},sI=function(b,_,x){var R=aa([b],[],_);return R.height=Math.max(x||_.fontMetrics().defaultRuleThickness,_.minRuleThickness),R.style.borderBottomWidth=X(R.height),R.maxFontSize=1,R},iI=function(b,_,x,R){var O=new Rt(b,_,x,R);return ra(O),O},HS=function(b){var _=new Ve(b);return ra(_),_},lI=function(b,_){return b instanceof Ve?aa([],[b],_):b},cI=function(b){if(b.positionType==="individualShift"){for(var _=b.children,x=[_[0]],R=-_[0].shift-_[0].elem.depth,O=R,G=1;G<_.length;G++){var se=-_[G].shift-O-_[G].elem.depth,Se=se-(_[G-1].elem.height+_[G-1].elem.depth);O=O+se,x.push({type:"kern",size:Se}),x.push(_[G])}return{children:x,depth:R}}var Ce;if(b.positionType==="top"){for(var Ke=b.positionData,it=0;it<b.children.length;it++){var xt=b.children[it];Ke-=xt.type==="kern"?xt.size:xt.elem.height+xt.elem.depth}Ce=Ke}else if(b.positionType==="bottom")Ce=-b.positionData;else{var kt=b.children[0];if(kt.type!=="elem")throw new Error('First child must have type "elem".');if(b.positionType==="shift")Ce=-kt.elem.depth-b.positionData;else if(b.positionType==="firstBaseline")Ce=-kt.elem.depth;else throw new Error("Invalid positionType "+b.positionType+".")}return{children:b.children,depth:Ce}},uI=function(b,_){for(var x=cI(b),R=x.children,O=x.depth,G=0,se=0;se<R.length;se++){var Se=R[se];if(Se.type==="elem"){var Ce=Se.elem;G=Math.max(G,Ce.maxFontSize,Ce.height)}}G+=2;var Ke=aa(["pstrut"],[]);Ke.style.height=X(G);for(var it=[],xt=O,kt=O,Dt=O,Vt=0;Vt<R.length;Vt++){var Kt=R[Vt];if(Kt.type==="kern")Dt+=Kt.size;else{var cn=Kt.elem,pn=Kt.wrapperClasses||[],bn=Kt.wrapperStyle||{},Jn=aa(pn,[Ke,cn],void 0,bn);Jn.style.top=X(-G-Dt-cn.depth),Kt.marginLeft&&(Jn.style.marginLeft=Kt.marginLeft),Kt.marginRight&&(Jn.style.marginRight=Kt.marginRight),it.push(Jn),Dt+=cn.height+cn.depth}xt=Math.min(xt,Dt),kt=Math.max(kt,Dt)}var ir=aa(["vlist"],it);ir.style.height=X(kt);var Cr;if(xt<0){var rr=aa([],[]),lr=aa(["vlist"],[rr]);lr.style.height=X(-xt);var Ur=aa(["vlist-s"],[new ot("​")]);Cr=[aa(["vlist-r"],[ir,Ur]),aa(["vlist-r"],[lr])]}else Cr=[aa(["vlist-r"],[ir])];var gr=aa(["vlist-t"],Cr);return Cr.length===2&&gr.classes.push("vlist-t2"),gr.height=kt,gr.depth=-xt,gr},dI=function(b,_){var x=aa(["mspace"],[],_),R=ht(b,_);return x.style.marginRight=X(R),x},Ch=function(b,_,x){var R="";switch(b){case"amsrm":R="AMS";break;case"textrm":R="Main";break;case"textsf":R="SansSerif";break;case"texttt":R="Typewriter";break;default:R=b}var O;return _==="textbf"&&x==="textit"?O="BoldItalic":_==="textbf"?O="Bold":_==="textit"?O="Italic":O="Regular",R+"-"+O},$S={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},VS={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},fI=function(b,_){var x=VS[b],R=x[0],O=x[1],G=x[2],se=new It(R),Se=new dt([se],{width:X(O),height:X(G),style:"width:"+X(O),viewBox:"0 0 "+1e3*O+" "+1e3*G,preserveAspectRatio:"xMinYMin"}),Ce=hs(["overlay"],[Se],_);return Ce.height=G,Ce.style.height=X(G),Ce.style.width=X(O),Ce},lt={fontMap:$S,makeSymbol:_r,mathsym:Ml,makeSpan:aa,makeSvgSpan:hs,makeLineSpan:sI,makeAnchor:iI,makeFragment:HS,wrapFragment:lI,makeVList:uI,makeOrd:Ga,makeGlue:dI,staticSvg:fI,svgData:VS,tryCombineChars:da},Rr={number:3,unit:"mu"},Tl={number:4,unit:"mu"},Vs={number:5,unit:"mu"},hI={mord:{mop:Rr,mbin:Tl,mrel:Vs,minner:Rr},mop:{mord:Rr,mop:Rr,mrel:Vs,minner:Rr},mbin:{mord:Tl,mop:Tl,mopen:Tl,minner:Tl},mrel:{mord:Vs,mop:Vs,mopen:Vs,minner:Vs},mopen:{},mclose:{mop:Rr,mbin:Tl,mrel:Vs,minner:Rr},mpunct:{mord:Rr,mop:Rr,mrel:Vs,mopen:Rr,mclose:Rr,mpunct:Rr,minner:Rr},minner:{mord:Rr,mop:Rr,mbin:Tl,mrel:Vs,mopen:Rr,mpunct:Rr,minner:Rr}},pI={mord:{mop:Rr},mop:{mord:Rr,mop:Rr},mbin:{},mrel:{},mopen:{},mclose:{mop:Rr},mpunct:{},minner:{mop:Rr}},WS={},Ah={},Eh={};function en(K){for(var b=K.type,_=K.names,x=K.props,R=K.handler,O=K.htmlBuilder,G=K.mathmlBuilder,se={type:b,numArgs:x.numArgs,argTypes:x.argTypes,allowedInArgument:!!x.allowedInArgument,allowedInText:!!x.allowedInText,allowedInMath:x.allowedInMath===void 0?!0:x.allowedInMath,numOptionalArgs:x.numOptionalArgs||0,infix:!!x.infix,primitive:!!x.primitive,handler:R},Se=0;Se<_.length;++Se)WS[_[Se]]=se;b&&(O&&(Ah[b]=O),G&&(Eh[b]=G))}function Il(K){var b=K.type,_=K.htmlBuilder,x=K.mathmlBuilder;en({type:b,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:_,mathmlBuilder:x})}var Mh=function(b){return b.type==="ordgroup"&&b.body.length===1?b.body[0]:b},Gr=function(b){return b.type==="ordgroup"?b.body:[b]},Ws=lt.makeSpan,mI=["leftmost","mbin","mopen","mrel","mop","mpunct"],vI=["rightmost","mrel","mclose","mpunct"],gI={display:F.DISPLAY,text:F.TEXT,script:F.SCRIPT,scriptscript:F.SCRIPTSCRIPT},yI={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},fa=function(b,_,x,R){R===void 0&&(R=[null,null]);for(var O=[],G=0;G<b.length;G++){var se=Zn(b[G],_);if(se instanceof Ve){var Se=se.children;O.push.apply(O,Se)}else O.push(se)}if(lt.tryCombineChars(O),!x)return O;var Ce=_;if(b.length===1){var Ke=b[0];Ke.type==="sizing"?Ce=_.havingSize(Ke.size):Ke.type==="styling"&&(Ce=_.havingStyle(gI[Ke.style]))}var it=Ws([R[0]||"leftmost"],[],_),xt=Ws([R[1]||"rightmost"],[],_),kt=x==="root";return GS(O,function(Dt,Vt){var Kt=Vt.classes[0],cn=Dt.classes[0];Kt==="mbin"&&v.contains(vI,cn)?Vt.classes[0]="mord":cn==="mbin"&&v.contains(mI,Kt)&&(Dt.classes[0]="mord")},{node:it},xt,kt),GS(O,function(Dt,Vt){var Kt=Wm(Vt),cn=Wm(Dt),pn=Kt&&cn?Dt.hasClass("mtight")?pI[Kt][cn]:hI[Kt][cn]:null;if(pn)return lt.makeGlue(pn,Ce)},{node:it},xt,kt),O},GS=function K(b,_,x,R,O){R&&b.push(R);for(var G=0;G<b.length;G++){var se=b[G],Se=KS(se);if(Se){K(Se.children,_,x,null,O);continue}var Ce=!se.hasClass("mspace");if(Ce){var Ke=_(se,x.node);Ke&&(x.insertAfter?x.insertAfter(Ke):(b.unshift(Ke),G++))}Ce?x.node=se:O&&se.hasClass("newline")&&(x.node=Ws(["leftmost"])),x.insertAfter=function(it){return function(xt){b.splice(it+1,0,xt),G++}}(G)}R&&b.pop()},KS=function(b){return b instanceof Ve||b instanceof Rt||b instanceof tt&&b.hasClass("enclosing")?b:null},bI=function K(b,_){var x=KS(b);if(x){var R=x.children;if(R.length){if(_==="right")return K(R[R.length-1],"right");if(_==="left")return K(R[0],"left")}}return b},Wm=function(b,_){return b?(_&&(b=bI(b,_)),yI[b.classes[0]]||null):null},Rd=function(b,_){var x=["nulldelimiter"].concat(b.baseSizingClasses());return Ws(_.concat(x))},Zn=function(b,_,x){if(!b)return Ws();if(Ah[b.type]){var R=Ah[b.type](b,_);if(x&&_.size!==x.size){R=Ws(_.sizingClasses(x),[R],_);var O=_.sizeMultiplier/x.sizeMultiplier;R.height*=O,R.depth*=O}return R}else throw new o("Got group of unknown type: '"+b.type+"'")};function Th(K,b){var _=Ws(["base"],K,b),x=Ws(["strut"]);return x.style.height=X(_.height+_.depth),_.depth&&(x.style.verticalAlign=X(-_.depth)),_.children.unshift(x),_}function Gm(K,b){var _=null;K.length===1&&K[0].type==="tag"&&(_=K[0].tag,K=K[0].body);var x=fa(K,b,"root"),R;x.length===2&&x[1].hasClass("tag")&&(R=x.pop());for(var O=[],G=[],se=0;se<x.length;se++)if(G.push(x[se]),x[se].hasClass("mbin")||x[se].hasClass("mrel")||x[se].hasClass("allowbreak")){for(var Se=!1;se<x.length-1&&x[se+1].hasClass("mspace")&&!x[se+1].hasClass("newline");)se++,G.push(x[se]),x[se].hasClass("nobreak")&&(Se=!0);Se||(O.push(Th(G,b)),G=[])}else x[se].hasClass("newline")&&(G.pop(),G.length>0&&(O.push(Th(G,b)),G=[]),O.push(x[se]));G.length>0&&O.push(Th(G,b));var Ce;_?(Ce=Th(fa(_,b,!0)),Ce.classes=["tag"],O.push(Ce)):R&&O.push(R);var Ke=Ws(["katex-html"],O);if(Ke.setAttribute("aria-hidden","true"),Ce){var it=Ce.children[0];it.style.height=X(Ke.height+Ke.depth),Ke.depth&&(it.style.verticalAlign=X(-Ke.depth))}return Ke}function qS(K){return new Ve(K)}var wo=function(){function K(_,x,R){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=_,this.attributes={},this.children=x||[],this.classes=R||[]}var b=K.prototype;return b.setAttribute=function(x,R){this.attributes[x]=R},b.getAttribute=function(x){return this.attributes[x]},b.toNode=function(){var x=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var R in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,R)&&x.setAttribute(R,this.attributes[R]);this.classes.length>0&&(x.className=He(this.classes));for(var O=0;O<this.children.length;O++)x.appendChild(this.children[O].toNode());return x},b.toMarkup=function(){var x="<"+this.type;for(var R in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,R)&&(x+=" "+R+'="',x+=v.escape(this.attributes[R]),x+='"');this.classes.length>0&&(x+=' class ="'+v.escape(He(this.classes))+'"'),x+=">";for(var O=0;O<this.children.length;O++)x+=this.children[O].toMarkup();return x+="</"+this.type+">",x},b.toText=function(){return this.children.map(function(x){return x.toText()}).join("")},K}(),kd=function(){function K(_){this.text=void 0,this.text=_}var b=K.prototype;return b.toNode=function(){return document.createTextNode(this.text)},b.toMarkup=function(){return v.escape(this.toText())},b.toText=function(){return this.text},K}(),SI=function(){function K(_){this.width=void 0,this.character=void 0,this.width=_,_>=.05555&&_<=.05556?this.character=" ":_>=.1666&&_<=.1667?this.character=" ":_>=.2222&&_<=.2223?this.character=" ":_>=.2777&&_<=.2778?this.character="  ":_>=-.05556&&_<=-.05555?this.character=" ⁣":_>=-.1667&&_<=-.1666?this.character=" ⁣":_>=-.2223&&_<=-.2222?this.character=" ⁣":_>=-.2778&&_<=-.2777?this.character=" ⁣":this.character=null}var b=K.prototype;return b.toNode=function(){if(this.character)return document.createTextNode(this.character);var x=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return x.setAttribute("width",X(this.width)),x},b.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+X(this.width)+'"/>'},b.toText=function(){return this.character?this.character:" "},K}(),Ot={MathNode:wo,TextNode:kd,SpaceNode:SI,newDocumentFragment:qS},xo=function(b,_,x){return Tn[_][b]&&Tn[_][b].replace&&b.charCodeAt(0)!==55349&&!(be.hasOwnProperty(b)&&x&&(x.fontFamily&&x.fontFamily.substr(4,2)==="tt"||x.font&&x.font.substr(4,2)==="tt"))&&(b=Tn[_][b].replace),new Ot.TextNode(b)},Km=function(b){return b.length===1?b[0]:new Ot.MathNode("mrow",b)},qm=function(b,_){if(_.fontFamily==="texttt")return"monospace";if(_.fontFamily==="textsf")return _.fontShape==="textit"&&_.fontWeight==="textbf"?"sans-serif-bold-italic":_.fontShape==="textit"?"sans-serif-italic":_.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(_.fontShape==="textit"&&_.fontWeight==="textbf")return"bold-italic";if(_.fontShape==="textit")return"italic";if(_.fontWeight==="textbf")return"bold";var x=_.font;if(!x||x==="mathnormal")return null;var R=b.mode;if(x==="mathit")return"italic";if(x==="boldsymbol")return b.type==="textord"?"bold":"bold-italic";if(x==="mathbf")return"bold";if(x==="mathbb")return"double-struck";if(x==="mathfrak")return"fraktur";if(x==="mathscr"||x==="mathcal")return"script";if(x==="mathsf")return"sans-serif";if(x==="mathtt")return"monospace";var O=b.text;if(v.contains(["\\imath","\\jmath"],O))return null;Tn[R][O]&&Tn[R][O].replace&&(O=Tn[R][O].replace);var G=lt.fontMap[x].fontName;return Ge(O,G,R)?lt.fontMap[x].variant:null},no=function(b,_,x){if(b.length===1){var R=pr(b[0],_);return x&&R instanceof wo&&R.type==="mo"&&(R.setAttribute("lspace","0em"),R.setAttribute("rspace","0em")),[R]}for(var O=[],G,se=0;se<b.length;se++){var Se=pr(b[se],_);if(Se instanceof wo&&G instanceof wo){if(Se.type==="mtext"&&G.type==="mtext"&&Se.getAttribute("mathvariant")===G.getAttribute("mathvariant")){var Ce;(Ce=G.children).push.apply(Ce,Se.children);continue}else if(Se.type==="mn"&&G.type==="mn"){var Ke;(Ke=G.children).push.apply(Ke,Se.children);continue}else if(Se.type==="mi"&&Se.children.length===1&&G.type==="mn"){var it=Se.children[0];if(it instanceof kd&&it.text==="."){var xt;(xt=G.children).push.apply(xt,Se.children);continue}}else if(G.type==="mi"&&G.children.length===1){var kt=G.children[0];if(kt instanceof kd&&kt.text==="̸"&&(Se.type==="mo"||Se.type==="mi"||Se.type==="mn")){var Dt=Se.children[0];Dt instanceof kd&&Dt.text.length>0&&(Dt.text=Dt.text.slice(0,1)+"̸"+Dt.text.slice(1),O.pop())}}}O.push(Se),G=Se}return O},Mi=function(b,_,x){return Km(no(b,_,x))},pr=function(b,_){if(!b)return new Ot.MathNode("mrow");if(Eh[b.type]){var x=Eh[b.type](b,_);return x}else throw new o("Got group of unknown type: '"+b.type+"'")};function jS(K,b,_,x,R){var O=no(K,_),G;O.length===1&&O[0]instanceof wo&&v.contains(["mrow","mtable"],O[0].type)?G=O[0]:G=new Ot.MathNode("mrow",O);var se=new Ot.MathNode("annotation",[new Ot.TextNode(b)]);se.setAttribute("encoding","application/x-tex");var Se=new Ot.MathNode("semantics",[G,se]),Ce=new Ot.MathNode("math",[Se]);Ce.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),x&&Ce.setAttribute("display","block");var Ke=R?"katex":"katex-mathml";return lt.makeSpan([Ke],[Ce])}var YS=function(b){return new yt({style:b.displayMode?F.DISPLAY:F.TEXT,maxSize:b.maxSize,minRuleThickness:b.minRuleThickness})},XS=function(b,_){if(_.displayMode){var x=["katex-display"];_.leqno&&x.push("leqno"),_.fleqn&&x.push("fleqn"),b=lt.makeSpan(x,[b])}return b},_I=function(b,_,x){var R=YS(x),O;if(x.output==="mathml")return jS(b,_,R,x.displayMode,!0);if(x.output==="html"){var G=Gm(b,R);O=lt.makeSpan(["katex"],[G])}else{var se=jS(b,_,R,x.displayMode,!1),Se=Gm(b,R);O=lt.makeSpan(["katex"],[se,Se])}return XS(O,x)},wI=function(b,_,x){var R=YS(x),O=Gm(b,R),G=lt.makeSpan(["katex"],[O]);return XS(G,x)},xI={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},CI=function(b){var _=new Ot.MathNode("mo",[new Ot.TextNode(xI[b.replace(/^\\/,"")])]);return _.setAttribute("stretchy","true"),_},AI={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},EI=function(b){return b.type==="ordgroup"?b.body.length:1},MI=function(b,_){function x(){var Se=4e5,Ce=b.label.substr(1);if(v.contains(["widehat","widecheck","widetilde","utilde"],Ce)){var Ke=b,it=EI(Ke.base),xt,kt,Dt;if(it>5)Ce==="widehat"||Ce==="widecheck"?(xt=420,Se=2364,Dt=.42,kt=Ce+"4"):(xt=312,Se=2340,Dt=.34,kt="tilde4");else{var Vt=[1,1,2,2,3,3][it];Ce==="widehat"||Ce==="widecheck"?(Se=[0,1062,2364,2364,2364][Vt],xt=[0,239,300,360,420][Vt],Dt=[0,.24,.3,.3,.36,.42][Vt],kt=Ce+Vt):(Se=[0,600,1033,2339,2340][Vt],xt=[0,260,286,306,312][Vt],Dt=[0,.26,.286,.3,.306,.34][Vt],kt="tilde"+Vt)}var Kt=new It(kt),cn=new dt([Kt],{width:"100%",height:X(Dt),viewBox:"0 0 "+Se+" "+xt,preserveAspectRatio:"none"});return{span:lt.makeSvgSpan([],[cn],_),minWidth:0,height:Dt}}else{var pn=[],bn=AI[Ce],Jn=bn[0],ir=bn[1],Cr=bn[2],rr=Cr/1e3,lr=Jn.length,Ur,gr;if(lr===1){var ro=bn[3];Ur=["hide-tail"],gr=[ro]}else if(lr===2)Ur=["halfarrow-left","halfarrow-right"],gr=["xMinYMin","xMaxYMin"];else if(lr===3)Ur=["brace-left","brace-center","brace-right"],gr=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+lr+" children.");for(var ao=0;ao<lr;ao++){var Ri=new It(Jn[ao]),gs=new dt([Ri],{width:"400em",height:X(rr),viewBox:"0 0 "+Se+" "+Cr,preserveAspectRatio:gr[ao]+" slice"}),oo=lt.makeSvgSpan([Ur[ao]],[gs],_);if(lr===1)return{span:oo,minWidth:ir,height:rr};oo.style.height=X(rr),pn.push(oo)}return{span:lt.makeSpan(["stretchy"],pn,_),minWidth:ir,height:rr}}}var R=x(),O=R.span,G=R.minWidth,se=R.height;return O.height=se,O.style.height=X(se),G>0&&(O.style.minWidth=X(G)),O},TI=function(b,_,x,R,O){var G,se=b.height+b.depth+x+R;if(/fbox|color|angl/.test(_)){if(G=lt.makeSpan(["stretchy",_],[],O),_==="fbox"){var Se=O.color&&O.getColor();Se&&(G.style.borderColor=Se)}}else{var Ce=[];/^[bx]cancel$/.test(_)&&Ce.push(new gt({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(_)&&Ce.push(new gt({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var Ke=new dt(Ce,{width:"100%",height:X(se)});G=lt.makeSvgSpan([],[Ke],O)}return G.height=se,G.style.height=X(se),G},Gs={encloseSpan:TI,mathMLnode:CI,svgSpan:MI};function In(K,b){if(!K||K.type!==b)throw new Error("Expected node of type "+b+", but got "+(K?"node of type "+K.type:String(K)));return K}function jm(K){var b=Ih(K);if(!b)throw new Error("Expected node of symbol group type, but got "+(K?"node of type "+K.type:String(K)));return b}function Ih(K){return K&&(K.type==="atom"||Wn.hasOwnProperty(K.type))?K:null}var Ym=function(b,_){var x,R,O;b&&b.type==="supsub"?(R=In(b.base,"accent"),x=R.base,b.base=x,O=Yn(Zn(b,_)),b.base=R):(R=In(b,"accent"),x=R.base);var G=Zn(x,_.havingCrampedStyle()),se=R.isShifty&&v.isCharacterBox(x),Se=0;if(se){var Ce=v.getBaseElem(x),Ke=Zn(Ce,_.havingCrampedStyle());Se=an(Ke).skew}var it=R.label==="\\c",xt=it?G.height+G.depth:Math.min(G.height,_.fontMetrics().xHeight),kt;if(R.isStretchy)kt=Gs.svgSpan(R,_),kt=lt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"elem",elem:kt,wrapperClasses:["svg-align"],wrapperStyle:Se>0?{width:"calc(100% - "+X(2*Se)+")",marginLeft:X(2*Se)}:void 0}]},_);else{var Dt,Vt;R.label==="\\vec"?(Dt=lt.staticSvg("vec",_),Vt=lt.svgData.vec[1]):(Dt=lt.makeOrd({mode:R.mode,text:R.label},_,"textord"),Dt=an(Dt),Dt.italic=0,Vt=Dt.width,it&&(xt+=Dt.depth)),kt=lt.makeSpan(["accent-body"],[Dt]);var Kt=R.label==="\\textcircled";Kt&&(kt.classes.push("accent-full"),xt=G.height);var cn=Se;Kt||(cn-=Vt/2),kt.style.left=X(cn),R.label==="\\textcircled"&&(kt.style.top=".2em"),kt=lt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"kern",size:-xt},{type:"elem",elem:kt}]},_)}var pn=lt.makeSpan(["mord","accent"],[kt],_);return O?(O.children[0]=pn,O.height=Math.max(pn.height,O.height),O.classes[0]="mord",O):pn},QS=function(b,_){var x=b.isStretchy?Gs.mathMLnode(b.label):new Ot.MathNode("mo",[xo(b.label,b.mode)]),R=new Ot.MathNode("mover",[pr(b.base,_),x]);return R.setAttribute("accent","true"),R},II=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(K){return"\\"+K}).join("|"));en({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(b,_){var x=Mh(_[0]),R=!II.test(b.funcName),O=!R||b.funcName==="\\widehat"||b.funcName==="\\widetilde"||b.funcName==="\\widecheck";return{type:"accent",mode:b.parser.mode,label:b.funcName,isStretchy:R,isShifty:O,base:x}},htmlBuilder:Ym,mathmlBuilder:QS}),en({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(b,_){var x=_[0],R=b.parser.mode;return R==="math"&&(b.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+b.funcName+" works only in text mode"),R="text"),{type:"accent",mode:R,label:b.funcName,isStretchy:!1,isShifty:!0,base:x}},htmlBuilder:Ym,mathmlBuilder:QS}),en({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[0];return{type:"accentUnder",mode:x.mode,label:R,base:O}},htmlBuilder:function(b,_){var x=Zn(b.base,_),R=Gs.svgSpan(b,_),O=b.label==="\\utilde"?.12:0,G=lt.makeVList({positionType:"top",positionData:x.height,children:[{type:"elem",elem:R,wrapperClasses:["svg-align"]},{type:"kern",size:O},{type:"elem",elem:x}]},_);return lt.makeSpan(["mord","accentunder"],[G],_)},mathmlBuilder:function(b,_){var x=Gs.mathMLnode(b.label),R=new Ot.MathNode("munder",[pr(b.base,_),x]);return R.setAttribute("accentunder","true"),R}});var Rh=function(b){var _=new Ot.MathNode("mpadded",b?[b]:[]);return _.setAttribute("width","+0.6em"),_.setAttribute("lspace","0.3em"),_};en({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(b,_,x){var R=b.parser,O=b.funcName;return{type:"xArrow",mode:R.mode,label:O,body:_[0],below:x[0]}},htmlBuilder:function(b,_){var x=_.style,R=_.havingStyle(x.sup()),O=lt.wrapFragment(Zn(b.body,R,_),_),G=b.label.slice(0,2)==="\\x"?"x":"cd";O.classes.push(G+"-arrow-pad");var se;b.below&&(R=_.havingStyle(x.sub()),se=lt.wrapFragment(Zn(b.below,R,_),_),se.classes.push(G+"-arrow-pad"));var Se=Gs.svgSpan(b,_),Ce=-_.fontMetrics().axisHeight+.5*Se.height,Ke=-_.fontMetrics().axisHeight-.5*Se.height-.111;(O.depth>.25||b.label==="\\xleftequilibrium")&&(Ke-=O.depth);var it;if(se){var xt=-_.fontMetrics().axisHeight+se.height+.5*Se.height+.111;it=lt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:O,shift:Ke},{type:"elem",elem:Se,shift:Ce},{type:"elem",elem:se,shift:xt}]},_)}else it=lt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:O,shift:Ke},{type:"elem",elem:Se,shift:Ce}]},_);return it.children[0].children[0].children[1].classes.push("svg-align"),lt.makeSpan(["mrel","x-arrow"],[it],_)},mathmlBuilder:function(b,_){var x=Gs.mathMLnode(b.label);x.setAttribute("minsize",b.label.charAt(0)==="x"?"1.75em":"3.0em");var R;if(b.body){var O=Rh(pr(b.body,_));if(b.below){var G=Rh(pr(b.below,_));R=new Ot.MathNode("munderover",[x,G,O])}else R=new Ot.MathNode("mover",[x,O])}else if(b.below){var se=Rh(pr(b.below,_));R=new Ot.MathNode("munder",[x,se])}else R=Rh(),R=new Ot.MathNode("mover",[x,R]);return R}});var RI={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},ZS=function(){return{type:"styling",body:[],mode:"math",style:"display"}},JS=function(b){return b.type==="textord"&&b.text==="@"},kI=function(b,_){return(b.type==="mathord"||b.type==="atom")&&b.text===_};function DI(K,b,_){var x=RI[K];switch(x){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return _.callFunction(x,[b[0]],[b[1]]);case"\\uparrow":case"\\downarrow":{var R=_.callFunction("\\\\cdleft",[b[0]],[]),O={type:"atom",text:x,mode:"math",family:"rel"},G=_.callFunction("\\Big",[O],[]),se=_.callFunction("\\\\cdright",[b[1]],[]),Se={type:"ordgroup",mode:"math",body:[R,G,se]};return _.callFunction("\\\\cdparent",[Se],[])}case"\\\\cdlongequal":return _.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var Ce={type:"textord",text:"\\Vert",mode:"math"};return _.callFunction("\\Big",[Ce],[])}default:return{type:"textord",text:" ",mode:"math"}}}function PI(K){var b=[];for(K.gullet.beginGroup(),K.gullet.macros.set("\\cr","\\\\\\relax"),K.gullet.beginGroup();;){b.push(K.parseExpression(!1,"\\\\")),K.gullet.endGroup(),K.gullet.beginGroup();var _=K.fetch().text;if(_==="&"||_==="\\\\")K.consume();else if(_==="\\end"){b[b.length-1].length===0&&b.pop();break}else throw new o("Expected \\\\ or \\cr or \\end",K.nextToken)}for(var x=[],R=[x],O=0;O<b.length;O++){for(var G=b[O],se=ZS(),Se=0;Se<G.length;Se++)if(!JS(G[Se]))se.body.push(G[Se]);else{x.push(se),Se+=1;var Ce=jm(G[Se]).text,Ke=new Array(2);if(Ke[0]={type:"ordgroup",mode:"math",body:[]},Ke[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Ce)>-1))if("<>AV".indexOf(Ce)>-1)for(var it=0;it<2;it++){for(var xt=!0,kt=Se+1;kt<G.length;kt++){if(kI(G[kt],Ce)){xt=!1,Se=kt;break}if(JS(G[kt]))throw new o("Missing a "+Ce+" character to complete a CD arrow.",G[kt]);Ke[it].body.push(G[kt])}if(xt)throw new o("Missing a "+Ce+" character to complete a CD arrow.",G[Se])}else throw new o('Expected one of "<>AV=|." after @',G[Se]);var Dt=DI(Ce,Ke,K),Vt={type:"styling",body:[Dt],mode:"math",style:"display"};x.push(Vt),se=ZS()}O%2===0?x.push(se):x.shift(),x=[],R.push(x)}K.gullet.endGroup(),K.gullet.endGroup();var Kt=new Array(R[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:R,arraystretch:1,addJot:!0,rowGaps:[null],cols:Kt,colSeparationType:"CD",hLinesBeforeRow:new Array(R.length+1).fill([])}}en({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(b,_){var x=b.parser,R=b.funcName;return{type:"cdlabel",mode:x.mode,side:R.slice(4),label:_[0]}},htmlBuilder:function(b,_){var x=_.havingStyle(_.style.sup()),R=lt.wrapFragment(Zn(b.label,x,_),_);return R.classes.push("cd-label-"+b.side),R.style.bottom=X(.8-R.depth),R.height=0,R.depth=0,R},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mrow",[pr(b.label,_)]);return x=new Ot.MathNode("mpadded",[x]),x.setAttribute("width","0"),b.side==="left"&&x.setAttribute("lspace","-1width"),x.setAttribute("voffset","0.7em"),x=new Ot.MathNode("mstyle",[x]),x.setAttribute("displaystyle","false"),x.setAttribute("scriptlevel","1"),x}}),en({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(b,_){var x=b.parser;return{type:"cdlabelparent",mode:x.mode,fragment:_[0]}},htmlBuilder:function(b,_){var x=lt.wrapFragment(Zn(b.fragment,_),_);return x.classes.push("cd-vert-arrow"),x},mathmlBuilder:function(b,_){return new Ot.MathNode("mrow",[pr(b.fragment,_)])}}),en({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(b,_){for(var x=b.parser,R=In(_[0],"ordgroup"),O=R.body,G="",se=0;se<O.length;se++){var Se=In(O[se],"textord");G+=Se.text}var Ce=parseInt(G),Ke;if(isNaN(Ce))throw new o("\\@char has non-numeric argument "+G);if(Ce<0||Ce>=1114111)throw new o("\\@char with invalid code point "+G);return Ce<=65535?Ke=String.fromCharCode(Ce):(Ce-=65536,Ke=String.fromCharCode((Ce>>10)+55296,(Ce&1023)+56320)),{type:"textord",mode:x.mode,text:Ke}}});var e_=function(b,_){var x=fa(b.body,_.withColor(b.color),!1);return lt.makeFragment(x)},t_=function(b,_){var x=no(b.body,_.withColor(b.color)),R=new Ot.MathNode("mstyle",x);return R.setAttribute("mathcolor",b.color),R};en({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(b,_){var x=b.parser,R=In(_[0],"color-token").color,O=_[1];return{type:"color",mode:x.mode,color:R,body:Gr(O)}},htmlBuilder:e_,mathmlBuilder:t_}),en({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(b,_){var x=b.parser,R=b.breakOnTokenText,O=In(_[0],"color-token").color;x.gullet.macros.set("\\current@color",O);var G=x.parseExpression(!0,R);return{type:"color",mode:x.mode,color:O,body:G}},htmlBuilder:e_,mathmlBuilder:t_}),en({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(b,_,x){var R=b.parser,O=x[0],G=!R.settings.displayMode||!R.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:R.mode,newLine:G,size:O&&In(O,"size").value}},htmlBuilder:function(b,_){var x=lt.makeSpan(["mspace"],[],_);return b.newLine&&(x.classes.push("newline"),b.size&&(x.style.marginTop=X(ht(b.size,_)))),x},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mspace");return b.newLine&&(x.setAttribute("linebreak","newline"),b.size&&x.setAttribute("height",X(ht(b.size,_)))),x}});var Xm={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},n_=function(b){var _=b.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(_))throw new o("Expected a control sequence",b);return _},BI=function(b){var _=b.gullet.popToken();return _.text==="="&&(_=b.gullet.popToken(),_.text===" "&&(_=b.gullet.popToken())),_},r_=function(b,_,x,R){var O=b.gullet.macros.get(x.text);O==null&&(x.noexpand=!0,O={tokens:[x],numArgs:0,unexpandable:!b.gullet.isExpandable(x.text)}),b.gullet.macros.set(_,O,R)};en({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(b){var _=b.parser,x=b.funcName;_.consumeSpaces();var R=_.fetch();if(Xm[R.text])return(x==="\\global"||x==="\\\\globallong")&&(R.text=Xm[R.text]),In(_.parseFunction(),"internal");throw new o("Invalid token after macro prefix",R)}}),en({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(b){var _=b.parser,x=b.funcName,R=_.gullet.popToken(),O=R.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(O))throw new o("Expected a control sequence",R);for(var G=0,se,Se=[[]];_.gullet.future().text!=="{";)if(R=_.gullet.popToken(),R.text==="#"){if(_.gullet.future().text==="{"){se=_.gullet.future(),Se[G].push("{");break}if(R=_.gullet.popToken(),!/^[1-9]$/.test(R.text))throw new o('Invalid argument number "'+R.text+'"');if(parseInt(R.text)!==G+1)throw new o('Argument number "'+R.text+'" out of order');G++,Se.push([])}else{if(R.text==="EOF")throw new o("Expected a macro definition");Se[G].push(R.text)}var Ce=_.gullet.consumeArg(),Ke=Ce.tokens;return se&&Ke.unshift(se),(x==="\\edef"||x==="\\xdef")&&(Ke=_.gullet.expandTokens(Ke),Ke.reverse()),_.gullet.macros.set(O,{tokens:Ke,numArgs:G,delimiters:Se},x===Xm[x]),{type:"internal",mode:_.mode}}}),en({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(b){var _=b.parser,x=b.funcName,R=n_(_.gullet.popToken());_.gullet.consumeSpaces();var O=BI(_);return r_(_,R,O,x==="\\\\globallet"),{type:"internal",mode:_.mode}}}),en({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(b){var _=b.parser,x=b.funcName,R=n_(_.gullet.popToken()),O=_.gullet.popToken(),G=_.gullet.popToken();return r_(_,R,G,x==="\\\\globalfuture"),_.gullet.pushToken(G),_.gullet.pushToken(O),{type:"internal",mode:_.mode}}});var Dd=function(b,_,x){var R=Tn.math[b]&&Tn.math[b].replace,O=Ge(R||b,_,x);if(!O)throw new Error("Unsupported symbol "+b+" and font size "+_+".");return O},Qm=function(b,_,x,R){var O=x.havingBaseStyle(_),G=lt.makeSpan(R.concat(O.sizingClasses(x)),[b],x),se=O.sizeMultiplier/x.sizeMultiplier;return G.height*=se,G.depth*=se,G.maxFontSize=O.sizeMultiplier,G},a_=function(b,_,x){var R=_.havingBaseStyle(x),O=(1-_.sizeMultiplier/R.sizeMultiplier)*_.fontMetrics().axisHeight;b.classes.push("delimcenter"),b.style.top=X(O),b.height-=O,b.depth+=O},LI=function(b,_,x,R,O,G){var se=lt.makeSymbol(b,"Main-Regular",O,R),Se=Qm(se,_,R,G);return x&&a_(Se,R,_),Se},NI=function(b,_,x,R){return lt.makeSymbol(b,"Size"+_+"-Regular",x,R)},o_=function(b,_,x,R,O,G){var se=NI(b,_,O,R),Se=Qm(lt.makeSpan(["delimsizing","size"+_],[se],R),F.TEXT,R,G);return x&&a_(Se,R,F.TEXT),Se},Zm=function(b,_,x){var R;_==="Size1-Regular"?R="delim-size1":R="delim-size4";var O=lt.makeSpan(["delimsizinginner",R],[lt.makeSpan([],[lt.makeSymbol(b,_,x)])]);return{type:"elem",elem:O}},Jm=function(b,_,x){var R=Le["Size4-Regular"][b.charCodeAt(0)]?Le["Size4-Regular"][b.charCodeAt(0)][4]:Le["Size1-Regular"][b.charCodeAt(0)][4],O=new It("inner",me(b,Math.round(1e3*_))),G=new dt([O],{width:X(R),height:X(_),style:"width:"+X(R),viewBox:"0 0 "+1e3*R+" "+Math.round(1e3*_),preserveAspectRatio:"xMinYMin"}),se=lt.makeSvgSpan([],[G],x);return se.height=_,se.style.height=X(_),se.style.width=X(R),{type:"elem",elem:se}},ev=.008,kh={type:"kern",size:-1*ev},FI=["|","\\lvert","\\rvert","\\vert"],OI=["\\|","\\lVert","\\rVert","\\Vert"],s_=function(b,_,x,R,O,G){var se,Se,Ce,Ke;se=Ce=Ke=b,Se=null;var it="Size1-Regular";b==="\\uparrow"?Ce=Ke="⏐":b==="\\Uparrow"?Ce=Ke="‖":b==="\\downarrow"?se=Ce="⏐":b==="\\Downarrow"?se=Ce="‖":b==="\\updownarrow"?(se="\\uparrow",Ce="⏐",Ke="\\downarrow"):b==="\\Updownarrow"?(se="\\Uparrow",Ce="‖",Ke="\\Downarrow"):v.contains(FI,b)?Ce="∣":v.contains(OI,b)?Ce="∥":b==="["||b==="\\lbrack"?(se="⎡",Ce="⎢",Ke="⎣",it="Size4-Regular"):b==="]"||b==="\\rbrack"?(se="⎤",Ce="⎥",Ke="⎦",it="Size4-Regular"):b==="\\lfloor"||b==="⌊"?(Ce=se="⎢",Ke="⎣",it="Size4-Regular"):b==="\\lceil"||b==="⌈"?(se="⎡",Ce=Ke="⎢",it="Size4-Regular"):b==="\\rfloor"||b==="⌋"?(Ce=se="⎥",Ke="⎦",it="Size4-Regular"):b==="\\rceil"||b==="⌉"?(se="⎤",Ce=Ke="⎥",it="Size4-Regular"):b==="("||b==="\\lparen"?(se="⎛",Ce="⎜",Ke="⎝",it="Size4-Regular"):b===")"||b==="\\rparen"?(se="⎞",Ce="⎟",Ke="⎠",it="Size4-Regular"):b==="\\{"||b==="\\lbrace"?(se="⎧",Se="⎨",Ke="⎩",Ce="⎪",it="Size4-Regular"):b==="\\}"||b==="\\rbrace"?(se="⎫",Se="⎬",Ke="⎭",Ce="⎪",it="Size4-Regular"):b==="\\lgroup"||b==="⟮"?(se="⎧",Ke="⎩",Ce="⎪",it="Size4-Regular"):b==="\\rgroup"||b==="⟯"?(se="⎫",Ke="⎭",Ce="⎪",it="Size4-Regular"):b==="\\lmoustache"||b==="⎰"?(se="⎧",Ke="⎭",Ce="⎪",it="Size4-Regular"):(b==="\\rmoustache"||b==="⎱")&&(se="⎫",Ke="⎩",Ce="⎪",it="Size4-Regular");var xt=Dd(se,it,O),kt=xt.height+xt.depth,Dt=Dd(Ce,it,O),Vt=Dt.height+Dt.depth,Kt=Dd(Ke,it,O),cn=Kt.height+Kt.depth,pn=0,bn=1;if(Se!==null){var Jn=Dd(Se,it,O);pn=Jn.height+Jn.depth,bn=2}var ir=kt+cn+pn,Cr=Math.max(0,Math.ceil((_-ir)/(bn*Vt))),rr=ir+Cr*bn*Vt,lr=R.fontMetrics().axisHeight;x&&(lr*=R.sizeMultiplier);var Ur=rr/2-lr,gr=[];if(gr.push(Zm(Ke,it,O)),gr.push(kh),Se===null){var ro=rr-kt-cn+2*ev;gr.push(Jm(Ce,ro,R))}else{var ao=(rr-kt-cn-pn)/2+2*ev;gr.push(Jm(Ce,ao,R)),gr.push(kh),gr.push(Zm(Se,it,O)),gr.push(kh),gr.push(Jm(Ce,ao,R))}gr.push(kh),gr.push(Zm(se,it,O));var Ri=R.havingBaseStyle(F.TEXT),gs=lt.makeVList({positionType:"bottom",positionData:Ur,children:gr},Ri);return Qm(lt.makeSpan(["delimsizing","mult"],[gs],Ri),F.TEXT,R,G)},tv=80,nv=.08,rv=function(b,_,x,R,O){var G=Z(b,R,x),se=new It(b,G),Se=new dt([se],{width:"400em",height:X(_),viewBox:"0 0 400000 "+x,preserveAspectRatio:"xMinYMin slice"});return lt.makeSvgSpan(["hide-tail"],[Se],O)},zI=function(b,_){var x=_.havingBaseSizing(),R=u_("\\surd",b*x.sizeMultiplier,c_,x),O=x.sizeMultiplier,G=Math.max(0,_.minRuleThickness-_.fontMetrics().sqrtRuleThickness),se,Se=0,Ce=0,Ke=0,it;return R.type==="small"?(Ke=1e3+1e3*G+tv,b<1?O=1:b<1.4&&(O=.7),Se=(1+G+nv)/O,Ce=(1+G)/O,se=rv("sqrtMain",Se,Ke,G,_),se.style.minWidth="0.853em",it=.833/O):R.type==="large"?(Ke=(1e3+tv)*Pd[R.size],Ce=(Pd[R.size]+G)/O,Se=(Pd[R.size]+G+nv)/O,se=rv("sqrtSize"+R.size,Se,Ke,G,_),se.style.minWidth="1.02em",it=1/O):(Se=b+G+nv,Ce=b+G,Ke=Math.floor(1e3*b+G)+tv,se=rv("sqrtTall",Se,Ke,G,_),se.style.minWidth="0.742em",it=1.056),se.height=Ce,se.style.height=X(Se),{span:se,advanceWidth:it,ruleWidth:(_.fontMetrics().sqrtRuleThickness+G)*O}},i_=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],UI=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],l_=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Pd=[0,1.2,1.8,2.4,3],HI=function(b,_,x,R,O){if(b==="<"||b==="\\lt"||b==="⟨"?b="\\langle":(b===">"||b==="\\gt"||b==="⟩")&&(b="\\rangle"),v.contains(i_,b)||v.contains(l_,b))return o_(b,_,!1,x,R,O);if(v.contains(UI,b))return s_(b,Pd[_],!1,x,R,O);throw new o("Illegal delimiter: '"+b+"'")},$I=[{type:"small",style:F.SCRIPTSCRIPT},{type:"small",style:F.SCRIPT},{type:"small",style:F.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],VI=[{type:"small",style:F.SCRIPTSCRIPT},{type:"small",style:F.SCRIPT},{type:"small",style:F.TEXT},{type:"stack"}],c_=[{type:"small",style:F.SCRIPTSCRIPT},{type:"small",style:F.SCRIPT},{type:"small",style:F.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],WI=function(b){if(b.type==="small")return"Main-Regular";if(b.type==="large")return"Size"+b.size+"-Regular";if(b.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+b.type+"' here.")},u_=function(b,_,x,R){for(var O=Math.min(2,3-R.style.size),G=O;G<x.length&&x[G].type!=="stack";G++){var se=Dd(b,WI(x[G]),"math"),Se=se.height+se.depth;if(x[G].type==="small"){var Ce=R.havingBaseStyle(x[G].style);Se*=Ce.sizeMultiplier}if(Se>_)return x[G]}return x[x.length-1]},d_=function(b,_,x,R,O,G){b==="<"||b==="\\lt"||b==="⟨"?b="\\langle":(b===">"||b==="\\gt"||b==="⟩")&&(b="\\rangle");var se;v.contains(l_,b)?se=$I:v.contains(i_,b)?se=c_:se=VI;var Se=u_(b,_,se,R);return Se.type==="small"?LI(b,Se.style,x,R,O,G):Se.type==="large"?o_(b,Se.size,x,R,O,G):s_(b,_,x,R,O,G)},GI=function(b,_,x,R,O,G){var se=R.fontMetrics().axisHeight*R.sizeMultiplier,Se=901,Ce=5/R.fontMetrics().ptPerEm,Ke=Math.max(_-se,x+se),it=Math.max(Ke/500*Se,2*Ke-Ce);return d_(b,it,!0,R,O,G)},Ks={sqrtImage:zI,sizedDelim:HI,sizeToMaxHeight:Pd,customSizedDelim:d_,leftRightDelim:GI},f_={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},KI=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Dh(K,b){var _=Ih(K);if(_&&v.contains(KI,_.text))return _;throw _?new o("Invalid delimiter '"+_.text+"' after '"+b.funcName+"'",K):new o("Invalid delimiter type '"+K.type+"'",K)}en({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(b,_){var x=Dh(_[0],b);return{type:"delimsizing",mode:b.parser.mode,size:f_[b.funcName].size,mclass:f_[b.funcName].mclass,delim:x.text}},htmlBuilder:function(b,_){return b.delim==="."?lt.makeSpan([b.mclass]):Ks.sizedDelim(b.delim,b.size,_,b.mode,[b.mclass])},mathmlBuilder:function(b){var _=[];b.delim!=="."&&_.push(xo(b.delim,b.mode));var x=new Ot.MathNode("mo",_);b.mclass==="mopen"||b.mclass==="mclose"?x.setAttribute("fence","true"):x.setAttribute("fence","false"),x.setAttribute("stretchy","true");var R=X(Ks.sizeToMaxHeight[b.size]);return x.setAttribute("minsize",R),x.setAttribute("maxsize",R),x}});function h_(K){if(!K.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}en({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(b,_){var x=b.parser.gullet.macros.get("\\current@color");if(x&&typeof x!="string")throw new o("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:b.parser.mode,delim:Dh(_[0],b).text,color:x}}}),en({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(b,_){var x=Dh(_[0],b),R=b.parser;++R.leftrightDepth;var O=R.parseExpression(!1);--R.leftrightDepth,R.expect("\\right",!1);var G=In(R.parseFunction(),"leftright-right");return{type:"leftright",mode:R.mode,body:O,left:x.text,right:G.delim,rightColor:G.color}},htmlBuilder:function(b,_){h_(b);for(var x=fa(b.body,_,!0,["mopen","mclose"]),R=0,O=0,G=!1,se=0;se<x.length;se++)x[se].isMiddle?G=!0:(R=Math.max(x[se].height,R),O=Math.max(x[se].depth,O));R*=_.sizeMultiplier,O*=_.sizeMultiplier;var Se;if(b.left==="."?Se=Rd(_,["mopen"]):Se=Ks.leftRightDelim(b.left,R,O,_,b.mode,["mopen"]),x.unshift(Se),G)for(var Ce=1;Ce<x.length;Ce++){var Ke=x[Ce],it=Ke.isMiddle;it&&(x[Ce]=Ks.leftRightDelim(it.delim,R,O,it.options,b.mode,[]))}var xt;if(b.right===".")xt=Rd(_,["mclose"]);else{var kt=b.rightColor?_.withColor(b.rightColor):_;xt=Ks.leftRightDelim(b.right,R,O,kt,b.mode,["mclose"])}return x.push(xt),lt.makeSpan(["minner"],x,_)},mathmlBuilder:function(b,_){h_(b);var x=no(b.body,_);if(b.left!=="."){var R=new Ot.MathNode("mo",[xo(b.left,b.mode)]);R.setAttribute("fence","true"),x.unshift(R)}if(b.right!=="."){var O=new Ot.MathNode("mo",[xo(b.right,b.mode)]);O.setAttribute("fence","true"),b.rightColor&&O.setAttribute("mathcolor",b.rightColor),x.push(O)}return Km(x)}}),en({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(b,_){var x=Dh(_[0],b);if(!b.parser.leftrightDepth)throw new o("\\middle without preceding \\left",x);return{type:"middle",mode:b.parser.mode,delim:x.text}},htmlBuilder:function(b,_){var x;if(b.delim===".")x=Rd(_,[]);else{x=Ks.sizedDelim(b.delim,1,_,b.mode,[]);var R={delim:b.delim,options:_};x.isMiddle=R}return x},mathmlBuilder:function(b,_){var x=b.delim==="\\vert"||b.delim==="|"?xo("|","text"):xo(b.delim,b.mode),R=new Ot.MathNode("mo",[x]);return R.setAttribute("fence","true"),R.setAttribute("lspace","0.05em"),R.setAttribute("rspace","0.05em"),R}});var av=function(b,_){var x=lt.wrapFragment(Zn(b.body,_),_),R=b.label.substr(1),O=_.sizeMultiplier,G,se=0,Se=v.isCharacterBox(b.body);if(R==="sout")G=lt.makeSpan(["stretchy","sout"]),G.height=_.fontMetrics().defaultRuleThickness/O,se=-.5*_.fontMetrics().xHeight;else if(R==="phase"){var Ce=ht({number:.6,unit:"pt"},_),Ke=ht({number:.35,unit:"ex"},_),it=_.havingBaseSizing();O=O/it.sizeMultiplier;var xt=x.height+x.depth+Ce+Ke;x.style.paddingLeft=X(xt/2+Ce);var kt=Math.floor(1e3*xt*O),Dt=Je(kt),Vt=new dt([new It("phase",Dt)],{width:"400em",height:X(kt/1e3),viewBox:"0 0 400000 "+kt,preserveAspectRatio:"xMinYMin slice"});G=lt.makeSvgSpan(["hide-tail"],[Vt],_),G.style.height=X(xt),se=x.depth+Ce+Ke}else{/cancel/.test(R)?Se||x.classes.push("cancel-pad"):R==="angl"?x.classes.push("anglpad"):x.classes.push("boxpad");var Kt=0,cn=0,pn=0;/box/.test(R)?(pn=Math.max(_.fontMetrics().fboxrule,_.minRuleThickness),Kt=_.fontMetrics().fboxsep+(R==="colorbox"?0:pn),cn=Kt):R==="angl"?(pn=Math.max(_.fontMetrics().defaultRuleThickness,_.minRuleThickness),Kt=4*pn,cn=Math.max(0,.25-x.depth)):(Kt=Se?.2:0,cn=Kt),G=Gs.encloseSpan(x,R,Kt,cn,_),/fbox|boxed|fcolorbox/.test(R)?(G.style.borderStyle="solid",G.style.borderWidth=X(pn)):R==="angl"&&pn!==.049&&(G.style.borderTopWidth=X(pn),G.style.borderRightWidth=X(pn)),se=x.depth+cn,b.backgroundColor&&(G.style.backgroundColor=b.backgroundColor,b.borderColor&&(G.style.borderColor=b.borderColor))}var bn;if(b.backgroundColor)bn=lt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:se},{type:"elem",elem:x,shift:0}]},_);else{var Jn=/cancel|phase/.test(R)?["svg-align"]:[];bn=lt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:0},{type:"elem",elem:G,shift:se,wrapperClasses:Jn}]},_)}return/cancel/.test(R)&&(bn.height=x.height,bn.depth=x.depth),/cancel/.test(R)&&!Se?lt.makeSpan(["mord","cancel-lap"],[bn],_):lt.makeSpan(["mord"],[bn],_)},ov=function(b,_){var x=0,R=new Ot.MathNode(b.label.indexOf("colorbox")>-1?"mpadded":"menclose",[pr(b.body,_)]);switch(b.label){case"\\cancel":R.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":R.setAttribute("notation","downdiagonalstrike");break;case"\\phase":R.setAttribute("notation","phasorangle");break;case"\\sout":R.setAttribute("notation","horizontalstrike");break;case"\\fbox":R.setAttribute("notation","box");break;case"\\angl":R.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(x=_.fontMetrics().fboxsep*_.fontMetrics().ptPerEm,R.setAttribute("width","+"+2*x+"pt"),R.setAttribute("height","+"+2*x+"pt"),R.setAttribute("lspace",x+"pt"),R.setAttribute("voffset",x+"pt"),b.label==="\\fcolorbox"){var O=Math.max(_.fontMetrics().fboxrule,_.minRuleThickness);R.setAttribute("style","border: "+O+"em solid "+String(b.borderColor))}break;case"\\xcancel":R.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return b.backgroundColor&&R.setAttribute("mathbackground",b.backgroundColor),R};en({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(b,_,x){var R=b.parser,O=b.funcName,G=In(_[0],"color-token").color,se=_[1];return{type:"enclose",mode:R.mode,label:O,backgroundColor:G,body:se}},htmlBuilder:av,mathmlBuilder:ov}),en({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(b,_,x){var R=b.parser,O=b.funcName,G=In(_[0],"color-token").color,se=In(_[1],"color-token").color,Se=_[2];return{type:"enclose",mode:R.mode,label:O,backgroundColor:se,borderColor:G,body:Se}},htmlBuilder:av,mathmlBuilder:ov}),en({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(b,_){var x=b.parser;return{type:"enclose",mode:x.mode,label:"\\fbox",body:_[0]}}}),en({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[0];return{type:"enclose",mode:x.mode,label:R,body:O}},htmlBuilder:av,mathmlBuilder:ov}),en({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(b,_){var x=b.parser;return{type:"enclose",mode:x.mode,label:"\\angl",body:_[0]}}});var p_={};function ps(K){for(var b=K.type,_=K.names,x=K.props,R=K.handler,O=K.htmlBuilder,G=K.mathmlBuilder,se={type:b,numArgs:x.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:R},Se=0;Se<_.length;++Se)p_[_[Se]]=se;O&&(Ah[b]=O),G&&(Eh[b]=G)}function m_(K){var b=[];K.consumeSpaces();for(var _=K.fetch().text;_==="\\hline"||_==="\\hdashline";)K.consume(),b.push(_==="\\hdashline"),K.consumeSpaces(),_=K.fetch().text;return b}var Ph=function(b){var _=b.parser.settings;if(!_.displayMode)throw new o("{"+b.envName+"} can be used only in display mode.")};function Ti(K,b,_){var x=b.hskipBeforeAndAfter,R=b.addJot,O=b.cols,G=b.arraystretch,se=b.colSeparationType,Se=b.addEqnNum,Ce=b.singleRow,Ke=b.emptySingleRow,it=b.maxNumCols,xt=b.leqno;if(K.gullet.beginGroup(),Ce||K.gullet.macros.set("\\cr","\\\\\\relax"),!G){var kt=K.gullet.expandMacroAsText("\\arraystretch");if(kt==null)G=1;else if(G=parseFloat(kt),!G||G<0)throw new o("Invalid \\arraystretch: "+kt)}K.gullet.beginGroup();var Dt=[],Vt=[Dt],Kt=[],cn=[];for(cn.push(m_(K));;){var pn=K.parseExpression(!1,Ce?"\\end":"\\\\");K.gullet.endGroup(),K.gullet.beginGroup(),pn={type:"ordgroup",mode:K.mode,body:pn},_&&(pn={type:"styling",mode:K.mode,style:_,body:[pn]}),Dt.push(pn);var bn=K.fetch().text;if(bn==="&"){if(it&&Dt.length===it){if(Ce||se)throw new o("Too many tab characters: &",K.nextToken);K.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}K.consume()}else if(bn==="\\end"){Dt.length===1&&pn.type==="styling"&&pn.body[0].body.length===0&&(Vt.length>1||!Ke)&&Vt.pop(),cn.length<Vt.length+1&&cn.push([]);break}else if(bn==="\\\\"){K.consume();var Jn=void 0;K.gullet.future().text!==" "&&(Jn=K.parseSizeGroup(!0)),Kt.push(Jn?Jn.value:null),cn.push(m_(K)),Dt=[],Vt.push(Dt)}else throw new o("Expected & or \\\\ or \\cr or \\end",K.nextToken)}return K.gullet.endGroup(),K.gullet.endGroup(),{type:"array",mode:K.mode,addJot:R,arraystretch:G,body:Vt,cols:O,rowGaps:Kt,hskipBeforeAndAfter:x,hLinesBeforeRow:cn,colSeparationType:se,addEqnNum:Se,leqno:xt}}function sv(K){return K.substr(0,1)==="d"?"display":"text"}var ms=function(b,_){var x,R,O=b.body.length,G=b.hLinesBeforeRow,se=0,Se=new Array(O),Ce=[],Ke=Math.max(_.fontMetrics().arrayRuleWidth,_.minRuleThickness),it=1/_.fontMetrics().ptPerEm,xt=5*it;if(b.colSeparationType&&b.colSeparationType==="small"){var kt=_.havingStyle(F.SCRIPT).sizeMultiplier;xt=.2778*(kt/_.sizeMultiplier)}var Dt=b.colSeparationType==="CD"?ht({number:3,unit:"ex"},_):12*it,Vt=3*it,Kt=b.arraystretch*Dt,cn=.7*Kt,pn=.3*Kt,bn=0;function Jn(nw){for(var Nh=0;Nh<nw.length;++Nh)Nh>0&&(bn+=.25),Ce.push({pos:bn,isDashed:nw[Nh]})}for(Jn(G[0]),x=0;x<b.body.length;++x){var ir=b.body[x],Cr=cn,rr=pn;se<ir.length&&(se=ir.length);var lr=new Array(ir.length);for(R=0;R<ir.length;++R){var Ur=Zn(ir[R],_);rr<Ur.depth&&(rr=Ur.depth),Cr<Ur.height&&(Cr=Ur.height),lr[R]=Ur}var gr=b.rowGaps[x],ro=0;gr&&(ro=ht(gr,_),ro>0&&(ro+=pn,rr<ro&&(rr=ro),ro=0)),b.addJot&&(rr+=Vt),lr.height=Cr,lr.depth=rr,bn+=Cr,lr.pos=bn,bn+=rr+ro,Se[x]=lr,Jn(G[x+1])}var ao=bn/2+_.fontMetrics().axisHeight,Ri=b.cols||[],gs=[],oo,Dc,Q_=[];if(b.addEqnNum)for(x=0;x<O;++x){var bv=Se[x],SR=bv.pos-ao,Sv=lt.makeSpan(["eqn-num"],[],_);Sv.depth=bv.depth,Sv.height=bv.height,Q_.push({type:"elem",elem:Sv,shift:SR})}for(R=0,Dc=0;R<se||Dc<Ri.length;++R,++Dc){for(var qs=Ri[Dc]||{},Z_=!0;qs.type==="separator";){if(Z_||(oo=lt.makeSpan(["arraycolsep"],[]),oo.style.width=X(_.fontMetrics().doubleRuleSep),gs.push(oo)),qs.separator==="|"||qs.separator===":"){var _R=qs.separator==="|"?"solid":"dashed",Pc=lt.makeSpan(["vertical-separator"],[],_);Pc.style.height=X(bn),Pc.style.borderRightWidth=X(Ke),Pc.style.borderRightStyle=_R,Pc.style.margin="0 "+X(-Ke/2);var J_=bn-ao;J_&&(Pc.style.verticalAlign=X(-J_)),gs.push(Pc)}else throw new o("Invalid separator type: "+qs.separator);Dc++,qs=Ri[Dc]||{},Z_=!1}if(!(R>=se)){var Bc=void 0;(R>0||b.hskipBeforeAndAfter)&&(Bc=v.deflt(qs.pregap,xt),Bc!==0&&(oo=lt.makeSpan(["arraycolsep"],[]),oo.style.width=X(Bc),gs.push(oo)));var Lc=[];for(x=0;x<O;++x){var Bh=Se[x],Lh=Bh[R];if(Lh){var wR=Bh.pos-ao;Lh.depth=Bh.depth,Lh.height=Bh.height,Lc.push({type:"elem",elem:Lh,shift:wR})}}Lc=lt.makeVList({positionType:"individualShift",children:Lc},_),Lc=lt.makeSpan(["col-align-"+(qs.align||"c")],[Lc]),gs.push(Lc),(R<se-1||b.hskipBeforeAndAfter)&&(Bc=v.deflt(qs.postgap,xt),Bc!==0&&(oo=lt.makeSpan(["arraycolsep"],[]),oo.style.width=X(Bc),gs.push(oo)))}}if(Se=lt.makeSpan(["mtable"],gs),Ce.length>0){for(var xR=lt.makeLineSpan("hline",_,Ke),CR=lt.makeLineSpan("hdashline",_,Ke),_v=[{type:"elem",elem:Se,shift:0}];Ce.length>0;){var ew=Ce.pop(),tw=ew.pos-ao;ew.isDashed?_v.push({type:"elem",elem:CR,shift:tw}):_v.push({type:"elem",elem:xR,shift:tw})}Se=lt.makeVList({positionType:"individualShift",children:_v},_)}if(b.addEqnNum){var wv=lt.makeVList({positionType:"individualShift",children:Q_},_);return wv=lt.makeSpan(["tag"],[wv],_),lt.makeFragment([Se,wv])}else return lt.makeSpan(["mord"],[Se],_)},qI={c:"center ",l:"left ",r:"right "},vs=function(b,_){for(var x=[],R=new Ot.MathNode("mtd",[],["mtr-glue"]),O=new Ot.MathNode("mtd",[],["mml-eqn-num"]),G=0;G<b.body.length;G++){for(var se=b.body[G],Se=[],Ce=0;Ce<se.length;Ce++)Se.push(new Ot.MathNode("mtd",[pr(se[Ce],_)]));b.addEqnNum&&(Se.unshift(R),Se.push(R),b.leqno?Se.unshift(O):Se.push(O)),x.push(new Ot.MathNode("mtr",Se))}var Ke=new Ot.MathNode("mtable",x),it=b.arraystretch===.5?.1:.16+b.arraystretch-1+(b.addJot?.09:0);Ke.setAttribute("rowspacing",X(it));var xt="",kt="";if(b.cols&&b.cols.length>0){var Dt=b.cols,Vt="",Kt=!1,cn=0,pn=Dt.length;Dt[0].type==="separator"&&(xt+="top ",cn=1),Dt[Dt.length-1].type==="separator"&&(xt+="bottom ",pn-=1);for(var bn=cn;bn<pn;bn++)Dt[bn].type==="align"?(kt+=qI[Dt[bn].align],Kt&&(Vt+="none "),Kt=!0):Dt[bn].type==="separator"&&Kt&&(Vt+=Dt[bn].separator==="|"?"solid ":"dashed ",Kt=!1);Ke.setAttribute("columnalign",kt.trim()),/[sd]/.test(Vt)&&Ke.setAttribute("columnlines",Vt.trim())}if(b.colSeparationType==="align"){for(var Jn=b.cols||[],ir="",Cr=1;Cr<Jn.length;Cr++)ir+=Cr%2?"0em ":"1em ";Ke.setAttribute("columnspacing",ir.trim())}else b.colSeparationType==="alignat"||b.colSeparationType==="gather"?Ke.setAttribute("columnspacing","0em"):b.colSeparationType==="small"?Ke.setAttribute("columnspacing","0.2778em"):b.colSeparationType==="CD"?Ke.setAttribute("columnspacing","0.5em"):Ke.setAttribute("columnspacing","1em");var rr="",lr=b.hLinesBeforeRow;xt+=lr[0].length>0?"left ":"",xt+=lr[lr.length-1].length>0?"right ":"";for(var Ur=1;Ur<lr.length-1;Ur++)rr+=lr[Ur].length===0?"none ":lr[Ur][0]?"dashed ":"solid ";return/[sd]/.test(rr)&&Ke.setAttribute("rowlines",rr.trim()),xt!==""&&(Ke=new Ot.MathNode("menclose",[Ke]),Ke.setAttribute("notation",xt.trim())),b.arraystretch&&b.arraystretch<1&&(Ke=new Ot.MathNode("mstyle",[Ke]),Ke.setAttribute("scriptlevel","1")),Ke},v_=function(b,_){b.envName.indexOf("ed")===-1&&Ph(b);var x=[],R=b.envName.indexOf("at")>-1?"alignat":"align",O=Ti(b.parser,{cols:x,addJot:!0,addEqnNum:b.envName==="align"||b.envName==="alignat",emptySingleRow:!0,colSeparationType:R,maxNumCols:b.envName==="split"?2:void 0,leqno:b.parser.settings.leqno},"display"),G,se=0,Se={type:"ordgroup",mode:b.mode,body:[]};if(_[0]&&_[0].type==="ordgroup"){for(var Ce="",Ke=0;Ke<_[0].body.length;Ke++){var it=In(_[0].body[Ke],"textord");Ce+=it.text}G=Number(Ce),se=G*2}var xt=!se;O.body.forEach(function(Kt){for(var cn=1;cn<Kt.length;cn+=2){var pn=In(Kt[cn],"styling"),bn=In(pn.body[0],"ordgroup");bn.body.unshift(Se)}if(xt)se<Kt.length&&(se=Kt.length);else{var Jn=Kt.length/2;if(G<Jn)throw new o("Too many math in a row: "+("expected "+G+", but got "+Jn),Kt[0])}});for(var kt=0;kt<se;++kt){var Dt="r",Vt=0;kt%2===1?Dt="l":kt>0&&xt&&(Vt=1),x[kt]={type:"align",align:Dt,pregap:Vt,postgap:0}}return O.colSeparationType=xt?"align":"alignat",O};ps({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(b,_){var x=Ih(_[0]),R=x?[_[0]]:In(_[0],"ordgroup").body,O=R.map(function(se){var Se=jm(se),Ce=Se.text;if("lcr".indexOf(Ce)!==-1)return{type:"align",align:Ce};if(Ce==="|")return{type:"separator",separator:"|"};if(Ce===":")return{type:"separator",separator:":"};throw new o("Unknown column alignment: "+Ce,se)}),G={cols:O,hskipBeforeAndAfter:!0,maxNumCols:O.length};return Ti(b.parser,G,sv(b.envName))},htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(b){var _={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[b.envName.replace("*","")],x="c",R={hskipBeforeAndAfter:!1,cols:[{type:"align",align:x}]};if(b.envName.charAt(b.envName.length-1)==="*"){var O=b.parser;if(O.consumeSpaces(),O.fetch().text==="["){if(O.consume(),O.consumeSpaces(),x=O.fetch().text,"lcr".indexOf(x)===-1)throw new o("Expected l or c or r",O.nextToken);O.consume(),O.consumeSpaces(),O.expect("]"),O.consume(),R.cols=[{type:"align",align:x}]}}var G=Ti(b.parser,R,sv(b.envName)),se=Math.max.apply(Math,[0].concat(G.body.map(function(Se){return Se.length})));return G.cols=new Array(se).fill({type:"align",align:x}),_?{type:"leftright",mode:b.mode,body:[G],left:_[0],right:_[1],rightColor:void 0}:G},htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(b){var _={arraystretch:.5},x=Ti(b.parser,_,"script");return x.colSeparationType="small",x},htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["subarray"],props:{numArgs:1},handler:function(b,_){var x=Ih(_[0]),R=x?[_[0]]:In(_[0],"ordgroup").body,O=R.map(function(se){var Se=jm(se),Ce=Se.text;if("lc".indexOf(Ce)!==-1)return{type:"align",align:Ce};throw new o("Unknown column alignment: "+Ce,se)});if(O.length>1)throw new o("{subarray} can contain only one column");var G={cols:O,hskipBeforeAndAfter:!1,arraystretch:.5};if(G=Ti(b.parser,G,"script"),G.body.length>0&&G.body[0].length>1)throw new o("{subarray} can contain only one column");return G},htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(b){var _={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},x=Ti(b.parser,_,sv(b.envName));return{type:"leftright",mode:b.mode,body:[x],left:b.envName.indexOf("r")>-1?".":"\\{",right:b.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:v_,htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(b){v.contains(["gather","gather*"],b.envName)&&Ph(b);var _={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:b.envName==="gather",emptySingleRow:!0,leqno:b.parser.settings.leqno};return Ti(b.parser,_,"display")},htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:v_,htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(b){Ph(b);var _={addEqnNum:b.envName==="equation",emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:b.parser.settings.leqno};return Ti(b.parser,_,"display")},htmlBuilder:ms,mathmlBuilder:vs}),ps({type:"array",names:["CD"],props:{numArgs:0},handler:function(b){return Ph(b),PI(b.parser)},htmlBuilder:ms,mathmlBuilder:vs}),en({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(b,_){throw new o(b.funcName+" valid only within array environment")}});var jI=p_,g_=jI;en({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[0];if(O.type!=="ordgroup")throw new o("Invalid environment name",O);for(var G="",se=0;se<O.body.length;++se)G+=In(O.body[se],"textord").text;if(R==="\\begin"){if(!g_.hasOwnProperty(G))throw new o("No such environment: "+G,O);var Se=g_[G],Ce=x.parseArguments("\\begin{"+G+"}",Se),Ke=Ce.args,it=Ce.optArgs,xt={mode:x.mode,envName:G,parser:x},kt=Se.handler(xt,Ke,it);x.expect("\\end",!1);var Dt=x.nextToken,Vt=In(x.parseFunction(),"environment");if(Vt.name!==G)throw new o("Mismatch: \\begin{"+G+"} matched by \\end{"+Vt.name+"}",Dt);return kt}return{type:"environment",mode:x.mode,name:G,nameGroup:O}}});var YI=lt.makeSpan;function y_(K,b){var _=fa(K.body,b,!0);return YI([K.mclass],_,b)}function b_(K,b){var _,x=no(K.body,b);return K.mclass==="minner"?Ot.newDocumentFragment(x):(K.mclass==="mord"?K.isCharacterBox?(_=x[0],_.type="mi"):_=new Ot.MathNode("mi",x):(K.isCharacterBox?(_=x[0],_.type="mo"):_=new Ot.MathNode("mo",x),K.mclass==="mbin"?(_.attributes.lspace="0.22em",_.attributes.rspace="0.22em"):K.mclass==="mpunct"?(_.attributes.lspace="0em",_.attributes.rspace="0.17em"):(K.mclass==="mopen"||K.mclass==="mclose")&&(_.attributes.lspace="0em",_.attributes.rspace="0em")),_)}en({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[0];return{type:"mclass",mode:x.mode,mclass:"m"+R.substr(5),body:Gr(O),isCharacterBox:v.isCharacterBox(O)}},htmlBuilder:y_,mathmlBuilder:b_});var iv=function(b){var _=b.type==="ordgroup"&&b.body.length?b.body[0]:b;return _.type==="atom"&&(_.family==="bin"||_.family==="rel")?"m"+_.family:"mord"};en({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(b,_){var x=b.parser;return{type:"mclass",mode:x.mode,mclass:iv(_[0]),body:Gr(_[1]),isCharacterBox:v.isCharacterBox(_[1])}}}),en({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[1],G=_[0],se;R!=="\\stackrel"?se=iv(O):se="mrel";var Se={type:"op",mode:O.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:R!=="\\stackrel",body:Gr(O)},Ce={type:"supsub",mode:G.mode,base:Se,sup:R==="\\underset"?null:G,sub:R==="\\underset"?G:null};return{type:"mclass",mode:x.mode,mclass:se,body:[Ce],isCharacterBox:v.isCharacterBox(Ce)}},htmlBuilder:y_,mathmlBuilder:b_});var S_=function(b,_){var x=b.font,R=_.withFont(x);return Zn(b.body,R)},__=function(b,_){var x=b.font,R=_.withFont(x);return pr(b.body,R)},w_={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};en({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(b,_){var x=b.parser,R=b.funcName,O=Mh(_[0]),G=R;return G in w_&&(G=w_[G]),{type:"font",mode:x.mode,font:G.slice(1),body:O}},htmlBuilder:S_,mathmlBuilder:__}),en({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(b,_){var x=b.parser,R=_[0],O=v.isCharacterBox(R);return{type:"mclass",mode:x.mode,mclass:iv(R),body:[{type:"font",mode:x.mode,font:"boldsymbol",body:R}],isCharacterBox:O}}}),en({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(b,_){var x=b.parser,R=b.funcName,O=b.breakOnTokenText,G=x.mode,se=x.parseExpression(!0,O),Se="math"+R.slice(1);return{type:"font",mode:G,font:Se,body:{type:"ordgroup",mode:x.mode,body:se}}},htmlBuilder:S_,mathmlBuilder:__});var x_=function(b,_){var x=_;return b==="display"?x=x.id>=F.SCRIPT.id?x.text():F.DISPLAY:b==="text"&&x.size===F.DISPLAY.size?x=F.TEXT:b==="script"?x=F.SCRIPT:b==="scriptscript"&&(x=F.SCRIPTSCRIPT),x},lv=function(b,_){var x=x_(b.size,_.style),R=x.fracNum(),O=x.fracDen(),G;G=_.havingStyle(R);var se=Zn(b.numer,G,_);if(b.continued){var Se=8.5/_.fontMetrics().ptPerEm,Ce=3.5/_.fontMetrics().ptPerEm;se.height=se.height<Se?Se:se.height,se.depth=se.depth<Ce?Ce:se.depth}G=_.havingStyle(O);var Ke=Zn(b.denom,G,_),it,xt,kt;b.hasBarLine?(b.barSize?(xt=ht(b.barSize,_),it=lt.makeLineSpan("frac-line",_,xt)):it=lt.makeLineSpan("frac-line",_),xt=it.height,kt=it.height):(it=null,xt=0,kt=_.fontMetrics().defaultRuleThickness);var Dt,Vt,Kt;x.size===F.DISPLAY.size||b.size==="display"?(Dt=_.fontMetrics().num1,xt>0?Vt=3*kt:Vt=7*kt,Kt=_.fontMetrics().denom1):(xt>0?(Dt=_.fontMetrics().num2,Vt=kt):(Dt=_.fontMetrics().num3,Vt=3*kt),Kt=_.fontMetrics().denom2);var cn;if(it){var bn=_.fontMetrics().axisHeight;Dt-se.depth-(bn+.5*xt)<Vt&&(Dt+=Vt-(Dt-se.depth-(bn+.5*xt))),bn-.5*xt-(Ke.height-Kt)<Vt&&(Kt+=Vt-(bn-.5*xt-(Ke.height-Kt)));var Jn=-(bn-.5*xt);cn=lt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ke,shift:Kt},{type:"elem",elem:it,shift:Jn},{type:"elem",elem:se,shift:-Dt}]},_)}else{var pn=Dt-se.depth-(Ke.height-Kt);pn<Vt&&(Dt+=.5*(Vt-pn),Kt+=.5*(Vt-pn)),cn=lt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ke,shift:Kt},{type:"elem",elem:se,shift:-Dt}]},_)}G=_.havingStyle(x),cn.height*=G.sizeMultiplier/_.sizeMultiplier,cn.depth*=G.sizeMultiplier/_.sizeMultiplier;var ir;x.size===F.DISPLAY.size?ir=_.fontMetrics().delim1:x.size===F.SCRIPTSCRIPT.size?ir=_.havingStyle(F.SCRIPT).fontMetrics().delim2:ir=_.fontMetrics().delim2;var Cr,rr;return b.leftDelim==null?Cr=Rd(_,["mopen"]):Cr=Ks.customSizedDelim(b.leftDelim,ir,!0,_.havingStyle(x),b.mode,["mopen"]),b.continued?rr=lt.makeSpan([]):b.rightDelim==null?rr=Rd(_,["mclose"]):rr=Ks.customSizedDelim(b.rightDelim,ir,!0,_.havingStyle(x),b.mode,["mclose"]),lt.makeSpan(["mord"].concat(G.sizingClasses(_)),[Cr,lt.makeSpan(["mfrac"],[cn]),rr],_)},cv=function(b,_){var x=new Ot.MathNode("mfrac",[pr(b.numer,_),pr(b.denom,_)]);if(!b.hasBarLine)x.setAttribute("linethickness","0px");else if(b.barSize){var R=ht(b.barSize,_);x.setAttribute("linethickness",X(R))}var O=x_(b.size,_.style);if(O.size!==_.style.size){x=new Ot.MathNode("mstyle",[x]);var G=O.size===F.DISPLAY.size?"true":"false";x.setAttribute("displaystyle",G),x.setAttribute("scriptlevel","0")}if(b.leftDelim!=null||b.rightDelim!=null){var se=[];if(b.leftDelim!=null){var Se=new Ot.MathNode("mo",[new Ot.TextNode(b.leftDelim.replace("\\",""))]);Se.setAttribute("fence","true"),se.push(Se)}if(se.push(x),b.rightDelim!=null){var Ce=new Ot.MathNode("mo",[new Ot.TextNode(b.rightDelim.replace("\\",""))]);Ce.setAttribute("fence","true"),se.push(Ce)}return Km(se)}return x};en({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[0],G=_[1],se,Se=null,Ce=null,Ke="auto";switch(R){case"\\dfrac":case"\\frac":case"\\tfrac":se=!0;break;case"\\\\atopfrac":se=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":se=!1,Se="(",Ce=")";break;case"\\\\bracefrac":se=!1,Se="\\{",Ce="\\}";break;case"\\\\brackfrac":se=!1,Se="[",Ce="]";break;default:throw new Error("Unrecognized genfrac command")}switch(R){case"\\dfrac":case"\\dbinom":Ke="display";break;case"\\tfrac":case"\\tbinom":Ke="text";break}return{type:"genfrac",mode:x.mode,continued:!1,numer:O,denom:G,hasBarLine:se,leftDelim:Se,rightDelim:Ce,size:Ke,barSize:null}},htmlBuilder:lv,mathmlBuilder:cv}),en({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(b,_){var x=b.parser;b.funcName;var R=_[0],O=_[1];return{type:"genfrac",mode:x.mode,continued:!0,numer:R,denom:O,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),en({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(b){var _=b.parser,x=b.funcName,R=b.token,O;switch(x){case"\\over":O="\\frac";break;case"\\choose":O="\\binom";break;case"\\atop":O="\\\\atopfrac";break;case"\\brace":O="\\\\bracefrac";break;case"\\brack":O="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:_.mode,replaceWith:O,token:R}}});var C_=["display","text","script","scriptscript"],A_=function(b){var _=null;return b.length>0&&(_=b,_=_==="."?null:_),_};en({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(b,_){var x=b.parser,R=_[4],O=_[5],G=Mh(_[0]),se=G.type==="atom"&&G.family==="open"?A_(G.text):null,Se=Mh(_[1]),Ce=Se.type==="atom"&&Se.family==="close"?A_(Se.text):null,Ke=In(_[2],"size"),it,xt=null;Ke.isBlank?it=!0:(xt=Ke.value,it=xt.number>0);var kt="auto",Dt=_[3];if(Dt.type==="ordgroup"){if(Dt.body.length>0){var Vt=In(Dt.body[0],"textord");kt=C_[Number(Vt.text)]}}else Dt=In(Dt,"textord"),kt=C_[Number(Dt.text)];return{type:"genfrac",mode:x.mode,numer:R,denom:O,continued:!1,hasBarLine:it,barSize:xt,leftDelim:se,rightDelim:Ce,size:kt}},htmlBuilder:lv,mathmlBuilder:cv}),en({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(b,_){var x=b.parser;b.funcName;var R=b.token;return{type:"infix",mode:x.mode,replaceWith:"\\\\abovefrac",size:In(_[0],"size").value,token:R}}}),en({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(b,_){var x=b.parser;b.funcName;var R=_[0],O=g(In(_[1],"infix").size),G=_[2],se=O.number>0;return{type:"genfrac",mode:x.mode,numer:R,denom:G,continued:!1,hasBarLine:se,barSize:O,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:lv,mathmlBuilder:cv});var E_=function(b,_){var x=_.style,R,O;b.type==="supsub"?(R=b.sup?Zn(b.sup,_.havingStyle(x.sup()),_):Zn(b.sub,_.havingStyle(x.sub()),_),O=In(b.base,"horizBrace")):O=In(b,"horizBrace");var G=Zn(O.base,_.havingBaseStyle(F.DISPLAY)),se=Gs.svgSpan(O,_),Se;if(O.isOver?(Se=lt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"kern",size:.1},{type:"elem",elem:se}]},_),Se.children[0].children[0].children[1].classes.push("svg-align")):(Se=lt.makeVList({positionType:"bottom",positionData:G.depth+.1+se.height,children:[{type:"elem",elem:se},{type:"kern",size:.1},{type:"elem",elem:G}]},_),Se.children[0].children[0].children[0].classes.push("svg-align")),R){var Ce=lt.makeSpan(["mord",O.isOver?"mover":"munder"],[Se],_);O.isOver?Se=lt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ce},{type:"kern",size:.2},{type:"elem",elem:R}]},_):Se=lt.makeVList({positionType:"bottom",positionData:Ce.depth+.2+R.height+R.depth,children:[{type:"elem",elem:R},{type:"kern",size:.2},{type:"elem",elem:Ce}]},_)}return lt.makeSpan(["mord",O.isOver?"mover":"munder"],[Se],_)},XI=function(b,_){var x=Gs.mathMLnode(b.label);return new Ot.MathNode(b.isOver?"mover":"munder",[pr(b.base,_),x])};en({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(b,_){var x=b.parser,R=b.funcName;return{type:"horizBrace",mode:x.mode,label:R,isOver:/^\\over/.test(R),base:_[0]}},htmlBuilder:E_,mathmlBuilder:XI}),en({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(b,_){var x=b.parser,R=_[1],O=In(_[0],"url").url;return x.settings.isTrusted({command:"\\href",url:O})?{type:"href",mode:x.mode,href:O,body:Gr(R)}:x.formatUnsupportedCmd("\\href")},htmlBuilder:function(b,_){var x=fa(b.body,_,!1);return lt.makeAnchor(b.href,[],x,_)},mathmlBuilder:function(b,_){var x=Mi(b.body,_);return x instanceof wo||(x=new wo("mrow",[x])),x.setAttribute("href",b.href),x}}),en({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(b,_){var x=b.parser,R=In(_[0],"url").url;if(!x.settings.isTrusted({command:"\\url",url:R}))return x.formatUnsupportedCmd("\\url");for(var O=[],G=0;G<R.length;G++){var se=R[G];se==="~"&&(se="\\textasciitilde"),O.push({type:"textord",mode:"text",text:se})}var Se={type:"text",mode:x.mode,font:"\\texttt",body:O};return{type:"href",mode:x.mode,href:R,body:Gr(Se)}}}),en({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(b,_){var x=b.parser;return{type:"hbox",mode:x.mode,body:Gr(_[0])}},htmlBuilder:function(b,_){var x=fa(b.body,_,!1);return lt.makeFragment(x)},mathmlBuilder:function(b,_){return new Ot.MathNode("mrow",no(b.body,_))}}),en({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(b,_){var x=b.parser,R=b.funcName;b.token;var O=In(_[0],"raw").string,G=_[1];x.settings.strict&&x.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var se,Se={};switch(R){case"\\htmlClass":Se.class=O,se={command:"\\htmlClass",class:O};break;case"\\htmlId":Se.id=O,se={command:"\\htmlId",id:O};break;case"\\htmlStyle":Se.style=O,se={command:"\\htmlStyle",style:O};break;case"\\htmlData":{for(var Ce=O.split(","),Ke=0;Ke<Ce.length;Ke++){var it=Ce[Ke].split("=");if(it.length!==2)throw new o("Error parsing key-value for \\htmlData");Se["data-"+it[0].trim()]=it[1].trim()}se={command:"\\htmlData",attributes:Se};break}default:throw new Error("Unrecognized html command")}return x.settings.isTrusted(se)?{type:"html",mode:x.mode,attributes:Se,body:Gr(G)}:x.formatUnsupportedCmd(R)},htmlBuilder:function(b,_){var x=fa(b.body,_,!1),R=["enclosing"];b.attributes.class&&R.push.apply(R,b.attributes.class.trim().split(/\s+/));var O=lt.makeSpan(R,x,_);for(var G in b.attributes)G!=="class"&&b.attributes.hasOwnProperty(G)&&O.setAttribute(G,b.attributes[G]);return O},mathmlBuilder:function(b,_){return Mi(b.body,_)}}),en({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(b,_){var x=b.parser;return{type:"htmlmathml",mode:x.mode,html:Gr(_[0]),mathml:Gr(_[1])}},htmlBuilder:function(b,_){var x=fa(b.html,_,!1);return lt.makeFragment(x)},mathmlBuilder:function(b,_){return Mi(b.mathml,_)}});var uv=function(b){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(b))return{number:+b,unit:"bp"};var _=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(b);if(!_)throw new o("Invalid size: '"+b+"' in \\includegraphics");var x={number:+(_[1]+_[2]),unit:_[3]};if(!Ft(x))throw new o("Invalid unit: '"+x.unit+"' in \\includegraphics.");return x};en({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(b,_,x){var R=b.parser,O={number:0,unit:"em"},G={number:.9,unit:"em"},se={number:0,unit:"em"},Se="";if(x[0])for(var Ce=In(x[0],"raw").string,Ke=Ce.split(","),it=0;it<Ke.length;it++){var xt=Ke[it].split("=");if(xt.length===2){var kt=xt[1].trim();switch(xt[0].trim()){case"alt":Se=kt;break;case"width":O=uv(kt);break;case"height":G=uv(kt);break;case"totalheight":se=uv(kt);break;default:throw new o("Invalid key: '"+xt[0]+"' in \\includegraphics.")}}}var Dt=In(_[0],"url").url;return Se===""&&(Se=Dt,Se=Se.replace(/^.*[\\/]/,""),Se=Se.substring(0,Se.lastIndexOf("."))),R.settings.isTrusted({command:"\\includegraphics",url:Dt})?{type:"includegraphics",mode:R.mode,alt:Se,width:O,height:G,totalheight:se,src:Dt}:R.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(b,_){var x=ht(b.height,_),R=0;b.totalheight.number>0&&(R=ht(b.totalheight,_)-x);var O=0;b.width.number>0&&(O=ht(b.width,_));var G={height:X(x+R)};O>0&&(G.width=X(O)),R>0&&(G.verticalAlign=X(-R));var se=new Oe(b.src,b.alt,G);return se.height=x,se.depth=R,se},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mglyph",[]);x.setAttribute("alt",b.alt);var R=ht(b.height,_),O=0;if(b.totalheight.number>0&&(O=ht(b.totalheight,_)-R,x.setAttribute("valign",X(-O))),x.setAttribute("height",X(R+O)),b.width.number>0){var G=ht(b.width,_);x.setAttribute("width",X(G))}return x.setAttribute("src",b.src),x}}),en({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(b,_){var x=b.parser,R=b.funcName,O=In(_[0],"size");if(x.settings.strict){var G=R[1]==="m",se=O.value.unit==="mu";G?(se||x.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+R+" supports only mu units, "+("not "+O.value.unit+" units")),x.mode!=="math"&&x.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+R+" works only in math mode")):se&&x.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+R+" doesn't support mu units")}return{type:"kern",mode:x.mode,dimension:O.value}},htmlBuilder:function(b,_){return lt.makeGlue(b.dimension,_)},mathmlBuilder:function(b,_){var x=ht(b.dimension,_);return new Ot.SpaceNode(x)}}),en({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[0];return{type:"lap",mode:x.mode,alignment:R.slice(5),body:O}},htmlBuilder:function(b,_){var x;b.alignment==="clap"?(x=lt.makeSpan([],[Zn(b.body,_)]),x=lt.makeSpan(["inner"],[x],_)):x=lt.makeSpan(["inner"],[Zn(b.body,_)]);var R=lt.makeSpan(["fix"],[]),O=lt.makeSpan([b.alignment],[x,R],_),G=lt.makeSpan(["strut"]);return G.style.height=X(O.height+O.depth),O.depth&&(G.style.verticalAlign=X(-O.depth)),O.children.unshift(G),O=lt.makeSpan(["thinbox"],[O],_),lt.makeSpan(["mord","vbox"],[O],_)},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mpadded",[pr(b.body,_)]);if(b.alignment!=="rlap"){var R=b.alignment==="llap"?"-1":"-0.5";x.setAttribute("lspace",R+"width")}return x.setAttribute("width","0px"),x}}),en({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(b,_){var x=b.funcName,R=b.parser,O=R.mode;R.switchMode("math");var G=x==="\\("?"\\)":"$",se=R.parseExpression(!1,G);return R.expect(G),R.switchMode(O),{type:"styling",mode:R.mode,style:"text",body:se}}}),en({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(b,_){throw new o("Mismatched "+b.funcName)}});var M_=function(b,_){switch(_.style.size){case F.DISPLAY.size:return b.display;case F.TEXT.size:return b.text;case F.SCRIPT.size:return b.script;case F.SCRIPTSCRIPT.size:return b.scriptscript;default:return b.text}};en({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(b,_){var x=b.parser;return{type:"mathchoice",mode:x.mode,display:Gr(_[0]),text:Gr(_[1]),script:Gr(_[2]),scriptscript:Gr(_[3])}},htmlBuilder:function(b,_){var x=M_(b,_),R=fa(x,_,!1);return lt.makeFragment(R)},mathmlBuilder:function(b,_){var x=M_(b,_);return Mi(x,_)}});var T_=function(b,_,x,R,O,G,se){b=lt.makeSpan([],[b]);var Se=x&&v.isCharacterBox(x),Ce,Ke;if(_){var it=Zn(_,R.havingStyle(O.sup()),R);Ke={elem:it,kern:Math.max(R.fontMetrics().bigOpSpacing1,R.fontMetrics().bigOpSpacing3-it.depth)}}if(x){var xt=Zn(x,R.havingStyle(O.sub()),R);Ce={elem:xt,kern:Math.max(R.fontMetrics().bigOpSpacing2,R.fontMetrics().bigOpSpacing4-xt.height)}}var kt;if(Ke&&Ce){var Dt=R.fontMetrics().bigOpSpacing5+Ce.elem.height+Ce.elem.depth+Ce.kern+b.depth+se;kt=lt.makeVList({positionType:"bottom",positionData:Dt,children:[{type:"kern",size:R.fontMetrics().bigOpSpacing5},{type:"elem",elem:Ce.elem,marginLeft:X(-G)},{type:"kern",size:Ce.kern},{type:"elem",elem:b},{type:"kern",size:Ke.kern},{type:"elem",elem:Ke.elem,marginLeft:X(G)},{type:"kern",size:R.fontMetrics().bigOpSpacing5}]},R)}else if(Ce){var Vt=b.height-se;kt=lt.makeVList({positionType:"top",positionData:Vt,children:[{type:"kern",size:R.fontMetrics().bigOpSpacing5},{type:"elem",elem:Ce.elem,marginLeft:X(-G)},{type:"kern",size:Ce.kern},{type:"elem",elem:b}]},R)}else if(Ke){var Kt=b.depth+se;kt=lt.makeVList({positionType:"bottom",positionData:Kt,children:[{type:"elem",elem:b},{type:"kern",size:Ke.kern},{type:"elem",elem:Ke.elem,marginLeft:X(G)},{type:"kern",size:R.fontMetrics().bigOpSpacing5}]},R)}else return b;var cn=[kt];if(Ce&&G!==0&&!Se){var pn=lt.makeSpan(["mspace"],[],R);pn.style.marginRight=X(G),cn.unshift(pn)}return lt.makeSpan(["mop","op-limits"],cn,R)},I_=["\\smallint"],kc=function(b,_){var x,R,O=!1,G;b.type==="supsub"?(x=b.sup,R=b.sub,G=In(b.base,"op"),O=!0):G=In(b,"op");var se=_.style,Se=!1;se.size===F.DISPLAY.size&&G.symbol&&!v.contains(I_,G.name)&&(Se=!0);var Ce;if(G.symbol){var Ke=Se?"Size2-Regular":"Size1-Regular",it="";if((G.name==="\\oiint"||G.name==="\\oiiint")&&(it=G.name.substr(1),G.name=it==="oiint"?"\\iint":"\\iiint"),Ce=lt.makeSymbol(G.name,Ke,"math",_,["mop","op-symbol",Se?"large-op":"small-op"]),it.length>0){var xt=Ce.italic,kt=lt.staticSvg(it+"Size"+(Se?"2":"1"),_);Ce=lt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ce,shift:0},{type:"elem",elem:kt,shift:Se?.08:0}]},_),G.name="\\"+it,Ce.classes.unshift("mop"),Ce.italic=xt}}else if(G.body){var Dt=fa(G.body,_,!0);Dt.length===1&&Dt[0]instanceof ot?(Ce=Dt[0],Ce.classes[0]="mop"):Ce=lt.makeSpan(["mop"],Dt,_)}else{for(var Vt=[],Kt=1;Kt<G.name.length;Kt++)Vt.push(lt.mathsym(G.name[Kt],G.mode,_));Ce=lt.makeSpan(["mop"],Vt,_)}var cn=0,pn=0;return(Ce instanceof ot||G.name==="\\oiint"||G.name==="\\oiiint")&&!G.suppressBaseShift&&(cn=(Ce.height-Ce.depth)/2-_.fontMetrics().axisHeight,pn=Ce.italic),O?T_(Ce,x,R,_,se,pn,cn):(cn&&(Ce.style.position="relative",Ce.style.top=X(cn)),Ce)},Bd=function(b,_){var x;if(b.symbol)x=new wo("mo",[xo(b.name,b.mode)]),v.contains(I_,b.name)&&x.setAttribute("largeop","false");else if(b.body)x=new wo("mo",no(b.body,_));else{x=new wo("mi",[new kd(b.name.slice(1))]);var R=new wo("mo",[xo("⁡","text")]);b.parentIsSupSub?x=new wo("mrow",[x,R]):x=qS([x,R])}return x},QI={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};en({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(b,_){var x=b.parser,R=b.funcName,O=R;return O.length===1&&(O=QI[O]),{type:"op",mode:x.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:O}},htmlBuilder:kc,mathmlBuilder:Bd}),en({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(b,_){var x=b.parser,R=_[0];return{type:"op",mode:x.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Gr(R)}},htmlBuilder:kc,mathmlBuilder:Bd});var ZI={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};en({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(b){var _=b.parser,x=b.funcName;return{type:"op",mode:_.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:x}},htmlBuilder:kc,mathmlBuilder:Bd}),en({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(b){var _=b.parser,x=b.funcName;return{type:"op",mode:_.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:x}},htmlBuilder:kc,mathmlBuilder:Bd}),en({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(b){var _=b.parser,x=b.funcName,R=x;return R.length===1&&(R=ZI[R]),{type:"op",mode:_.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:R}},htmlBuilder:kc,mathmlBuilder:Bd});var R_={};function _e(K,b){R_[K]=b}var k_=function(b,_){var x,R,O=!1,G;b.type==="supsub"?(x=b.sup,R=b.sub,G=In(b.base,"operatorname"),O=!0):G=In(b,"operatorname");var se;if(G.body.length>0){for(var Se=G.body.map(function(xt){var kt=xt.text;return typeof kt=="string"?{type:"textord",mode:xt.mode,text:kt}:xt}),Ce=fa(Se,_.withFont("mathrm"),!0),Ke=0;Ke<Ce.length;Ke++){var it=Ce[Ke];it instanceof ot&&(it.text=it.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}se=lt.makeSpan(["mop"],Ce,_)}else se=lt.makeSpan(["mop"],[],_);return O?T_(se,x,R,_,_.style,0,0):se},JI=function(b,_){for(var x=no(b.body,_.withFont("mathrm")),R=!0,O=0;O<x.length;O++){var G=x[O];if(!(G instanceof Ot.SpaceNode))if(G instanceof Ot.MathNode)switch(G.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var se=G.children[0];G.children.length===1&&se instanceof Ot.TextNode?se.text=se.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):R=!1;break}default:R=!1}else R=!1}if(R){var Se=x.map(function(it){return it.toText()}).join("");x=[new Ot.TextNode(Se)]}var Ce=new Ot.MathNode("mi",x);Ce.setAttribute("mathvariant","normal");var Ke=new Ot.MathNode("mo",[xo("⁡","text")]);return b.parentIsSupSub?new Ot.MathNode("mrow",[Ce,Ke]):Ot.newDocumentFragment([Ce,Ke])};en({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[0];return{type:"operatorname",mode:x.mode,body:Gr(O),alwaysHandleSupSub:R==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:k_,mathmlBuilder:JI}),_e("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Il({type:"ordgroup",htmlBuilder:function(b,_){return b.semisimple?lt.makeFragment(fa(b.body,_,!1)):lt.makeSpan(["mord"],fa(b.body,_,!0),_)},mathmlBuilder:function(b,_){return Mi(b.body,_,!0)}}),en({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(b,_){var x=b.parser,R=_[0];return{type:"overline",mode:x.mode,body:R}},htmlBuilder:function(b,_){var x=Zn(b.body,_.havingCrampedStyle()),R=lt.makeLineSpan("overline-line",_),O=_.fontMetrics().defaultRuleThickness,G=lt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:x},{type:"kern",size:3*O},{type:"elem",elem:R},{type:"kern",size:O}]},_);return lt.makeSpan(["mord","overline"],[G],_)},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mo",[new Ot.TextNode("‾")]);x.setAttribute("stretchy","true");var R=new Ot.MathNode("mover",[pr(b.body,_),x]);return R.setAttribute("accent","true"),R}}),en({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(b,_){var x=b.parser,R=_[0];return{type:"phantom",mode:x.mode,body:Gr(R)}},htmlBuilder:function(b,_){var x=fa(b.body,_.withPhantom(),!1);return lt.makeFragment(x)},mathmlBuilder:function(b,_){var x=no(b.body,_);return new Ot.MathNode("mphantom",x)}}),en({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(b,_){var x=b.parser,R=_[0];return{type:"hphantom",mode:x.mode,body:R}},htmlBuilder:function(b,_){var x=lt.makeSpan([],[Zn(b.body,_.withPhantom())]);if(x.height=0,x.depth=0,x.children)for(var R=0;R<x.children.length;R++)x.children[R].height=0,x.children[R].depth=0;return x=lt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:x}]},_),lt.makeSpan(["mord"],[x],_)},mathmlBuilder:function(b,_){var x=no(Gr(b.body),_),R=new Ot.MathNode("mphantom",x),O=new Ot.MathNode("mpadded",[R]);return O.setAttribute("height","0px"),O.setAttribute("depth","0px"),O}}),en({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(b,_){var x=b.parser,R=_[0];return{type:"vphantom",mode:x.mode,body:R}},htmlBuilder:function(b,_){var x=lt.makeSpan(["inner"],[Zn(b.body,_.withPhantom())]),R=lt.makeSpan(["fix"],[]);return lt.makeSpan(["mord","rlap"],[x,R],_)},mathmlBuilder:function(b,_){var x=no(Gr(b.body),_),R=new Ot.MathNode("mphantom",x),O=new Ot.MathNode("mpadded",[R]);return O.setAttribute("width","0px"),O}}),en({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(b,_){var x=b.parser,R=In(_[0],"size").value,O=_[1];return{type:"raisebox",mode:x.mode,dy:R,body:O}},htmlBuilder:function(b,_){var x=Zn(b.body,_),R=ht(b.dy,_);return lt.makeVList({positionType:"shift",positionData:-R,children:[{type:"elem",elem:x}]},_)},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mpadded",[pr(b.body,_)]),R=b.dy.number+b.dy.unit;return x.setAttribute("voffset",R),x}}),en({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(b,_,x){var R=b.parser,O=x[0],G=In(_[0],"size"),se=In(_[1],"size");return{type:"rule",mode:R.mode,shift:O&&In(O,"size").value,width:G.value,height:se.value}},htmlBuilder:function(b,_){var x=lt.makeSpan(["mord","rule"],[],_),R=ht(b.width,_),O=ht(b.height,_),G=b.shift?ht(b.shift,_):0;return x.style.borderRightWidth=X(R),x.style.borderTopWidth=X(O),x.style.bottom=X(G),x.width=R,x.height=O+G,x.depth=-G,x.maxFontSize=O*1.125*_.sizeMultiplier,x},mathmlBuilder:function(b,_){var x=ht(b.width,_),R=ht(b.height,_),O=b.shift?ht(b.shift,_):0,G=_.color&&_.getColor()||"black",se=new Ot.MathNode("mspace");se.setAttribute("mathbackground",G),se.setAttribute("width",X(x)),se.setAttribute("height",X(R));var Se=new Ot.MathNode("mpadded",[se]);return O>=0?Se.setAttribute("height",X(O)):(Se.setAttribute("height",X(O)),Se.setAttribute("depth",X(-O))),Se.setAttribute("voffset",X(O)),Se}});function D_(K,b,_){for(var x=fa(K,b,!1),R=b.sizeMultiplier/_.sizeMultiplier,O=0;O<x.length;O++){var G=x[O].classes.indexOf("sizing");G<0?Array.prototype.push.apply(x[O].classes,b.sizingClasses(_)):x[O].classes[G+1]==="reset-size"+b.size&&(x[O].classes[G+1]="reset-size"+_.size),x[O].height*=R,x[O].depth*=R}return lt.makeFragment(x)}var P_=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],eR=function(b,_){var x=_.havingSize(b.size);return D_(b.body,x,_)};en({type:"sizing",names:P_,props:{numArgs:0,allowedInText:!0},handler:function(b,_){var x=b.breakOnTokenText,R=b.funcName,O=b.parser,G=O.parseExpression(!1,x);return{type:"sizing",mode:O.mode,size:P_.indexOf(R)+1,body:G}},htmlBuilder:eR,mathmlBuilder:function(b,_){var x=_.havingSize(b.size),R=no(b.body,x),O=new Ot.MathNode("mstyle",R);return O.setAttribute("mathsize",X(x.sizeMultiplier)),O}}),en({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(b,_,x){var R=b.parser,O=!1,G=!1,se=x[0]&&In(x[0],"ordgroup");if(se)for(var Se="",Ce=0;Ce<se.body.length;++Ce){var Ke=se.body[Ce];if(Se=Ke.text,Se==="t")O=!0;else if(Se==="b")G=!0;else{O=!1,G=!1;break}}else O=!0,G=!0;var it=_[0];return{type:"smash",mode:R.mode,body:it,smashHeight:O,smashDepth:G}},htmlBuilder:function(b,_){var x=lt.makeSpan([],[Zn(b.body,_)]);if(!b.smashHeight&&!b.smashDepth)return x;if(b.smashHeight&&(x.height=0,x.children))for(var R=0;R<x.children.length;R++)x.children[R].height=0;if(b.smashDepth&&(x.depth=0,x.children))for(var O=0;O<x.children.length;O++)x.children[O].depth=0;var G=lt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:x}]},_);return lt.makeSpan(["mord"],[G],_)},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mpadded",[pr(b.body,_)]);return b.smashHeight&&x.setAttribute("height","0px"),b.smashDepth&&x.setAttribute("depth","0px"),x}}),en({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(b,_,x){var R=b.parser,O=x[0],G=_[0];return{type:"sqrt",mode:R.mode,body:G,index:O}},htmlBuilder:function(b,_){var x=Zn(b.body,_.havingCrampedStyle());x.height===0&&(x.height=_.fontMetrics().xHeight),x=lt.wrapFragment(x,_);var R=_.fontMetrics(),O=R.defaultRuleThickness,G=O;_.style.id<F.TEXT.id&&(G=_.fontMetrics().xHeight);var se=O+G/4,Se=x.height+x.depth+se+O,Ce=Ks.sqrtImage(Se,_),Ke=Ce.span,it=Ce.ruleWidth,xt=Ce.advanceWidth,kt=Ke.height-it;kt>x.height+x.depth+se&&(se=(se+kt-x.height-x.depth)/2);var Dt=Ke.height-x.height-se-it;x.style.paddingLeft=X(xt);var Vt=lt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:x,wrapperClasses:["svg-align"]},{type:"kern",size:-(x.height+Dt)},{type:"elem",elem:Ke},{type:"kern",size:it}]},_);if(b.index){var Kt=_.havingStyle(F.SCRIPTSCRIPT),cn=Zn(b.index,Kt,_),pn=.6*(Vt.height-Vt.depth),bn=lt.makeVList({positionType:"shift",positionData:-pn,children:[{type:"elem",elem:cn}]},_),Jn=lt.makeSpan(["root"],[bn]);return lt.makeSpan(["mord","sqrt"],[Jn,Vt],_)}else return lt.makeSpan(["mord","sqrt"],[Vt],_)},mathmlBuilder:function(b,_){var x=b.body,R=b.index;return R?new Ot.MathNode("mroot",[pr(x,_),pr(R,_)]):new Ot.MathNode("msqrt",[pr(x,_)])}});var B_={display:F.DISPLAY,text:F.TEXT,script:F.SCRIPT,scriptscript:F.SCRIPTSCRIPT};en({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(b,_){var x=b.breakOnTokenText,R=b.funcName,O=b.parser,G=O.parseExpression(!0,x),se=R.slice(1,R.length-5);return{type:"styling",mode:O.mode,style:se,body:G}},htmlBuilder:function(b,_){var x=B_[b.style],R=_.havingStyle(x).withFont("");return D_(b.body,R,_)},mathmlBuilder:function(b,_){var x=B_[b.style],R=_.havingStyle(x),O=no(b.body,R),G=new Ot.MathNode("mstyle",O),se={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},Se=se[b.style];return G.setAttribute("scriptlevel",Se[0]),G.setAttribute("displaystyle",Se[1]),G}});var tR=function(b,_){var x=b.base;if(x)if(x.type==="op"){var R=x.limits&&(_.style.size===F.DISPLAY.size||x.alwaysHandleSupSub);return R?kc:null}else if(x.type==="operatorname"){var O=x.alwaysHandleSupSub&&(_.style.size===F.DISPLAY.size||x.limits);return O?k_:null}else{if(x.type==="accent")return v.isCharacterBox(x.base)?Ym:null;if(x.type==="horizBrace"){var G=!b.sub;return G===x.isOver?E_:null}else return null}else return null};Il({type:"supsub",htmlBuilder:function(b,_){var x=tR(b,_);if(x)return x(b,_);var R=b.base,O=b.sup,G=b.sub,se=Zn(R,_),Se,Ce,Ke=_.fontMetrics(),it=0,xt=0,kt=R&&v.isCharacterBox(R);if(O){var Dt=_.havingStyle(_.style.sup());Se=Zn(O,Dt,_),kt||(it=se.height-Dt.fontMetrics().supDrop*Dt.sizeMultiplier/_.sizeMultiplier)}if(G){var Vt=_.havingStyle(_.style.sub());Ce=Zn(G,Vt,_),kt||(xt=se.depth+Vt.fontMetrics().subDrop*Vt.sizeMultiplier/_.sizeMultiplier)}var Kt;_.style===F.DISPLAY?Kt=Ke.sup1:_.style.cramped?Kt=Ke.sup3:Kt=Ke.sup2;var cn=_.sizeMultiplier,pn=X(.5/Ke.ptPerEm/cn),bn=null;if(Ce){var Jn=b.base&&b.base.type==="op"&&b.base.name&&(b.base.name==="\\oiint"||b.base.name==="\\oiiint");(se instanceof ot||Jn)&&(bn=X(-se.italic))}var ir;if(Se&&Ce){it=Math.max(it,Kt,Se.depth+.25*Ke.xHeight),xt=Math.max(xt,Ke.sub2);var Cr=Ke.defaultRuleThickness,rr=4*Cr;if(it-Se.depth-(Ce.height-xt)<rr){xt=rr-(it-Se.depth)+Ce.height;var lr=.8*Ke.xHeight-(it-Se.depth);lr>0&&(it+=lr,xt-=lr)}var Ur=[{type:"elem",elem:Ce,shift:xt,marginRight:pn,marginLeft:bn},{type:"elem",elem:Se,shift:-it,marginRight:pn}];ir=lt.makeVList({positionType:"individualShift",children:Ur},_)}else if(Ce){xt=Math.max(xt,Ke.sub1,Ce.height-.8*Ke.xHeight);var gr=[{type:"elem",elem:Ce,marginLeft:bn,marginRight:pn}];ir=lt.makeVList({positionType:"shift",positionData:xt,children:gr},_)}else if(Se)it=Math.max(it,Kt,Se.depth+.25*Ke.xHeight),ir=lt.makeVList({positionType:"shift",positionData:-it,children:[{type:"elem",elem:Se,marginRight:pn}]},_);else throw new Error("supsub must have either sup or sub.");var ro=Wm(se,"right")||"mord";return lt.makeSpan([ro],[se,lt.makeSpan(["msupsub"],[ir])],_)},mathmlBuilder:function(b,_){var x=!1,R,O;b.base&&b.base.type==="horizBrace"&&(O=!!b.sup,O===b.base.isOver&&(x=!0,R=b.base.isOver)),b.base&&(b.base.type==="op"||b.base.type==="operatorname")&&(b.base.parentIsSupSub=!0);var G=[pr(b.base,_)];b.sub&&G.push(pr(b.sub,_)),b.sup&&G.push(pr(b.sup,_));var se;if(x)se=R?"mover":"munder";else if(b.sub)if(b.sup){var Ke=b.base;Ke&&Ke.type==="op"&&Ke.limits&&_.style===F.DISPLAY||Ke&&Ke.type==="operatorname"&&Ke.alwaysHandleSupSub&&(_.style===F.DISPLAY||Ke.limits)?se="munderover":se="msubsup"}else{var Ce=b.base;Ce&&Ce.type==="op"&&Ce.limits&&(_.style===F.DISPLAY||Ce.alwaysHandleSupSub)||Ce&&Ce.type==="operatorname"&&Ce.alwaysHandleSupSub&&(Ce.limits||_.style===F.DISPLAY)?se="munder":se="msub"}else{var Se=b.base;Se&&Se.type==="op"&&Se.limits&&(_.style===F.DISPLAY||Se.alwaysHandleSupSub)||Se&&Se.type==="operatorname"&&Se.alwaysHandleSupSub&&(Se.limits||_.style===F.DISPLAY)?se="mover":se="msup"}return new Ot.MathNode(se,G)}}),Il({type:"atom",htmlBuilder:function(b,_){return lt.mathsym(b.text,b.mode,_,["m"+b.family])},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mo",[xo(b.text,b.mode)]);if(b.family==="bin"){var R=qm(b,_);R==="bold-italic"&&x.setAttribute("mathvariant",R)}else b.family==="punct"?x.setAttribute("separator","true"):(b.family==="open"||b.family==="close")&&x.setAttribute("stretchy","false");return x}});var L_={mi:"italic",mn:"normal",mtext:"normal"};Il({type:"mathord",htmlBuilder:function(b,_){return lt.makeOrd(b,_,"mathord")},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mi",[xo(b.text,b.mode,_)]),R=qm(b,_)||"italic";return R!==L_[x.type]&&x.setAttribute("mathvariant",R),x}}),Il({type:"textord",htmlBuilder:function(b,_){return lt.makeOrd(b,_,"textord")},mathmlBuilder:function(b,_){var x=xo(b.text,b.mode,_),R=qm(b,_)||"normal",O;return b.mode==="text"?O=new Ot.MathNode("mtext",[x]):/[0-9]/.test(b.text)?O=new Ot.MathNode("mn",[x]):b.text==="\\prime"?O=new Ot.MathNode("mo",[x]):O=new Ot.MathNode("mi",[x]),R!==L_[O.type]&&O.setAttribute("mathvariant",R),O}});var dv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},fv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Il({type:"spacing",htmlBuilder:function(b,_){if(fv.hasOwnProperty(b.text)){var x=fv[b.text].className||"";if(b.mode==="text"){var R=lt.makeOrd(b,_,"textord");return R.classes.push(x),R}else return lt.makeSpan(["mspace",x],[lt.mathsym(b.text,b.mode,_)],_)}else{if(dv.hasOwnProperty(b.text))return lt.makeSpan(["mspace",dv[b.text]],[],_);throw new o('Unknown type of space "'+b.text+'"')}},mathmlBuilder:function(b,_){var x;if(fv.hasOwnProperty(b.text))x=new Ot.MathNode("mtext",[new Ot.TextNode(" ")]);else{if(dv.hasOwnProperty(b.text))return new Ot.MathNode("mspace");throw new o('Unknown type of space "'+b.text+'"')}return x}});var N_=function(){var b=new Ot.MathNode("mtd",[]);return b.setAttribute("width","50%"),b};Il({type:"tag",mathmlBuilder:function(b,_){var x=new Ot.MathNode("mtable",[new Ot.MathNode("mtr",[N_(),new Ot.MathNode("mtd",[Mi(b.body,_)]),N_(),new Ot.MathNode("mtd",[Mi(b.tag,_)])])]);return x.setAttribute("width","100%"),x}});var F_={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},O_={"\\textbf":"textbf","\\textmd":"textmd"},nR={"\\textit":"textit","\\textup":"textup"},z_=function(b,_){var x=b.font;return x?F_[x]?_.withTextFontFamily(F_[x]):O_[x]?_.withTextFontWeight(O_[x]):_.withTextFontShape(nR[x]):_};en({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(b,_){var x=b.parser,R=b.funcName,O=_[0];return{type:"text",mode:x.mode,body:Gr(O),font:R}},htmlBuilder:function(b,_){var x=z_(b,_),R=fa(b.body,x,!0);return lt.makeSpan(["mord","text"],R,x)},mathmlBuilder:function(b,_){var x=z_(b,_);return Mi(b.body,x)}}),en({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(b,_){var x=b.parser;return{type:"underline",mode:x.mode,body:_[0]}},htmlBuilder:function(b,_){var x=Zn(b.body,_),R=lt.makeLineSpan("underline-line",_),O=_.fontMetrics().defaultRuleThickness,G=lt.makeVList({positionType:"top",positionData:x.height,children:[{type:"kern",size:O},{type:"elem",elem:R},{type:"kern",size:3*O},{type:"elem",elem:x}]},_);return lt.makeSpan(["mord","underline"],[G],_)},mathmlBuilder:function(b,_){var x=new Ot.MathNode("mo",[new Ot.TextNode("‾")]);x.setAttribute("stretchy","true");var R=new Ot.MathNode("munder",[pr(b.body,_),x]);return R.setAttribute("accentunder","true"),R}}),en({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(b,_){var x=b.parser;return{type:"vcenter",mode:x.mode,body:_[0]}},htmlBuilder:function(b,_){var x=Zn(b.body,_),R=_.fontMetrics().axisHeight,O=.5*(x.height-R-(x.depth+R));return lt.makeVList({positionType:"shift",positionData:O,children:[{type:"elem",elem:x}]},_)},mathmlBuilder:function(b,_){return new Ot.MathNode("mpadded",[pr(b.body,_)],["vcenter"])}}),en({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(b,_,x){throw new o("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(b,_){for(var x=U_(b),R=[],O=_.havingStyle(_.style.text()),G=0;G<x.length;G++){var se=x[G];se==="~"&&(se="\\textasciitilde"),R.push(lt.makeSymbol(se,"Typewriter-Regular",b.mode,O,["mord","texttt"]))}return lt.makeSpan(["mord","text"].concat(O.sizingClasses(_)),lt.tryCombineChars(R),O)},mathmlBuilder:function(b,_){var x=new Ot.TextNode(U_(b)),R=new Ot.MathNode("mtext",[x]);return R.setAttribute("mathvariant","monospace"),R}});var U_=function(b){return b.body.replace(/ /g,b.star?"␣":" ")},rR=WS,Ii=rR,qo=function(){function K(b,_,x){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=b,this.start=_,this.end=x}return K.range=function(_,x){return x?!_||!_.loc||!x.loc||_.loc.lexer!==x.loc.lexer?null:new K(_.loc.lexer,_.loc.start,x.loc.end):_&&_.loc},K}(),Rl=function(){function K(_,x){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=_,this.loc=x}var b=K.prototype;return b.range=function(x,R){return new K(R,qo.range(this,x))},K}(),H_=`[ \r
	]`,aR="\\\\[a-zA-Z@]+",oR="\\\\[^\uD800-\uDFFF]",sR="("+aR+")"+H_+"*",iR=`\\\\(
|[ \r	]+
?)[ \r	]*`,hv="[̀-ͯ]",lR=new RegExp(hv+"+$"),cR="("+H_+"+)|"+(iR+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(hv+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(hv+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+sR)+("|"+oR+")"),$_=function(){function K(_,x){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=_,this.settings=x,this.tokenRegex=new RegExp(cR,"g"),this.catcodes={"%":14,"~":13}}var b=K.prototype;return b.setCatcode=function(x,R){this.catcodes[x]=R},b.lex=function(){var x=this.input,R=this.tokenRegex.lastIndex;if(R===x.length)return new Rl("EOF",new qo(this,R,R));var O=this.tokenRegex.exec(x);if(O===null||O.index!==R)throw new o("Unexpected character: '"+x[R]+"'",new Rl(x[R],new qo(this,R,R+1)));var G=O[6]||O[3]||(O[2]?"\\ ":" ");if(this.catcodes[G]===14){var se=x.indexOf(`
`,this.tokenRegex.lastIndex);return se===-1?(this.tokenRegex.lastIndex=x.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=se+1,this.lex()}return new Rl(G,new qo(this,R,this.tokenRegex.lastIndex))},K}(),uR=function(){function K(_,x){_===void 0&&(_={}),x===void 0&&(x={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=x,this.builtins=_,this.undefStack=[]}var b=K.prototype;return b.beginGroup=function(){this.undefStack.push({})},b.endGroup=function(){if(this.undefStack.length===0)throw new o("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var x=this.undefStack.pop();for(var R in x)x.hasOwnProperty(R)&&(x[R]===void 0?delete this.current[R]:this.current[R]=x[R])},b.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},b.has=function(x){return this.current.hasOwnProperty(x)||this.builtins.hasOwnProperty(x)},b.get=function(x){return this.current.hasOwnProperty(x)?this.current[x]:this.builtins[x]},b.set=function(x,R,O){if(O===void 0&&(O=!1),O){for(var G=0;G<this.undefStack.length;G++)delete this.undefStack[G][x];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][x]=R)}else{var se=this.undefStack[this.undefStack.length-1];se&&!se.hasOwnProperty(x)&&(se[x]=this.current[x])}this.current[x]=R},K}(),dR=R_,fR=dR;_e("\\noexpand",function(K){var b=K.popToken();return K.isExpandable(b.text)&&(b.noexpand=!0,b.treatAsRelax=!0),{tokens:[b],numArgs:0}}),_e("\\expandafter",function(K){var b=K.popToken();return K.expandOnce(!0),{tokens:[b],numArgs:0}}),_e("\\@firstoftwo",function(K){var b=K.consumeArgs(2);return{tokens:b[0],numArgs:0}}),_e("\\@secondoftwo",function(K){var b=K.consumeArgs(2);return{tokens:b[1],numArgs:0}}),_e("\\@ifnextchar",function(K){var b=K.consumeArgs(3);K.consumeSpaces();var _=K.future();return b[0].length===1&&b[0][0].text===_.text?{tokens:b[1],numArgs:0}:{tokens:b[2],numArgs:0}}),_e("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),_e("\\TextOrMath",function(K){var b=K.consumeArgs(2);return K.mode==="text"?{tokens:b[0],numArgs:0}:{tokens:b[1],numArgs:0}});var V_={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};_e("\\char",function(K){var b=K.popToken(),_,x="";if(b.text==="'")_=8,b=K.popToken();else if(b.text==='"')_=16,b=K.popToken();else if(b.text==="`")if(b=K.popToken(),b.text[0]==="\\")x=b.text.charCodeAt(1);else{if(b.text==="EOF")throw new o("\\char` missing argument");x=b.text.charCodeAt(0)}else _=10;if(_){if(x=V_[b.text],x==null||x>=_)throw new o("Invalid base-"+_+" digit "+b.text);for(var R;(R=V_[K.future().text])!=null&&R<_;)x*=_,x+=R,K.popToken()}return"\\@char{"+x+"}"});var pv=function(b,_,x){var R=b.consumeArg().tokens;if(R.length!==1)throw new o("\\newcommand's first argument must be a macro name");var O=R[0].text,G=b.isDefined(O);if(G&&!_)throw new o("\\newcommand{"+O+"} attempting to redefine "+(O+"; use \\renewcommand"));if(!G&&!x)throw new o("\\renewcommand{"+O+"} when command "+O+" does not yet exist; use \\newcommand");var se=0;if(R=b.consumeArg().tokens,R.length===1&&R[0].text==="["){for(var Se="",Ce=b.expandNextToken();Ce.text!=="]"&&Ce.text!=="EOF";)Se+=Ce.text,Ce=b.expandNextToken();if(!Se.match(/^\s*[0-9]+\s*$/))throw new o("Invalid number of arguments: "+Se);se=parseInt(Se),R=b.consumeArg().tokens}return b.macros.set(O,{tokens:R,numArgs:se}),""};_e("\\newcommand",function(K){return pv(K,!1,!0)}),_e("\\renewcommand",function(K){return pv(K,!0,!1)}),_e("\\providecommand",function(K){return pv(K,!0,!0)}),_e("\\message",function(K){var b=K.consumeArgs(1)[0];return console.log(b.reverse().map(function(_){return _.text}).join("")),""}),_e("\\errmessage",function(K){var b=K.consumeArgs(1)[0];return console.error(b.reverse().map(function(_){return _.text}).join("")),""}),_e("\\show",function(K){var b=K.popToken(),_=b.text;return console.log(b,K.macros.get(_),Ii[_],Tn.math[_],Tn.text[_]),""}),_e("\\bgroup","{"),_e("\\egroup","}"),_e("~","\\nobreakspace"),_e("\\lq","`"),_e("\\rq","'"),_e("\\aa","\\r a"),_e("\\AA","\\r A"),_e("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),_e("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),_e("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),_e("ℬ","\\mathscr{B}"),_e("ℰ","\\mathscr{E}"),_e("ℱ","\\mathscr{F}"),_e("ℋ","\\mathscr{H}"),_e("ℐ","\\mathscr{I}"),_e("ℒ","\\mathscr{L}"),_e("ℳ","\\mathscr{M}"),_e("ℛ","\\mathscr{R}"),_e("ℭ","\\mathfrak{C}"),_e("ℌ","\\mathfrak{H}"),_e("ℨ","\\mathfrak{Z}"),_e("\\Bbbk","\\Bbb{k}"),_e("·","\\cdotp"),_e("\\llap","\\mathllap{\\textrm{#1}}"),_e("\\rlap","\\mathrlap{\\textrm{#1}}"),_e("\\clap","\\mathclap{\\textrm{#1}}"),_e("\\mathstrut","\\vphantom{(}"),_e("\\underbar","\\underline{\\text{#1}}"),_e("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),_e("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),_e("\\ne","\\neq"),_e("≠","\\neq"),_e("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),_e("∉","\\notin"),_e("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),_e("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),_e("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),_e("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),_e("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),_e("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),_e("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),_e("⟂","\\perp"),_e("‼","\\mathclose{!\\mkern-0.8mu!}"),_e("∌","\\notni"),_e("⌜","\\ulcorner"),_e("⌝","\\urcorner"),_e("⌞","\\llcorner"),_e("⌟","\\lrcorner"),_e("©","\\copyright"),_e("®","\\textregistered"),_e("️","\\textregistered"),_e("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),_e("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),_e("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),_e("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),_e("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),_e("⋮","\\vdots"),_e("\\varGamma","\\mathit{\\Gamma}"),_e("\\varDelta","\\mathit{\\Delta}"),_e("\\varTheta","\\mathit{\\Theta}"),_e("\\varLambda","\\mathit{\\Lambda}"),_e("\\varXi","\\mathit{\\Xi}"),_e("\\varPi","\\mathit{\\Pi}"),_e("\\varSigma","\\mathit{\\Sigma}"),_e("\\varUpsilon","\\mathit{\\Upsilon}"),_e("\\varPhi","\\mathit{\\Phi}"),_e("\\varPsi","\\mathit{\\Psi}"),_e("\\varOmega","\\mathit{\\Omega}"),_e("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),_e("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),_e("\\boxed","\\fbox{$\\displaystyle{#1}$}"),_e("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),_e("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),_e("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var W_={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};_e("\\dots",function(K){var b="\\dotso",_=K.expandAfterFuture().text;return _ in W_?b=W_[_]:(_.substr(0,4)==="\\not"||_ in Tn.math&&v.contains(["bin","rel"],Tn.math[_].group))&&(b="\\dotsb"),b});var mv={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};_e("\\dotso",function(K){var b=K.future().text;return b in mv?"\\ldots\\,":"\\ldots"}),_e("\\dotsc",function(K){var b=K.future().text;return b in mv&&b!==","?"\\ldots\\,":"\\ldots"}),_e("\\cdots",function(K){var b=K.future().text;return b in mv?"\\@cdots\\,":"\\@cdots"}),_e("\\dotsb","\\cdots"),_e("\\dotsm","\\cdots"),_e("\\dotsi","\\!\\cdots"),_e("\\dotsx","\\ldots\\,"),_e("\\DOTSI","\\relax"),_e("\\DOTSB","\\relax"),_e("\\DOTSX","\\relax"),_e("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),_e("\\,","\\tmspace+{3mu}{.1667em}"),_e("\\thinspace","\\,"),_e("\\>","\\mskip{4mu}"),_e("\\:","\\tmspace+{4mu}{.2222em}"),_e("\\medspace","\\:"),_e("\\;","\\tmspace+{5mu}{.2777em}"),_e("\\thickspace","\\;"),_e("\\!","\\tmspace-{3mu}{.1667em}"),_e("\\negthinspace","\\!"),_e("\\negmedspace","\\tmspace-{4mu}{.2222em}"),_e("\\negthickspace","\\tmspace-{5mu}{.277em}"),_e("\\enspace","\\kern.5em "),_e("\\enskip","\\hskip.5em\\relax"),_e("\\quad","\\hskip1em\\relax"),_e("\\qquad","\\hskip2em\\relax"),_e("\\tag","\\@ifstar\\tag@literal\\tag@paren"),_e("\\tag@paren","\\tag@literal{({#1})}"),_e("\\tag@literal",function(K){if(K.macros.get("\\df@tag"))throw new o("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),_e("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),_e("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),_e("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),_e("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),_e("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),_e("\\newline","\\\\\\relax"),_e("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var G_=X(Le["Main-Regular"]["T".charCodeAt(0)][1]-.7*Le["Main-Regular"]["A".charCodeAt(0)][1]);_e("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+G_+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),_e("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+G_+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),_e("\\hspace","\\@ifstar\\@hspacer\\@hspace"),_e("\\@hspace","\\hskip #1\\relax"),_e("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),_e("\\ordinarycolon",":"),_e("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),_e("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),_e("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),_e("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),_e("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),_e("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),_e("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),_e("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),_e("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),_e("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),_e("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),_e("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),_e("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),_e("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),_e("∷","\\dblcolon"),_e("∹","\\eqcolon"),_e("≔","\\coloneqq"),_e("≕","\\eqqcolon"),_e("⩴","\\Coloneqq"),_e("\\ratio","\\vcentcolon"),_e("\\coloncolon","\\dblcolon"),_e("\\colonequals","\\coloneqq"),_e("\\coloncolonequals","\\Coloneqq"),_e("\\equalscolon","\\eqqcolon"),_e("\\equalscoloncolon","\\Eqqcolon"),_e("\\colonminus","\\coloneq"),_e("\\coloncolonminus","\\Coloneq"),_e("\\minuscolon","\\eqcolon"),_e("\\minuscoloncolon","\\Eqcolon"),_e("\\coloncolonapprox","\\Colonapprox"),_e("\\coloncolonsim","\\Colonsim"),_e("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),_e("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),_e("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),_e("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),_e("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),_e("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),_e("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),_e("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),_e("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),_e("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),_e("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),_e("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),_e("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),_e("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),_e("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),_e("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),_e("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),_e("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),_e("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),_e("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),_e("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),_e("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),_e("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),_e("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),_e("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),_e("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),_e("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),_e("\\imath","\\html@mathml{\\@imath}{ı}"),_e("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),_e("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),_e("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),_e("⟦","\\llbracket"),_e("⟧","\\rrbracket"),_e("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),_e("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),_e("⦃","\\lBrace"),_e("⦄","\\rBrace"),_e("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),_e("⦵","\\minuso"),_e("\\darr","\\downarrow"),_e("\\dArr","\\Downarrow"),_e("\\Darr","\\Downarrow"),_e("\\lang","\\langle"),_e("\\rang","\\rangle"),_e("\\uarr","\\uparrow"),_e("\\uArr","\\Uparrow"),_e("\\Uarr","\\Uparrow"),_e("\\N","\\mathbb{N}"),_e("\\R","\\mathbb{R}"),_e("\\Z","\\mathbb{Z}"),_e("\\alef","\\aleph"),_e("\\alefsym","\\aleph"),_e("\\Alpha","\\mathrm{A}"),_e("\\Beta","\\mathrm{B}"),_e("\\bull","\\bullet"),_e("\\Chi","\\mathrm{X}"),_e("\\clubs","\\clubsuit"),_e("\\cnums","\\mathbb{C}"),_e("\\Complex","\\mathbb{C}"),_e("\\Dagger","\\ddagger"),_e("\\diamonds","\\diamondsuit"),_e("\\empty","\\emptyset"),_e("\\Epsilon","\\mathrm{E}"),_e("\\Eta","\\mathrm{H}"),_e("\\exist","\\exists"),_e("\\harr","\\leftrightarrow"),_e("\\hArr","\\Leftrightarrow"),_e("\\Harr","\\Leftrightarrow"),_e("\\hearts","\\heartsuit"),_e("\\image","\\Im"),_e("\\infin","\\infty"),_e("\\Iota","\\mathrm{I}"),_e("\\isin","\\in"),_e("\\Kappa","\\mathrm{K}"),_e("\\larr","\\leftarrow"),_e("\\lArr","\\Leftarrow"),_e("\\Larr","\\Leftarrow"),_e("\\lrarr","\\leftrightarrow"),_e("\\lrArr","\\Leftrightarrow"),_e("\\Lrarr","\\Leftrightarrow"),_e("\\Mu","\\mathrm{M}"),_e("\\natnums","\\mathbb{N}"),_e("\\Nu","\\mathrm{N}"),_e("\\Omicron","\\mathrm{O}"),_e("\\plusmn","\\pm"),_e("\\rarr","\\rightarrow"),_e("\\rArr","\\Rightarrow"),_e("\\Rarr","\\Rightarrow"),_e("\\real","\\Re"),_e("\\reals","\\mathbb{R}"),_e("\\Reals","\\mathbb{R}"),_e("\\Rho","\\mathrm{P}"),_e("\\sdot","\\cdot"),_e("\\sect","\\S"),_e("\\spades","\\spadesuit"),_e("\\sub","\\subset"),_e("\\sube","\\subseteq"),_e("\\supe","\\supseteq"),_e("\\Tau","\\mathrm{T}"),_e("\\thetasym","\\vartheta"),_e("\\weierp","\\wp"),_e("\\Zeta","\\mathrm{Z}"),_e("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),_e("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),_e("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),_e("\\bra","\\mathinner{\\langle{#1}|}"),_e("\\ket","\\mathinner{|{#1}\\rangle}"),_e("\\braket","\\mathinner{\\langle{#1}\\rangle}"),_e("\\Bra","\\left\\langle#1\\right|"),_e("\\Ket","\\left|#1\\right\\rangle"),_e("\\angln","{\\angl n}"),_e("\\blue","\\textcolor{##6495ed}{#1}"),_e("\\orange","\\textcolor{##ffa500}{#1}"),_e("\\pink","\\textcolor{##ff00af}{#1}"),_e("\\red","\\textcolor{##df0030}{#1}"),_e("\\green","\\textcolor{##28ae7b}{#1}"),_e("\\gray","\\textcolor{gray}{#1}"),_e("\\purple","\\textcolor{##9d38bd}{#1}"),_e("\\blueA","\\textcolor{##ccfaff}{#1}"),_e("\\blueB","\\textcolor{##80f6ff}{#1}"),_e("\\blueC","\\textcolor{##63d9ea}{#1}"),_e("\\blueD","\\textcolor{##11accd}{#1}"),_e("\\blueE","\\textcolor{##0c7f99}{#1}"),_e("\\tealA","\\textcolor{##94fff5}{#1}"),_e("\\tealB","\\textcolor{##26edd5}{#1}"),_e("\\tealC","\\textcolor{##01d1c1}{#1}"),_e("\\tealD","\\textcolor{##01a995}{#1}"),_e("\\tealE","\\textcolor{##208170}{#1}"),_e("\\greenA","\\textcolor{##b6ffb0}{#1}"),_e("\\greenB","\\textcolor{##8af281}{#1}"),_e("\\greenC","\\textcolor{##74cf70}{#1}"),_e("\\greenD","\\textcolor{##1fab54}{#1}"),_e("\\greenE","\\textcolor{##0d923f}{#1}"),_e("\\goldA","\\textcolor{##ffd0a9}{#1}"),_e("\\goldB","\\textcolor{##ffbb71}{#1}"),_e("\\goldC","\\textcolor{##ff9c39}{#1}"),_e("\\goldD","\\textcolor{##e07d10}{#1}"),_e("\\goldE","\\textcolor{##a75a05}{#1}"),_e("\\redA","\\textcolor{##fca9a9}{#1}"),_e("\\redB","\\textcolor{##ff8482}{#1}"),_e("\\redC","\\textcolor{##f9685d}{#1}"),_e("\\redD","\\textcolor{##e84d39}{#1}"),_e("\\redE","\\textcolor{##bc2612}{#1}"),_e("\\maroonA","\\textcolor{##ffbde0}{#1}"),_e("\\maroonB","\\textcolor{##ff92c6}{#1}"),_e("\\maroonC","\\textcolor{##ed5fa6}{#1}"),_e("\\maroonD","\\textcolor{##ca337c}{#1}"),_e("\\maroonE","\\textcolor{##9e034e}{#1}"),_e("\\purpleA","\\textcolor{##ddd7ff}{#1}"),_e("\\purpleB","\\textcolor{##c6b9fc}{#1}"),_e("\\purpleC","\\textcolor{##aa87ff}{#1}"),_e("\\purpleD","\\textcolor{##7854ab}{#1}"),_e("\\purpleE","\\textcolor{##543b78}{#1}"),_e("\\mintA","\\textcolor{##f5f9e8}{#1}"),_e("\\mintB","\\textcolor{##edf2df}{#1}"),_e("\\mintC","\\textcolor{##e0e5cc}{#1}"),_e("\\grayA","\\textcolor{##f6f7f7}{#1}"),_e("\\grayB","\\textcolor{##f0f1f2}{#1}"),_e("\\grayC","\\textcolor{##e3e5e6}{#1}"),_e("\\grayD","\\textcolor{##d6d8da}{#1}"),_e("\\grayE","\\textcolor{##babec2}{#1}"),_e("\\grayF","\\textcolor{##888d93}{#1}"),_e("\\grayG","\\textcolor{##626569}{#1}"),_e("\\grayH","\\textcolor{##3b3e40}{#1}"),_e("\\grayI","\\textcolor{##21242c}{#1}"),_e("\\kaBlue","\\textcolor{##314453}{#1}"),_e("\\kaGreen","\\textcolor{##71B307}{#1}");var K_={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},hR=function(){function K(_,x,R){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=x,this.expansionCount=0,this.feed(_),this.macros=new uR(fR,x.macros),this.mode=R,this.stack=[]}var b=K.prototype;return b.feed=function(x){this.lexer=new $_(x,this.settings)},b.switchMode=function(x){this.mode=x},b.beginGroup=function(){this.macros.beginGroup()},b.endGroup=function(){this.macros.endGroup()},b.endGroups=function(){this.macros.endGroups()},b.future=function(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},b.popToken=function(){return this.future(),this.stack.pop()},b.pushToken=function(x){this.stack.push(x)},b.pushTokens=function(x){var R;(R=this.stack).push.apply(R,x)},b.scanArgument=function(x){var R,O,G;if(x){if(this.consumeSpaces(),this.future().text!=="[")return null;R=this.popToken();var se=this.consumeArg(["]"]);G=se.tokens,O=se.end}else{var Se=this.consumeArg();G=Se.tokens,R=Se.start,O=Se.end}return this.pushToken(new Rl("EOF",O.loc)),this.pushTokens(G),R.range(O,"")},b.consumeSpaces=function(){for(;;){var x=this.future();if(x.text===" ")this.stack.pop();else break}},b.consumeArg=function(x){var R=[],O=x&&x.length>0;O||this.consumeSpaces();var G=this.future(),se,Se=0,Ce=0;do{if(se=this.popToken(),R.push(se),se.text==="{")++Se;else if(se.text==="}"){if(--Se,Se===-1)throw new o("Extra }",se)}else if(se.text==="EOF")throw new o("Unexpected end of input in a macro argument, expected '"+(x&&O?x[Ce]:"}")+"'",se);if(x&&O)if((Se===0||Se===1&&x[Ce]==="{")&&se.text===x[Ce]){if(++Ce,Ce===x.length){R.splice(-Ce,Ce);break}}else Ce=0}while(Se!==0||O);return G.text==="{"&&R[R.length-1].text==="}"&&(R.pop(),R.shift()),R.reverse(),{tokens:R,start:G,end:se}},b.consumeArgs=function(x,R){if(R){if(R.length!==x+1)throw new o("The length of delimiters doesn't match the number of args!");for(var O=R[0],G=0;G<O.length;G++){var se=this.popToken();if(O[G]!==se.text)throw new o("Use of the macro doesn't match its definition",se)}}for(var Se=[],Ce=0;Ce<x;Ce++)Se.push(this.consumeArg(R&&R[Ce+1]).tokens);return Se},b.expandOnce=function(x){var R=this.popToken(),O=R.text,G=R.noexpand?null:this._getExpansion(O);if(G==null||x&&G.unexpandable){if(x&&G==null&&O[0]==="\\"&&!this.isDefined(O))throw new o("Undefined control sequence: "+O);return this.pushToken(R),R}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new o("Too many expansions: infinite loop or need to increase maxExpand setting");var se=G.tokens,Se=this.consumeArgs(G.numArgs,G.delimiters);if(G.numArgs){se=se.slice();for(var Ce=se.length-1;Ce>=0;--Ce){var Ke=se[Ce];if(Ke.text==="#"){if(Ce===0)throw new o("Incomplete placeholder at end of macro body",Ke);if(Ke=se[--Ce],Ke.text==="#")se.splice(Ce+1,1);else if(/^[1-9]$/.test(Ke.text)){var it;(it=se).splice.apply(it,[Ce,2].concat(Se[+Ke.text-1]))}else throw new o("Not a valid argument number",Ke)}}}return this.pushTokens(se),se},b.expandAfterFuture=function(){return this.expandOnce(),this.future()},b.expandNextToken=function(){for(;;){var x=this.expandOnce();if(x instanceof Rl)if(x.text==="\\relax"||x.treatAsRelax)this.stack.pop();else return this.stack.pop()}throw new Error},b.expandMacro=function(x){return this.macros.has(x)?this.expandTokens([new Rl(x)]):void 0},b.expandTokens=function(x){var R=[],O=this.stack.length;for(this.pushTokens(x);this.stack.length>O;){var G=this.expandOnce(!0);G instanceof Rl&&(G.treatAsRelax&&(G.noexpand=!1,G.treatAsRelax=!1),R.push(this.stack.pop()))}return R},b.expandMacroAsText=function(x){var R=this.expandMacro(x);return R&&R.map(function(O){return O.text}).join("")},b._getExpansion=function(x){var R=this.macros.get(x);if(R==null)return R;if(x.length===1){var O=this.lexer.catcodes[x];if(O!=null&&O!==13)return}var G=typeof R=="function"?R(this):R;if(typeof G=="string"){var se=0;if(G.indexOf("#")!==-1)for(var Se=G.replace(/##/g,"");Se.indexOf("#"+(se+1))!==-1;)++se;for(var Ce=new $_(G,this.settings),Ke=[],it=Ce.lex();it.text!=="EOF";)Ke.push(it),it=Ce.lex();Ke.reverse();var xt={tokens:Ke,numArgs:se};return xt}return G},b.isDefined=function(x){return this.macros.has(x)||Ii.hasOwnProperty(x)||Tn.math.hasOwnProperty(x)||Tn.text.hasOwnProperty(x)||K_.hasOwnProperty(x)},b.isExpandable=function(x){var R=this.macros.get(x);return R!=null?typeof R=="string"||typeof R=="function"||!R.unexpandable:Ii.hasOwnProperty(x)&&!Ii[x].primitive},K}(),vv={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},q_={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"},j_=function(){function K(_,x){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new hR(_,x,this.mode),this.settings=x,this.leftrightDepth=0}var b=K.prototype;return b.expect=function(x,R){if(R===void 0&&(R=!0),this.fetch().text!==x)throw new o("Expected '"+x+"', got '"+this.fetch().text+"'",this.fetch());R&&this.consume()},b.consume=function(){this.nextToken=null},b.fetch=function(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},b.switchMode=function(x){this.mode=x,this.gullet.switchMode(x)},b.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var x=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),x}finally{this.gullet.endGroups()}},b.parseExpression=function(x,R){for(var O=[];;){this.mode==="math"&&this.consumeSpaces();var G=this.fetch();if(K.endOfExpression.indexOf(G.text)!==-1||R&&G.text===R||x&&Ii[G.text]&&Ii[G.text].infix)break;var se=this.parseAtom(R);if(se){if(se.type==="internal")continue}else break;O.push(se)}return this.mode==="text"&&this.formLigatures(O),this.handleInfixNodes(O)},b.handleInfixNodes=function(x){for(var R=-1,O,G=0;G<x.length;G++)if(x[G].type==="infix"){if(R!==-1)throw new o("only one infix operator per group",x[G].token);R=G,O=x[G].replaceWith}if(R!==-1&&O){var se,Se,Ce=x.slice(0,R),Ke=x.slice(R+1);Ce.length===1&&Ce[0].type==="ordgroup"?se=Ce[0]:se={type:"ordgroup",mode:this.mode,body:Ce},Ke.length===1&&Ke[0].type==="ordgroup"?Se=Ke[0]:Se={type:"ordgroup",mode:this.mode,body:Ke};var it;return O==="\\\\abovefrac"?it=this.callFunction(O,[se,x[R],Se],[]):it=this.callFunction(O,[se,Se],[]),[it]}else return x},b.handleSupSubscript=function(x){var R=this.fetch(),O=R.text;this.consume(),this.consumeSpaces();var G=this.parseGroup(x);if(!G)throw new o("Expected group after '"+O+"'",R);return G},b.formatUnsupportedCmd=function(x){for(var R=[],O=0;O<x.length;O++)R.push({type:"textord",mode:"text",text:x[O]});var G={type:"text",mode:this.mode,body:R},se={type:"color",mode:this.mode,color:this.settings.errorColor,body:[G]};return se},b.parseAtom=function(x){var R=this.parseGroup("atom",x);if(this.mode==="text")return R;for(var O,G;;){this.consumeSpaces();var se=this.fetch();if(se.text==="\\limits"||se.text==="\\nolimits"){if(R&&R.type==="op"){var Se=se.text==="\\limits";R.limits=Se,R.alwaysHandleSupSub=!0}else if(R&&R.type==="operatorname")R.alwaysHandleSupSub&&(R.limits=se.text==="\\limits");else throw new o("Limit controls must follow a math operator",se);this.consume()}else if(se.text==="^"){if(O)throw new o("Double superscript",se);O=this.handleSupSubscript("superscript")}else if(se.text==="_"){if(G)throw new o("Double subscript",se);G=this.handleSupSubscript("subscript")}else if(se.text==="'"){if(O)throw new o("Double superscript",se);var Ce={type:"textord",mode:this.mode,text:"\\prime"},Ke=[Ce];for(this.consume();this.fetch().text==="'";)Ke.push(Ce),this.consume();this.fetch().text==="^"&&Ke.push(this.handleSupSubscript("superscript")),O={type:"ordgroup",mode:this.mode,body:Ke}}else break}return O||G?{type:"supsub",mode:this.mode,base:R,sup:O,sub:G}:R},b.parseFunction=function(x,R){var O=this.fetch(),G=O.text,se=Ii[G];if(!se)return null;if(this.consume(),R&&R!=="atom"&&!se.allowedInArgument)throw new o("Got function '"+G+"' with no arguments"+(R?" as "+R:""),O);if(this.mode==="text"&&!se.allowedInText)throw new o("Can't use function '"+G+"' in text mode",O);if(this.mode==="math"&&se.allowedInMath===!1)throw new o("Can't use function '"+G+"' in math mode",O);var Se=this.parseArguments(G,se),Ce=Se.args,Ke=Se.optArgs;return this.callFunction(G,Ce,Ke,O,x)},b.callFunction=function(x,R,O,G,se){var Se={funcName:x,parser:this,token:G,breakOnTokenText:se},Ce=Ii[x];if(Ce&&Ce.handler)return Ce.handler(Se,R,O);throw new o("No function handler for "+x)},b.parseArguments=function(x,R){var O=R.numArgs+R.numOptionalArgs;if(O===0)return{args:[],optArgs:[]};for(var G=[],se=[],Se=0;Se<O;Se++){var Ce=R.argTypes&&R.argTypes[Se],Ke=Se<R.numOptionalArgs;(R.primitive&&Ce==null||R.type==="sqrt"&&Se===1&&se[0]==null)&&(Ce="primitive");var it=this.parseGroupOfType("argument to '"+x+"'",Ce,Ke);if(Ke)se.push(it);else if(it!=null)G.push(it);else throw new o("Null argument, please report this as a bug")}return{args:G,optArgs:se}},b.parseGroupOfType=function(x,R,O){switch(R){case"color":return this.parseColorGroup(O);case"size":return this.parseSizeGroup(O);case"url":return this.parseUrlGroup(O);case"math":case"text":return this.parseArgumentGroup(O,R);case"hbox":{var G=this.parseArgumentGroup(O,"text");return G!=null?{type:"styling",mode:G.mode,body:[G],style:"text"}:null}case"raw":{var se=this.parseStringGroup("raw",O);return se!=null?{type:"raw",mode:"text",string:se.text}:null}case"primitive":{if(O)throw new o("A primitive argument cannot be optional");var Se=this.parseGroup(x);if(Se==null)throw new o("Expected group as "+x,this.fetch());return Se}case"original":case null:case void 0:return this.parseArgumentGroup(O);default:throw new o("Unknown group type as "+x,this.fetch())}},b.consumeSpaces=function(){for(;this.fetch().text===" ";)this.consume()},b.parseStringGroup=function(x,R){var O=this.gullet.scanArgument(R);if(O==null)return null;for(var G="",se;(se=this.fetch()).text!=="EOF";)G+=se.text,this.consume();return this.consume(),O.text=G,O},b.parseRegexGroup=function(x,R){for(var O=this.fetch(),G=O,se="",Se;(Se=this.fetch()).text!=="EOF"&&x.test(se+Se.text);)G=Se,se+=G.text,this.consume();if(se==="")throw new o("Invalid "+R+": '"+O.text+"'",O);return O.range(G,se)},b.parseColorGroup=function(x){var R=this.parseStringGroup("color",x);if(R==null)return null;var O=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(R.text);if(!O)throw new o("Invalid color: '"+R.text+"'",R);var G=O[0];return/^[0-9a-f]{6}$/i.test(G)&&(G="#"+G),{type:"color-token",mode:this.mode,color:G}},b.parseSizeGroup=function(x){var R,O=!1;if(this.gullet.consumeSpaces(),!x&&this.gullet.future().text!=="{"?R=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):R=this.parseStringGroup("size",x),!R)return null;!x&&R.text.length===0&&(R.text="0pt",O=!0);var G=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(R.text);if(!G)throw new o("Invalid size: '"+R.text+"'",R);var se={number:+(G[1]+G[2]),unit:G[3]};if(!Ft(se))throw new o("Invalid unit: '"+se.unit+"'",R);return{type:"size",mode:this.mode,value:se,isBlank:O}},b.parseUrlGroup=function(x){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var R=this.parseStringGroup("url",x);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),R==null)return null;var O=R.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:O}},b.parseArgumentGroup=function(x,R){var O=this.gullet.scanArgument(x);if(O==null)return null;var G=this.mode;R&&this.switchMode(R),this.gullet.beginGroup();var se=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var Se={type:"ordgroup",mode:this.mode,loc:O.loc,body:se};return R&&this.switchMode(G),Se},b.parseGroup=function(x,R){var O=this.fetch(),G=O.text,se;if(G==="{"||G==="\\begingroup"){this.consume();var Se=G==="{"?"}":"\\endgroup";this.gullet.beginGroup();var Ce=this.parseExpression(!1,Se),Ke=this.fetch();this.expect(Se),this.gullet.endGroup(),se={type:"ordgroup",mode:this.mode,loc:qo.range(O,Ke),body:Ce,semisimple:G==="\\begingroup"||void 0}}else if(se=this.parseFunction(R,x)||this.parseSymbol(),se==null&&G[0]==="\\"&&!K_.hasOwnProperty(G)){if(this.settings.throwOnError)throw new o("Undefined control sequence: "+G,O);se=this.formatUnsupportedCmd(G),this.consume()}return se},b.formLigatures=function(x){for(var R=x.length-1,O=0;O<R;++O){var G=x[O],se=G.text;se==="-"&&x[O+1].text==="-"&&(O+1<R&&x[O+2].text==="-"?(x.splice(O,3,{type:"textord",mode:"text",loc:qo.range(G,x[O+2]),text:"---"}),R-=2):(x.splice(O,2,{type:"textord",mode:"text",loc:qo.range(G,x[O+1]),text:"--"}),R-=1)),(se==="'"||se==="`")&&x[O+1].text===se&&(x.splice(O,2,{type:"textord",mode:"text",loc:qo.range(G,x[O+1]),text:se+se}),R-=1)}},b.parseSymbol=function(){var x=this.fetch(),R=x.text;if(/^\\verb[^a-zA-Z]/.test(R)){this.consume();var O=R.slice(5),G=O.charAt(0)==="*";if(G&&(O=O.slice(1)),O.length<2||O.charAt(0)!==O.slice(-1))throw new o(`\\verb assertion failed --
                    please report what input caused this bug`);return O=O.slice(1,-1),{type:"verb",mode:"text",body:O,star:G}}q_.hasOwnProperty(R[0])&&!Tn[this.mode][R[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+R[0]+'" used in math mode',x),R=q_[R[0]]+R.substr(1));var se=lR.exec(R);se&&(R=R.substring(0,se.index),R==="i"?R="ı":R==="j"&&(R="ȷ"));var Se;if(Tn[this.mode][R]){this.settings.strict&&this.mode==="math"&&mr.indexOf(R)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+R[0]+'" used in math mode',x);var Ce=Tn[this.mode][R].group,Ke=qo.range(x),it;if(Tr.hasOwnProperty(Ce)){var xt=Ce;it={type:"atom",mode:this.mode,family:xt,loc:Ke,text:R}}else it={type:Ce,mode:this.mode,loc:Ke,text:R};Se=it}else if(R.charCodeAt(0)>=128)this.settings.strict&&(ie(R.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+R[0]+'" used in math mode',x):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+R[0]+'"'+(" ("+R.charCodeAt(0)+")"),x)),Se={type:"textord",mode:"text",loc:qo.range(x),text:R};else return null;if(this.consume(),se)for(var kt=0;kt<se[0].length;kt++){var Dt=se[0][kt];if(!vv[Dt])throw new o("Unknown accent ' "+Dt+"'",x);var Vt=vv[Dt][this.mode]||vv[Dt].text;if(!Vt)throw new o("Accent "+Dt+" unsupported in "+this.mode+" mode",x);Se={type:"accent",mode:this.mode,loc:qo.range(x),label:Vt,isStretchy:!1,isShifty:!0,base:Se}}return Se},K}();j_.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var pR=function(b,_){if(!(typeof b=="string"||b instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var x=new j_(b,_);delete x.gullet.macros.current["\\df@tag"];var R=x.parse();if(delete x.gullet.macros.current["\\current@color"],delete x.gullet.macros.current["\\color"],x.gullet.macros.get("\\df@tag")){if(!_.displayMode)throw new o("\\tag works only in display equations");x.gullet.feed("\\df@tag"),R=[{type:"tag",mode:"text",body:R,tag:x.parse()}]}return R},gv=pR,Y_=function(b,_,x){_.textContent="";var R=yv(b,x).toNode();_.appendChild(R)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Y_=function(){throw new o("KaTeX doesn't work in quirks mode.")});var mR=function(b,_){var x=yv(b,_).toMarkup();return x},vR=function(b,_){var x=new A(_);return gv(b,x)},X_=function(b,_,x){if(x.throwOnError||!(b instanceof o))throw b;var R=lt.makeSpan(["katex-error"],[new ot(_)]);return R.setAttribute("title",b.toString()),R.setAttribute("style","color:"+x.errorColor),R},yv=function(b,_){var x=new A(_);try{var R=gv(b,x);return _I(R,b,x)}catch(O){return X_(O,b,x)}},gR=function(b,_){var x=new A(_);try{var R=gv(b,x);return wI(R,b,x)}catch(O){return X_(O,b,x)}},yR={version:"0.13.24",render:Y_,renderToString:mR,ParseError:o,__parse:vR,__renderToDomTree:yv,__renderToHTMLTree:gR,__setFontMetrics:Fe,__defineSymbol:H,__defineMacro:_e,__domTree:{Span:tt,Anchor:Rt,SymbolNode:ot,SvgNode:dt,PathNode:It,LineNode:gt}},bR=yR;return r=r.default,r}()})})(h8);var _le=h8.exports;const wle=Hs(_le),xle=(t,e={},n)=>{const{props:r,domProps:a,on:o,...s}=e,i={...s,...r,...a,...(l=>l?Object.entries(l).reduce((c,[u,f])=>({...c,[u=`on${u=u.charAt(0).toUpperCase()+u.slice(1)}`]:f}),{}):null)(o)};return Lt(t,i,n)};var df=he({name:"VueLatex",props:{fontsize:{type:Number,default:16},expression:{type:String,required:!0},displayMode:{type:Boolean,default:!1},throwOnError:{type:Boolean,default:!1},errorColor:{type:String,default:void 0},minRuleThickness:{type:Number,default:.04},macros:{type:Object,default:void 0},colorIsTextColor:{type:Boolean,default:void 0},maxSize:{type:Number,default:void 0},maxExpand:{type:Number,default:void 0},allowedProtocols:{type:Array,default:void 0},strict:{type:[Boolean,String,Function],default:void 0}},setup:t=>({html:P(()=>wle.renderToString(t.expression,t))}),render(){return xle(this.displayMode?"div":"span",{domProps:{innerHTML:this.html},style:{"font-size":`${this.fontsize}px`}})}});df.install=t=>{t.component(df.name,df)};const Cle=he({components:{VueLatex:df},setup(){return{tableData:[{scenarioType:"Concert Event",lightingSource:"Human Design",s_exp:2.58,s_non:4.31,egss:3.09,rowspan:2},{scenarioType:"Concert Event",lightingSource:"AuraLuxMuse",s_exp:3.29,s_non:3.19,egss:3.26,rowspan:0},{scenarioType:"Drama Show",lightingSource:"Human Design",s_exp:3.08,s_non:4.03,egss:3.36,rowspan:2},{scenarioType:"Drama Show",lightingSource:"AuraLuxMuse",s_exp:2.45,s_non:3.23,egss:2.68,rowspan:0},{scenarioType:"Entertainment Act",lightingSource:"Human Design",s_exp:2.46,s_non:3.31,egss:2.71,rowspan:2},{scenarioType:"Entertainment Act",lightingSource:"AuraLuxMuse",s_exp:2.76,s_non:3.99,egss:3.12,rowspan:0},{scenarioType:"Average",lightingSource:"Human Design",s_exp:2.71,s_non:3.88,egss:3.05,rowspan:2},{scenarioType:"Average",lightingSource:"AuraLuxMuse",s_exp:2.83,s_non:3.47,egss:3.02,rowspan:0}],spanMethod:({row:n,column:r,rowIndex:a,columnIndex:o})=>o===0?{rowspan:n.rowspan,colspan:1}:{rowspan:1,colspan:1}}}}),Ale=t=>(Ls("data-v-1196e0a8"),t=t(),Ns(),t),Ele=Ale(()=>re("h1",{class:"section-title"},"Quantitative Results",-1)),Mle={class:"content-container"},Tle={class:"caption"};function Ile(t,e,n,r,a,o){const s=ct("el-divider"),i=ct("el-row"),l=ct("VueLatex"),c=ct("el-table-column"),u=ct("el-table"),f=ct("el-card"),h=ct("el-col");return N(),ee("div",null,[J(s),J(i,{justify:"center"},{default:le(()=>[Ele]),_:1}),J(i,{justify:"center"},{default:le(()=>[J(h,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[J(f,{class:"card"},{default:le(()=>[re("div",Mle,[re("p",Tle,[Zt(" The following table presents a quantitative comparison of stage lighting quality between human-designed shows and those generated by AuraLuxMuse across three scenarios. A human evaluation involving 40 professional lighting designers and 40 non-experts ensured rigorous results. Professionals rated lighting based on five dimensions, while general audiences provided perceptual feedback, both on a 1–5 scale. The Expert-Guided Subjective Score, defined as "),J(l,{expression:"\\text{EGSS} = \\lambda \\cdot S_{\\text{exp}} + (1 - \\lambda) \\cdot S_{\\text{non}}, \\lambda \\in [0, 1]"}),Zt(", with "),J(l,{expression:"\\lambda = 0.7"}),Zt(", integrates expert ratings "),J(l,{expression:"S_{\\text{exp}}"}),Zt(" and non-expert ratings "),J(l,{expression:"S_{\\text{non}}"}),Zt(" to balance professional expertise with audience perception. AuraLuxMuse demonstrates comparable quantitative performance to human designs, reflecting its ability to produce high-quality, perceptually effective lighting. ")]),J(u,{data:t.tableData,style:{width:"100%","max-width":"600px",margin:"20px auto"},"row-class-name":"custom-row","span-method":t.spanMethod},{default:le(()=>[J(c,{prop:"scenarioType",label:"Scenario Type","min-width":"150",align:"center"}),J(c,{prop:"lightingSource",label:"Lighting Source","min-width":"150",align:"center"}),J(c,{prop:"s_exp","min-width":"100",align:"center"},{header:le(()=>[J(l,{expression:"S_{\\text{exp}}"})]),_:1}),J(c,{prop:"s_non","min-width":"100",align:"center"},{header:le(()=>[J(l,{expression:"S_{\\text{non}}"})]),_:1}),J(c,{prop:"egss",label:"EGSS","min-width":"100",align:"center"})]),_:1},8,["data","span-method"])])]),_:1})]),_:1})]),_:1})])}const Rle=ua(Cle,[["render",Ile],["__scopeId","data-v-1196e0a8"]]),kle={data(){return{imagePath:"teaser.png"}}},p8=t=>(Ls("data-v-a73a8ae2"),t=t(),Ns(),t),Dle=p8(()=>re("h1",{class:"section-title"},"Teaser Figure",-1)),Ple=["src"],Ble=p8(()=>re("p",{class:"image-description"}," In the conventional pipeline, designers manually decompose the input music into artistic components, followed by iterative design, precise time alignment and parameter input into the lighting console. In contrast, AuraLuxMuse automates this process by leveraging deep audio feature extraction and contrastive representation learning. The system guides the generation of lighting parameters, which are seamlessly delivered to the console for real-time aesthetic lighting production. ",-1));function Lle(t,e,n,r,a,o){const s=ct("el-divider"),i=ct("el-row"),l=ct("el-col");return N(),ee("div",null,[J(s),J(i,{justify:"center"},{default:le(()=>[Dle]),_:1}),J(i,{justify:"center"},{default:le(()=>[J(l,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[re("img",{src:a.imagePath,class:"chart-image",alt:"Quantitative Results"},null,8,Ple),Ble]),_:1})]),_:1})])}const Nle=ua(kle,[["render",Lle],["__scopeId","data-v-a73a8ae2"]]),Fle="/video/video.mp4",Ole={},m8=t=>(Ls("data-v-1ac363c0"),t=t(),Ns(),t),zle=m8(()=>re("h1",{class:"section-title"},"Video Demo",-1)),Ule=m8(()=>re("video",{controls:"",muted:"",preload:"",playsinline:""},[re("source",{src:Fle,type:"video/mp4"})],-1));function Hle(t,e){const n=ct("el-divider"),r=ct("el-row"),a=ct("el-container"),o=ct("el-col");return N(),ee("div",null,[J(n),J(r,{justify:"center"},{default:le(()=>[zle]),_:1}),J(r,{justify:"center"},{default:le(()=>[J(o,{xs:24,sm:20,md:16,lg:12,xl:10},{default:le(()=>[J(a,{class:"video-container"},{default:le(()=>[Ule]),_:1})]),_:1})]),_:1})])}const $le=ua(Ole,[["render",Hle],["__scopeId","data-v-1ac363c0"]]),Vle=t=>(Ls("data-v-2d273af8"),t=t(),Ns(),t),Wle=Vle(()=>re("h1",{class:"section-title"},"Qualitative Results",-1)),Gle={class:"demo-image"},Kle={class:"block"},qle=["src"],jle={class:"demonstration"},Yle={class:"demo-image"},Xle={class:"block"},Qle=["src"],Zle={class:"demonstration"},Jle=10,ece="./image_slider/huaqiang/input/",tce="./image_slider/huaqiang/output/",nce=0,rce=9,ace={__name:"ImageSlider",setup(t){const e=[],n=[];let r=j(""),a=j(""),o=j(0),s=j(!0);const i=()=>{const c=[];for(var u=0;u<Jle;u++){var f=ece+String(u)+".png";const p=new Image;e[u]=p;const m=new Promise(v=>{p.onload=v});p.src=f,c.push(m);var h=tce+String(u)+".png";const g=new Image;n[u]=g;const y=new Promise(v=>{g.onload=v});g.src=h,c.push(y)}return Promise.all(c).then(()=>{s.value=!1,console.log("preloadInterpolationImages finished")})};Yt(()=>{i(),l(0)});const l=c=>{r.value=e[c].src,a.value=n[c].src};return(c,u)=>{const f=ct("el-divider"),h=ct("el-row"),p=ct("el-skeleton-item"),m=ct("el-skeleton"),g=ct("el-col"),y=ct("el-slider");return N(),ee("div",null,[J(f),J(h,{justify:"center"},{default:le(()=>[Wle]),_:1}),J(h,{justify:"center"},{default:le(()=>[J(g,null,{default:le(()=>[J(h,{justify:"center",gutter:20},{default:le(()=>[J(g,{xs:12,sm:10,md:8,lg:6,xl:6},{default:le(()=>[re("div",Gle,[re("div",Kle,[J(m,{style:{width:"100%"},loading:d(s),animated:"",throttle:1e3},{template:le(()=>[J(p,{variant:"image",style:{width:"100%",height:"100%"}})]),default:le(()=>[re("img",{src:d(r),style:{width:"100%","object-fit":"contain"}},null,8,qle)]),_:1},8,["loading"]),re("span",jle,"input: "+rt(d(r)),1)])])]),_:1}),J(g,{xs:12,sm:10,md:8,lg:6,xl:6},{default:le(()=>[re("div",Yle,[re("div",Xle,[J(m,{style:{width:"100%"},loading:d(s),animated:"",throttle:1e3},{template:le(()=>[J(p,{variant:"image",style:{width:"100%",height:"100%"}})]),default:le(()=>[re("img",{src:d(a),style:{width:"100%","object-fit":"contain"}},null,8,Qle)]),_:1},8,["loading"]),re("span",Zle,"output: "+rt(d(a)),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),J(h,{justify:"center"},{default:le(()=>[J(g,{span:12},{default:le(()=>[J(y,{modelValue:d(o),"onUpdate:modelValue":u[0]||(u[0]=v=>jn(o)?o.value=v:o=v),min:nce,max:rce,onInput:l},null,8,["modelValue"])]),_:1})]),_:1})])}}},oce=ua(ace,[["__scopeId","data-v-2d273af8"]]),sce=["innerHTML"],ice=["id"],lce=["alt","src"],cce=["alt","src"],uce=["innerHTML"],dce=he({__name:"VueCompareImage",props:{aspectRatio:{default:"wider"},handle:{type:[String,Number,Boolean]},handleSize:{default:40},hover:{type:Boolean,default:!1},slideOnClick:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!1},keyboardStep:{default:.01},leftImage:{},leftImageAlt:{},leftImageCss:{},leftImageLabel:{},onSliderPositionChange:{type:Function,default:()=>{}},rightImage:{},rightImageAlt:{},rightImageCss:{},rightImageLabel:{},skeleton:{type:[String,Number,Boolean]},sliderLineColor:{default:"#ffffff"},sliderLineWidth:{default:2},sliderPositionPercentage:{default:.5},vertical:{type:Boolean,default:!1}},emits:["slideStart","slideEnd","isSliding"],setup(t,{emit:e}){const n=t,{aspectRatio:r,leftImage:a,leftImageAlt:o,leftImageLabel:s,leftImageCss:i,rightImage:l,rightImageAlt:c,rightImageLabel:u,rightImageCss:f,hover:h,handle:p,handleSize:m,sliderLineWidth:g,sliderPositionPercentage:y,skeleton:v,sliderLineColor:A,vertical:w,onSliderPositionChange:S,slideOnClick:C,keyboard:E,keyboardStep:I}=jr(n),k=Math.random().toString(36).substr(2,9),T=!w.value,M=j(),D=j(null),B=j(null),z=j(y.value),q=j(0),$=j(0),L=j(!1),W=j(!1),U=j(!1),F=P(()=>L.value&&W.value),Q=P(()=>z.value),ne=P(()=>1-z.value),de=P(()=>({display:F.value?"flex":"none",height:`${$.value}px`})),ie=P(()=>({clipPath:T?`inset(0px 0px 0px ${q.value*Q.value}px)`:`inset(${$.value*Q.value}px 0px 0px 0px)`,...f})),ce=P(()=>({clipPath:T?`inset(0px ${q.value*ne.value}px 0px 0px)`:`inset(0px 0px ${$.value*ne.value}px 0px)`,...i})),ge=P(()=>({cursor:!h.value&&T?"ew-resize !important":!h.value&&!T?"ns-resize !important":void 0,flexDirection:T?"column":"row",height:T?"100%":`${m.value}px`,left:T?`${q.value*z.value-m.value/2}px`:"0",top:T?"0":`${$.value*z.value-m.value/2}px`,width:T?`${m.value}px`:"100%"})),Ae=P(()=>({background:A.value,height:T?"100%":`${g.value}px`,width:T?`${g.value}px`:"100%"})),pe=P(()=>({border:`${g.value}px solid ${A.value}`,height:`${m.value}px`,width:`${m.value}px`,transform:T?"none":"rotate(90deg)"})),Ie=P(()=>({border:`inset ${m.value*.15}px rgba(0,0,0,0)`,borderRight:`${m.value*.15}px solid ${A.value}`,marginLeft:`-${m.value*.25}px`,marginRight:`${m.value*.25}px`})),Re=P(()=>({border:`inset ${m.value*.15}px rgba(0,0,0,0)`,borderLeft:`${m.value*.15}px solid ${A.value}`,marginRight:`-${m.value*.25}px`})),Je=P(()=>({left:T?"5%":"50%",opacity:U.value?0:1,top:T?"50%":"3%",transform:T?"translate(0,-50%)":"translate(-50%, 0)"})),Ye=P(()=>({opacity:U.value?0:1,left:T?"unset":"50%",right:T?"5%":"unset",top:T?"50%":"unset",bottom:T?"unset":"3%",transform:T?"translate(0,-50%)":"translate(-50%, 0)"})),Z=P(()=>({clip:T?`rect(auto, ${q.value*z.value}px, auto, auto)`:`rect(auto, auto, ${$.value*z.value}px, auto)`})),me=P(()=>({clipPath:T?`inset(0px 0px 0px ${q.value*Q.value}px)`:`inset(${$.value*Q.value}px 0px 0px 0px)`}));function oe(we){const ye=we,$e=ye.touches?ye.touches[0].pageX:ye.pageX,je=ye.touches?ye.touches[0].pageY:ye.pageY,yt=$e-window.pageXOffset,ut=je-window.pageYOffset,_t=D.value.getBoundingClientRect();let Ft=T?yt-_t.left:ut-_t.top;const ht=0+g.value/2,X=T?q.value-g.value/2:$.value-g.value/2;Ft<ht&&(Ft=ht),Ft>X&&(Ft=X),z.value=T?Ft/q.value:Ft/$.value,S.value&&S.value(T?Ft/q.value:Ft/$.value)}function Ve(we){U.value=!0,e("slideStart",z.value),e("isSliding",U.value),T&&"touches"in we||we.preventDefault(),C.value&&oe(we),window.addEventListener("mousemove",oe),window.addEventListener("touchmove",oe),window.addEventListener("mouseup",Le),window.addEventListener("touchend",Le)}function Le(){U.value=!1,e("slideEnd",z.value),e("isSliding",U.value),window.removeEventListener("mousemove",oe),window.removeEventListener("touchmove",oe),window.removeEventListener("mouseup",Le),window.removeEventListener("touchend",Le)}function ze(){E.value&&window.addEventListener("keydown",ae)}function De(){E.value&&window.removeEventListener("keydown",ae)}function Fe(){E.value&&window.addEventListener("keydown",ae)}function Ge(we){M.value&&!M.value.contains(we.target)&&(M.value.blur(),window.removeEventListener("keydown",ae))}function ae(we){we.key==="ArrowDown"&&!T?(we.preventDefault(),z.value+I.value>1?z.value=1:z.value+=I.value):we.key==="ArrowUp"&&!T||we.key==="ArrowLeft"&&T?(we.preventDefault(),z.value-I.value<0?z.value=0:z.value-=I.value):we.key==="ArrowRight"&&T&&(we.preventDefault(),z.value+I.value>1?z.value=1:z.value+=I.value)}function te(){var $e;const we=nn();($e=we==null?void 0:we.proxy)==null||$e.$forceUpdate();const ye=M.value;n.hover?(ye==null||ye.addEventListener("mousemove",Ve),ye==null||ye.addEventListener("mouseleave",Le)):(ye==null||ye.removeEventListener("mousemove",Ve),ye==null||ye.removeEventListener("mouseleave",Le),ye==null||ye.addEventListener("mouseup",Le),ye==null||ye.addEventListener("touchend",Le))}return Yt(()=>{const we=M.value,ye=new ResizeObserver(([$e])=>{const je=$e.target.getBoundingClientRect().width;q.value=je});return ye.observe(we),()=>ye.disconnect()}),Yt(()=>{const we=M.value;n.hover&&(we==null||we.addEventListener("mousemove",Ve),we==null||we.addEventListener("mouseleave",Le)),window.addEventListener("click",Ge)}),Un(()=>{const we=M.value;we==null||we.removeEventListener("mousemove",Ve),we==null||we.removeEventListener("mouseleave",Le),window.removeEventListener("keydown",ae),window.removeEventListener("click",Ge),window.removeEventListener("mousemove",oe),window.removeEventListener("touchmove",oe),window.removeEventListener("mouseup",Le),window.removeEventListener("touchend",Le)}),Qe(B,()=>{var we;L.value=!1,(we=B.value)!=null&&we.complete&&(L.value=!0)}),Qe(D,()=>{var we;W.value=!1,(we=D.value)!=null&&we.complete&&(W.value=!0)}),Qe(h,()=>{te()}),Qe([()=>q.value,()=>L.value,()=>W.value],()=>{const we=B.value.naturalHeight/B.value.naturalWidth,ye=D.value.naturalHeight/D.value.naturalWidth,$e=r.value==="taller"?Math.max(we,ye):Math.min(we,ye),je=q.value*$e;$.value=je}),(we,ye)=>d(v)&&!F.value?(N(),ee("div",{key:0,"data-testid":"skeleton",style:bt(de.value),innerHTML:d(v)},null,12,sce)):(N(),ee("div",{key:1,id:d(k),ref_key:"containerRef",ref:M,class:"vci--container",tabindex:"0","data-testid":"vci-container",style:bt(de.value),onClick:Fe,onTouchstart:Ve,onTouchend:Le,onFocusin:ze,onFocusout:De,onMousedown:Ve,onMouseup:Le},[re("img",{ref_key:"rightImageRef",ref:D,class:"vci--right-image",alt:d(c),"data-testid":"right-image",src:d(l),style:bt(ie.value),onLoad:ye[0]||(ye[0]=$e=>W.value=!0)},null,44,lce),re("img",{ref_key:"leftImageRef",ref:B,class:"vci--left-image",alt:d(o),"data-testid":"left-image",src:d(a),style:bt(ce.value),onLoad:ye[1]||(ye[1]=$e=>L.value=!0)},null,44,cce),re("div",{class:"vci--slider",style:bt(ge.value)},[re("div",{class:"vci--slider-line",style:bt(Ae.value)},null,4),d(p)?(N(),ee("div",{key:0,class:"vci--custom-handle",innerHTML:d(p)},null,8,uce)):(N(),ee("div",{key:1,class:"vci--default-handle",style:bt(pe.value)},[re("div",{class:"vci--left-arrow",style:bt(Ie.value)},null,4),re("div",{class:"vci--right-arrow",style:bt(Re.value)},null,4)],4)),re("div",{class:"vci--slider-line",style:bt(Ae.value)},null,4)],4),d(s)?(N(),ee("div",{key:0,class:"vci--left-label-container",style:bt(Z.value)},[re("div",{class:"vci--left-label","data-testid":"left-image-label",style:bt(Je.value)},rt(d(s)),5)],4)):Te("",!0),d(u)?(N(),ee("div",{key:1,class:"vci--right-label-container",style:bt(me.value)},[re("div",{class:"vci--right-label","data-testid":"right-image-label",style:bt(Ye.value)},rt(d(u)),5)],4)):Te("",!0)],44,ice))}}),fce=re("h1",{class:"section-title"},"Image Inner Comparison",-1),hce="./image_inner/line.jpg",pce="./image_inner/real.jpg",mce=he({__name:"ImageSliderInner",setup(t){return(e,n)=>{const r=ct("el-divider"),a=ct("el-row"),o=ct("el-col");return N(),ee("div",null,[J(r),J(a,{justify:"center"},{default:le(()=>[fce]),_:1}),J(a,{justify:"center"},{default:le(()=>[J(o,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[J(a,{style:{"margin-top":"20px"}},{default:le(()=>[J(d(dce),{"left-image":hce,"right-image":pce,hover:!0})]),_:1})]),_:1})]),_:1})])}}}),vce=t=>(Ls("data-v-6c20b2d4"),t=t(),Ns(),t),gce=vce(()=>re("h1",{class:"section-title"},"Qualitative Results",-1)),yce=["src"],bce={__name:"ImageSelector",setup(t){const e=["./image_selector/1.png","./image_selector/2.png","./image_selector/3.png"],n=["./qualitative/qualitative.png","./qualitative/entertainment_outcome.png","./qualitative/music_outcome.png"],r=[];let a=j(""),o=j(0),s=j(!0);const i=()=>{const c=[];for(let u=0;u<n.length;u++){const f=new Image;r[u]=f;const h=new Promise(p=>{f.onload=p});f.src=n[u],c.push(h)}return Promise.all(c).then(()=>{s.value=!1,console.log("preloadImageSelector finished")})};Yt(()=>{i(),l(0)});const l=c=>{o.value=c,a.value=r[c].src};return(c,u)=>{const f=ct("el-divider"),h=ct("el-row"),p=ct("el-image"),m=ct("el-col"),g=ct("el-skeleton-item"),y=ct("el-skeleton");return N(),ee("div",null,[J(f),J(h,{justify:"center"},{default:le(()=>[gce]),_:1}),J(h,{justify:"center"},{default:le(()=>[J(m,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[J(h,{justify:"space-evenly",style:{"margin-top":"20px"}},{default:le(()=>[(N(),ee(Et,null,fn(e,(v,A)=>J(m,{span:4,key:A},{default:le(()=>[J(p,{class:V(["image",{"selected-image":d(o)===A,"unselected-image":d(o)!==A}]),src:v,style:{"aspect-ratio":"1"},fit:"scale-down",onClick:w=>l(A)},null,8,["src","onClick","class"])]),_:2},1024)),64)),J(h,{justify:"center",style:{"margin-top":"10px"}},{default:le(()=>[J(m,{span:30},{default:le(()=>[J(y,{style:{width:"100%"},loading:d(s),animated:"",throttle:1e3},{template:le(()=>[J(g,{variant:"image",style:{width:"100%",height:"100%"}})]),default:le(()=>[re("img",{src:d(a),style:{width:"100%","object-fit":"contain"}},null,8,yce)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},Sce=ua(bce,[["__scopeId","data-v-6c20b2d4"]]),_ce={data(){return{imagePath:"dataset_procedure.png"}}},v8=t=>(Ls("data-v-f351d80b"),t=t(),Ns(),t),wce=v8(()=>re("h1",{class:"section-title"},"Dataset: Musilux Construction Procedure",-1)),xce=["src"],Cce=v8(()=>re("p",{class:"image-description"}," Initially, music and lighting cues are collected, and the distribution across scenarios is shown in the collection procedure. Alignment is performed at both the internal level of cues and the cross-modal level to synchronize music and lighting data. The resulting aligned sequences are then aggregated into Cue Sequence Corpus, constituting our Musilux Dataset. ",-1));function Ace(t,e,n,r,a,o){const s=ct("el-divider"),i=ct("el-row"),l=ct("el-col");return N(),ee("div",null,[J(s),J(i,{justify:"center"},{default:le(()=>[wce]),_:1}),J(i,{justify:"center"},{default:le(()=>[J(l,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[re("img",{src:a.imagePath,class:"chart-image",alt:"Musilux Dataset Construction Procedure"},null,8,xce),Cce]),_:1})]),_:1})])}const Ece=ua(_ce,[["render",Ace],["__scopeId","data-v-f351d80b"]]),Mce=t=>(Ls("data-v-a5ab50df"),t=t(),Ns(),t),Tce=Mce(()=>re("h1",{class:"section-title"},"More Results",-1)),Ice=he({__name:"Table",setup(t){const e=[{model:"Model A",params:"10 B",value_a:"123",value_b:"321"},{model:"Model B",params:"30 B",value_a:"456",value_b:"654"},{model:"Model C",params:"20 B",value_a:"789",value_b:"987"},{model:"Model D",params:"5 B",value_a:"100",value_b:"200"}];return(n,r)=>{const a=ct("el-divider"),o=ct("el-row"),s=ct("el-table-column"),i=ct("el-table"),l=ct("el-tab-pane"),c=ct("el-tabs"),u=ct("el-card"),f=ct("el-col");return N(),ee("div",null,[J(a),J(o,{justify:"center"},{default:le(()=>[Tce]),_:1}),J(o,{justify:"center"},{default:le(()=>[J(f,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[J(u,{class:"card"},{default:le(()=>[J(c,{class:"demo-tabs","model-value":"Method A"},{default:le(()=>[J(l,{label:"Method A",name:"Method A"},{default:le(()=>[J(i,{data:e,"default-sort":{prop:"value_b",order:"descending"},"scrollbar-always-on":""},{default:le(()=>[J(s,{prop:"model",label:"Model",width:"100",sortable:""}),J(s,{prop:"params",label:"#Params","min-width":"120",sortable:""}),J(s,{prop:"value_a",label:"Value A","min-width":"120",sortable:""}),J(s,{prop:"value_b",label:"Value B","min-width":"120",sortable:""})]),_:1})]),_:1}),J(l,{label:"Method B",name:"Method B"},{default:le(()=>[Zt(" Method B ")]),_:1}),J(l,{label:"Method C",name:"Method C"},{default:le(()=>[Zt(" Method C ")]),_:1}),J(l,{label:"Method D",name:"Method D"},{default:le(()=>[Zt(" Method D ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),Rce=ua(Ice,[["__scopeId","data-v-a5ab50df"]]),kce={},xh=t=>(Ls("data-v-bb62af2c"),t=t(),Ns(),t),Dce=xh(()=>re("h1",{class:"section-title"},"Detail Discussion",-1)),Pce=xh(()=>re("div",null," Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to; ",-1)),Bce=xh(()=>re("div",null," Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects; ",-1)),Lce=xh(()=>re("div",null," Simplify the process: keep operating process simple and intuitive; ",-1)),Nce=xh(()=>re("div",null," Decision making: giving advices about operations is acceptable, but do not make decisions for the users; ",-1));function Fce(t,e){const n=ct("el-divider"),r=ct("el-row"),a=ct("el-collapse-item"),o=ct("el-collapse"),s=ct("el-col");return N(),ee("div",null,[J(n),J(r,{justify:"center"},{default:le(()=>[Dce]),_:1}),J(r,{justify:"center"},{default:le(()=>[J(s,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[J(o,{"model-value":"1",class:"collapse",accordion:""},{default:le(()=>[J(a,{title:"Consistency",name:"1"},{default:le(()=>[Pce]),_:1}),J(a,{title:"Feedback",name:"2"},{default:le(()=>[Bce]),_:1}),J(a,{title:"Efficiency",name:"3"},{default:le(()=>[Lce]),_:1}),J(a,{title:"Controllability",name:"4"},{default:le(()=>[Nce]),_:1})]),_:1})]),_:1})]),_:1})])}const Oce=ua(kce,[["render",Fce],["__scopeId","data-v-bb62af2c"]]),zce={data(){return{value1:"",value2:"",comparison1ImageRootPath:"",comparison2ImageRootPath:"",comparisonImageRootPath:"./image_comparison/",comparison1Loading:!0,comparison2Loading:!0,options:["bottle","box","clip","cup","duck","flim","glass","toy"]}},beforeMount(){this.handleChange1(this.options[0]),this.handleChange2(this.options[1])},methods:{handleChange1(t){this.loadImage1(t)},handleChange2(t){this.loadImage2(t)},loadImage1(t){this.comparison1Loading=!0;const e=`${this.comparisonImageRootPath}${t}.png`,n=new Image;n.src=e,n.onload=()=>{this.comparison1ImageRootPath=e,this.comparison1Loading=!1}},loadImage2(t){this.comparison2Loading=!0;const e=`${this.comparisonImageRootPath}${t}.png`,n=new Image;n.src=e,n.onload=()=>{this.comparison2ImageRootPath=e,this.comparison2Loading=!1}}}},Uce=t=>(Ls("data-v-39564713"),t=t(),Ns(),t),Hce=Uce(()=>re("h1",{class:"section-title"},"Comparison",-1)),$ce={class:"demo-image"},Vce={class:"block"},Wce={class:"demonstration"},Gce={class:"demo-image"},Kce={class:"block"},qce={class:"demonstration"};function jce(t,e,n,r,a,o){const s=ct("el-divider"),i=ct("el-row"),l=ct("el-skeleton-item"),c=ct("el-image"),u=ct("el-skeleton"),f=ct("el-option"),h=ct("el-select"),p=ct("el-col");return N(),ee("div",null,[J(s),J(i,{justify:"center"},{default:le(()=>[Hce]),_:1}),J(i,{justify:"center"},{default:le(()=>[J(p,null,{default:le(()=>[J(i,{justify:"center",gutter:20},{default:le(()=>[J(p,{xs:12,sm:10,md:8,lg:6,xl:6},{default:le(()=>[re("div",$ce,[re("div",Vce,[J(u,{style:{width:"100%"},loading:a.comparison1Loading,animated:"",throttle:1e3},{template:le(()=>[J(l,{variant:"image",style:{width:"100%",height:"100%"}})]),default:le(()=>[J(c,{src:a.comparison1ImageRootPath,style:{width:"100%",height:"100%"},fit:"scale-down"},null,8,["src"])]),_:1},8,["loading"]),re("span",Wce,"input: "+rt(a.comparison1ImageRootPath),1)])]),J(i,{justify:"center"},{default:le(()=>[J(h,{class:"select",modelValue:a.value1,"onUpdate:modelValue":e[0]||(e[0]=m=>a.value1=m),placeholder:"Select",size:"large",onChange:o.handleChange1},{default:le(()=>[(N(!0),ee(Et,null,fn(a.options,m=>(N(),Ue(f,{key:m,label:m,value:m},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),J(p,{xs:12,sm:10,md:8,lg:6,xl:6},{default:le(()=>[re("div",Gce,[re("div",Kce,[J(u,{style:{width:"100%"},loading:a.comparison2Loading,animated:"",throttle:1e3},{template:le(()=>[J(l,{variant:"image",style:{width:"100%",height:"100%"}})]),default:le(()=>[J(c,{src:a.comparison2ImageRootPath,style:{width:"100%",height:"100%"},fit:"scale-down"},null,8,["src"])]),_:1},8,["loading"]),re("span",qce,"input: "+rt(a.comparison2ImageRootPath),1)])]),J(i,{justify:"center"},{default:le(()=>[J(h,{class:"select",modelValue:a.value2,"onUpdate:modelValue":e[1]||(e[1]=m=>a.value2=m),placeholder:"Select",size:"large",onChange:o.handleChange2},{default:le(()=>[(N(!0),ee(Et,null,fn(a.options,m=>(N(),Ue(f,{key:m,label:m,value:m},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const Yce=ua(zce,[["render",jce],["__scopeId","data-v-39564713"]]),Xce={setup(){Yt(()=>{const t=document.createElement("script");t.src="./twikoo/twikoo.junyaohu.js",t.async=!0;const e=()=>{twikoo.init({envId:"https://blog-comment-nvoz-8o7dxhfbd-junyaohus-projects.vercel.app",el:"#twikoo",region:"",path:location.pathname,lang:"zh-CN"})};t.addEventListener("load",e),document.body.appendChild(t)})}},Qce=re("h1",{class:"section-title"},"💬 Comment",-1),Zce=re("div",{id:"twikoo"},null,-1);function Jce(t,e,n,r,a,o){const s=ct("el-divider"),i=ct("el-row"),l=ct("el-col");return N(),ee("div",null,[J(s),J(i,{justify:"center"},{default:le(()=>[Qce]),_:1}),J(i,{justify:"center"},{default:le(()=>[J(l,{xs:24,sm:24,md:24,lg:16,xl:12},{default:le(()=>[Zce]),_:1})]),_:1})])}const eue=ua(Xce,[["render",Jce]]),tue=he({components:{VueLatex:df}}),nue=re("h1",{class:"section-title"},"Latex",-1),rue=re("a",{href:"https://katex.org/docs/options.html",target:"_blank"},"KaTex",-1),aue=re("a",{href:"https://github.com/Shimada666/VaTex",target:"_blank"},"VaTex",-1);function oue(t,e,n,r,a,o){const s=ct("el-divider"),i=ct("el-row"),l=ct("VueLatex"),c=ct("el-col");return N(),ee("div",null,[J(s),J(i,{justify:"center"},{default:le(()=>[nue]),_:1}),J(i,{justify:"center"},{default:le(()=>[J(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[re("p",null,[Zt(" Thanks to "),rue,Zt(" and "),aue,Zt(", now we can show an inline "),J(l,{expression:"\\LaTeX"}),Zt(" formula, like "),J(l,{expression:"1+1=2"}),Zt(". And we can show an interline formula like this: "),J(l,{expression:`
            D(x) = \\begin{cases}
            \\lim\\limits_{x \\to 0} \\frac{a^x}{b+c}, & x<3 \\\\
            \\pi, & x=3 \\\\
            \\int_a^{3b}x_{ij}+e^2 \\mathrm{d}x,& x>3 \\\\
            \\end{cases}
          `,"display-mode":""})])]),_:1})]),_:1})])}const sue=ua(tue,[["render",oue]]),iue={data(){return{imagePath:"pipeline.png"}}},g8=t=>(Ls("data-v-e91fabdb"),t=t(),Ns(),t),lue=g8(()=>re("h1",{class:"section-title"},"Overview of the AuraLuxMuse Pipeline",-1)),cue=["src"],uue=g8(()=>re("p",{class:"image-description"}," Music and lighting data are individually preprocessed before entering LAMP for contrastive learning. Preference representations are injected via the PAMoE to enhance cue sequence encoding. The learned music and cue representations jointly inform the cue retriever, which selects Top-K lighting cues from the cue sequence corpus. Retrieval is guided by Metadata from the Metadata Predictor. The Lighting Encoder adopts a transformer-based architecture with four self-attention heads and the Music Encoder is composed of a VGGish network with multilayer perceptrons, all selected based on ablation studies. The Metadata Predictor is made up of several compression and regression modules made up of MLPs. ",-1));function due(t,e,n,r,a,o){const s=ct("el-divider"),i=ct("el-row"),l=ct("el-col");return N(),ee("div",null,[J(s),J(i,{justify:"center"},{default:le(()=>[lue]),_:1}),J(i,{justify:"center"},{default:le(()=>[J(l,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[re("img",{src:a.imagePath,class:"chart-image",alt:"AuraLuxMuse Pipeline"},null,8,cue),uue]),_:1})]),_:1})])}const fue=ua(iue,[["render",due],["__scopeId","data-v-e91fabdb"]]);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const hS="171",Vc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hue=0,PC=1,pue=2,y8=1,mue=2,ti=3,Ps=0,Za=1,ko=2,al=0,ol=1,BC=2,LC=3,NC=4,b8=5,Yl=100,vue=101,gue=102,yue=103,bue=104,Sue=200,_ue=201,wue=202,xue=203,Zf=204,Jf=205,Cue=206,Aue=207,Eue=208,Mue=209,Tue=210,Iue=211,Rue=212,kue=213,Due=214,py=0,my=1,vy=2,nd=3,gy=4,yy=5,by=6,Sy=7,S8=0,Pue=1,Bue=2,sl=0,Lue=1,Nue=2,Fue=3,Oue=4,zue=5,Uue=6,Hue=7,_8=300,rd=301,ad=302,_y=303,wy=304,zm=306,xy=1e3,ic=1001,Cy=1002,yo=1003,$ue=1004,c0=1005,Cs=1006,og=1007,lc=1008,Bs=1009,w8=1010,x8=1011,eh=1012,pS=1013,Bo=1014,ss=1015,Ed=1016,mS=1017,vS=1018,od=1020,C8=35902,A8=1021,E8=1022,Ua=1023,M8=1024,T8=1025,vc=1026,sd=1027,I8=1028,Um=1029,gS=1030,yS=1031,ku=1033,ap=33776,op=33777,sp=33778,ip=33779,Ay=35840,Ey=35841,My=35842,Ty=35843,Iy=36196,Ry=37492,ky=37496,Dy=37808,Py=37809,By=37810,Ly=37811,Ny=37812,Fy=37813,Oy=37814,zy=37815,Uy=37816,Hy=37817,$y=37818,Vy=37819,Wy=37820,Gy=37821,lp=36492,Ky=36494,qy=36495,R8=36283,jy=36284,Yy=36285,Xy=36286,Vue=3200,Wue=3201,Gue=0,Kue=1,Xi="",Io="srgb",id="srgb-linear",Hp="linear",dr="srgb",Gc=7680,FC=519,que=512,jue=513,Yue=514,k8=515,Xue=516,Que=517,Zue=518,Jue=519,OC=35044,ede=35048,zC="300 es",ui=2e3,$p=2001;class Rc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const o=a.indexOf(n);o!==-1&&a.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,s=a.length;o<s;o++)a[o].call(this,e);e.target=null}}}const xa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let UC=1234567;const ff=Math.PI/180,th=180/Math.PI;function Md(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(xa[t&255]+xa[t>>8&255]+xa[t>>16&255]+xa[t>>24&255]+"-"+xa[e&255]+xa[e>>8&255]+"-"+xa[e>>16&15|64]+xa[e>>24&255]+"-"+xa[n&63|128]+xa[n>>8&255]+"-"+xa[n>>16&255]+xa[n>>24&255]+xa[r&255]+xa[r>>8&255]+xa[r>>16&255]+xa[r>>24&255]).toLowerCase()}function Pn(t,e,n){return Math.max(e,Math.min(n,t))}function bS(t,e){return(t%e+e)%e}function tde(t,e,n,r,a){return r+(t-e)*(a-r)/(n-e)}function nde(t,e,n){return t!==e?(n-t)/(e-t):0}function hf(t,e,n){return(1-n)*t+n*e}function rde(t,e,n,r){return hf(t,e,1-Math.exp(-n*r))}function ade(t,e=1){return e-Math.abs(bS(t,e*2)-e)}function ode(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function sde(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function ide(t,e){return t+Math.floor(Math.random()*(e-t+1))}function lde(t,e){return t+Math.random()*(e-t)}function cde(t){return t*(.5-Math.random())}function ude(t){t!==void 0&&(UC=t);let e=UC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dde(t){return t*ff}function fde(t){return t*th}function hde(t){return(t&t-1)===0&&t!==0}function pde(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function mde(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function vde(t,e,n,r,a){const o=Math.cos,s=Math.sin,i=o(n/2),l=s(n/2),c=o((e+r)/2),u=s((e+r)/2),f=o((e-r)/2),h=s((e-r)/2),p=o((r-e)/2),m=s((r-e)/2);switch(a){case"XYX":t.set(i*u,l*f,l*h,i*c);break;case"YZY":t.set(l*h,i*u,l*f,i*c);break;case"ZXZ":t.set(l*f,l*h,i*u,i*c);break;case"XZX":t.set(i*u,l*m,l*p,i*c);break;case"YXY":t.set(l*p,i*u,l*m,i*c);break;case"ZYZ":t.set(l*m,l*p,i*u,i*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function hu(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Na(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const D8={DEG2RAD:ff,RAD2DEG:th,generateUUID:Md,clamp:Pn,euclideanModulo:bS,mapLinear:tde,inverseLerp:nde,lerp:hf,damp:rde,pingpong:ade,smoothstep:ode,smootherstep:sde,randInt:ide,randFloat:lde,randFloatSpread:cde,seededRandom:ude,degToRad:dde,radToDeg:fde,isPowerOfTwo:hde,ceilPowerOfTwo:pde,floorPowerOfTwo:mde,setQuaternionFromProperEuler:vde,normalize:Na,denormalize:hu};class dn{constructor(e=0,n=0){dn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6],this.y=a[1]*n+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Pn(this.x,e.x,n.x),this.y=Pn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Pn(this.x,e,n),this.y=Pn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Pn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),a=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*a+e.x,this.y=o*a+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Cn{constructor(e,n,r,a,o,s,i,l,c){Cn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,a,o,s,i,l,c)}set(e,n,r,a,o,s,i,l,c){const u=this.elements;return u[0]=e,u[1]=a,u[2]=i,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,a=n.elements,o=this.elements,s=r[0],i=r[3],l=r[6],c=r[1],u=r[4],f=r[7],h=r[2],p=r[5],m=r[8],g=a[0],y=a[3],v=a[6],A=a[1],w=a[4],S=a[7],C=a[2],E=a[5],I=a[8];return o[0]=s*g+i*A+l*C,o[3]=s*y+i*w+l*E,o[6]=s*v+i*S+l*I,o[1]=c*g+u*A+f*C,o[4]=c*y+u*w+f*E,o[7]=c*v+u*S+f*I,o[2]=h*g+p*A+m*C,o[5]=h*y+p*w+m*E,o[8]=h*v+p*S+m*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],a=e[2],o=e[3],s=e[4],i=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*i*c-r*o*u+r*i*l+a*o*c-a*s*l}invert(){const e=this.elements,n=e[0],r=e[1],a=e[2],o=e[3],s=e[4],i=e[5],l=e[6],c=e[7],u=e[8],f=u*s-i*c,h=i*l-u*o,p=c*o-s*l,m=n*f+r*h+a*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=f*g,e[1]=(a*c-u*r)*g,e[2]=(i*r-a*s)*g,e[3]=h*g,e[4]=(u*n-a*l)*g,e[5]=(a*o-i*n)*g,e[6]=p*g,e[7]=(r*l-c*n)*g,e[8]=(s*n-r*o)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,a,o,s,i){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*i)+s+e,-a*c,a*l,-a*(-c*s+l*i)+i+n,0,0,1),this}scale(e,n){return this.premultiply(sg.makeScale(e,n)),this}rotate(e){return this.premultiply(sg.makeRotation(-e)),this}translate(e,n){return this.premultiply(sg.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let a=0;a<9;a++)if(n[a]!==r[a])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const sg=new Cn;function P8(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Vp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function gde(){const t=Vp("canvas");return t.style.display="block",t}const HC={};function pu(t){t in HC||(HC[t]=!0,console.warn(t))}function yde(t,e,n){return new Promise(function(r,a){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:a();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function bde(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Sde(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const $C=new Cn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),VC=new Cn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function _de(){const t={enabled:!0,workingColorSpace:id,spaces:{},convert:function(a,o,s){return this.enabled===!1||o===s||!o||!s||(this.spaces[o].transfer===dr&&(a.r=fi(a.r),a.g=fi(a.g),a.b=fi(a.b)),this.spaces[o].primaries!==this.spaces[s].primaries&&(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===dr&&(a.r=Du(a.r),a.g=Du(a.g),a.b=Du(a.b))),a},fromWorkingColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},toWorkingColorSpace:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Xi?Hp:this.spaces[a].transfer},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,s){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[id]:{primaries:e,whitePoint:r,transfer:Hp,toXYZ:$C,fromXYZ:VC,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Io},outputColorSpaceConfig:{drawingBufferColorSpace:Io}},[Io]:{primaries:e,whitePoint:r,transfer:dr,toXYZ:$C,fromXYZ:VC,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Io}}}),t}const er=_de();function fi(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Du(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Kc;class wde{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Kc===void 0&&(Kc=Vp("canvas")),Kc.width=e.width,Kc.height=e.height;const r=Kc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Kc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Vp("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),o=a.data;for(let s=0;s<o.length;s++)o[s]=fi(o[s]/255)*255;return r.putImageData(a,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(fi(n[r]/255)*255):n[r]=fi(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let xde=0;class B8{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xde++}),this.uuid=Md(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let s=0,i=a.length;s<i;s++)a[s].isDataTexture?o.push(ig(a[s].image)):o.push(ig(a[s]))}else o=ig(a);r.url=o}return n||(e.images[this.uuid]=r),r}}function ig(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?wde.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Cde=0;class $a extends Rc{constructor(e=$a.DEFAULT_IMAGE,n=$a.DEFAULT_MAPPING,r=ic,a=ic,o=Cs,s=lc,i=Ua,l=Bs,c=$a.DEFAULT_ANISOTROPY,u=Xi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Cde++}),this.uuid=Md(),this.name="",this.source=new B8(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=i,this.internalFormat=null,this.type=l,this.offset=new dn(0,0),this.repeat=new dn(1,1),this.center=new dn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Cn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_8)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xy:e.x=e.x-Math.floor(e.x);break;case ic:e.x=e.x<0?0:1;break;case Cy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case xy:e.y=e.y-Math.floor(e.y);break;case ic:e.y=e.y<0?0:1;break;case Cy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}$a.DEFAULT_IMAGE=null;$a.DEFAULT_MAPPING=_8;$a.DEFAULT_ANISOTROPY=1;class Er{constructor(e=0,n=0,r=0,a=1){Er.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,a){return this.x=e,this.y=n,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,a=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*a+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*a+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*a+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*a+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,a,o;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],p=l[5],m=l[9],g=l[2],y=l[6],v=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-g)<.01&&Math.abs(m-y)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+g)<.1&&Math.abs(m+y)<.1&&Math.abs(c+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(c+1)/2,S=(p+1)/2,C=(v+1)/2,E=(u+h)/4,I=(f+g)/4,k=(m+y)/4;return w>S&&w>C?w<.01?(r=0,a=.707106781,o=.707106781):(r=Math.sqrt(w),a=E/r,o=I/r):S>C?S<.01?(r=.707106781,a=0,o=.707106781):(a=Math.sqrt(S),r=E/a,o=k/a):C<.01?(r=.707106781,a=.707106781,o=0):(o=Math.sqrt(C),r=I/o,a=k/o),this.set(r,a,o,n),this}let A=Math.sqrt((y-m)*(y-m)+(f-g)*(f-g)+(h-u)*(h-u));return Math.abs(A)<.001&&(A=1),this.x=(y-m)/A,this.y=(f-g)/A,this.z=(h-u)/A,this.w=Math.acos((c+p+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Pn(this.x,e.x,n.x),this.y=Pn(this.y,e.y,n.y),this.z=Pn(this.z,e.z,n.z),this.w=Pn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Pn(this.x,e,n),this.y=Pn(this.y,e,n),this.z=Pn(this.z,e,n),this.w=Pn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ade extends Rc{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Er(0,0,e,n),this.scissorTest=!1,this.viewport=new Er(0,0,e,n);const a={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Cs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new $a(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let i=0;i<s;i++)this.textures[i]=o.clone(),this.textures[i].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let a=0,o=this.textures.length;a<o;a++)this.textures[a].image.width=e,this.textures[a].image.height=n,this.textures[a].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,a=e.textures.length;r<a;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new B8(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sl extends Ade{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class L8 extends $a{constructor(e=null,n=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:a},this.magFilter=yo,this.minFilter=yo,this.wrapR=ic,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ede extends $a{constructor(e=null,n=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:a},this.magFilter=yo,this.minFilter=yo,this.wrapR=ic,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class kr{constructor(e=0,n=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=a}static slerpFlat(e,n,r,a,o,s,i){let l=r[a+0],c=r[a+1],u=r[a+2],f=r[a+3];const h=o[s+0],p=o[s+1],m=o[s+2],g=o[s+3];if(i===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(i===1){e[n+0]=h,e[n+1]=p,e[n+2]=m,e[n+3]=g;return}if(f!==g||l!==h||c!==p||u!==m){let y=1-i;const v=l*h+c*p+u*m+f*g,A=v>=0?1:-1,w=1-v*v;if(w>Number.EPSILON){const C=Math.sqrt(w),E=Math.atan2(C,v*A);y=Math.sin(y*E)/C,i=Math.sin(i*E)/C}const S=i*A;if(l=l*y+h*S,c=c*y+p*S,u=u*y+m*S,f=f*y+g*S,y===1-i){const C=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=C,c*=C,u*=C,f*=C}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,a,o,s){const i=r[a],l=r[a+1],c=r[a+2],u=r[a+3],f=o[s],h=o[s+1],p=o[s+2],m=o[s+3];return e[n]=i*m+u*f+l*p-c*h,e[n+1]=l*m+u*h+c*f-i*p,e[n+2]=c*m+u*p+i*h-l*f,e[n+3]=u*m-i*f-l*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,a){return this._x=e,this._y=n,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,a=e._y,o=e._z,s=e._order,i=Math.cos,l=Math.sin,c=i(r/2),u=i(a/2),f=i(o/2),h=l(r/2),p=l(a/2),m=l(o/2);switch(s){case"XYZ":this._x=h*u*f+c*p*m,this._y=c*p*f-h*u*m,this._z=c*u*m+h*p*f,this._w=c*u*f-h*p*m;break;case"YXZ":this._x=h*u*f+c*p*m,this._y=c*p*f-h*u*m,this._z=c*u*m-h*p*f,this._w=c*u*f+h*p*m;break;case"ZXY":this._x=h*u*f-c*p*m,this._y=c*p*f+h*u*m,this._z=c*u*m+h*p*f,this._w=c*u*f-h*p*m;break;case"ZYX":this._x=h*u*f-c*p*m,this._y=c*p*f+h*u*m,this._z=c*u*m-h*p*f,this._w=c*u*f+h*p*m;break;case"YZX":this._x=h*u*f+c*p*m,this._y=c*p*f+h*u*m,this._z=c*u*m-h*p*f,this._w=c*u*f-h*p*m;break;case"XZY":this._x=h*u*f-c*p*m,this._y=c*p*f-h*u*m,this._z=c*u*m+h*p*f,this._w=c*u*f+h*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],a=n[4],o=n[8],s=n[1],i=n[5],l=n[9],c=n[2],u=n[6],f=n[10],h=r+i+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(u-l)*p,this._y=(o-c)*p,this._z=(s-a)*p}else if(r>i&&r>f){const p=2*Math.sqrt(1+r-i-f);this._w=(u-l)/p,this._x=.25*p,this._y=(a+s)/p,this._z=(o+c)/p}else if(i>f){const p=2*Math.sqrt(1+i-r-f);this._w=(o-c)/p,this._x=(a+s)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-r-i);this._w=(s-a)/p,this._x=(o+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const a=Math.min(1,n/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,a=e._y,o=e._z,s=e._w,i=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*i+a*c-o*l,this._y=a*u+s*l+o*i-r*c,this._z=o*u+s*c+r*l-a*i,this._w=s*u-r*i-a*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,a=this._y,o=this._z,s=this._w;let i=s*e._w+r*e._x+a*e._y+o*e._z;if(i<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,i=-i):this.copy(e),i>=1)return this._w=s,this._x=r,this._y=a,this._z=o,this;const l=1-i*i;if(l<=Number.EPSILON){const p=1-n;return this._w=p*s+n*this._w,this._x=p*r+n*this._x,this._y=p*a+n*this._y,this._z=p*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,i),f=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=s*f+this._w*h,this._x=r*f+this._x*h,this._y=a*f+this._y*h,this._z=o*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(a*Math.sin(e),a*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Be{constructor(e=0,n=0,r=0){Be.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(WC.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(WC.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*a,this.y=o[1]*n+o[4]*r+o[7]*a,this.z=o[2]*n+o[5]*r+o[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,a=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*a+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*a+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*a+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,a=this.z,o=e.x,s=e.y,i=e.z,l=e.w,c=2*(s*a-i*r),u=2*(i*n-o*a),f=2*(o*r-s*n);return this.x=n+l*c+s*f-i*u,this.y=r+l*u+i*c-o*f,this.z=a+l*f+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*a,this.y=o[1]*n+o[5]*r+o[9]*a,this.z=o[2]*n+o[6]*r+o[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Pn(this.x,e.x,n.x),this.y=Pn(this.y,e.y,n.y),this.z=Pn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Pn(this.x,e,n),this.y=Pn(this.y,e,n),this.z=Pn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,a=e.y,o=e.z,s=n.x,i=n.y,l=n.z;return this.x=a*l-o*i,this.y=o*s-r*l,this.z=r*i-a*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return lg.copy(this).projectOnVector(e),this.sub(lg)}reflect(e){return this.sub(lg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Pn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return n*n+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const a=Math.sin(n)*e;return this.x=a*Math.sin(r),this.y=Math.cos(n)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=a,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lg=new Be,WC=new kr;class As{constructor(e=new Be(1/0,1/0,1/0),n=new Be(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Yo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Yo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Yo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,i=o.count;s<i;s++)e.isMesh===!0?e.getVertexPosition(s,Yo):Yo.fromBufferAttribute(o,s),Yo.applyMatrix4(e.matrixWorld),this.expandByPoint(Yo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),u0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),u0.copy(r.boundingBox)),u0.applyMatrix4(e.matrixWorld),this.union(u0)}const a=e.children;for(let o=0,s=a.length;o<s;o++)this.expandByObject(a[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Yo),Yo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter($d),d0.subVectors(this.max,$d),qc.subVectors(e.a,$d),jc.subVectors(e.b,$d),Yc.subVectors(e.c,$d),Bi.subVectors(jc,qc),Li.subVectors(Yc,jc),Nl.subVectors(qc,Yc);let n=[0,-Bi.z,Bi.y,0,-Li.z,Li.y,0,-Nl.z,Nl.y,Bi.z,0,-Bi.x,Li.z,0,-Li.x,Nl.z,0,-Nl.x,-Bi.y,Bi.x,0,-Li.y,Li.x,0,-Nl.y,Nl.x,0];return!cg(n,qc,jc,Yc,d0)||(n=[1,0,0,0,1,0,0,0,1],!cg(n,qc,jc,Yc,d0))?!1:(f0.crossVectors(Bi,Li),n=[f0.x,f0.y,f0.z],cg(n,qc,jc,Yc,d0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Yo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ys[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ys[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ys[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ys[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ys[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ys[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ys[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ys[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ys),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ys=[new Be,new Be,new Be,new Be,new Be,new Be,new Be,new Be],Yo=new Be,u0=new As,qc=new Be,jc=new Be,Yc=new Be,Bi=new Be,Li=new Be,Nl=new Be,$d=new Be,d0=new Be,f0=new Be,Fl=new Be;function cg(t,e,n,r,a){for(let o=0,s=t.length-3;o<=s;o+=3){Fl.fromArray(t,o);const i=a.x*Math.abs(Fl.x)+a.y*Math.abs(Fl.y)+a.z*Math.abs(Fl.z),l=e.dot(Fl),c=n.dot(Fl),u=r.dot(Fl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>i)return!1}return!0}const Mde=new As,Vd=new Be,ug=new Be;class SS{constructor(e=new Be,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Mde.setFromPoints(e).getCenter(r);let a=0;for(let o=0,s=e.length;o<s;o++)a=Math.max(a,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vd.subVectors(e,this.center);const n=Vd.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),a=(r-this.radius)*.5;this.center.addScaledVector(Vd,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(ug.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vd.copy(e.center).add(ug)),this.expandByPoint(Vd.copy(e.center).sub(ug))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Xs=new Be,dg=new Be,h0=new Be,Ni=new Be,fg=new Be,p0=new Be,hg=new Be;let N8=class{constructor(e=new Be,n=new Be(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Xs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Xs.copy(this.origin).addScaledVector(this.direction,n),Xs.distanceToSquared(e))}distanceSqToSegment(e,n,r,a){dg.copy(e).add(n).multiplyScalar(.5),h0.copy(n).sub(e).normalize(),Ni.copy(this.origin).sub(dg);const o=e.distanceTo(n)*.5,s=-this.direction.dot(h0),i=Ni.dot(this.direction),l=-Ni.dot(h0),c=Ni.lengthSq(),u=Math.abs(1-s*s);let f,h,p,m;if(u>0)if(f=s*l-i,h=s*i-l,m=o*u,f>=0)if(h>=-m)if(h<=m){const g=1/u;f*=g,h*=g,p=f*(f+s*h+2*i)+h*(s*f+h+2*l)+c}else h=o,f=Math.max(0,-(s*h+i)),p=-f*f+h*(h+2*l)+c;else h=-o,f=Math.max(0,-(s*h+i)),p=-f*f+h*(h+2*l)+c;else h<=-m?(f=Math.max(0,-(-s*o+i)),h=f>0?-o:Math.min(Math.max(-o,-l),o),p=-f*f+h*(h+2*l)+c):h<=m?(f=0,h=Math.min(Math.max(-o,-l),o),p=h*(h+2*l)+c):(f=Math.max(0,-(s*o+i)),h=f>0?o:Math.min(Math.max(-o,-l),o),p=-f*f+h*(h+2*l)+c);else h=s>0?-o:o,f=Math.max(0,-(s*h+i)),p=-f*f+h*(h+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),a&&a.copy(dg).addScaledVector(h0,h),p}intersectSphere(e,n){Xs.subVectors(e.center,this.origin);const r=Xs.dot(this.direction),a=Xs.dot(Xs)-r*r,o=e.radius*e.radius;if(a>o)return null;const s=Math.sqrt(o-a),i=r-s,l=r+s;return l<0?null:i<0?this.at(l,n):this.at(i,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,a,o,s,i,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,a=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,a=(e.min.x-h.x)*c),u>=0?(o=(e.min.y-h.y)*u,s=(e.max.y-h.y)*u):(o=(e.max.y-h.y)*u,s=(e.min.y-h.y)*u),r>s||o>a||((o>r||isNaN(r))&&(r=o),(s<a||isNaN(a))&&(a=s),f>=0?(i=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(i=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||i>a)||((i>r||r!==r)&&(r=i),(l<a||a!==a)&&(a=l),a<0)?null:this.at(r>=0?r:a,n)}intersectsBox(e){return this.intersectBox(e,Xs)!==null}intersectTriangle(e,n,r,a,o){fg.subVectors(n,e),p0.subVectors(r,e),hg.crossVectors(fg,p0);let s=this.direction.dot(hg),i;if(s>0){if(a)return null;i=1}else if(s<0)i=-1,s=-s;else return null;Ni.subVectors(this.origin,e);const l=i*this.direction.dot(p0.crossVectors(Ni,p0));if(l<0)return null;const c=i*this.direction.dot(fg.cross(Ni));if(c<0||l+c>s)return null;const u=-i*Ni.dot(hg);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class An{constructor(e,n,r,a,o,s,i,l,c,u,f,h,p,m,g,y){An.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,a,o,s,i,l,c,u,f,h,p,m,g,y)}set(e,n,r,a,o,s,i,l,c,u,f,h,p,m,g,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=a,v[1]=o,v[5]=s,v[9]=i,v[13]=l,v[2]=c,v[6]=u,v[10]=f,v[14]=h,v[3]=p,v[7]=m,v[11]=g,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new An().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,a=1/Xc.setFromMatrixColumn(e,0).length(),o=1/Xc.setFromMatrixColumn(e,1).length(),s=1/Xc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*a,n[1]=r[1]*a,n[2]=r[2]*a,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,a=e.y,o=e.z,s=Math.cos(r),i=Math.sin(r),l=Math.cos(a),c=Math.sin(a),u=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const h=s*u,p=s*f,m=i*u,g=i*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=p+m*c,n[5]=h-g*c,n[9]=-i*l,n[2]=g-h*c,n[6]=m+p*c,n[10]=s*l}else if(e.order==="YXZ"){const h=l*u,p=l*f,m=c*u,g=c*f;n[0]=h+g*i,n[4]=m*i-p,n[8]=s*c,n[1]=s*f,n[5]=s*u,n[9]=-i,n[2]=p*i-m,n[6]=g+h*i,n[10]=s*l}else if(e.order==="ZXY"){const h=l*u,p=l*f,m=c*u,g=c*f;n[0]=h-g*i,n[4]=-s*f,n[8]=m+p*i,n[1]=p+m*i,n[5]=s*u,n[9]=g-h*i,n[2]=-s*c,n[6]=i,n[10]=s*l}else if(e.order==="ZYX"){const h=s*u,p=s*f,m=i*u,g=i*f;n[0]=l*u,n[4]=m*c-p,n[8]=h*c+g,n[1]=l*f,n[5]=g*c+h,n[9]=p*c-m,n[2]=-c,n[6]=i*l,n[10]=s*l}else if(e.order==="YZX"){const h=s*l,p=s*c,m=i*l,g=i*c;n[0]=l*u,n[4]=g-h*f,n[8]=m*f+p,n[1]=f,n[5]=s*u,n[9]=-i*u,n[2]=-c*u,n[6]=p*f+m,n[10]=h-g*f}else if(e.order==="XZY"){const h=s*l,p=s*c,m=i*l,g=i*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=h*f+g,n[5]=s*u,n[9]=p*f-m,n[2]=m*f-p,n[6]=i*u,n[10]=g*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Tde,e,Ide)}lookAt(e,n,r){const a=this.elements;return so.subVectors(e,n),so.lengthSq()===0&&(so.z=1),so.normalize(),Fi.crossVectors(r,so),Fi.lengthSq()===0&&(Math.abs(r.z)===1?so.x+=1e-4:so.z+=1e-4,so.normalize(),Fi.crossVectors(r,so)),Fi.normalize(),m0.crossVectors(so,Fi),a[0]=Fi.x,a[4]=m0.x,a[8]=so.x,a[1]=Fi.y,a[5]=m0.y,a[9]=so.y,a[2]=Fi.z,a[6]=m0.z,a[10]=so.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,a=n.elements,o=this.elements,s=r[0],i=r[4],l=r[8],c=r[12],u=r[1],f=r[5],h=r[9],p=r[13],m=r[2],g=r[6],y=r[10],v=r[14],A=r[3],w=r[7],S=r[11],C=r[15],E=a[0],I=a[4],k=a[8],T=a[12],M=a[1],D=a[5],B=a[9],z=a[13],q=a[2],$=a[6],L=a[10],W=a[14],U=a[3],F=a[7],Q=a[11],ne=a[15];return o[0]=s*E+i*M+l*q+c*U,o[4]=s*I+i*D+l*$+c*F,o[8]=s*k+i*B+l*L+c*Q,o[12]=s*T+i*z+l*W+c*ne,o[1]=u*E+f*M+h*q+p*U,o[5]=u*I+f*D+h*$+p*F,o[9]=u*k+f*B+h*L+p*Q,o[13]=u*T+f*z+h*W+p*ne,o[2]=m*E+g*M+y*q+v*U,o[6]=m*I+g*D+y*$+v*F,o[10]=m*k+g*B+y*L+v*Q,o[14]=m*T+g*z+y*W+v*ne,o[3]=A*E+w*M+S*q+C*U,o[7]=A*I+w*D+S*$+C*F,o[11]=A*k+w*B+S*L+C*Q,o[15]=A*T+w*z+S*W+C*ne,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],a=e[8],o=e[12],s=e[1],i=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],p=e[14],m=e[3],g=e[7],y=e[11],v=e[15];return m*(+o*l*f-a*c*f-o*i*h+r*c*h+a*i*p-r*l*p)+g*(+n*l*p-n*c*h+o*s*h-a*s*p+a*c*u-o*l*u)+y*(+n*c*f-n*i*p-o*s*f+r*s*p+o*i*u-r*c*u)+v*(-a*i*u-n*l*f+n*i*h+a*s*f-r*s*h+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=n,a[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],a=e[2],o=e[3],s=e[4],i=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],p=e[11],m=e[12],g=e[13],y=e[14],v=e[15],A=f*y*c-g*h*c+g*l*p-i*y*p-f*l*v+i*h*v,w=m*h*c-u*y*c-m*l*p+s*y*p+u*l*v-s*h*v,S=u*g*c-m*f*c+m*i*p-s*g*p-u*i*v+s*f*v,C=m*f*l-u*g*l-m*i*h+s*g*h+u*i*y-s*f*y,E=n*A+r*w+a*S+o*C;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/E;return e[0]=A*I,e[1]=(g*h*o-f*y*o-g*a*p+r*y*p+f*a*v-r*h*v)*I,e[2]=(i*y*o-g*l*o+g*a*c-r*y*c-i*a*v+r*l*v)*I,e[3]=(f*l*o-i*h*o-f*a*c+r*h*c+i*a*p-r*l*p)*I,e[4]=w*I,e[5]=(u*y*o-m*h*o+m*a*p-n*y*p-u*a*v+n*h*v)*I,e[6]=(m*l*o-s*y*o-m*a*c+n*y*c+s*a*v-n*l*v)*I,e[7]=(s*h*o-u*l*o+u*a*c-n*h*c-s*a*p+n*l*p)*I,e[8]=S*I,e[9]=(m*f*o-u*g*o-m*r*p+n*g*p+u*r*v-n*f*v)*I,e[10]=(s*g*o-m*i*o+m*r*c-n*g*c-s*r*v+n*i*v)*I,e[11]=(u*i*o-s*f*o-u*r*c+n*f*c+s*r*p-n*i*p)*I,e[12]=C*I,e[13]=(u*g*a-m*f*a+m*r*h-n*g*h-u*r*y+n*f*y)*I,e[14]=(m*i*a-s*g*a-m*r*l+n*g*l+s*r*y-n*i*y)*I,e[15]=(s*f*a-u*i*a+u*r*l-n*f*l-s*r*h+n*i*h)*I,this}scale(e){const n=this.elements,r=e.x,a=e.y,o=e.z;return n[0]*=r,n[4]*=a,n[8]*=o,n[1]*=r,n[5]*=a,n[9]*=o,n[2]*=r,n[6]*=a,n[10]*=o,n[3]*=r,n[7]*=a,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,a))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),a=Math.sin(n),o=1-r,s=e.x,i=e.y,l=e.z,c=o*s,u=o*i;return this.set(c*s+r,c*i-a*l,c*l+a*i,0,c*i+a*l,u*i+r,u*l-a*s,0,c*l-a*i,u*l+a*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,a,o,s){return this.set(1,r,o,0,e,1,s,0,n,a,1,0,0,0,0,1),this}compose(e,n,r){const a=this.elements,o=n._x,s=n._y,i=n._z,l=n._w,c=o+o,u=s+s,f=i+i,h=o*c,p=o*u,m=o*f,g=s*u,y=s*f,v=i*f,A=l*c,w=l*u,S=l*f,C=r.x,E=r.y,I=r.z;return a[0]=(1-(g+v))*C,a[1]=(p+S)*C,a[2]=(m-w)*C,a[3]=0,a[4]=(p-S)*E,a[5]=(1-(h+v))*E,a[6]=(y+A)*E,a[7]=0,a[8]=(m+w)*I,a[9]=(y-A)*I,a[10]=(1-(h+g))*I,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,n,r){const a=this.elements;let o=Xc.set(a[0],a[1],a[2]).length();const s=Xc.set(a[4],a[5],a[6]).length(),i=Xc.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),e.x=a[12],e.y=a[13],e.z=a[14],Xo.copy(this);const c=1/o,u=1/s,f=1/i;return Xo.elements[0]*=c,Xo.elements[1]*=c,Xo.elements[2]*=c,Xo.elements[4]*=u,Xo.elements[5]*=u,Xo.elements[6]*=u,Xo.elements[8]*=f,Xo.elements[9]*=f,Xo.elements[10]*=f,n.setFromRotationMatrix(Xo),r.x=o,r.y=s,r.z=i,this}makePerspective(e,n,r,a,o,s,i=ui){const l=this.elements,c=2*o/(n-e),u=2*o/(r-a),f=(n+e)/(n-e),h=(r+a)/(r-a);let p,m;if(i===ui)p=-(s+o)/(s-o),m=-2*s*o/(s-o);else if(i===$p)p=-s/(s-o),m=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+i);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,a,o,s,i=ui){const l=this.elements,c=1/(n-e),u=1/(r-a),f=1/(s-o),h=(n+e)*c,p=(r+a)*u;let m,g;if(i===ui)m=(s+o)*f,g=-2*f;else if(i===$p)m=o*f,g=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+i);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=g,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let a=0;a<16;a++)if(n[a]!==r[a])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Xc=new Be,Xo=new An,Tde=new Be(0,0,0),Ide=new Be(1,1,1),Fi=new Be,m0=new Be,so=new Be,GC=new An,KC=new kr;class bi{constructor(e=0,n=0,r=0,a=bi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,a=this._order){return this._x=e,this._y=n,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const a=e.elements,o=a[0],s=a[4],i=a[8],l=a[1],c=a[5],u=a[9],f=a[2],h=a[6],p=a[10];switch(n){case"XYZ":this._y=Math.asin(Pn(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(i,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Pn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Pn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Pn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(i,p));break;case"XZY":this._z=Math.asin(-Pn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(i,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return GC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(GC,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return KC.setFromEuler(this),this.setFromQuaternion(KC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}bi.DEFAULT_ORDER="XYZ";class F8{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Rde=0;const qC=new Be,Qc=new kr,Qs=new An,v0=new Be,Wd=new Be,kde=new Be,Dde=new kr,jC=new Be(1,0,0),YC=new Be(0,1,0),XC=new Be(0,0,1),QC={type:"added"},Pde={type:"removed"},Zc={type:"childadded",child:null},pg={type:"childremoved",child:null};class Zr extends Rc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Rde++}),this.uuid=Md(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zr.DEFAULT_UP.clone();const e=new Be,n=new bi,r=new kr,a=new Be(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new An},normalMatrix:{value:new Cn}}),this.matrix=new An,this.matrixWorld=new An,this.matrixAutoUpdate=Zr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new F8,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Qc.setFromAxisAngle(e,n),this.quaternion.multiply(Qc),this}rotateOnWorldAxis(e,n){return Qc.setFromAxisAngle(e,n),this.quaternion.premultiply(Qc),this}rotateX(e){return this.rotateOnAxis(jC,e)}rotateY(e){return this.rotateOnAxis(YC,e)}rotateZ(e){return this.rotateOnAxis(XC,e)}translateOnAxis(e,n){return qC.copy(e).applyQuaternion(this.quaternion),this.position.add(qC.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(jC,e)}translateY(e){return this.translateOnAxis(YC,e)}translateZ(e){return this.translateOnAxis(XC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qs.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?v0.copy(e):v0.set(e,n,r);const a=this.parent;this.updateWorldMatrix(!0,!1),Wd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qs.lookAt(Wd,v0,this.up):Qs.lookAt(v0,Wd,this.up),this.quaternion.setFromRotationMatrix(Qs),a&&(Qs.extractRotation(a.matrixWorld),Qc.setFromRotationMatrix(Qs),this.quaternion.premultiply(Qc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(QC),Zc.child=e,this.dispatchEvent(Zc),Zc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Pde),pg.child=e,this.dispatchEvent(pg),pg.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qs),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(QC),Zc.child=e,this.dispatchEvent(Zc),Zc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,a=this.children.length;r<a;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const a=this.children;for(let o=0,s=a.length;o<s;o++)a[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wd,e,kde),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wd,Dde,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const a=this.children;for(let o=0,s=a.length;o<s;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(i=>({boxInitialized:i.boxInitialized,boxMin:i.box.min.toArray(),boxMax:i.box.max.toArray(),sphereInitialized:i.sphereInitialized,sphereRadius:i.sphere.radius,sphereCenter:i.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function o(i,l){return i[l.uuid]===void 0&&(i[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(e.geometries,this.geometry);const i=this.geometry.parameters;if(i!==void 0&&i.shapes!==void 0){const l=i.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const i=[];for(let l=0,c=this.material.length;l<c;l++)i.push(o(e.materials,this.material[l]));a.material=i}else a.material=o(e.materials,this.material);if(this.children.length>0){a.children=[];for(let i=0;i<this.children.length;i++)a.children.push(this.children[i].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let i=0;i<this.animations.length;i++){const l=this.animations[i];a.animations.push(o(e.animations,l))}}if(n){const i=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),f=s(e.shapes),h=s(e.skeletons),p=s(e.animations),m=s(e.nodes);i.length>0&&(r.geometries=i),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=a,r;function s(i){const l=[];for(const c in i){const u=i[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const a=e.children[r];this.add(a.clone())}return this}}Zr.DEFAULT_UP=new Be(0,1,0);Zr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Qo=new Be,Zs=new Be,mg=new Be,Js=new Be,Jc=new Be,eu=new Be,ZC=new Be,vg=new Be,gg=new Be,yg=new Be,bg=new Er,Sg=new Er,_g=new Er;class ts{constructor(e=new Be,n=new Be,r=new Be){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,a){a.subVectors(r,n),Qo.subVectors(e,n),a.cross(Qo);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(e,n,r,a,o){Qo.subVectors(a,n),Zs.subVectors(r,n),mg.subVectors(e,n);const s=Qo.dot(Qo),i=Qo.dot(Zs),l=Qo.dot(mg),c=Zs.dot(Zs),u=Zs.dot(mg),f=s*c-i*i;if(f===0)return o.set(0,0,0),null;const h=1/f,p=(c*l-i*u)*h,m=(s*u-i*l)*h;return o.set(1-p-m,m,p)}static containsPoint(e,n,r,a){return this.getBarycoord(e,n,r,a,Js)===null?!1:Js.x>=0&&Js.y>=0&&Js.x+Js.y<=1}static getInterpolation(e,n,r,a,o,s,i,l){return this.getBarycoord(e,n,r,a,Js)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Js.x),l.addScaledVector(s,Js.y),l.addScaledVector(i,Js.z),l)}static getInterpolatedAttribute(e,n,r,a,o,s){return bg.setScalar(0),Sg.setScalar(0),_g.setScalar(0),bg.fromBufferAttribute(e,n),Sg.fromBufferAttribute(e,r),_g.fromBufferAttribute(e,a),s.setScalar(0),s.addScaledVector(bg,o.x),s.addScaledVector(Sg,o.y),s.addScaledVector(_g,o.z),s}static isFrontFacing(e,n,r,a){return Qo.subVectors(r,n),Zs.subVectors(e,n),Qo.cross(Zs).dot(a)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,a){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,n,r,a){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qo.subVectors(this.c,this.b),Zs.subVectors(this.a,this.b),Qo.cross(Zs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ts.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ts.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,a,o){return ts.getInterpolation(e,this.a,this.b,this.c,n,r,a,o)}containsPoint(e){return ts.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ts.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,a=this.b,o=this.c;let s,i;Jc.subVectors(a,r),eu.subVectors(o,r),vg.subVectors(e,r);const l=Jc.dot(vg),c=eu.dot(vg);if(l<=0&&c<=0)return n.copy(r);gg.subVectors(e,a);const u=Jc.dot(gg),f=eu.dot(gg);if(u>=0&&f<=u)return n.copy(a);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(Jc,s);yg.subVectors(e,o);const p=Jc.dot(yg),m=eu.dot(yg);if(m>=0&&p<=m)return n.copy(o);const g=p*c-l*m;if(g<=0&&c>=0&&m<=0)return i=c/(c-m),n.copy(r).addScaledVector(eu,i);const y=u*m-p*f;if(y<=0&&f-u>=0&&p-m>=0)return ZC.subVectors(o,a),i=(f-u)/(f-u+(p-m)),n.copy(a).addScaledVector(ZC,i);const v=1/(y+g+h);return s=g*v,i=h*v,n.copy(r).addScaledVector(Jc,s).addScaledVector(eu,i)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const O8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Oi={h:0,s:0,l:0},g0={h:0,s:0,l:0};function wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class tr{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Io){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,er.toWorkingColorSpace(this,n),this}setRGB(e,n,r,a=er.workingColorSpace){return this.r=e,this.g=n,this.b=r,er.toWorkingColorSpace(this,a),this}setHSL(e,n,r,a=er.workingColorSpace){if(e=bS(e,1),n=Pn(n,0,1),r=Pn(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=wg(s,o,e+1/3),this.g=wg(s,o,e),this.b=wg(s,o,e-1/3)}return er.toWorkingColorSpace(this,a),this}setStyle(e,n=Io){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=a[1],i=a[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=a[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Io){const r=O8[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=fi(e.r),this.g=fi(e.g),this.b=fi(e.b),this}copyLinearToSRGB(e){return this.r=Du(e.r),this.g=Du(e.g),this.b=Du(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Io){return er.fromWorkingColorSpace(Ca.copy(this),e),Math.round(Pn(Ca.r*255,0,255))*65536+Math.round(Pn(Ca.g*255,0,255))*256+Math.round(Pn(Ca.b*255,0,255))}getHexString(e=Io){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=er.workingColorSpace){er.fromWorkingColorSpace(Ca.copy(this),n);const r=Ca.r,a=Ca.g,o=Ca.b,s=Math.max(r,a,o),i=Math.min(r,a,o);let l,c;const u=(i+s)/2;if(i===s)l=0,c=0;else{const f=s-i;switch(c=u<=.5?f/(s+i):f/(2-s-i),s){case r:l=(a-o)/f+(a<o?6:0);break;case a:l=(o-r)/f+2;break;case o:l=(r-a)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=er.workingColorSpace){return er.fromWorkingColorSpace(Ca.copy(this),n),e.r=Ca.r,e.g=Ca.g,e.b=Ca.b,e}getStyle(e=Io){er.fromWorkingColorSpace(Ca.copy(this),e);const n=Ca.r,r=Ca.g,a=Ca.b;return e!==Io?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,n,r){return this.getHSL(Oi),this.setHSL(Oi.h+e,Oi.s+n,Oi.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Oi),e.getHSL(g0);const r=hf(Oi.h,g0.h,n),a=hf(Oi.s,g0.s,n),o=hf(Oi.l,g0.l,n);return this.setHSL(r,a,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,a=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*a,this.g=o[1]*n+o[4]*r+o[7]*a,this.b=o[2]*n+o[5]*r+o[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ca=new tr;tr.NAMES=O8;let Bde=0;class Hm extends Rc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Bde++}),this.uuid=Md(),this.name="",this.type="Material",this.blending=ol,this.side=Ps,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Zf,this.blendDst=Jf,this.blendEquation=Yl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new tr(0,0,0),this.blendAlpha=0,this.depthFunc=nd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=FC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Gc,this.stencilZFail=Gc,this.stencilZPass=Gc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const a=this[n];if(a===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ol&&(r.blending=this.blending),this.side!==Ps&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Zf&&(r.blendSrc=this.blendSrc),this.blendDst!==Jf&&(r.blendDst=this.blendDst),this.blendEquation!==Yl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==nd&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==FC&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Gc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Gc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Gc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(o){const s=[];for(const i in o){const l=o[i];delete l.metadata,s.push(l)}return s}if(n){const o=a(e.textures),s=a(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const a=n.length;r=new Array(a);for(let o=0;o!==a;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Ac extends Hm{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bi,this.combine=S8,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ci=Lde();function Lde(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),a=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,a[l]=24,a[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,a[l]=-c-1,a[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,a[l]=13,a[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,a[l]=24,a[l|256]=24):(r[l]=31744,r[l|256]=64512,a[l]=13,a[l|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),i=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(i[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:a,mantissaTable:o,exponentTable:s,offsetTable:i}}function Nde(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Pn(t,-65504,65504),ci.floatView[0]=t;const e=ci.uint32View[0],n=e>>23&511;return ci.baseTable[n]+((e&8388607)>>ci.shiftTable[n])}function Fde(t){const e=t>>10;return ci.uint32View[0]=ci.mantissaTable[ci.offsetTable[e]+(t&1023)]+ci.exponentTable[e],ci.floatView[0]}const nh={toHalfFloat:Nde,fromHalfFloat:Fde},Kr=new Be,y0=new dn;class Fo{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=OC,this.updateRanges=[],this.gpuType=ss,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[e+a]=n.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)y0.fromBufferAttribute(this,n),y0.applyMatrix3(e),this.setXY(n,y0.x,y0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.applyMatrix3(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.applyMatrix4(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.applyNormalMatrix(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.transformDirection(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=hu(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Na(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=hu(n,this.array)),n}setX(e,n){return this.normalized&&(n=Na(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=hu(n,this.array)),n}setY(e,n){return this.normalized&&(n=Na(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=hu(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Na(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=hu(n,this.array)),n}setW(e,n){return this.normalized&&(n=Na(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Na(n,this.array),r=Na(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,a){return e*=this.itemSize,this.normalized&&(n=Na(n,this.array),r=Na(r,this.array),a=Na(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,n,r,a,o){return e*=this.itemSize,this.normalized&&(n=Na(n,this.array),r=Na(r,this.array),a=Na(a,this.array),o=Na(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==OC&&(e.usage=this.usage),e}}class z8 extends Fo{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class U8 extends Fo{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class bo extends Fo{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Ode=0;const Ao=new An,xg=new Zr,tu=new Be,io=new As,Gd=new As,oa=new Be;class Go extends Rc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ode++}),this.uuid=Md(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(P8(e)?U8:z8)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Cn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ao.makeRotationFromQuaternion(e),this.applyMatrix4(Ao),this}rotateX(e){return Ao.makeRotationX(e),this.applyMatrix4(Ao),this}rotateY(e){return Ao.makeRotationY(e),this.applyMatrix4(Ao),this}rotateZ(e){return Ao.makeRotationZ(e),this.applyMatrix4(Ao),this}translate(e,n,r){return Ao.makeTranslation(e,n,r),this.applyMatrix4(Ao),this}scale(e,n,r){return Ao.makeScale(e,n,r),this.applyMatrix4(Ao),this}lookAt(e){return xg.lookAt(e),xg.updateMatrix(),this.applyMatrix4(xg.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(tu).negate(),this.translate(tu.x,tu.y,tu.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let a=0,o=e.length;a<o;a++){const s=e[a];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new bo(r,3))}else{const r=Math.min(e.length,n.count);for(let a=0;a<r;a++){const o=e[a];n.setXYZ(a,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new As);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Be(-1/0,-1/0,-1/0),new Be(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,a=n.length;r<a;r++){const o=n[r];io.setFromBufferAttribute(o),this.morphTargetsRelative?(oa.addVectors(this.boundingBox.min,io.min),this.boundingBox.expandByPoint(oa),oa.addVectors(this.boundingBox.max,io.max),this.boundingBox.expandByPoint(oa)):(this.boundingBox.expandByPoint(io.min),this.boundingBox.expandByPoint(io.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new SS);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Be,1/0);return}if(e){const r=this.boundingSphere.center;if(io.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const i=n[o];Gd.setFromBufferAttribute(i),this.morphTargetsRelative?(oa.addVectors(io.min,Gd.min),io.expandByPoint(oa),oa.addVectors(io.max,Gd.max),io.expandByPoint(oa)):(io.expandByPoint(Gd.min),io.expandByPoint(Gd.max))}io.getCenter(r);let a=0;for(let o=0,s=e.count;o<s;o++)oa.fromBufferAttribute(e,o),a=Math.max(a,r.distanceToSquared(oa));if(n)for(let o=0,s=n.length;o<s;o++){const i=n[o],l=this.morphTargetsRelative;for(let c=0,u=i.count;c<u;c++)oa.fromBufferAttribute(i,c),l&&(tu.fromBufferAttribute(e,c),oa.add(tu)),a=Math.max(a,r.distanceToSquared(oa))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,a=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fo(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),i=[],l=[];for(let k=0;k<r.count;k++)i[k]=new Be,l[k]=new Be;const c=new Be,u=new Be,f=new Be,h=new dn,p=new dn,m=new dn,g=new Be,y=new Be;function v(k,T,M){c.fromBufferAttribute(r,k),u.fromBufferAttribute(r,T),f.fromBufferAttribute(r,M),h.fromBufferAttribute(o,k),p.fromBufferAttribute(o,T),m.fromBufferAttribute(o,M),u.sub(c),f.sub(c),p.sub(h),m.sub(h);const D=1/(p.x*m.y-m.x*p.y);isFinite(D)&&(g.copy(u).multiplyScalar(m.y).addScaledVector(f,-p.y).multiplyScalar(D),y.copy(f).multiplyScalar(p.x).addScaledVector(u,-m.x).multiplyScalar(D),i[k].add(g),i[T].add(g),i[M].add(g),l[k].add(y),l[T].add(y),l[M].add(y))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let k=0,T=A.length;k<T;++k){const M=A[k],D=M.start,B=M.count;for(let z=D,q=D+B;z<q;z+=3)v(e.getX(z+0),e.getX(z+1),e.getX(z+2))}const w=new Be,S=new Be,C=new Be,E=new Be;function I(k){C.fromBufferAttribute(a,k),E.copy(C);const T=i[k];w.copy(T),w.sub(C.multiplyScalar(C.dot(T))).normalize(),S.crossVectors(E,T);const D=S.dot(l[k])<0?-1:1;s.setXYZW(k,w.x,w.y,w.z,D)}for(let k=0,T=A.length;k<T;++k){const M=A[k],D=M.start,B=M.count;for(let z=D,q=D+B;z<q;z+=3)I(e.getX(z+0)),I(e.getX(z+1)),I(e.getX(z+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Fo(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const a=new Be,o=new Be,s=new Be,i=new Be,l=new Be,c=new Be,u=new Be,f=new Be;if(e)for(let h=0,p=e.count;h<p;h+=3){const m=e.getX(h+0),g=e.getX(h+1),y=e.getX(h+2);a.fromBufferAttribute(n,m),o.fromBufferAttribute(n,g),s.fromBufferAttribute(n,y),u.subVectors(s,o),f.subVectors(a,o),u.cross(f),i.fromBufferAttribute(r,m),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,y),i.add(u),l.add(u),c.add(u),r.setXYZ(m,i.x,i.y,i.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,p=n.count;h<p;h+=3)a.fromBufferAttribute(n,h+0),o.fromBufferAttribute(n,h+1),s.fromBufferAttribute(n,h+2),u.subVectors(s,o),f.subVectors(a,o),u.cross(f),r.setXYZ(h+0,u.x,u.y,u.z),r.setXYZ(h+1,u.x,u.y,u.z),r.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)oa.fromBufferAttribute(e,n),oa.normalize(),e.setXYZ(n,oa.x,oa.y,oa.z)}toNonIndexed(){function e(i,l){const c=i.array,u=i.itemSize,f=i.normalized,h=new c.constructor(l.length*u);let p=0,m=0;for(let g=0,y=l.length;g<y;g++){i.isInterleavedBufferAttribute?p=l[g]*i.data.stride+i.offset:p=l[g]*u;for(let v=0;v<u;v++)h[m++]=c[p++]}return new Fo(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Go,r=this.index.array,a=this.attributes;for(const i in a){const l=a[i],c=e(l,r);n.setAttribute(i,c)}const o=this.morphAttributes;for(const i in o){const l=[],c=o[i];for(let u=0,f=c.length;u<f;u++){const h=c[u],p=e(h,r);l.push(p)}n.morphAttributes[i]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let i=0,l=s.length;i<l;i++){const c=s[i];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const a={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(a[l]=u,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const i=this.boundingSphere;return i!==null&&(e.data.boundingSphere={center:i.center.toArray(),radius:i.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const a=e.attributes;for(const c in a){const u=a[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],f=o[c];for(let h=0,p=f.length;h<p;h++)u.push(f[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const i=e.boundingBox;i!==null&&(this.boundingBox=i.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const JC=new An,Ol=new N8,b0=new SS,e3=new Be,S0=new Be,_0=new Be,w0=new Be,Cg=new Be,x0=new Be,t3=new Be,C0=new Be;class Hr extends Zr{constructor(e=new Go,n=new Ac){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const a=n[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=a.length;o<s;o++){const i=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=o}}}}getVertexPosition(e,n){const r=this.geometry,a=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(a,e);const i=this.morphTargetInfluences;if(o&&i){x0.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=i[l],f=o[l];u!==0&&(Cg.fromBufferAttribute(f,e),s?x0.addScaledVector(Cg,u):x0.addScaledVector(Cg.sub(n),u))}n.add(x0)}return n}raycast(e,n){const r=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),b0.copy(r.boundingSphere),b0.applyMatrix4(o),Ol.copy(e.ray).recast(e.near),!(b0.containsPoint(Ol.origin)===!1&&(Ol.intersectSphere(b0,e3)===null||Ol.origin.distanceToSquared(e3)>(e.far-e.near)**2))&&(JC.copy(o).invert(),Ol.copy(e.ray).applyMatrix4(JC),!(r.boundingBox!==null&&Ol.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Ol)))}_computeIntersections(e,n,r){let a;const o=this.geometry,s=this.material,i=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,f=o.attributes.normal,h=o.groups,p=o.drawRange;if(i!==null)if(Array.isArray(s))for(let m=0,g=h.length;m<g;m++){const y=h[m],v=s[y.materialIndex],A=Math.max(y.start,p.start),w=Math.min(i.count,Math.min(y.start+y.count,p.start+p.count));for(let S=A,C=w;S<C;S+=3){const E=i.getX(S),I=i.getX(S+1),k=i.getX(S+2);a=A0(this,v,e,r,c,u,f,E,I,k),a&&(a.faceIndex=Math.floor(S/3),a.face.materialIndex=y.materialIndex,n.push(a))}}else{const m=Math.max(0,p.start),g=Math.min(i.count,p.start+p.count);for(let y=m,v=g;y<v;y+=3){const A=i.getX(y),w=i.getX(y+1),S=i.getX(y+2);a=A0(this,s,e,r,c,u,f,A,w,S),a&&(a.faceIndex=Math.floor(y/3),n.push(a))}}else if(l!==void 0)if(Array.isArray(s))for(let m=0,g=h.length;m<g;m++){const y=h[m],v=s[y.materialIndex],A=Math.max(y.start,p.start),w=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let S=A,C=w;S<C;S+=3){const E=S,I=S+1,k=S+2;a=A0(this,v,e,r,c,u,f,E,I,k),a&&(a.faceIndex=Math.floor(S/3),a.face.materialIndex=y.materialIndex,n.push(a))}}else{const m=Math.max(0,p.start),g=Math.min(l.count,p.start+p.count);for(let y=m,v=g;y<v;y+=3){const A=y,w=y+1,S=y+2;a=A0(this,s,e,r,c,u,f,A,w,S),a&&(a.faceIndex=Math.floor(y/3),n.push(a))}}}}function zde(t,e,n,r,a,o,s,i){let l;if(e.side===Za?l=r.intersectTriangle(s,o,a,!0,i):l=r.intersectTriangle(a,o,s,e.side===Ps,i),l===null)return null;C0.copy(i),C0.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(C0);return c<n.near||c>n.far?null:{distance:c,point:C0.clone(),object:t}}function A0(t,e,n,r,a,o,s,i,l,c){t.getVertexPosition(i,S0),t.getVertexPosition(l,_0),t.getVertexPosition(c,w0);const u=zde(t,e,n,r,S0,_0,w0,t3);if(u){const f=new Be;ts.getBarycoord(t3,S0,_0,w0,f),a&&(u.uv=ts.getInterpolatedAttribute(a,i,l,c,f,new dn)),o&&(u.uv1=ts.getInterpolatedAttribute(o,i,l,c,f,new dn)),s&&(u.normal=ts.getInterpolatedAttribute(s,i,l,c,f,new Be),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const h={a:i,b:l,c,normal:new Be,materialIndex:0};ts.getNormal(S0,_0,w0,h.normal),u.face=h,u.barycoord=f}return u}class Td extends Go{constructor(e=1,n=1,r=1,a=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:a,heightSegments:o,depthSegments:s};const i=this;a=Math.floor(a),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],f=[];let h=0,p=0;m("z","y","x",-1,-1,r,n,e,s,o,0),m("z","y","x",1,-1,r,n,-e,s,o,1),m("x","z","y",1,1,e,r,n,a,s,2),m("x","z","y",1,-1,e,r,-n,a,s,3),m("x","y","z",1,-1,e,n,r,a,o,4),m("x","y","z",-1,-1,e,n,-r,a,o,5),this.setIndex(l),this.setAttribute("position",new bo(c,3)),this.setAttribute("normal",new bo(u,3)),this.setAttribute("uv",new bo(f,2));function m(g,y,v,A,w,S,C,E,I,k,T){const M=S/I,D=C/k,B=S/2,z=C/2,q=E/2,$=I+1,L=k+1;let W=0,U=0;const F=new Be;for(let Q=0;Q<L;Q++){const ne=Q*D-z;for(let de=0;de<$;de++){const ie=de*M-B;F[g]=ie*A,F[y]=ne*w,F[v]=q,c.push(F.x,F.y,F.z),F[g]=0,F[y]=0,F[v]=E>0?1:-1,u.push(F.x,F.y,F.z),f.push(de/I),f.push(1-Q/k),W+=1}}for(let Q=0;Q<k;Q++)for(let ne=0;ne<I;ne++){const de=h+ne+$*Q,ie=h+ne+$*(Q+1),ce=h+(ne+1)+$*(Q+1),ge=h+(ne+1)+$*Q;l.push(de,ie,ge),l.push(ie,ce,ge),U+=6}i.addGroup(p,U,T),p+=U,h+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Td(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ld(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const a=t[n][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=a.clone():Array.isArray(a)?e[n][r]=a.slice():e[n][r]=a}}return e}function Fa(t){const e={};for(let n=0;n<t.length;n++){const r=ld(t[n]);for(const a in r)e[a]=r[a]}return e}function Ude(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function H8(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:er.workingColorSpace}const Hde={clone:ld,merge:Fa};var $de=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Vde=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class So extends Hm{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$de,this.fragmentShader=Vde,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ld(e.uniforms),this.uniformsGroups=Ude(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const a in this.uniforms){const s=this.uniforms[a].value;s&&s.isTexture?n.uniforms[a]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[a]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[a]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[a]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[a]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[a]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[a]={type:"m4",value:s.toArray()}:n.uniforms[a]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class $8 extends Zr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new An,this.projectionMatrix=new An,this.projectionMatrixInverse=new An,this.coordinateSystem=ui}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const zi=new Be,n3=new dn,r3=new dn;class Ro extends $8{constructor(e=50,n=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=th*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ff*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return th*2*Math.atan(Math.tan(ff*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){zi.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(zi.x,zi.y).multiplyScalar(-e/zi.z),zi.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(zi.x,zi.y).multiplyScalar(-e/zi.z)}getViewSize(e,n){return this.getViewBounds(e,n3,r3),n.subVectors(r3,n3)}setViewOffset(e,n,r,a,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ff*.5*this.fov)/this.zoom,r=2*n,a=this.aspect*r,o=-.5*a;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*a/l,n-=s.offsetY*r/c,a*=s.width/l,r*=s.height/c}const i=this.filmOffset;i!==0&&(o+=e*i/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const nu=-90,ru=1;class Wde extends Zr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Ro(nu,ru,e,n);a.layers=this.layers,this.add(a);const o=new Ro(nu,ru,e,n);o.layers=this.layers,this.add(o);const s=new Ro(nu,ru,e,n);s.layers=this.layers,this.add(s);const i=new Ro(nu,ru,e,n);i.layers=this.layers,this.add(i);const l=new Ro(nu,ru,e,n);l.layers=this.layers,this.add(l);const c=new Ro(nu,ru,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,a,o,s,i,l]=n;for(const c of n)this.remove(c);if(e===ui)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),i.up.set(0,1,0),i.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===$p)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),i.up.set(0,-1,0),i.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,i,l,c,u]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,a),e.render(n,o),e.setRenderTarget(r,1,a),e.render(n,s),e.setRenderTarget(r,2,a),e.render(n,i),e.setRenderTarget(r,3,a),e.render(n,l),e.setRenderTarget(r,4,a),e.render(n,c),r.texture.generateMipmaps=g,e.setRenderTarget(r,5,a),e.render(n,u),e.setRenderTarget(f,h,p),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class V8 extends $a{constructor(e,n,r,a,o,s,i,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:rd,super(e,n,r,a,o,s,i,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Gde extends Sl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];this.texture=new V8(a,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Cs}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Td(5,5,5),o=new So({name:"CubemapFromEquirect",uniforms:ld(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Za,blending:al});o.uniforms.tEquirect.value=n;const s=new Hr(a,o),i=n.minFilter;return n.minFilter===lc&&(n.minFilter=Cs),new Wde(1,10,this).update(e,s),n.minFilter=i,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,a){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,a);e.setRenderTarget(o)}}class Kde extends Zr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new bi,this.environmentIntensity=1,this.environmentRotation=new bi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Ui extends $a{constructor(e=null,n=1,r=1,a,o,s,i,l,c=yo,u=yo,f,h){super(null,s,i,l,c,u,a,o,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qde extends Fo{constructor(e,n,r,a=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ag=new Be,jde=new Be,Yde=new Cn;class qi{constructor(e=new Be(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,a){return this.normal.set(e,n,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const a=Ag.subVectors(r,n).cross(jde.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Ag),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Yde.getNormalMatrix(e),a=this.coplanarPoint(Ag).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const zl=new SS,E0=new Be;class W8{constructor(e=new qi,n=new qi,r=new qi,a=new qi,o=new qi,s=new qi){this.planes=[e,n,r,a,o,s]}set(e,n,r,a,o,s){const i=this.planes;return i[0].copy(e),i[1].copy(n),i[2].copy(r),i[3].copy(a),i[4].copy(o),i[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ui){const r=this.planes,a=e.elements,o=a[0],s=a[1],i=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],m=a[9],g=a[10],y=a[11],v=a[12],A=a[13],w=a[14],S=a[15];if(r[0].setComponents(l-o,h-c,y-p,S-v).normalize(),r[1].setComponents(l+o,h+c,y+p,S+v).normalize(),r[2].setComponents(l+s,h+u,y+m,S+A).normalize(),r[3].setComponents(l-s,h-u,y-m,S-A).normalize(),r[4].setComponents(l-i,h-f,y-g,S-w).normalize(),n===ui)r[5].setComponents(l+i,h+f,y+g,S+w).normalize();else if(n===$p)r[5].setComponents(i,f,g,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),zl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),zl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(zl)}intersectsSprite(e){return zl.center.set(0,0,0),zl.radius=.7071067811865476,zl.applyMatrix4(e.matrixWorld),this.intersectsSphere(zl)}intersectsSphere(e){const n=this.planes,r=e.center,a=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const a=n[r];if(E0.x=a.normal.x>0?e.max.x:e.min.x,E0.y=a.normal.y>0?e.max.y:e.min.y,E0.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(E0)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class M0 extends Zr{constructor(){super(),this.isGroup=!0,this.type="Group"}}class _S extends $a{constructor(e,n,r,a,o,s,i,l,c,u=vc){if(u!==vc&&u!==sd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===vc&&(r=Bo),r===void 0&&u===sd&&(r=od),super(null,a,o,s,i,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=i!==void 0?i:yo,this.minFilter=l!==void 0?l:yo,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class rh extends Go{constructor(e=1,n=1,r=1,a=32,o=1,s=!1,i=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:i,thetaLength:l};const c=this;a=Math.floor(a),o=Math.floor(o);const u=[],f=[],h=[],p=[];let m=0;const g=[],y=r/2;let v=0;A(),s===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new bo(f,3)),this.setAttribute("normal",new bo(h,3)),this.setAttribute("uv",new bo(p,2));function A(){const S=new Be,C=new Be;let E=0;const I=(n-e)/r;for(let k=0;k<=o;k++){const T=[],M=k/o,D=M*(n-e)+e;for(let B=0;B<=a;B++){const z=B/a,q=z*l+i,$=Math.sin(q),L=Math.cos(q);C.x=D*$,C.y=-M*r+y,C.z=D*L,f.push(C.x,C.y,C.z),S.set($,I,L).normalize(),h.push(S.x,S.y,S.z),p.push(z,1-M),T.push(m++)}g.push(T)}for(let k=0;k<a;k++)for(let T=0;T<o;T++){const M=g[T][k],D=g[T+1][k],B=g[T+1][k+1],z=g[T][k+1];(e>0||T!==0)&&(u.push(M,D,z),E+=3),(n>0||T!==o-1)&&(u.push(D,B,z),E+=3)}c.addGroup(v,E,0),v+=E}function w(S){const C=m,E=new dn,I=new Be;let k=0;const T=S===!0?e:n,M=S===!0?1:-1;for(let B=1;B<=a;B++)f.push(0,y*M,0),h.push(0,M,0),p.push(.5,.5),m++;const D=m;for(let B=0;B<=a;B++){const q=B/a*l+i,$=Math.cos(q),L=Math.sin(q);I.x=T*L,I.y=y*M,I.z=T*$,f.push(I.x,I.y,I.z),h.push(0,M,0),E.x=$*.5+.5,E.y=L*.5*M+.5,p.push(E.x,E.y),m++}for(let B=0;B<a;B++){const z=C+B,q=D+B;S===!0?u.push(q,q+1,z):u.push(q+1,q,z),k+=3}c.addGroup(v,k,S===!0?1:2),v+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wS extends rh{constructor(e=1,n=1,r=32,a=1,o=!1,s=0,i=Math.PI*2){super(0,e,n,r,a,o,s,i),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:i}}static fromJSON(e){return new wS(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class cd extends Go{constructor(e=1,n=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:a};const o=e/2,s=n/2,i=Math.floor(r),l=Math.floor(a),c=i+1,u=l+1,f=e/i,h=n/l,p=[],m=[],g=[],y=[];for(let v=0;v<u;v++){const A=v*h-s;for(let w=0;w<c;w++){const S=w*f-o;m.push(S,-A,0),g.push(0,0,1),y.push(w/i),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let A=0;A<i;A++){const w=A+c*v,S=A+c*(v+1),C=A+1+c*(v+1),E=A+1+c*v;p.push(w,S,E),p.push(S,C,E)}this.setIndex(p),this.setAttribute("position",new bo(m,3)),this.setAttribute("normal",new bo(g,3)),this.setAttribute("uv",new bo(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cd(e.width,e.height,e.widthSegments,e.heightSegments)}}class Wp extends Go{constructor(e=1,n=32,r=16,a=0,o=Math.PI*2,s=0,i=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:a,phiLength:o,thetaStart:s,thetaLength:i},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+i,Math.PI);let c=0;const u=[],f=new Be,h=new Be,p=[],m=[],g=[],y=[];for(let v=0;v<=r;v++){const A=[],w=v/r;let S=0;v===0&&s===0?S=.5/n:v===r&&l===Math.PI&&(S=-.5/n);for(let C=0;C<=n;C++){const E=C/n;f.x=-e*Math.cos(a+E*o)*Math.sin(s+w*i),f.y=e*Math.cos(s+w*i),f.z=e*Math.sin(a+E*o)*Math.sin(s+w*i),m.push(f.x,f.y,f.z),h.copy(f).normalize(),g.push(h.x,h.y,h.z),y.push(E+S,1-w),A.push(c++)}u.push(A)}for(let v=0;v<r;v++)for(let A=0;A<n;A++){const w=u[v][A+1],S=u[v][A],C=u[v+1][A],E=u[v+1][A+1];(v!==0||s>0)&&p.push(w,S,E),(v!==r-1||l<Math.PI)&&p.push(S,C,E)}this.setIndex(p),this.setAttribute("position",new bo(m,3)),this.setAttribute("normal",new bo(g,3)),this.setAttribute("uv",new bo(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Xde extends Hm{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Vue,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Qde extends Hm{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class xS extends $8{constructor(e=-1,n=1,r=1,a=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=a,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,a,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=r-e,s=r+e,i=a+n,l=a-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,i-=u*this.view.offsetY,l=i-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,i,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Zde extends Go{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Jde extends Ro{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class a3{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Pn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Pn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}function o3(t,e,n,r){const a=efe(r);switch(n){case A8:return t*e;case M8:return t*e;case T8:return t*e*2;case I8:return t*e/a.components*a.byteLength;case Um:return t*e/a.components*a.byteLength;case gS:return t*e*2/a.components*a.byteLength;case yS:return t*e*2/a.components*a.byteLength;case E8:return t*e*3/a.components*a.byteLength;case Ua:return t*e*4/a.components*a.byteLength;case ku:return t*e*4/a.components*a.byteLength;case ap:case op:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case sp:case ip:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Ey:case Ty:return Math.max(t,16)*Math.max(e,8)/4;case Ay:case My:return Math.max(t,8)*Math.max(e,8)/2;case Iy:case Ry:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case ky:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Dy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Py:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case By:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Ly:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Ny:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Fy:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Oy:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case zy:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Uy:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Hy:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case $y:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Vy:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Wy:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Gy:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case lp:case Ky:case qy:return Math.ceil(t/4)*Math.ceil(e/4)*16;case R8:case jy:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Yy:case Xy:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function efe(t){switch(t){case Bs:case w8:return{byteLength:1,components:1};case eh:case x8:case Ed:return{byteLength:2,components:1};case mS:case vS:return{byteLength:2,components:4};case Bo:case pS:case ss:return{byteLength:4,components:1};case C8:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hS);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function G8(){let t=null,e=!1,n=null,r=null;function a(o,s){n(o,s),r=t.requestAnimationFrame(a)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(a),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function tfe(t){const e=new WeakMap;function n(i,l){const c=i.array,u=i.usage,f=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),i.onUploadCallback();let p;if(c instanceof Float32Array)p=t.FLOAT;else if(c instanceof Uint16Array)i.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=t.SHORT;else if(c instanceof Uint32Array)p=t.UNSIGNED_INT;else if(c instanceof Int32Array)p=t.INT;else if(c instanceof Int8Array)p=t.BYTE;else if(c instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:i.version,size:f}}function r(i,l,c){const u=l.array,f=l.updateRanges;if(t.bindBuffer(c,i),f.length===0)t.bufferSubData(c,0,u);else{f.sort((p,m)=>p.start-m.start);let h=0;for(let p=1;p<f.length;p++){const m=f[h],g=f[p];g.start<=m.start+m.count+1?m.count=Math.max(m.count,g.start+g.count-m.start):(++h,f[h]=g)}f.length=h+1;for(let p=0,m=f.length;p<m;p++){const g=f[p];t.bufferSubData(c,g.start*u.BYTES_PER_ELEMENT,u,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function a(i){return i.isInterleavedBufferAttribute&&(i=i.data),e.get(i)}function o(i){i.isInterleavedBufferAttribute&&(i=i.data);const l=e.get(i);l&&(t.deleteBuffer(l.buffer),e.delete(i))}function s(i,l){if(i.isInterleavedBufferAttribute&&(i=i.data),i.isGLBufferAttribute){const u=e.get(i);(!u||u.version<i.version)&&e.set(i,{buffer:i.buffer,type:i.type,bytesPerElement:i.elementSize,version:i.version});return}const c=e.get(i);if(c===void 0)e.set(i,n(i,l));else if(c.version<i.version){if(c.size!==i.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,i,l),c.version=i.version}}return{get:a,remove:o,update:s}}var nfe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rfe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,afe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ofe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sfe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,ife=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lfe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,cfe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ufe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,dfe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,ffe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hfe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,pfe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,mfe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,vfe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,gfe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,yfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,bfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Sfe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_fe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,xfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Cfe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Afe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Efe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Mfe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Tfe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ife=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Rfe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,kfe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Dfe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Pfe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Bfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Lfe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Nfe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ffe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ofe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zfe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ufe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Hfe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$fe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Vfe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Wfe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Gfe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Kfe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,qfe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,jfe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Yfe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Xfe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Qfe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Zfe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Jfe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,ehe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,the=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nhe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rhe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ahe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ohe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,she=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ihe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,lhe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,che=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uhe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dhe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fhe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hhe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,phe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,mhe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,vhe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ghe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,yhe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,bhe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,She=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_he=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,whe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xhe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Che=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Ahe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Ehe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Mhe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,The=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ihe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Rhe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,khe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Dhe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Phe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Bhe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Lhe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Nhe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Fhe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Ohe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zhe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Uhe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Hhe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$he=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Vhe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Whe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ghe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Khe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,qhe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,jhe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Yhe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Xhe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Qhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Zhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Jhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,e0e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const t0e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,n0e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,r0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,a0e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,o0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,s0e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,i0e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,l0e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,c0e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,u0e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,d0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,f0e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,h0e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,p0e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,m0e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,v0e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g0e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,y0e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,b0e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,S0e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_0e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,w0e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,x0e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,C0e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,A0e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,E0e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,M0e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,T0e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I0e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,R0e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,k0e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,D0e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,P0e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,B0e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kn={alphahash_fragment:nfe,alphahash_pars_fragment:rfe,alphamap_fragment:afe,alphamap_pars_fragment:ofe,alphatest_fragment:sfe,alphatest_pars_fragment:ife,aomap_fragment:lfe,aomap_pars_fragment:cfe,batching_pars_vertex:ufe,batching_vertex:dfe,begin_vertex:ffe,beginnormal_vertex:hfe,bsdfs:pfe,iridescence_fragment:mfe,bumpmap_pars_fragment:vfe,clipping_planes_fragment:gfe,clipping_planes_pars_fragment:yfe,clipping_planes_pars_vertex:bfe,clipping_planes_vertex:Sfe,color_fragment:_fe,color_pars_fragment:wfe,color_pars_vertex:xfe,color_vertex:Cfe,common:Afe,cube_uv_reflection_fragment:Efe,defaultnormal_vertex:Mfe,displacementmap_pars_vertex:Tfe,displacementmap_vertex:Ife,emissivemap_fragment:Rfe,emissivemap_pars_fragment:kfe,colorspace_fragment:Dfe,colorspace_pars_fragment:Pfe,envmap_fragment:Bfe,envmap_common_pars_fragment:Lfe,envmap_pars_fragment:Nfe,envmap_pars_vertex:Ffe,envmap_physical_pars_fragment:jfe,envmap_vertex:Ofe,fog_vertex:zfe,fog_pars_vertex:Ufe,fog_fragment:Hfe,fog_pars_fragment:$fe,gradientmap_pars_fragment:Vfe,lightmap_pars_fragment:Wfe,lights_lambert_fragment:Gfe,lights_lambert_pars_fragment:Kfe,lights_pars_begin:qfe,lights_toon_fragment:Yfe,lights_toon_pars_fragment:Xfe,lights_phong_fragment:Qfe,lights_phong_pars_fragment:Zfe,lights_physical_fragment:Jfe,lights_physical_pars_fragment:ehe,lights_fragment_begin:the,lights_fragment_maps:nhe,lights_fragment_end:rhe,logdepthbuf_fragment:ahe,logdepthbuf_pars_fragment:ohe,logdepthbuf_pars_vertex:she,logdepthbuf_vertex:ihe,map_fragment:lhe,map_pars_fragment:che,map_particle_fragment:uhe,map_particle_pars_fragment:dhe,metalnessmap_fragment:fhe,metalnessmap_pars_fragment:hhe,morphinstance_vertex:phe,morphcolor_vertex:mhe,morphnormal_vertex:vhe,morphtarget_pars_vertex:ghe,morphtarget_vertex:yhe,normal_fragment_begin:bhe,normal_fragment_maps:She,normal_pars_fragment:_he,normal_pars_vertex:whe,normal_vertex:xhe,normalmap_pars_fragment:Che,clearcoat_normal_fragment_begin:Ahe,clearcoat_normal_fragment_maps:Ehe,clearcoat_pars_fragment:Mhe,iridescence_pars_fragment:The,opaque_fragment:Ihe,packing:Rhe,premultiplied_alpha_fragment:khe,project_vertex:Dhe,dithering_fragment:Phe,dithering_pars_fragment:Bhe,roughnessmap_fragment:Lhe,roughnessmap_pars_fragment:Nhe,shadowmap_pars_fragment:Fhe,shadowmap_pars_vertex:Ohe,shadowmap_vertex:zhe,shadowmask_pars_fragment:Uhe,skinbase_vertex:Hhe,skinning_pars_vertex:$he,skinning_vertex:Vhe,skinnormal_vertex:Whe,specularmap_fragment:Ghe,specularmap_pars_fragment:Khe,tonemapping_fragment:qhe,tonemapping_pars_fragment:jhe,transmission_fragment:Yhe,transmission_pars_fragment:Xhe,uv_pars_fragment:Qhe,uv_pars_vertex:Zhe,uv_vertex:Jhe,worldpos_vertex:e0e,background_vert:t0e,background_frag:n0e,backgroundCube_vert:r0e,backgroundCube_frag:a0e,cube_vert:o0e,cube_frag:s0e,depth_vert:i0e,depth_frag:l0e,distanceRGBA_vert:c0e,distanceRGBA_frag:u0e,equirect_vert:d0e,equirect_frag:f0e,linedashed_vert:h0e,linedashed_frag:p0e,meshbasic_vert:m0e,meshbasic_frag:v0e,meshlambert_vert:g0e,meshlambert_frag:y0e,meshmatcap_vert:b0e,meshmatcap_frag:S0e,meshnormal_vert:_0e,meshnormal_frag:w0e,meshphong_vert:x0e,meshphong_frag:C0e,meshphysical_vert:A0e,meshphysical_frag:E0e,meshtoon_vert:M0e,meshtoon_frag:T0e,points_vert:I0e,points_frag:R0e,shadow_vert:k0e,shadow_frag:D0e,sprite_vert:P0e,sprite_frag:B0e},Xt={common:{diffuse:{value:new tr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Cn}},envmap:{envMap:{value:null},envMapRotation:{value:new Cn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Cn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Cn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Cn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Cn},normalScale:{value:new dn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Cn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Cn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Cn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Cn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0},uvTransform:{value:new Cn}},sprite:{diffuse:{value:new tr(16777215)},opacity:{value:1},center:{value:new dn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}}},Ss={basic:{uniforms:Fa([Xt.common,Xt.specularmap,Xt.envmap,Xt.aomap,Xt.lightmap,Xt.fog]),vertexShader:kn.meshbasic_vert,fragmentShader:kn.meshbasic_frag},lambert:{uniforms:Fa([Xt.common,Xt.specularmap,Xt.envmap,Xt.aomap,Xt.lightmap,Xt.emissivemap,Xt.bumpmap,Xt.normalmap,Xt.displacementmap,Xt.fog,Xt.lights,{emissive:{value:new tr(0)}}]),vertexShader:kn.meshlambert_vert,fragmentShader:kn.meshlambert_frag},phong:{uniforms:Fa([Xt.common,Xt.specularmap,Xt.envmap,Xt.aomap,Xt.lightmap,Xt.emissivemap,Xt.bumpmap,Xt.normalmap,Xt.displacementmap,Xt.fog,Xt.lights,{emissive:{value:new tr(0)},specular:{value:new tr(1118481)},shininess:{value:30}}]),vertexShader:kn.meshphong_vert,fragmentShader:kn.meshphong_frag},standard:{uniforms:Fa([Xt.common,Xt.envmap,Xt.aomap,Xt.lightmap,Xt.emissivemap,Xt.bumpmap,Xt.normalmap,Xt.displacementmap,Xt.roughnessmap,Xt.metalnessmap,Xt.fog,Xt.lights,{emissive:{value:new tr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:kn.meshphysical_vert,fragmentShader:kn.meshphysical_frag},toon:{uniforms:Fa([Xt.common,Xt.aomap,Xt.lightmap,Xt.emissivemap,Xt.bumpmap,Xt.normalmap,Xt.displacementmap,Xt.gradientmap,Xt.fog,Xt.lights,{emissive:{value:new tr(0)}}]),vertexShader:kn.meshtoon_vert,fragmentShader:kn.meshtoon_frag},matcap:{uniforms:Fa([Xt.common,Xt.bumpmap,Xt.normalmap,Xt.displacementmap,Xt.fog,{matcap:{value:null}}]),vertexShader:kn.meshmatcap_vert,fragmentShader:kn.meshmatcap_frag},points:{uniforms:Fa([Xt.points,Xt.fog]),vertexShader:kn.points_vert,fragmentShader:kn.points_frag},dashed:{uniforms:Fa([Xt.common,Xt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:kn.linedashed_vert,fragmentShader:kn.linedashed_frag},depth:{uniforms:Fa([Xt.common,Xt.displacementmap]),vertexShader:kn.depth_vert,fragmentShader:kn.depth_frag},normal:{uniforms:Fa([Xt.common,Xt.bumpmap,Xt.normalmap,Xt.displacementmap,{opacity:{value:1}}]),vertexShader:kn.meshnormal_vert,fragmentShader:kn.meshnormal_frag},sprite:{uniforms:Fa([Xt.sprite,Xt.fog]),vertexShader:kn.sprite_vert,fragmentShader:kn.sprite_frag},background:{uniforms:{uvTransform:{value:new Cn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:kn.background_vert,fragmentShader:kn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Cn}},vertexShader:kn.backgroundCube_vert,fragmentShader:kn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:kn.cube_vert,fragmentShader:kn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:kn.equirect_vert,fragmentShader:kn.equirect_frag},distanceRGBA:{uniforms:Fa([Xt.common,Xt.displacementmap,{referencePosition:{value:new Be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:kn.distanceRGBA_vert,fragmentShader:kn.distanceRGBA_frag},shadow:{uniforms:Fa([Xt.lights,Xt.fog,{color:{value:new tr(0)},opacity:{value:1}}]),vertexShader:kn.shadow_vert,fragmentShader:kn.shadow_frag}};Ss.physical={uniforms:Fa([Ss.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Cn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Cn},clearcoatNormalScale:{value:new dn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Cn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Cn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Cn},sheen:{value:0},sheenColor:{value:new tr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Cn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Cn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Cn},transmissionSamplerSize:{value:new dn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Cn},attenuationDistance:{value:0},attenuationColor:{value:new tr(0)},specularColor:{value:new tr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Cn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Cn},anisotropyVector:{value:new dn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Cn}}]),vertexShader:kn.meshphysical_vert,fragmentShader:kn.meshphysical_frag};const T0={r:0,b:0,g:0},Ul=new bi,L0e=new An;function N0e(t,e,n,r,a,o,s){const i=new tr(0);let l=o===!0?0:1,c,u,f=null,h=0,p=null;function m(w){let S=w.isScene===!0?w.background:null;return S&&S.isTexture&&(S=(w.backgroundBlurriness>0?n:e).get(S)),S}function g(w){let S=!1;const C=m(w);C===null?v(i,l):C&&C.isColor&&(v(C,1),S=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,s):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||S)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(w,S){const C=m(S);C&&(C.isCubeTexture||C.mapping===zm)?(u===void 0&&(u=new Hr(new Td(1,1,1),new So({name:"BackgroundCubeMaterial",uniforms:ld(Ss.backgroundCube.uniforms),vertexShader:Ss.backgroundCube.vertexShader,fragmentShader:Ss.backgroundCube.fragmentShader,side:Za,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,I,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(u)),Ul.copy(S.backgroundRotation),Ul.x*=-1,Ul.y*=-1,Ul.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Ul.y*=-1,Ul.z*=-1),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(L0e.makeRotationFromEuler(Ul)),u.material.toneMapped=er.getTransfer(C.colorSpace)!==dr,(f!==C||h!==C.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=C,h=C.version,p=t.toneMapping),u.layers.enableAll(),w.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(c===void 0&&(c=new Hr(new cd(2,2),new So({name:"BackgroundMaterial",uniforms:ld(Ss.background.uniforms),vertexShader:Ss.background.vertexShader,fragmentShader:Ss.background.fragmentShader,side:Ps,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=er.getTransfer(C.colorSpace)!==dr,C.matrixAutoUpdate===!0&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(f!==C||h!==C.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,f=C,h=C.version,p=t.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null))}function v(w,S){w.getRGB(T0,H8(t)),r.buffers.color.setClear(T0.r,T0.g,T0.b,S,s)}function A(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return i},setClearColor:function(w,S=1){i.set(w),l=S,v(i,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,v(i,l)},render:g,addToRenderList:y,dispose:A}}function F0e(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},a=h(null);let o=a,s=!1;function i(M,D,B,z,q){let $=!1;const L=f(z,B,D);o!==L&&(o=L,c(o.object)),$=p(M,z,B,q),$&&m(M,z,B,q),q!==null&&e.update(q,t.ELEMENT_ARRAY_BUFFER),($||s)&&(s=!1,S(M,D,B,z),q!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function l(){return t.createVertexArray()}function c(M){return t.bindVertexArray(M)}function u(M){return t.deleteVertexArray(M)}function f(M,D,B){const z=B.wireframe===!0;let q=r[M.id];q===void 0&&(q={},r[M.id]=q);let $=q[D.id];$===void 0&&($={},q[D.id]=$);let L=$[z];return L===void 0&&(L=h(l()),$[z]=L),L}function h(M){const D=[],B=[],z=[];for(let q=0;q<n;q++)D[q]=0,B[q]=0,z[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:B,attributeDivisors:z,object:M,attributes:{},index:null}}function p(M,D,B,z){const q=o.attributes,$=D.attributes;let L=0;const W=B.getAttributes();for(const U in W)if(W[U].location>=0){const Q=q[U];let ne=$[U];if(ne===void 0&&(U==="instanceMatrix"&&M.instanceMatrix&&(ne=M.instanceMatrix),U==="instanceColor"&&M.instanceColor&&(ne=M.instanceColor)),Q===void 0||Q.attribute!==ne||ne&&Q.data!==ne.data)return!0;L++}return o.attributesNum!==L||o.index!==z}function m(M,D,B,z){const q={},$=D.attributes;let L=0;const W=B.getAttributes();for(const U in W)if(W[U].location>=0){let Q=$[U];Q===void 0&&(U==="instanceMatrix"&&M.instanceMatrix&&(Q=M.instanceMatrix),U==="instanceColor"&&M.instanceColor&&(Q=M.instanceColor));const ne={};ne.attribute=Q,Q&&Q.data&&(ne.data=Q.data),q[U]=ne,L++}o.attributes=q,o.attributesNum=L,o.index=z}function g(){const M=o.newAttributes;for(let D=0,B=M.length;D<B;D++)M[D]=0}function y(M){v(M,0)}function v(M,D){const B=o.newAttributes,z=o.enabledAttributes,q=o.attributeDivisors;B[M]=1,z[M]===0&&(t.enableVertexAttribArray(M),z[M]=1),q[M]!==D&&(t.vertexAttribDivisor(M,D),q[M]=D)}function A(){const M=o.newAttributes,D=o.enabledAttributes;for(let B=0,z=D.length;B<z;B++)D[B]!==M[B]&&(t.disableVertexAttribArray(B),D[B]=0)}function w(M,D,B,z,q,$,L){L===!0?t.vertexAttribIPointer(M,D,B,q,$):t.vertexAttribPointer(M,D,B,z,q,$)}function S(M,D,B,z){g();const q=z.attributes,$=B.getAttributes(),L=D.defaultAttributeValues;for(const W in $){const U=$[W];if(U.location>=0){let F=q[W];if(F===void 0&&(W==="instanceMatrix"&&M.instanceMatrix&&(F=M.instanceMatrix),W==="instanceColor"&&M.instanceColor&&(F=M.instanceColor)),F!==void 0){const Q=F.normalized,ne=F.itemSize,de=e.get(F);if(de===void 0)continue;const ie=de.buffer,ce=de.type,ge=de.bytesPerElement,Ae=ce===t.INT||ce===t.UNSIGNED_INT||F.gpuType===pS;if(F.isInterleavedBufferAttribute){const pe=F.data,Ie=pe.stride,Re=F.offset;if(pe.isInstancedInterleavedBuffer){for(let Je=0;Je<U.locationSize;Je++)v(U.location+Je,pe.meshPerAttribute);M.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let Je=0;Je<U.locationSize;Je++)y(U.location+Je);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let Je=0;Je<U.locationSize;Je++)w(U.location+Je,ne/U.locationSize,ce,Q,Ie*ge,(Re+ne/U.locationSize*Je)*ge,Ae)}else{if(F.isInstancedBufferAttribute){for(let pe=0;pe<U.locationSize;pe++)v(U.location+pe,F.meshPerAttribute);M.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=F.meshPerAttribute*F.count)}else for(let pe=0;pe<U.locationSize;pe++)y(U.location+pe);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let pe=0;pe<U.locationSize;pe++)w(U.location+pe,ne/U.locationSize,ce,Q,ne*ge,ne/U.locationSize*pe*ge,Ae)}}else if(L!==void 0){const Q=L[W];if(Q!==void 0)switch(Q.length){case 2:t.vertexAttrib2fv(U.location,Q);break;case 3:t.vertexAttrib3fv(U.location,Q);break;case 4:t.vertexAttrib4fv(U.location,Q);break;default:t.vertexAttrib1fv(U.location,Q)}}}}A()}function C(){k();for(const M in r){const D=r[M];for(const B in D){const z=D[B];for(const q in z)u(z[q].object),delete z[q];delete D[B]}delete r[M]}}function E(M){if(r[M.id]===void 0)return;const D=r[M.id];for(const B in D){const z=D[B];for(const q in z)u(z[q].object),delete z[q];delete D[B]}delete r[M.id]}function I(M){for(const D in r){const B=r[D];if(B[M.id]===void 0)continue;const z=B[M.id];for(const q in z)u(z[q].object),delete z[q];delete B[M.id]}}function k(){T(),s=!0,o!==a&&(o=a,c(o.object))}function T(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:i,reset:k,resetDefaultState:T,dispose:C,releaseStatesOfGeometry:E,releaseStatesOfProgram:I,initAttributes:g,enableAttribute:y,disableUnusedAttributes:A}}function O0e(t,e,n){let r;function a(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,f){f!==0&&(t.drawArraysInstanced(r,c,u,f),n.update(u,r,f))}function i(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,f);let p=0;for(let m=0;m<f;m++)p+=u[m];n.update(p,r,1)}function l(c,u,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<c.length;m++)s(c[m],u[m],h[m]);else{p.multiDrawArraysInstancedWEBGL(r,c,0,u,0,h,0,f);let m=0;for(let g=0;g<f;g++)m+=u[g]*h[g];n.update(m,r,1)}}this.setMode=a,this.render=o,this.renderInstances=s,this.renderMultiDraw=i,this.renderMultiDrawInstances=l}function z0e(t,e,n,r){let a;function o(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");a=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function s(I){return!(I!==Ua&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function i(I){const k=I===Ed&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==Bs&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==ss&&!k)}function l(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,h=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),A=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),C=m>0,E=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:i,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:A,maxVaryings:w,maxFragmentUniforms:S,vertexTextures:C,maxSamples:E}}function U0e(t){const e=this;let n=null,r=0,a=!1,o=!1;const s=new qi,i=new Cn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||r!==0||a;return a=h,r=f.length,p},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,h){n=u(f,h,0)},this.setState=function(f,h,p){const m=f.clippingPlanes,g=f.clipIntersection,y=f.clipShadows,v=t.get(f);if(!a||m===null||m.length===0||o&&!y)o?u(null):c();else{const A=o?0:r,w=A*4;let S=v.clippingState||null;l.value=S,S=u(m,h,w,p);for(let C=0;C!==w;++C)S[C]=n[C];v.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,h,p,m){const g=f!==null?f.length:0;let y=null;if(g!==0){if(y=l.value,m!==!0||y===null){const v=p+g*4,A=h.matrixWorldInverse;i.getNormalMatrix(A),(y===null||y.length<v)&&(y=new Float32Array(v));for(let w=0,S=p;w!==g;++w,S+=4)s.copy(f[w]).applyMatrix4(A,i),s.normal.toArray(y,S),y[S+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function H0e(t){let e=new WeakMap;function n(s,i){return i===_y?s.mapping=rd:i===wy&&(s.mapping=ad),s}function r(s){if(s&&s.isTexture){const i=s.mapping;if(i===_y||i===wy)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new Gde(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",a),n(c.texture,s.mapping)}else return null}}return s}function a(s){const i=s.target;i.removeEventListener("dispose",a);const l=e.get(i);l!==void 0&&(e.delete(i),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const bu=4,s3=[.125,.215,.35,.446,.526,.582],Xl=20,Eg=new xS,i3=new tr;let Mg=null,Tg=0,Ig=0,Rg=!1;const Vl=(1+Math.sqrt(5))/2,au=1/Vl,l3=[new Be(-Vl,au,0),new Be(Vl,au,0),new Be(-au,0,Vl),new Be(au,0,Vl),new Be(0,Vl,-au),new Be(0,Vl,au),new Be(-1,1,-1),new Be(1,1,-1),new Be(-1,1,1),new Be(1,1,1)];class c3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,a=100){Mg=this._renderer.getRenderTarget(),Tg=this._renderer.getActiveCubeFace(),Ig=this._renderer.getActiveMipmapLevel(),Rg=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,a,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=f3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=d3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Mg,Tg,Ig),this._renderer.xr.enabled=Rg,e.scissorTest=!1,I0(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===rd||e.mapping===ad?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Mg=this._renderer.getRenderTarget(),Tg=this._renderer.getActiveCubeFace(),Ig=this._renderer.getActiveMipmapLevel(),Rg=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Cs,minFilter:Cs,generateMipmaps:!1,type:Ed,format:Ua,colorSpace:id,depthBuffer:!1},a=u3(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=u3(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=$0e(o)),this._blurMaterial=V0e(o,e,n)}return a}_compileMaterial(e){const n=new Hr(this._lodPlanes[0],e);this._renderer.compile(n,Eg)}_sceneToCubeUV(e,n,r,a){const i=new Ro(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(i3),u.toneMapping=sl,u.autoClear=!1;const p=new Ac({name:"PMREM.Background",side:Za,depthWrite:!1,depthTest:!1}),m=new Hr(new Td,p);let g=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,g=!0):(p.color.copy(i3),g=!0);for(let v=0;v<6;v++){const A=v%3;A===0?(i.up.set(0,l[v],0),i.lookAt(c[v],0,0)):A===1?(i.up.set(0,0,l[v]),i.lookAt(0,c[v],0)):(i.up.set(0,l[v],0),i.lookAt(0,0,c[v]));const w=this._cubeSize;I0(a,A*w,v>2?w:0,w,w),u.setRenderTarget(a),g&&u.render(m,i),u.render(e,i)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,a=e.mapping===rd||e.mapping===ad;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=f3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=d3());const o=a?this._cubemapMaterial:this._equirectMaterial,s=new Hr(this._lodPlanes[0],o),i=o.uniforms;i.envMap.value=e;const l=this._cubeSize;I0(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,Eg)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const a=this._lodPlanes.length;for(let o=1;o<a;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),i=l3[(a-o-1)%l3.length];this._blur(e,o-1,o,s,i)}n.autoClear=r}_blur(e,n,r,a,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,a,"latitudinal",o),this._halfBlur(s,e,r,r,a,"longitudinal",o)}_halfBlur(e,n,r,a,o,s,i){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Hr(this._lodPlanes[a],c),h=c.uniforms,p=this._sizeLods[r]-1,m=isFinite(o)?Math.PI/(2*p):2*Math.PI/(2*Xl-1),g=o/m,y=isFinite(o)?1+Math.floor(u*g):Xl;y>Xl&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Xl}`);const v=[];let A=0;for(let I=0;I<Xl;++I){const k=I/g,T=Math.exp(-k*k/2);v.push(T),I===0?A+=T:I<y&&(A+=2*T)}for(let I=0;I<v.length;I++)v[I]=v[I]/A;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=v,h.latitudinal.value=s==="latitudinal",i&&(h.poleAxis.value=i);const{_lodMax:w}=this;h.dTheta.value=m,h.mipInt.value=w-r;const S=this._sizeLods[a],C=3*S*(a>w-bu?a-w+bu:0),E=4*(this._cubeSize-S);I0(n,C,E,3*S,2*S),l.setRenderTarget(n),l.render(f,Eg)}}function $0e(t){const e=[],n=[],r=[];let a=t;const o=t-bu+1+s3.length;for(let s=0;s<o;s++){const i=Math.pow(2,a);n.push(i);let l=1/i;s>t-bu?l=s3[s-t+bu-1]:s===0&&(l=0),r.push(l);const c=1/(i-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,m=6,g=3,y=2,v=1,A=new Float32Array(g*m*p),w=new Float32Array(y*m*p),S=new Float32Array(v*m*p);for(let E=0;E<p;E++){const I=E%3*2/3-1,k=E>2?0:-1,T=[I,k,0,I+2/3,k,0,I+2/3,k+1,0,I,k,0,I+2/3,k+1,0,I,k+1,0];A.set(T,g*m*E),w.set(h,y*m*E);const M=[E,E,E,E,E,E];S.set(M,v*m*E)}const C=new Go;C.setAttribute("position",new Fo(A,g)),C.setAttribute("uv",new Fo(w,y)),C.setAttribute("faceIndex",new Fo(S,v)),e.push(C),a>bu&&a--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function u3(t,e,n){const r=new Sl(t,e,n);return r.texture.mapping=zm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function I0(t,e,n,r,a){t.viewport.set(e,n,r,a),t.scissor.set(e,n,r,a)}function V0e(t,e,n){const r=new Float32Array(Xl),a=new Be(0,1,0);return new So({name:"SphericalGaussianBlur",defines:{n:Xl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:CS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:al,depthTest:!1,depthWrite:!1})}function d3(){return new So({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:CS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:al,depthTest:!1,depthWrite:!1})}function f3(){return new So({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:CS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:al,depthTest:!1,depthWrite:!1})}function CS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function W0e(t){let e=new WeakMap,n=null;function r(i){if(i&&i.isTexture){const l=i.mapping,c=l===_y||l===wy,u=l===rd||l===ad;if(c||u){let f=e.get(i);const h=f!==void 0?f.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==h)return n===null&&(n=new c3(t)),f=c?n.fromEquirectangular(i,f):n.fromCubemap(i,f),f.texture.pmremVersion=i.pmremVersion,e.set(i,f),f.texture;if(f!==void 0)return f.texture;{const p=i.image;return c&&p&&p.height>0||u&&p&&a(p)?(n===null&&(n=new c3(t)),f=c?n.fromEquirectangular(i):n.fromCubemap(i),f.texture.pmremVersion=i.pmremVersion,e.set(i,f),i.addEventListener("dispose",o),f.texture):null}}}return i}function a(i){let l=0;const c=6;for(let u=0;u<c;u++)i[u]!==void 0&&l++;return l===c}function o(i){const l=i.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function G0e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let a;switch(r){case"WEBGL_depth_texture":a=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=t.getExtension(r)}return e[r]=a,a}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const a=n(r);return a===null&&pu("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function K0e(t,e,n,r){const a={},o=new WeakMap;function s(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",s),delete a[h.id];const p=o.get(h);p&&(e.remove(p),o.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function i(f,h){return a[h.id]===!0||(h.addEventListener("dispose",s),a[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const p in h)e.update(h[p],t.ARRAY_BUFFER)}function c(f){const h=[],p=f.index,m=f.attributes.position;let g=0;if(p!==null){const A=p.array;g=p.version;for(let w=0,S=A.length;w<S;w+=3){const C=A[w+0],E=A[w+1],I=A[w+2];h.push(C,E,E,I,I,C)}}else if(m!==void 0){const A=m.array;g=m.version;for(let w=0,S=A.length/3-1;w<S;w+=3){const C=w+0,E=w+1,I=w+2;h.push(C,E,E,I,I,C)}}else return;const y=new(P8(h)?U8:z8)(h,1);y.version=g;const v=o.get(f);v&&e.remove(v),o.set(f,y)}function u(f){const h=o.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&c(f)}else c(f);return o.get(f)}return{get:i,update:l,getWireframeAttribute:u}}function q0e(t,e,n){let r;function a(h){r=h}let o,s;function i(h){o=h.type,s=h.bytesPerElement}function l(h,p){t.drawElements(r,p,o,h*s),n.update(p,r,1)}function c(h,p,m){m!==0&&(t.drawElementsInstanced(r,p,o,h*s,m),n.update(p,r,m))}function u(h,p,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,o,h,0,m);let y=0;for(let v=0;v<m;v++)y+=p[v];n.update(y,r,1)}function f(h,p,m,g){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<h.length;v++)c(h[v]/s,p[v],g[v]);else{y.multiDrawElementsInstancedWEBGL(r,p,0,o,h,0,g,0,m);let v=0;for(let A=0;A<m;A++)v+=p[A]*g[A];n.update(v,r,1)}}this.setMode=a,this.setIndex=i,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function j0e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,i){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=i*(o/3);break;case t.LINES:n.lines+=i*(o/2);break;case t.LINE_STRIP:n.lines+=i*(o-1);break;case t.LINE_LOOP:n.lines+=i*o;break;case t.POINTS:n.points+=i*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function a(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:a,update:r}}function Y0e(t,e,n){const r=new WeakMap,a=new Er;function o(s,i,l){const c=s.morphTargetInfluences,u=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,f=u!==void 0?u.length:0;let h=r.get(i);if(h===void 0||h.count!==f){let M=function(){k.dispose(),r.delete(i),i.removeEventListener("dispose",M)};var p=M;h!==void 0&&h.texture.dispose();const m=i.morphAttributes.position!==void 0,g=i.morphAttributes.normal!==void 0,y=i.morphAttributes.color!==void 0,v=i.morphAttributes.position||[],A=i.morphAttributes.normal||[],w=i.morphAttributes.color||[];let S=0;m===!0&&(S=1),g===!0&&(S=2),y===!0&&(S=3);let C=i.attributes.position.count*S,E=1;C>e.maxTextureSize&&(E=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const I=new Float32Array(C*E*4*f),k=new L8(I,C,E,f);k.type=ss,k.needsUpdate=!0;const T=S*4;for(let D=0;D<f;D++){const B=v[D],z=A[D],q=w[D],$=C*E*4*D;for(let L=0;L<B.count;L++){const W=L*T;m===!0&&(a.fromBufferAttribute(B,L),I[$+W+0]=a.x,I[$+W+1]=a.y,I[$+W+2]=a.z,I[$+W+3]=0),g===!0&&(a.fromBufferAttribute(z,L),I[$+W+4]=a.x,I[$+W+5]=a.y,I[$+W+6]=a.z,I[$+W+7]=0),y===!0&&(a.fromBufferAttribute(q,L),I[$+W+8]=a.x,I[$+W+9]=a.y,I[$+W+10]=a.z,I[$+W+11]=q.itemSize===4?a.w:1)}}h={count:f,texture:k,size:new dn(C,E)},r.set(i,h),i.addEventListener("dispose",M)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let m=0;for(let y=0;y<c.length;y++)m+=c[y];const g=i.morphTargetsRelative?1:1-m;l.getUniforms().setValue(t,"morphTargetBaseInfluence",g),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:o}}function X0e(t,e,n,r){let a=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(a.get(f)!==c&&(e.update(f),a.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",i)===!1&&l.addEventListener("dispose",i),a.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),a.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;a.get(h)!==c&&(h.update(),a.set(h,c))}return f}function s(){a=new WeakMap}function i(l){const c=l.target;c.removeEventListener("dispose",i),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}const K8=new $a,h3=new _S(1,1),q8=new L8,j8=new Ede,Y8=new V8,p3=[],m3=[],v3=new Float32Array(16),g3=new Float32Array(9),y3=new Float32Array(4);function Id(t,e,n){const r=t[0];if(r<=0||r>0)return t;const a=e*n;let o=p3[a];if(o===void 0&&(o=new Float32Array(a),p3[a]=o),e!==0){r.toArray(o,0);for(let s=1,i=0;s!==e;++s)i+=n,t[s].toArray(o,i)}return o}function ta(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function na(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function $m(t,e){let n=m3[e];n===void 0&&(n=new Int32Array(e),m3[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Q0e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Z0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ta(n,e))return;t.uniform2fv(this.addr,e),na(n,e)}}function J0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ta(n,e))return;t.uniform3fv(this.addr,e),na(n,e)}}function epe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ta(n,e))return;t.uniform4fv(this.addr,e),na(n,e)}}function tpe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ta(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),na(n,e)}else{if(ta(n,r))return;y3.set(r),t.uniformMatrix2fv(this.addr,!1,y3),na(n,r)}}function npe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ta(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),na(n,e)}else{if(ta(n,r))return;g3.set(r),t.uniformMatrix3fv(this.addr,!1,g3),na(n,r)}}function rpe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ta(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),na(n,e)}else{if(ta(n,r))return;v3.set(r),t.uniformMatrix4fv(this.addr,!1,v3),na(n,r)}}function ape(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ope(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ta(n,e))return;t.uniform2iv(this.addr,e),na(n,e)}}function spe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ta(n,e))return;t.uniform3iv(this.addr,e),na(n,e)}}function ipe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ta(n,e))return;t.uniform4iv(this.addr,e),na(n,e)}}function lpe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function cpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ta(n,e))return;t.uniform2uiv(this.addr,e),na(n,e)}}function upe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ta(n,e))return;t.uniform3uiv(this.addr,e),na(n,e)}}function dpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ta(n,e))return;t.uniform4uiv(this.addr,e),na(n,e)}}function fpe(t,e,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a);let o;this.type===t.SAMPLER_2D_SHADOW?(h3.compareFunction=k8,o=h3):o=K8,n.setTexture2D(e||o,a)}function hpe(t,e,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),n.setTexture3D(e||j8,a)}function ppe(t,e,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),n.setTextureCube(e||Y8,a)}function mpe(t,e,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),n.setTexture2DArray(e||q8,a)}function vpe(t){switch(t){case 5126:return Q0e;case 35664:return Z0e;case 35665:return J0e;case 35666:return epe;case 35674:return tpe;case 35675:return npe;case 35676:return rpe;case 5124:case 35670:return ape;case 35667:case 35671:return ope;case 35668:case 35672:return spe;case 35669:case 35673:return ipe;case 5125:return lpe;case 36294:return cpe;case 36295:return upe;case 36296:return dpe;case 35678:case 36198:case 36298:case 36306:case 35682:return fpe;case 35679:case 36299:case 36307:return hpe;case 35680:case 36300:case 36308:case 36293:return ppe;case 36289:case 36303:case 36311:case 36292:return mpe}}function gpe(t,e){t.uniform1fv(this.addr,e)}function ype(t,e){const n=Id(e,this.size,2);t.uniform2fv(this.addr,n)}function bpe(t,e){const n=Id(e,this.size,3);t.uniform3fv(this.addr,n)}function Spe(t,e){const n=Id(e,this.size,4);t.uniform4fv(this.addr,n)}function _pe(t,e){const n=Id(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function wpe(t,e){const n=Id(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function xpe(t,e){const n=Id(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Cpe(t,e){t.uniform1iv(this.addr,e)}function Ape(t,e){t.uniform2iv(this.addr,e)}function Epe(t,e){t.uniform3iv(this.addr,e)}function Mpe(t,e){t.uniform4iv(this.addr,e)}function Tpe(t,e){t.uniform1uiv(this.addr,e)}function Ipe(t,e){t.uniform2uiv(this.addr,e)}function Rpe(t,e){t.uniform3uiv(this.addr,e)}function kpe(t,e){t.uniform4uiv(this.addr,e)}function Dpe(t,e,n){const r=this.cache,a=e.length,o=$m(n,a);ta(r,o)||(t.uniform1iv(this.addr,o),na(r,o));for(let s=0;s!==a;++s)n.setTexture2D(e[s]||K8,o[s])}function Ppe(t,e,n){const r=this.cache,a=e.length,o=$m(n,a);ta(r,o)||(t.uniform1iv(this.addr,o),na(r,o));for(let s=0;s!==a;++s)n.setTexture3D(e[s]||j8,o[s])}function Bpe(t,e,n){const r=this.cache,a=e.length,o=$m(n,a);ta(r,o)||(t.uniform1iv(this.addr,o),na(r,o));for(let s=0;s!==a;++s)n.setTextureCube(e[s]||Y8,o[s])}function Lpe(t,e,n){const r=this.cache,a=e.length,o=$m(n,a);ta(r,o)||(t.uniform1iv(this.addr,o),na(r,o));for(let s=0;s!==a;++s)n.setTexture2DArray(e[s]||q8,o[s])}function Npe(t){switch(t){case 5126:return gpe;case 35664:return ype;case 35665:return bpe;case 35666:return Spe;case 35674:return _pe;case 35675:return wpe;case 35676:return xpe;case 5124:case 35670:return Cpe;case 35667:case 35671:return Ape;case 35668:case 35672:return Epe;case 35669:case 35673:return Mpe;case 5125:return Tpe;case 36294:return Ipe;case 36295:return Rpe;case 36296:return kpe;case 35678:case 36198:case 36298:case 36306:case 35682:return Dpe;case 35679:case 36299:case 36307:return Ppe;case 35680:case 36300:case 36308:case 36293:return Bpe;case 36289:case 36303:case 36311:case 36292:return Lpe}}class Fpe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=vpe(n.type)}}class Ope{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Npe(n.type)}}class zpe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const a=this.seq;for(let o=0,s=a.length;o!==s;++o){const i=a[o];i.setValue(e,n[i.id],r)}}}const kg=/(\w+)(\])?(\[|\.)?/g;function b3(t,e){t.seq.push(e),t.map[e.id]=e}function Upe(t,e,n){const r=t.name,a=r.length;for(kg.lastIndex=0;;){const o=kg.exec(r),s=kg.lastIndex;let i=o[1];const l=o[2]==="]",c=o[3];if(l&&(i=i|0),c===void 0||c==="["&&s+2===a){b3(n,c===void 0?new Fpe(i,t,e):new Ope(i,t,e));break}else{let f=n.map[i];f===void 0&&(f=new zpe(i),b3(n,f)),n=f}}}class cp{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(n,a),s=e.getUniformLocation(n,o.name);Upe(o,s,this)}}setValue(e,n,r,a){const o=this.map[n];o!==void 0&&o.setValue(e,r,a)}setOptional(e,n,r){const a=n[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,n,r,a){for(let o=0,s=n.length;o!==s;++o){const i=n[o],l=r[i.id];l.needsUpdate!==!1&&i.setValue(e,l.value,a)}}static seqWithValue(e,n){const r=[];for(let a=0,o=e.length;a!==o;++a){const s=e[a];s.id in n&&r.push(s)}return r}}function S3(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Hpe=37297;let $pe=0;function Vpe(t,e){const n=t.split(`
`),r=[],a=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=a;s<o;s++){const i=s+1;r.push(`${i===e?">":" "} ${i}: ${n[s]}`)}return r.join(`
`)}const _3=new Cn;function Wpe(t){er._getMatrix(_3,er.workingColorSpace,t);const e=`mat3( ${_3.elements.map(n=>n.toFixed(4))} )`;switch(er.getTransfer(t)){case Hp:return[e,"LinearTransferOETF"];case dr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function w3(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),a=t.getShaderInfoLog(e).trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+a+`

`+Vpe(t.getShaderSource(e),s)}else return a}function Gpe(t,e){const n=Wpe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Kpe(t,e){let n;switch(e){case Lue:n="Linear";break;case Nue:n="Reinhard";break;case Fue:n="Cineon";break;case Oue:n="ACESFilmic";break;case Uue:n="AgX";break;case Hue:n="Neutral";break;case zue:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const R0=new Be;function qpe(){er.getLuminanceCoefficients(R0);const t=R0.x.toFixed(4),e=R0.y.toFixed(4),n=R0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function jpe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Qd).join(`
`)}function Ype(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Xpe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=t.getActiveAttrib(e,a),s=o.name;let i=1;o.type===t.FLOAT_MAT2&&(i=2),o.type===t.FLOAT_MAT3&&(i=3),o.type===t.FLOAT_MAT4&&(i=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:i}}return n}function Qd(t){return t!==""}function x3(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function C3(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Qpe=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qy(t){return t.replace(Qpe,Jpe)}const Zpe=new Map;function Jpe(t,e){let n=kn[e];if(n===void 0){const r=Zpe.get(e);if(r!==void 0)n=kn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Qy(n)}const eme=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function A3(t){return t.replace(eme,tme)}function tme(t,e,n,r){let a="";for(let o=parseInt(e);o<parseInt(n);o++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function E3(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function nme(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===y8?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===mue?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ti&&(e="SHADOWMAP_TYPE_VSM"),e}function rme(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case rd:case ad:e="ENVMAP_TYPE_CUBE";break;case zm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ame(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ad:e="ENVMAP_MODE_REFRACTION";break}return e}function ome(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case S8:e="ENVMAP_BLENDING_MULTIPLY";break;case Pue:e="ENVMAP_BLENDING_MIX";break;case Bue:e="ENVMAP_BLENDING_ADD";break}return e}function sme(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function ime(t,e,n,r){const a=t.getContext(),o=n.defines;let s=n.vertexShader,i=n.fragmentShader;const l=nme(n),c=rme(n),u=ame(n),f=ome(n),h=sme(n),p=jpe(n),m=Ype(o),g=a.createProgram();let y,v,A=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Qd).join(`
`),y.length>0&&(y+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Qd).join(`
`),v.length>0&&(v+=`
`)):(y=[E3(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qd).join(`
`),v=[E3(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==sl?"#define TONE_MAPPING":"",n.toneMapping!==sl?kn.tonemapping_pars_fragment:"",n.toneMapping!==sl?Kpe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",kn.colorspace_pars_fragment,Gpe("linearToOutputTexel",n.outputColorSpace),qpe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Qd).join(`
`)),s=Qy(s),s=x3(s,n),s=C3(s,n),i=Qy(i),i=x3(i,n),i=C3(i,n),s=A3(s),i=A3(i),n.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,y=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",n.glslVersion===zC?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===zC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const w=A+y+s,S=A+v+i,C=S3(a,a.VERTEX_SHADER,w),E=S3(a,a.FRAGMENT_SHADER,S);a.attachShader(g,C),a.attachShader(g,E),n.index0AttributeName!==void 0?a.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&a.bindAttribLocation(g,0,"position"),a.linkProgram(g);function I(D){if(t.debug.checkShaderErrors){const B=a.getProgramInfoLog(g).trim(),z=a.getShaderInfoLog(C).trim(),q=a.getShaderInfoLog(E).trim();let $=!0,L=!0;if(a.getProgramParameter(g,a.LINK_STATUS)===!1)if($=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(a,g,C,E);else{const W=w3(a,C,"vertex"),U=w3(a,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(g,a.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+B+`
`+W+`
`+U)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(z===""||q==="")&&(L=!1);L&&(D.diagnostics={runnable:$,programLog:B,vertexShader:{log:z,prefix:y},fragmentShader:{log:q,prefix:v}})}a.deleteShader(C),a.deleteShader(E),k=new cp(a,g),T=Xpe(a,g)}let k;this.getUniforms=function(){return k===void 0&&I(this),k};let T;this.getAttributes=function(){return T===void 0&&I(this),T};let M=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=a.getProgramParameter(g,Hpe)),M},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=$pe++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=C,this.fragmentShader=E,this}let lme=0;class cme{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(a)===!1&&(s.add(a),a.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new ume(e),n.set(e,r)),r}}class ume{constructor(e){this.id=lme++,this.code=e,this.usedTimes=0}}function dme(t,e,n,r,a,o,s){const i=new F8,l=new cme,c=new Set,u=[],f=a.logarithmicDepthBuffer,h=a.vertexTextures;let p=a.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(T){return c.add(T),T===0?"uv":`uv${T}`}function y(T,M,D,B,z){const q=B.fog,$=z.geometry,L=T.isMeshStandardMaterial?B.environment:null,W=(T.isMeshStandardMaterial?n:e).get(T.envMap||L),U=W&&W.mapping===zm?W.image.height:null,F=m[T.type];T.precision!==null&&(p=a.getMaxPrecision(T.precision),p!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",p,"instead."));const Q=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,ne=Q!==void 0?Q.length:0;let de=0;$.morphAttributes.position!==void 0&&(de=1),$.morphAttributes.normal!==void 0&&(de=2),$.morphAttributes.color!==void 0&&(de=3);let ie,ce,ge,Ae;if(F){const Wn=Ss[F];ie=Wn.vertexShader,ce=Wn.fragmentShader}else ie=T.vertexShader,ce=T.fragmentShader,l.update(T),ge=l.getVertexShaderID(T),Ae=l.getFragmentShaderID(T);const pe=t.getRenderTarget(),Ie=t.state.buffers.depth.getReversed(),Re=z.isInstancedMesh===!0,Je=z.isBatchedMesh===!0,Ye=!!T.map,Z=!!T.matcap,me=!!W,oe=!!T.aoMap,Ve=!!T.lightMap,Le=!!T.bumpMap,ze=!!T.normalMap,De=!!T.displacementMap,Fe=!!T.emissiveMap,Ge=!!T.metalnessMap,ae=!!T.roughnessMap,te=T.anisotropy>0,we=T.clearcoat>0,ye=T.dispersion>0,$e=T.iridescence>0,je=T.sheen>0,yt=T.transmission>0,ut=te&&!!T.anisotropyMap,_t=we&&!!T.clearcoatMap,Ft=we&&!!T.clearcoatNormalMap,ht=we&&!!T.clearcoatRoughnessMap,X=$e&&!!T.iridescenceMap,He=$e&&!!T.iridescenceThicknessMap,ve=je&&!!T.sheenColorMap,ke=je&&!!T.sheenRoughnessMap,fe=!!T.specularMap,tt=!!T.specularColorMap,Rt=!!T.specularIntensityMap,Oe=yt&&!!T.transmissionMap,Tt=yt&&!!T.thicknessMap,ot=!!T.gradientMap,dt=!!T.alphaMap,It=T.alphaTest>0,gt=!!T.alphaHash,an=!!T.extensions;let Yn=sl;T.toneMapped&&(pe===null||pe.isXRRenderTarget===!0)&&(Yn=t.toneMapping);const Tr={shaderID:F,shaderType:T.type,shaderName:T.name,vertexShader:ie,fragmentShader:ce,defines:T.defines,customVertexShaderID:ge,customFragmentShaderID:Ae,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:p,batching:Je,batchingColor:Je&&z._colorsTexture!==null,instancing:Re,instancingColor:Re&&z.instanceColor!==null,instancingMorph:Re&&z.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:pe===null?t.outputColorSpace:pe.isXRRenderTarget===!0?pe.texture.colorSpace:id,alphaToCoverage:!!T.alphaToCoverage,map:Ye,matcap:Z,envMap:me,envMapMode:me&&W.mapping,envMapCubeUVHeight:U,aoMap:oe,lightMap:Ve,bumpMap:Le,normalMap:ze,displacementMap:h&&De,emissiveMap:Fe,normalMapObjectSpace:ze&&T.normalMapType===Kue,normalMapTangentSpace:ze&&T.normalMapType===Gue,metalnessMap:Ge,roughnessMap:ae,anisotropy:te,anisotropyMap:ut,clearcoat:we,clearcoatMap:_t,clearcoatNormalMap:Ft,clearcoatRoughnessMap:ht,dispersion:ye,iridescence:$e,iridescenceMap:X,iridescenceThicknessMap:He,sheen:je,sheenColorMap:ve,sheenRoughnessMap:ke,specularMap:fe,specularColorMap:tt,specularIntensityMap:Rt,transmission:yt,transmissionMap:Oe,thicknessMap:Tt,gradientMap:ot,opaque:T.transparent===!1&&T.blending===ol&&T.alphaToCoverage===!1,alphaMap:dt,alphaTest:It,alphaHash:gt,combine:T.combine,mapUv:Ye&&g(T.map.channel),aoMapUv:oe&&g(T.aoMap.channel),lightMapUv:Ve&&g(T.lightMap.channel),bumpMapUv:Le&&g(T.bumpMap.channel),normalMapUv:ze&&g(T.normalMap.channel),displacementMapUv:De&&g(T.displacementMap.channel),emissiveMapUv:Fe&&g(T.emissiveMap.channel),metalnessMapUv:Ge&&g(T.metalnessMap.channel),roughnessMapUv:ae&&g(T.roughnessMap.channel),anisotropyMapUv:ut&&g(T.anisotropyMap.channel),clearcoatMapUv:_t&&g(T.clearcoatMap.channel),clearcoatNormalMapUv:Ft&&g(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ht&&g(T.clearcoatRoughnessMap.channel),iridescenceMapUv:X&&g(T.iridescenceMap.channel),iridescenceThicknessMapUv:He&&g(T.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&g(T.sheenColorMap.channel),sheenRoughnessMapUv:ke&&g(T.sheenRoughnessMap.channel),specularMapUv:fe&&g(T.specularMap.channel),specularColorMapUv:tt&&g(T.specularColorMap.channel),specularIntensityMapUv:Rt&&g(T.specularIntensityMap.channel),transmissionMapUv:Oe&&g(T.transmissionMap.channel),thicknessMapUv:Tt&&g(T.thicknessMap.channel),alphaMapUv:dt&&g(T.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(ze||te),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:z.isPoints===!0&&!!$.attributes.uv&&(Ye||dt),fog:!!q,useFog:T.fog===!0,fogExp2:!!q&&q.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:Ie,skinning:z.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:de,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:Yn,decodeVideoTexture:Ye&&T.map.isVideoTexture===!0&&er.getTransfer(T.map.colorSpace)===dr,decodeVideoTextureEmissive:Fe&&T.emissiveMap.isVideoTexture===!0&&er.getTransfer(T.emissiveMap.colorSpace)===dr,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===ko,flipSided:T.side===Za,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:an&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(an&&T.extensions.multiDraw===!0||Je)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return Tr.vertexUv1s=c.has(1),Tr.vertexUv2s=c.has(2),Tr.vertexUv3s=c.has(3),c.clear(),Tr}function v(T){const M=[];if(T.shaderID?M.push(T.shaderID):(M.push(T.customVertexShaderID),M.push(T.customFragmentShaderID)),T.defines!==void 0)for(const D in T.defines)M.push(D),M.push(T.defines[D]);return T.isRawShaderMaterial===!1&&(A(M,T),w(M,T),M.push(t.outputColorSpace)),M.push(T.customProgramCacheKey),M.join()}function A(T,M){T.push(M.precision),T.push(M.outputColorSpace),T.push(M.envMapMode),T.push(M.envMapCubeUVHeight),T.push(M.mapUv),T.push(M.alphaMapUv),T.push(M.lightMapUv),T.push(M.aoMapUv),T.push(M.bumpMapUv),T.push(M.normalMapUv),T.push(M.displacementMapUv),T.push(M.emissiveMapUv),T.push(M.metalnessMapUv),T.push(M.roughnessMapUv),T.push(M.anisotropyMapUv),T.push(M.clearcoatMapUv),T.push(M.clearcoatNormalMapUv),T.push(M.clearcoatRoughnessMapUv),T.push(M.iridescenceMapUv),T.push(M.iridescenceThicknessMapUv),T.push(M.sheenColorMapUv),T.push(M.sheenRoughnessMapUv),T.push(M.specularMapUv),T.push(M.specularColorMapUv),T.push(M.specularIntensityMapUv),T.push(M.transmissionMapUv),T.push(M.thicknessMapUv),T.push(M.combine),T.push(M.fogExp2),T.push(M.sizeAttenuation),T.push(M.morphTargetsCount),T.push(M.morphAttributeCount),T.push(M.numDirLights),T.push(M.numPointLights),T.push(M.numSpotLights),T.push(M.numSpotLightMaps),T.push(M.numHemiLights),T.push(M.numRectAreaLights),T.push(M.numDirLightShadows),T.push(M.numPointLightShadows),T.push(M.numSpotLightShadows),T.push(M.numSpotLightShadowsWithMaps),T.push(M.numLightProbes),T.push(M.shadowMapType),T.push(M.toneMapping),T.push(M.numClippingPlanes),T.push(M.numClipIntersection),T.push(M.depthPacking)}function w(T,M){i.disableAll(),M.supportsVertexTextures&&i.enable(0),M.instancing&&i.enable(1),M.instancingColor&&i.enable(2),M.instancingMorph&&i.enable(3),M.matcap&&i.enable(4),M.envMap&&i.enable(5),M.normalMapObjectSpace&&i.enable(6),M.normalMapTangentSpace&&i.enable(7),M.clearcoat&&i.enable(8),M.iridescence&&i.enable(9),M.alphaTest&&i.enable(10),M.vertexColors&&i.enable(11),M.vertexAlphas&&i.enable(12),M.vertexUv1s&&i.enable(13),M.vertexUv2s&&i.enable(14),M.vertexUv3s&&i.enable(15),M.vertexTangents&&i.enable(16),M.anisotropy&&i.enable(17),M.alphaHash&&i.enable(18),M.batching&&i.enable(19),M.dispersion&&i.enable(20),M.batchingColor&&i.enable(21),T.push(i.mask),i.disableAll(),M.fog&&i.enable(0),M.useFog&&i.enable(1),M.flatShading&&i.enable(2),M.logarithmicDepthBuffer&&i.enable(3),M.reverseDepthBuffer&&i.enable(4),M.skinning&&i.enable(5),M.morphTargets&&i.enable(6),M.morphNormals&&i.enable(7),M.morphColors&&i.enable(8),M.premultipliedAlpha&&i.enable(9),M.shadowMapEnabled&&i.enable(10),M.doubleSided&&i.enable(11),M.flipSided&&i.enable(12),M.useDepthPacking&&i.enable(13),M.dithering&&i.enable(14),M.transmission&&i.enable(15),M.sheen&&i.enable(16),M.opaque&&i.enable(17),M.pointsUvs&&i.enable(18),M.decodeVideoTexture&&i.enable(19),M.decodeVideoTextureEmissive&&i.enable(20),M.alphaToCoverage&&i.enable(21),T.push(i.mask)}function S(T){const M=m[T.type];let D;if(M){const B=Ss[M];D=Hde.clone(B.uniforms)}else D=T.uniforms;return D}function C(T,M){let D;for(let B=0,z=u.length;B<z;B++){const q=u[B];if(q.cacheKey===M){D=q,++D.usedTimes;break}}return D===void 0&&(D=new ime(t,M,T,o),u.push(D)),D}function E(T){if(--T.usedTimes===0){const M=u.indexOf(T);u[M]=u[u.length-1],u.pop(),T.destroy()}}function I(T){l.remove(T)}function k(){l.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:S,acquireProgram:C,releaseProgram:E,releaseShaderCache:I,programs:u,dispose:k}}function fme(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let i=t.get(s);return i===void 0&&(i={},t.set(s,i)),i}function r(s){t.delete(s)}function a(s,i,l){t.get(s)[i]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:a,dispose:o}}function hme(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function M3(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function T3(){const t=[];let e=0;const n=[],r=[],a=[];function o(){e=0,n.length=0,r.length=0,a.length=0}function s(f,h,p,m,g,y){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:h,material:p,groupOrder:m,renderOrder:f.renderOrder,z:g,group:y},t[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=p,v.groupOrder=m,v.renderOrder=f.renderOrder,v.z=g,v.group=y),e++,v}function i(f,h,p,m,g,y){const v=s(f,h,p,m,g,y);p.transmission>0?r.push(v):p.transparent===!0?a.push(v):n.push(v)}function l(f,h,p,m,g,y){const v=s(f,h,p,m,g,y);p.transmission>0?r.unshift(v):p.transparent===!0?a.unshift(v):n.unshift(v)}function c(f,h){n.length>1&&n.sort(f||hme),r.length>1&&r.sort(h||M3),a.length>1&&a.sort(h||M3)}function u(){for(let f=e,h=t.length;f<h;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:a,init:o,push:i,unshift:l,finish:u,sort:c}}function pme(){let t=new WeakMap;function e(r,a){const o=t.get(r);let s;return o===void 0?(s=new T3,t.set(r,[s])):a>=o.length?(s=new T3,o.push(s)):s=o[a],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function mme(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Be,color:new tr};break;case"SpotLight":n={position:new Be,direction:new Be,color:new tr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Be,color:new tr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Be,skyColor:new tr,groundColor:new tr};break;case"RectAreaLight":n={color:new tr,position:new Be,halfWidth:new Be,halfHeight:new Be};break}return t[e.id]=n,n}}}function vme(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let gme=0;function yme(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function bme(t){const e=new mme,n=vme(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Be);const a=new Be,o=new An,s=new An;function i(c){let u=0,f=0,h=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let p=0,m=0,g=0,y=0,v=0,A=0,w=0,S=0,C=0,E=0,I=0;c.sort(yme);for(let T=0,M=c.length;T<M;T++){const D=c[T],B=D.color,z=D.intensity,q=D.distance,$=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)u+=B.r*z,f+=B.g*z,h+=B.b*z;else if(D.isLightProbe){for(let L=0;L<9;L++)r.probe[L].addScaledVector(D.sh.coefficients[L],z);I++}else if(D.isDirectionalLight){const L=e.get(D);if(L.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const W=D.shadow,U=n.get(D);U.shadowIntensity=W.intensity,U.shadowBias=W.bias,U.shadowNormalBias=W.normalBias,U.shadowRadius=W.radius,U.shadowMapSize=W.mapSize,r.directionalShadow[p]=U,r.directionalShadowMap[p]=$,r.directionalShadowMatrix[p]=D.shadow.matrix,A++}r.directional[p]=L,p++}else if(D.isSpotLight){const L=e.get(D);L.position.setFromMatrixPosition(D.matrixWorld),L.color.copy(B).multiplyScalar(z),L.distance=q,L.coneCos=Math.cos(D.angle),L.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),L.decay=D.decay,r.spot[g]=L;const W=D.shadow;if(D.map&&(r.spotLightMap[C]=D.map,C++,W.updateMatrices(D),D.castShadow&&E++),r.spotLightMatrix[g]=W.matrix,D.castShadow){const U=n.get(D);U.shadowIntensity=W.intensity,U.shadowBias=W.bias,U.shadowNormalBias=W.normalBias,U.shadowRadius=W.radius,U.shadowMapSize=W.mapSize,r.spotShadow[g]=U,r.spotShadowMap[g]=$,S++}g++}else if(D.isRectAreaLight){const L=e.get(D);L.color.copy(B).multiplyScalar(z),L.halfWidth.set(D.width*.5,0,0),L.halfHeight.set(0,D.height*.5,0),r.rectArea[y]=L,y++}else if(D.isPointLight){const L=e.get(D);if(L.color.copy(D.color).multiplyScalar(D.intensity),L.distance=D.distance,L.decay=D.decay,D.castShadow){const W=D.shadow,U=n.get(D);U.shadowIntensity=W.intensity,U.shadowBias=W.bias,U.shadowNormalBias=W.normalBias,U.shadowRadius=W.radius,U.shadowMapSize=W.mapSize,U.shadowCameraNear=W.camera.near,U.shadowCameraFar=W.camera.far,r.pointShadow[m]=U,r.pointShadowMap[m]=$,r.pointShadowMatrix[m]=D.shadow.matrix,w++}r.point[m]=L,m++}else if(D.isHemisphereLight){const L=e.get(D);L.skyColor.copy(D.color).multiplyScalar(z),L.groundColor.copy(D.groundColor).multiplyScalar(z),r.hemi[v]=L,v++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Xt.LTC_FLOAT_1,r.rectAreaLTC2=Xt.LTC_FLOAT_2):(r.rectAreaLTC1=Xt.LTC_HALF_1,r.rectAreaLTC2=Xt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=f,r.ambient[2]=h;const k=r.hash;(k.directionalLength!==p||k.pointLength!==m||k.spotLength!==g||k.rectAreaLength!==y||k.hemiLength!==v||k.numDirectionalShadows!==A||k.numPointShadows!==w||k.numSpotShadows!==S||k.numSpotMaps!==C||k.numLightProbes!==I)&&(r.directional.length=p,r.spot.length=g,r.rectArea.length=y,r.point.length=m,r.hemi.length=v,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=S+C-E,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=E,r.numLightProbes=I,k.directionalLength=p,k.pointLength=m,k.spotLength=g,k.rectAreaLength=y,k.hemiLength=v,k.numDirectionalShadows=A,k.numPointShadows=w,k.numSpotShadows=S,k.numSpotMaps=C,k.numLightProbes=I,r.version=gme++)}function l(c,u){let f=0,h=0,p=0,m=0,g=0;const y=u.matrixWorldInverse;for(let v=0,A=c.length;v<A;v++){const w=c[v];if(w.isDirectionalLight){const S=r.directional[f];S.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(a),S.direction.transformDirection(y),f++}else if(w.isSpotLight){const S=r.spot[p];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),S.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(a),S.direction.transformDirection(y),p++}else if(w.isRectAreaLight){const S=r.rectArea[m];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),s.identity(),o.copy(w.matrixWorld),o.premultiply(y),s.extractRotation(o),S.halfWidth.set(w.width*.5,0,0),S.halfHeight.set(0,w.height*.5,0),S.halfWidth.applyMatrix4(s),S.halfHeight.applyMatrix4(s),m++}else if(w.isPointLight){const S=r.point[h];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),h++}else if(w.isHemisphereLight){const S=r.hemi[g];S.direction.setFromMatrixPosition(w.matrixWorld),S.direction.transformDirection(y),g++}}}return{setup:i,setupView:l,state:r}}function I3(t){const e=new bme(t),n=[],r=[];function a(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function s(u){r.push(u)}function i(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:c,setupLights:i,setupLightsView:l,pushLight:o,pushShadow:s}}function Sme(t){let e=new WeakMap;function n(a,o=0){const s=e.get(a);let i;return s===void 0?(i=new I3(t),e.set(a,[i])):o>=s.length?(i=new I3(t),s.push(i)):i=s[o],i}function r(){e=new WeakMap}return{get:n,dispose:r}}const _me=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wme=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function xme(t,e,n){let r=new W8;const a=new dn,o=new dn,s=new Er,i=new Xde({depthPacking:Wue}),l=new Qde,c={},u=n.maxTextureSize,f={[Ps]:Za,[Za]:Ps,[ko]:ko},h=new So({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dn},radius:{value:4}},vertexShader:_me,fragmentShader:wme}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const m=new Go;m.setAttribute("position",new Fo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Hr(m,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=y8;let v=this.type;this.render=function(E,I,k){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const T=t.getRenderTarget(),M=t.getActiveCubeFace(),D=t.getActiveMipmapLevel(),B=t.state;B.setBlending(al),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const z=v!==ti&&this.type===ti,q=v===ti&&this.type!==ti;for(let $=0,L=E.length;$<L;$++){const W=E[$],U=W.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;a.copy(U.mapSize);const F=U.getFrameExtents();if(a.multiply(F),o.copy(U.mapSize),(a.x>u||a.y>u)&&(a.x>u&&(o.x=Math.floor(u/F.x),a.x=o.x*F.x,U.mapSize.x=o.x),a.y>u&&(o.y=Math.floor(u/F.y),a.y=o.y*F.y,U.mapSize.y=o.y)),U.map===null||z===!0||q===!0){const ne=this.type!==ti?{minFilter:yo,magFilter:yo}:{};U.map!==null&&U.map.dispose(),U.map=new Sl(a.x,a.y,ne),U.map.texture.name=W.name+".shadowMap",U.camera.updateProjectionMatrix()}t.setRenderTarget(U.map),t.clear();const Q=U.getViewportCount();for(let ne=0;ne<Q;ne++){const de=U.getViewport(ne);s.set(o.x*de.x,o.y*de.y,o.x*de.z,o.y*de.w),B.viewport(s),U.updateMatrices(W,ne),r=U.getFrustum(),S(I,k,U.camera,W,this.type)}U.isPointLightShadow!==!0&&this.type===ti&&A(U,k),U.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(T,M,D)};function A(E,I){const k=e.update(g);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,p.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Sl(a.x,a.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(I,null,k,h,g,null),p.uniforms.shadow_pass.value=E.mapPass.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(I,null,k,p,g,null)}function w(E,I,k,T){let M=null;const D=k.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(D!==void 0)M=D;else if(M=k.isPointLight===!0?l:i,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const B=M.uuid,z=I.uuid;let q=c[B];q===void 0&&(q={},c[B]=q);let $=q[z];$===void 0&&($=M.clone(),q[z]=$,I.addEventListener("dispose",C)),M=$}if(M.visible=I.visible,M.wireframe=I.wireframe,T===ti?M.side=I.shadowSide!==null?I.shadowSide:I.side:M.side=I.shadowSide!==null?I.shadowSide:f[I.side],M.alphaMap=I.alphaMap,M.alphaTest=I.alphaTest,M.map=I.map,M.clipShadows=I.clipShadows,M.clippingPlanes=I.clippingPlanes,M.clipIntersection=I.clipIntersection,M.displacementMap=I.displacementMap,M.displacementScale=I.displacementScale,M.displacementBias=I.displacementBias,M.wireframeLinewidth=I.wireframeLinewidth,M.linewidth=I.linewidth,k.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const B=t.properties.get(M);B.light=k}return M}function S(E,I,k,T,M){if(E.visible===!1)return;if(E.layers.test(I.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&M===ti)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,E.matrixWorld);const z=e.update(E),q=E.material;if(Array.isArray(q)){const $=z.groups;for(let L=0,W=$.length;L<W;L++){const U=$[L],F=q[U.materialIndex];if(F&&F.visible){const Q=w(E,F,T,M);E.onBeforeShadow(t,E,I,k,z,Q,U),t.renderBufferDirect(k,null,z,Q,E,U),E.onAfterShadow(t,E,I,k,z,Q,U)}}}else if(q.visible){const $=w(E,q,T,M);E.onBeforeShadow(t,E,I,k,z,$,null),t.renderBufferDirect(k,null,z,$,E,null),E.onAfterShadow(t,E,I,k,z,$,null)}}const B=E.children;for(let z=0,q=B.length;z<q;z++)S(B[z],I,k,T,M)}function C(E){E.target.removeEventListener("dispose",C);for(const k in c){const T=c[k],M=E.target.uuid;M in T&&(T[M].dispose(),delete T[M])}}}const Cme={[py]:my,[vy]:by,[gy]:Sy,[nd]:yy,[my]:py,[by]:vy,[Sy]:gy,[yy]:nd};function Ame(t,e){function n(){let Oe=!1;const Tt=new Er;let ot=null;const dt=new Er(0,0,0,0);return{setMask:function(It){ot!==It&&!Oe&&(t.colorMask(It,It,It,It),ot=It)},setLocked:function(It){Oe=It},setClear:function(It,gt,an,Yn,Tr){Tr===!0&&(It*=Yn,gt*=Yn,an*=Yn),Tt.set(It,gt,an,Yn),dt.equals(Tt)===!1&&(t.clearColor(It,gt,an,Yn),dt.copy(Tt))},reset:function(){Oe=!1,ot=null,dt.set(-1,0,0,0)}}}function r(){let Oe=!1,Tt=!1,ot=null,dt=null,It=null;return{setReversed:function(gt){if(Tt!==gt){const an=e.get("EXT_clip_control");Tt?an.clipControlEXT(an.LOWER_LEFT_EXT,an.ZERO_TO_ONE_EXT):an.clipControlEXT(an.LOWER_LEFT_EXT,an.NEGATIVE_ONE_TO_ONE_EXT);const Yn=It;It=null,this.setClear(Yn)}Tt=gt},getReversed:function(){return Tt},setTest:function(gt){gt?pe(t.DEPTH_TEST):Ie(t.DEPTH_TEST)},setMask:function(gt){ot!==gt&&!Oe&&(t.depthMask(gt),ot=gt)},setFunc:function(gt){if(Tt&&(gt=Cme[gt]),dt!==gt){switch(gt){case py:t.depthFunc(t.NEVER);break;case my:t.depthFunc(t.ALWAYS);break;case vy:t.depthFunc(t.LESS);break;case nd:t.depthFunc(t.LEQUAL);break;case gy:t.depthFunc(t.EQUAL);break;case yy:t.depthFunc(t.GEQUAL);break;case by:t.depthFunc(t.GREATER);break;case Sy:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}dt=gt}},setLocked:function(gt){Oe=gt},setClear:function(gt){It!==gt&&(Tt&&(gt=1-gt),t.clearDepth(gt),It=gt)},reset:function(){Oe=!1,ot=null,dt=null,It=null,Tt=!1}}}function a(){let Oe=!1,Tt=null,ot=null,dt=null,It=null,gt=null,an=null,Yn=null,Tr=null;return{setTest:function(Wn){Oe||(Wn?pe(t.STENCIL_TEST):Ie(t.STENCIL_TEST))},setMask:function(Wn){Tt!==Wn&&!Oe&&(t.stencilMask(Wn),Tt=Wn)},setFunc:function(Wn,Pr,Tn){(ot!==Wn||dt!==Pr||It!==Tn)&&(t.stencilFunc(Wn,Pr,Tn),ot=Wn,dt=Pr,It=Tn)},setOp:function(Wn,Pr,Tn){(gt!==Wn||an!==Pr||Yn!==Tn)&&(t.stencilOp(Wn,Pr,Tn),gt=Wn,an=Pr,Yn=Tn)},setLocked:function(Wn){Oe=Wn},setClear:function(Wn){Tr!==Wn&&(t.clearStencil(Wn),Tr=Wn)},reset:function(){Oe=!1,Tt=null,ot=null,dt=null,It=null,gt=null,an=null,Yn=null,Tr=null}}}const o=new n,s=new r,i=new a,l=new WeakMap,c=new WeakMap;let u={},f={},h=new WeakMap,p=[],m=null,g=!1,y=null,v=null,A=null,w=null,S=null,C=null,E=null,I=new tr(0,0,0),k=0,T=!1,M=null,D=null,B=null,z=null,q=null;const $=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let L=!1,W=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(U)[1]),L=W>=1):U.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),L=W>=2);let F=null,Q={};const ne=t.getParameter(t.SCISSOR_BOX),de=t.getParameter(t.VIEWPORT),ie=new Er().fromArray(ne),ce=new Er().fromArray(de);function ge(Oe,Tt,ot,dt){const It=new Uint8Array(4),gt=t.createTexture();t.bindTexture(Oe,gt),t.texParameteri(Oe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Oe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let an=0;an<ot;an++)Oe===t.TEXTURE_3D||Oe===t.TEXTURE_2D_ARRAY?t.texImage3D(Tt,0,t.RGBA,1,1,dt,0,t.RGBA,t.UNSIGNED_BYTE,It):t.texImage2D(Tt+an,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,It);return gt}const Ae={};Ae[t.TEXTURE_2D]=ge(t.TEXTURE_2D,t.TEXTURE_2D,1),Ae[t.TEXTURE_CUBE_MAP]=ge(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ae[t.TEXTURE_2D_ARRAY]=ge(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Ae[t.TEXTURE_3D]=ge(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),i.setClear(0),pe(t.DEPTH_TEST),s.setFunc(nd),Le(!1),ze(PC),pe(t.CULL_FACE),oe(al);function pe(Oe){u[Oe]!==!0&&(t.enable(Oe),u[Oe]=!0)}function Ie(Oe){u[Oe]!==!1&&(t.disable(Oe),u[Oe]=!1)}function Re(Oe,Tt){return f[Oe]!==Tt?(t.bindFramebuffer(Oe,Tt),f[Oe]=Tt,Oe===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Tt),Oe===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Tt),!0):!1}function Je(Oe,Tt){let ot=p,dt=!1;if(Oe){ot=h.get(Tt),ot===void 0&&(ot=[],h.set(Tt,ot));const It=Oe.textures;if(ot.length!==It.length||ot[0]!==t.COLOR_ATTACHMENT0){for(let gt=0,an=It.length;gt<an;gt++)ot[gt]=t.COLOR_ATTACHMENT0+gt;ot.length=It.length,dt=!0}}else ot[0]!==t.BACK&&(ot[0]=t.BACK,dt=!0);dt&&t.drawBuffers(ot)}function Ye(Oe){return m!==Oe?(t.useProgram(Oe),m=Oe,!0):!1}const Z={[Yl]:t.FUNC_ADD,[vue]:t.FUNC_SUBTRACT,[gue]:t.FUNC_REVERSE_SUBTRACT};Z[yue]=t.MIN,Z[bue]=t.MAX;const me={[Sue]:t.ZERO,[_ue]:t.ONE,[wue]:t.SRC_COLOR,[Zf]:t.SRC_ALPHA,[Tue]:t.SRC_ALPHA_SATURATE,[Eue]:t.DST_COLOR,[Cue]:t.DST_ALPHA,[xue]:t.ONE_MINUS_SRC_COLOR,[Jf]:t.ONE_MINUS_SRC_ALPHA,[Mue]:t.ONE_MINUS_DST_COLOR,[Aue]:t.ONE_MINUS_DST_ALPHA,[Iue]:t.CONSTANT_COLOR,[Rue]:t.ONE_MINUS_CONSTANT_COLOR,[kue]:t.CONSTANT_ALPHA,[Due]:t.ONE_MINUS_CONSTANT_ALPHA};function oe(Oe,Tt,ot,dt,It,gt,an,Yn,Tr,Wn){if(Oe===al){g===!0&&(Ie(t.BLEND),g=!1);return}if(g===!1&&(pe(t.BLEND),g=!0),Oe!==b8){if(Oe!==y||Wn!==T){if((v!==Yl||S!==Yl)&&(t.blendEquation(t.FUNC_ADD),v=Yl,S=Yl),Wn)switch(Oe){case ol:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case BC:t.blendFunc(t.ONE,t.ONE);break;case LC:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case NC:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Oe);break}else switch(Oe){case ol:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case BC:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case LC:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case NC:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Oe);break}A=null,w=null,C=null,E=null,I.set(0,0,0),k=0,y=Oe,T=Wn}return}It=It||Tt,gt=gt||ot,an=an||dt,(Tt!==v||It!==S)&&(t.blendEquationSeparate(Z[Tt],Z[It]),v=Tt,S=It),(ot!==A||dt!==w||gt!==C||an!==E)&&(t.blendFuncSeparate(me[ot],me[dt],me[gt],me[an]),A=ot,w=dt,C=gt,E=an),(Yn.equals(I)===!1||Tr!==k)&&(t.blendColor(Yn.r,Yn.g,Yn.b,Tr),I.copy(Yn),k=Tr),y=Oe,T=!1}function Ve(Oe,Tt){Oe.side===ko?Ie(t.CULL_FACE):pe(t.CULL_FACE);let ot=Oe.side===Za;Tt&&(ot=!ot),Le(ot),Oe.blending===ol&&Oe.transparent===!1?oe(al):oe(Oe.blending,Oe.blendEquation,Oe.blendSrc,Oe.blendDst,Oe.blendEquationAlpha,Oe.blendSrcAlpha,Oe.blendDstAlpha,Oe.blendColor,Oe.blendAlpha,Oe.premultipliedAlpha),s.setFunc(Oe.depthFunc),s.setTest(Oe.depthTest),s.setMask(Oe.depthWrite),o.setMask(Oe.colorWrite);const dt=Oe.stencilWrite;i.setTest(dt),dt&&(i.setMask(Oe.stencilWriteMask),i.setFunc(Oe.stencilFunc,Oe.stencilRef,Oe.stencilFuncMask),i.setOp(Oe.stencilFail,Oe.stencilZFail,Oe.stencilZPass)),Fe(Oe.polygonOffset,Oe.polygonOffsetFactor,Oe.polygonOffsetUnits),Oe.alphaToCoverage===!0?pe(t.SAMPLE_ALPHA_TO_COVERAGE):Ie(t.SAMPLE_ALPHA_TO_COVERAGE)}function Le(Oe){M!==Oe&&(Oe?t.frontFace(t.CW):t.frontFace(t.CCW),M=Oe)}function ze(Oe){Oe!==hue?(pe(t.CULL_FACE),Oe!==D&&(Oe===PC?t.cullFace(t.BACK):Oe===pue?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ie(t.CULL_FACE),D=Oe}function De(Oe){Oe!==B&&(L&&t.lineWidth(Oe),B=Oe)}function Fe(Oe,Tt,ot){Oe?(pe(t.POLYGON_OFFSET_FILL),(z!==Tt||q!==ot)&&(t.polygonOffset(Tt,ot),z=Tt,q=ot)):Ie(t.POLYGON_OFFSET_FILL)}function Ge(Oe){Oe?pe(t.SCISSOR_TEST):Ie(t.SCISSOR_TEST)}function ae(Oe){Oe===void 0&&(Oe=t.TEXTURE0+$-1),F!==Oe&&(t.activeTexture(Oe),F=Oe)}function te(Oe,Tt,ot){ot===void 0&&(F===null?ot=t.TEXTURE0+$-1:ot=F);let dt=Q[ot];dt===void 0&&(dt={type:void 0,texture:void 0},Q[ot]=dt),(dt.type!==Oe||dt.texture!==Tt)&&(F!==ot&&(t.activeTexture(ot),F=ot),t.bindTexture(Oe,Tt||Ae[Oe]),dt.type=Oe,dt.texture=Tt)}function we(){const Oe=Q[F];Oe!==void 0&&Oe.type!==void 0&&(t.bindTexture(Oe.type,null),Oe.type=void 0,Oe.texture=void 0)}function ye(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function $e(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function je(){try{t.texSubImage2D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function yt(){try{t.texSubImage3D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function ut(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function _t(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function Ft(){try{t.texStorage2D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function ht(){try{t.texStorage3D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function X(){try{t.texImage2D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function He(){try{t.texImage3D.apply(t,arguments)}catch(Oe){console.error("THREE.WebGLState:",Oe)}}function ve(Oe){ie.equals(Oe)===!1&&(t.scissor(Oe.x,Oe.y,Oe.z,Oe.w),ie.copy(Oe))}function ke(Oe){ce.equals(Oe)===!1&&(t.viewport(Oe.x,Oe.y,Oe.z,Oe.w),ce.copy(Oe))}function fe(Oe,Tt){let ot=c.get(Tt);ot===void 0&&(ot=new WeakMap,c.set(Tt,ot));let dt=ot.get(Oe);dt===void 0&&(dt=t.getUniformBlockIndex(Tt,Oe.name),ot.set(Oe,dt))}function tt(Oe,Tt){const dt=c.get(Tt).get(Oe);l.get(Tt)!==dt&&(t.uniformBlockBinding(Tt,dt,Oe.__bindingPointIndex),l.set(Tt,dt))}function Rt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},F=null,Q={},f={},h=new WeakMap,p=[],m=null,g=!1,y=null,v=null,A=null,w=null,S=null,C=null,E=null,I=new tr(0,0,0),k=0,T=!1,M=null,D=null,B=null,z=null,q=null,ie.set(0,0,t.canvas.width,t.canvas.height),ce.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),i.reset()}return{buffers:{color:o,depth:s,stencil:i},enable:pe,disable:Ie,bindFramebuffer:Re,drawBuffers:Je,useProgram:Ye,setBlending:oe,setMaterial:Ve,setFlipSided:Le,setCullFace:ze,setLineWidth:De,setPolygonOffset:Fe,setScissorTest:Ge,activeTexture:ae,bindTexture:te,unbindTexture:we,compressedTexImage2D:ye,compressedTexImage3D:$e,texImage2D:X,texImage3D:He,updateUBOMapping:fe,uniformBlockBinding:tt,texStorage2D:Ft,texStorage3D:ht,texSubImage2D:je,texSubImage3D:yt,compressedTexSubImage2D:ut,compressedTexSubImage3D:_t,scissor:ve,viewport:ke,reset:Rt}}function Eme(t,e,n,r,a,o,s){const i=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new dn,u=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(ae,te){return p?new OffscreenCanvas(ae,te):Vp("canvas")}function g(ae,te,we){let ye=1;const $e=Ge(ae);if(($e.width>we||$e.height>we)&&(ye=we/Math.max($e.width,$e.height)),ye<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const je=Math.floor(ye*$e.width),yt=Math.floor(ye*$e.height);f===void 0&&(f=m(je,yt));const ut=te?m(je,yt):f;return ut.width=je,ut.height=yt,ut.getContext("2d").drawImage(ae,0,0,je,yt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$e.width+"x"+$e.height+") to ("+je+"x"+yt+")."),ut}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$e.width+"x"+$e.height+")."),ae;return ae}function y(ae){return ae.generateMipmaps}function v(ae){t.generateMipmap(ae)}function A(ae){return ae.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?t.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function w(ae,te,we,ye,$e=!1){if(ae!==null){if(t[ae]!==void 0)return t[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let je=te;if(te===t.RED&&(we===t.FLOAT&&(je=t.R32F),we===t.HALF_FLOAT&&(je=t.R16F),we===t.UNSIGNED_BYTE&&(je=t.R8)),te===t.RED_INTEGER&&(we===t.UNSIGNED_BYTE&&(je=t.R8UI),we===t.UNSIGNED_SHORT&&(je=t.R16UI),we===t.UNSIGNED_INT&&(je=t.R32UI),we===t.BYTE&&(je=t.R8I),we===t.SHORT&&(je=t.R16I),we===t.INT&&(je=t.R32I)),te===t.RG&&(we===t.FLOAT&&(je=t.RG32F),we===t.HALF_FLOAT&&(je=t.RG16F),we===t.UNSIGNED_BYTE&&(je=t.RG8)),te===t.RG_INTEGER&&(we===t.UNSIGNED_BYTE&&(je=t.RG8UI),we===t.UNSIGNED_SHORT&&(je=t.RG16UI),we===t.UNSIGNED_INT&&(je=t.RG32UI),we===t.BYTE&&(je=t.RG8I),we===t.SHORT&&(je=t.RG16I),we===t.INT&&(je=t.RG32I)),te===t.RGB_INTEGER&&(we===t.UNSIGNED_BYTE&&(je=t.RGB8UI),we===t.UNSIGNED_SHORT&&(je=t.RGB16UI),we===t.UNSIGNED_INT&&(je=t.RGB32UI),we===t.BYTE&&(je=t.RGB8I),we===t.SHORT&&(je=t.RGB16I),we===t.INT&&(je=t.RGB32I)),te===t.RGBA_INTEGER&&(we===t.UNSIGNED_BYTE&&(je=t.RGBA8UI),we===t.UNSIGNED_SHORT&&(je=t.RGBA16UI),we===t.UNSIGNED_INT&&(je=t.RGBA32UI),we===t.BYTE&&(je=t.RGBA8I),we===t.SHORT&&(je=t.RGBA16I),we===t.INT&&(je=t.RGBA32I)),te===t.RGB&&we===t.UNSIGNED_INT_5_9_9_9_REV&&(je=t.RGB9_E5),te===t.RGBA){const yt=$e?Hp:er.getTransfer(ye);we===t.FLOAT&&(je=t.RGBA32F),we===t.HALF_FLOAT&&(je=t.RGBA16F),we===t.UNSIGNED_BYTE&&(je=yt===dr?t.SRGB8_ALPHA8:t.RGBA8),we===t.UNSIGNED_SHORT_4_4_4_4&&(je=t.RGBA4),we===t.UNSIGNED_SHORT_5_5_5_1&&(je=t.RGB5_A1)}return(je===t.R16F||je===t.R32F||je===t.RG16F||je===t.RG32F||je===t.RGBA16F||je===t.RGBA32F)&&e.get("EXT_color_buffer_float"),je}function S(ae,te){let we;return ae?te===null||te===Bo||te===od?we=t.DEPTH24_STENCIL8:te===ss?we=t.DEPTH32F_STENCIL8:te===eh&&(we=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):te===null||te===Bo||te===od?we=t.DEPTH_COMPONENT24:te===ss?we=t.DEPTH_COMPONENT32F:te===eh&&(we=t.DEPTH_COMPONENT16),we}function C(ae,te){return y(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==yo&&ae.minFilter!==Cs?Math.log2(Math.max(te.width,te.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?te.mipmaps.length:1}function E(ae){const te=ae.target;te.removeEventListener("dispose",E),k(te),te.isVideoTexture&&u.delete(te)}function I(ae){const te=ae.target;te.removeEventListener("dispose",I),M(te)}function k(ae){const te=r.get(ae);if(te.__webglInit===void 0)return;const we=ae.source,ye=h.get(we);if(ye){const $e=ye[te.__cacheKey];$e.usedTimes--,$e.usedTimes===0&&T(ae),Object.keys(ye).length===0&&h.delete(we)}r.remove(ae)}function T(ae){const te=r.get(ae);t.deleteTexture(te.__webglTexture);const we=ae.source,ye=h.get(we);delete ye[te.__cacheKey],s.memory.textures--}function M(ae){const te=r.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),r.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++){if(Array.isArray(te.__webglFramebuffer[ye]))for(let $e=0;$e<te.__webglFramebuffer[ye].length;$e++)t.deleteFramebuffer(te.__webglFramebuffer[ye][$e]);else t.deleteFramebuffer(te.__webglFramebuffer[ye]);te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer[ye])}else{if(Array.isArray(te.__webglFramebuffer))for(let ye=0;ye<te.__webglFramebuffer.length;ye++)t.deleteFramebuffer(te.__webglFramebuffer[ye]);else t.deleteFramebuffer(te.__webglFramebuffer);if(te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&t.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let ye=0;ye<te.__webglColorRenderbuffer.length;ye++)te.__webglColorRenderbuffer[ye]&&t.deleteRenderbuffer(te.__webglColorRenderbuffer[ye]);te.__webglDepthRenderbuffer&&t.deleteRenderbuffer(te.__webglDepthRenderbuffer)}const we=ae.textures;for(let ye=0,$e=we.length;ye<$e;ye++){const je=r.get(we[ye]);je.__webglTexture&&(t.deleteTexture(je.__webglTexture),s.memory.textures--),r.remove(we[ye])}r.remove(ae)}let D=0;function B(){D=0}function z(){const ae=D;return ae>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+a.maxTextures),D+=1,ae}function q(ae){const te=[];return te.push(ae.wrapS),te.push(ae.wrapT),te.push(ae.wrapR||0),te.push(ae.magFilter),te.push(ae.minFilter),te.push(ae.anisotropy),te.push(ae.internalFormat),te.push(ae.format),te.push(ae.type),te.push(ae.generateMipmaps),te.push(ae.premultiplyAlpha),te.push(ae.flipY),te.push(ae.unpackAlignment),te.push(ae.colorSpace),te.join()}function $(ae,te){const we=r.get(ae);if(ae.isVideoTexture&&De(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&we.__version!==ae.version){const ye=ae.image;if(ye===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ye.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ce(we,ae,te);return}}n.bindTexture(t.TEXTURE_2D,we.__webglTexture,t.TEXTURE0+te)}function L(ae,te){const we=r.get(ae);if(ae.version>0&&we.__version!==ae.version){ce(we,ae,te);return}n.bindTexture(t.TEXTURE_2D_ARRAY,we.__webglTexture,t.TEXTURE0+te)}function W(ae,te){const we=r.get(ae);if(ae.version>0&&we.__version!==ae.version){ce(we,ae,te);return}n.bindTexture(t.TEXTURE_3D,we.__webglTexture,t.TEXTURE0+te)}function U(ae,te){const we=r.get(ae);if(ae.version>0&&we.__version!==ae.version){ge(we,ae,te);return}n.bindTexture(t.TEXTURE_CUBE_MAP,we.__webglTexture,t.TEXTURE0+te)}const F={[xy]:t.REPEAT,[ic]:t.CLAMP_TO_EDGE,[Cy]:t.MIRRORED_REPEAT},Q={[yo]:t.NEAREST,[$ue]:t.NEAREST_MIPMAP_NEAREST,[c0]:t.NEAREST_MIPMAP_LINEAR,[Cs]:t.LINEAR,[og]:t.LINEAR_MIPMAP_NEAREST,[lc]:t.LINEAR_MIPMAP_LINEAR},ne={[que]:t.NEVER,[Jue]:t.ALWAYS,[jue]:t.LESS,[k8]:t.LEQUAL,[Yue]:t.EQUAL,[Zue]:t.GEQUAL,[Xue]:t.GREATER,[Que]:t.NOTEQUAL};function de(ae,te){if(te.type===ss&&e.has("OES_texture_float_linear")===!1&&(te.magFilter===Cs||te.magFilter===og||te.magFilter===c0||te.magFilter===lc||te.minFilter===Cs||te.minFilter===og||te.minFilter===c0||te.minFilter===lc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ae,t.TEXTURE_WRAP_S,F[te.wrapS]),t.texParameteri(ae,t.TEXTURE_WRAP_T,F[te.wrapT]),(ae===t.TEXTURE_3D||ae===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ae,t.TEXTURE_WRAP_R,F[te.wrapR]),t.texParameteri(ae,t.TEXTURE_MAG_FILTER,Q[te.magFilter]),t.texParameteri(ae,t.TEXTURE_MIN_FILTER,Q[te.minFilter]),te.compareFunction&&(t.texParameteri(ae,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ae,t.TEXTURE_COMPARE_FUNC,ne[te.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(te.magFilter===yo||te.minFilter!==c0&&te.minFilter!==lc||te.type===ss&&e.has("OES_texture_float_linear")===!1)return;if(te.anisotropy>1||r.get(te).__currentAnisotropy){const we=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ae,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(te.anisotropy,a.getMaxAnisotropy())),r.get(te).__currentAnisotropy=te.anisotropy}}}function ie(ae,te){let we=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,te.addEventListener("dispose",E));const ye=te.source;let $e=h.get(ye);$e===void 0&&($e={},h.set(ye,$e));const je=q(te);if(je!==ae.__cacheKey){$e[je]===void 0&&($e[je]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,we=!0),$e[je].usedTimes++;const yt=$e[ae.__cacheKey];yt!==void 0&&($e[ae.__cacheKey].usedTimes--,yt.usedTimes===0&&T(te)),ae.__cacheKey=je,ae.__webglTexture=$e[je].texture}return we}function ce(ae,te,we){let ye=t.TEXTURE_2D;(te.isDataArrayTexture||te.isCompressedArrayTexture)&&(ye=t.TEXTURE_2D_ARRAY),te.isData3DTexture&&(ye=t.TEXTURE_3D);const $e=ie(ae,te),je=te.source;n.bindTexture(ye,ae.__webglTexture,t.TEXTURE0+we);const yt=r.get(je);if(je.version!==yt.__version||$e===!0){n.activeTexture(t.TEXTURE0+we);const ut=er.getPrimaries(er.workingColorSpace),_t=te.colorSpace===Xi?null:er.getPrimaries(te.colorSpace),Ft=te.colorSpace===Xi||ut===_t?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ft);let ht=g(te.image,!1,a.maxTextureSize);ht=Fe(te,ht);const X=o.convert(te.format,te.colorSpace),He=o.convert(te.type);let ve=w(te.internalFormat,X,He,te.colorSpace,te.isVideoTexture);de(ye,te);let ke;const fe=te.mipmaps,tt=te.isVideoTexture!==!0,Rt=yt.__version===void 0||$e===!0,Oe=je.dataReady,Tt=C(te,ht);if(te.isDepthTexture)ve=S(te.format===sd,te.type),Rt&&(tt?n.texStorage2D(t.TEXTURE_2D,1,ve,ht.width,ht.height):n.texImage2D(t.TEXTURE_2D,0,ve,ht.width,ht.height,0,X,He,null));else if(te.isDataTexture)if(fe.length>0){tt&&Rt&&n.texStorage2D(t.TEXTURE_2D,Tt,ve,fe[0].width,fe[0].height);for(let ot=0,dt=fe.length;ot<dt;ot++)ke=fe[ot],tt?Oe&&n.texSubImage2D(t.TEXTURE_2D,ot,0,0,ke.width,ke.height,X,He,ke.data):n.texImage2D(t.TEXTURE_2D,ot,ve,ke.width,ke.height,0,X,He,ke.data);te.generateMipmaps=!1}else tt?(Rt&&n.texStorage2D(t.TEXTURE_2D,Tt,ve,ht.width,ht.height),Oe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ht.width,ht.height,X,He,ht.data)):n.texImage2D(t.TEXTURE_2D,0,ve,ht.width,ht.height,0,X,He,ht.data);else if(te.isCompressedTexture)if(te.isCompressedArrayTexture){tt&&Rt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Tt,ve,fe[0].width,fe[0].height,ht.depth);for(let ot=0,dt=fe.length;ot<dt;ot++)if(ke=fe[ot],te.format!==Ua)if(X!==null)if(tt){if(Oe)if(te.layerUpdates.size>0){const It=o3(ke.width,ke.height,te.format,te.type);for(const gt of te.layerUpdates){const an=ke.data.subarray(gt*It/ke.data.BYTES_PER_ELEMENT,(gt+1)*It/ke.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ot,0,0,gt,ke.width,ke.height,1,X,an)}te.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ot,0,0,0,ke.width,ke.height,ht.depth,X,ke.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ot,ve,ke.width,ke.height,ht.depth,0,ke.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else tt?Oe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ot,0,0,0,ke.width,ke.height,ht.depth,X,He,ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ot,ve,ke.width,ke.height,ht.depth,0,X,He,ke.data)}else{tt&&Rt&&n.texStorage2D(t.TEXTURE_2D,Tt,ve,fe[0].width,fe[0].height);for(let ot=0,dt=fe.length;ot<dt;ot++)ke=fe[ot],te.format!==Ua?X!==null?tt?Oe&&n.compressedTexSubImage2D(t.TEXTURE_2D,ot,0,0,ke.width,ke.height,X,ke.data):n.compressedTexImage2D(t.TEXTURE_2D,ot,ve,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?Oe&&n.texSubImage2D(t.TEXTURE_2D,ot,0,0,ke.width,ke.height,X,He,ke.data):n.texImage2D(t.TEXTURE_2D,ot,ve,ke.width,ke.height,0,X,He,ke.data)}else if(te.isDataArrayTexture)if(tt){if(Rt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Tt,ve,ht.width,ht.height,ht.depth),Oe)if(te.layerUpdates.size>0){const ot=o3(ht.width,ht.height,te.format,te.type);for(const dt of te.layerUpdates){const It=ht.data.subarray(dt*ot/ht.data.BYTES_PER_ELEMENT,(dt+1)*ot/ht.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,dt,ht.width,ht.height,1,X,He,It)}te.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ht.width,ht.height,ht.depth,X,He,ht.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ve,ht.width,ht.height,ht.depth,0,X,He,ht.data);else if(te.isData3DTexture)tt?(Rt&&n.texStorage3D(t.TEXTURE_3D,Tt,ve,ht.width,ht.height,ht.depth),Oe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ht.width,ht.height,ht.depth,X,He,ht.data)):n.texImage3D(t.TEXTURE_3D,0,ve,ht.width,ht.height,ht.depth,0,X,He,ht.data);else if(te.isFramebufferTexture){if(Rt)if(tt)n.texStorage2D(t.TEXTURE_2D,Tt,ve,ht.width,ht.height);else{let ot=ht.width,dt=ht.height;for(let It=0;It<Tt;It++)n.texImage2D(t.TEXTURE_2D,It,ve,ot,dt,0,X,He,null),ot>>=1,dt>>=1}}else if(fe.length>0){if(tt&&Rt){const ot=Ge(fe[0]);n.texStorage2D(t.TEXTURE_2D,Tt,ve,ot.width,ot.height)}for(let ot=0,dt=fe.length;ot<dt;ot++)ke=fe[ot],tt?Oe&&n.texSubImage2D(t.TEXTURE_2D,ot,0,0,X,He,ke):n.texImage2D(t.TEXTURE_2D,ot,ve,X,He,ke);te.generateMipmaps=!1}else if(tt){if(Rt){const ot=Ge(ht);n.texStorage2D(t.TEXTURE_2D,Tt,ve,ot.width,ot.height)}Oe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,X,He,ht)}else n.texImage2D(t.TEXTURE_2D,0,ve,X,He,ht);y(te)&&v(ye),yt.__version=je.version,te.onUpdate&&te.onUpdate(te)}ae.__version=te.version}function ge(ae,te,we){if(te.image.length!==6)return;const ye=ie(ae,te),$e=te.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+we);const je=r.get($e);if($e.version!==je.__version||ye===!0){n.activeTexture(t.TEXTURE0+we);const yt=er.getPrimaries(er.workingColorSpace),ut=te.colorSpace===Xi?null:er.getPrimaries(te.colorSpace),_t=te.colorSpace===Xi||yt===ut?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);const Ft=te.isCompressedTexture||te.image[0].isCompressedTexture,ht=te.image[0]&&te.image[0].isDataTexture,X=[];for(let dt=0;dt<6;dt++)!Ft&&!ht?X[dt]=g(te.image[dt],!0,a.maxCubemapSize):X[dt]=ht?te.image[dt].image:te.image[dt],X[dt]=Fe(te,X[dt]);const He=X[0],ve=o.convert(te.format,te.colorSpace),ke=o.convert(te.type),fe=w(te.internalFormat,ve,ke,te.colorSpace),tt=te.isVideoTexture!==!0,Rt=je.__version===void 0||ye===!0,Oe=$e.dataReady;let Tt=C(te,He);de(t.TEXTURE_CUBE_MAP,te);let ot;if(Ft){tt&&Rt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Tt,fe,He.width,He.height);for(let dt=0;dt<6;dt++){ot=X[dt].mipmaps;for(let It=0;It<ot.length;It++){const gt=ot[It];te.format!==Ua?ve!==null?tt?Oe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,It,0,0,gt.width,gt.height,ve,gt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,It,fe,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):tt?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,It,0,0,gt.width,gt.height,ve,ke,gt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,It,fe,gt.width,gt.height,0,ve,ke,gt.data)}}}else{if(ot=te.mipmaps,tt&&Rt){ot.length>0&&Tt++;const dt=Ge(X[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Tt,fe,dt.width,dt.height)}for(let dt=0;dt<6;dt++)if(ht){tt?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,0,0,X[dt].width,X[dt].height,ve,ke,X[dt].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,fe,X[dt].width,X[dt].height,0,ve,ke,X[dt].data);for(let It=0;It<ot.length;It++){const an=ot[It].image[dt].image;tt?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,It+1,0,0,an.width,an.height,ve,ke,an.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,It+1,fe,an.width,an.height,0,ve,ke,an.data)}}else{tt?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,0,0,ve,ke,X[dt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,fe,ve,ke,X[dt]);for(let It=0;It<ot.length;It++){const gt=ot[It];tt?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,It+1,0,0,ve,ke,gt.image[dt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,It+1,fe,ve,ke,gt.image[dt])}}}y(te)&&v(t.TEXTURE_CUBE_MAP),je.__version=$e.version,te.onUpdate&&te.onUpdate(te)}ae.__version=te.version}function Ae(ae,te,we,ye,$e,je){const yt=o.convert(we.format,we.colorSpace),ut=o.convert(we.type),_t=w(we.internalFormat,yt,ut,we.colorSpace),Ft=r.get(te),ht=r.get(we);if(ht.__renderTarget=te,!Ft.__hasExternalTextures){const X=Math.max(1,te.width>>je),He=Math.max(1,te.height>>je);$e===t.TEXTURE_3D||$e===t.TEXTURE_2D_ARRAY?n.texImage3D($e,je,_t,X,He,te.depth,0,yt,ut,null):n.texImage2D($e,je,_t,X,He,0,yt,ut,null)}n.bindFramebuffer(t.FRAMEBUFFER,ae),ze(te)?i.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ye,$e,ht.__webglTexture,0,Le(te)):($e===t.TEXTURE_2D||$e>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&$e<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ye,$e,ht.__webglTexture,je),n.bindFramebuffer(t.FRAMEBUFFER,null)}function pe(ae,te,we){if(t.bindRenderbuffer(t.RENDERBUFFER,ae),te.depthBuffer){const ye=te.depthTexture,$e=ye&&ye.isDepthTexture?ye.type:null,je=S(te.stencilBuffer,$e),yt=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ut=Le(te);ze(te)?i.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ut,je,te.width,te.height):we?t.renderbufferStorageMultisample(t.RENDERBUFFER,ut,je,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,je,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,yt,t.RENDERBUFFER,ae)}else{const ye=te.textures;for(let $e=0;$e<ye.length;$e++){const je=ye[$e],yt=o.convert(je.format,je.colorSpace),ut=o.convert(je.type),_t=w(je.internalFormat,yt,ut,je.colorSpace),Ft=Le(te);we&&ze(te)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ft,_t,te.width,te.height):ze(te)?i.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ft,_t,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,_t,te.width,te.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ie(ae,te){if(te&&te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ae),!(te.depthTexture&&te.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ye=r.get(te.depthTexture);ye.__renderTarget=te,(!ye.__webglTexture||te.depthTexture.image.width!==te.width||te.depthTexture.image.height!==te.height)&&(te.depthTexture.image.width=te.width,te.depthTexture.image.height=te.height,te.depthTexture.needsUpdate=!0),$(te.depthTexture,0);const $e=ye.__webglTexture,je=Le(te);if(te.depthTexture.format===vc)ze(te)?i.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$e,0,je):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$e,0);else if(te.depthTexture.format===sd)ze(te)?i.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$e,0,je):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$e,0);else throw new Error("Unknown depthTexture format")}function Re(ae){const te=r.get(ae),we=ae.isWebGLCubeRenderTarget===!0;if(te.__boundDepthTexture!==ae.depthTexture){const ye=ae.depthTexture;if(te.__depthDisposeCallback&&te.__depthDisposeCallback(),ye){const $e=()=>{delete te.__boundDepthTexture,delete te.__depthDisposeCallback,ye.removeEventListener("dispose",$e)};ye.addEventListener("dispose",$e),te.__depthDisposeCallback=$e}te.__boundDepthTexture=ye}if(ae.depthTexture&&!te.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");Ie(te.__webglFramebuffer,ae)}else if(we){te.__webglDepthbuffer=[];for(let ye=0;ye<6;ye++)if(n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer[ye]),te.__webglDepthbuffer[ye]===void 0)te.__webglDepthbuffer[ye]=t.createRenderbuffer(),pe(te.__webglDepthbuffer[ye],ae,!1);else{const $e=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=te.__webglDepthbuffer[ye];t.bindRenderbuffer(t.RENDERBUFFER,je),t.framebufferRenderbuffer(t.FRAMEBUFFER,$e,t.RENDERBUFFER,je)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer),te.__webglDepthbuffer===void 0)te.__webglDepthbuffer=t.createRenderbuffer(),pe(te.__webglDepthbuffer,ae,!1);else{const ye=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,$e=te.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,$e),t.framebufferRenderbuffer(t.FRAMEBUFFER,ye,t.RENDERBUFFER,$e)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Je(ae,te,we){const ye=r.get(ae);te!==void 0&&Ae(ye.__webglFramebuffer,ae,ae.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),we!==void 0&&Re(ae)}function Ye(ae){const te=ae.texture,we=r.get(ae),ye=r.get(te);ae.addEventListener("dispose",I);const $e=ae.textures,je=ae.isWebGLCubeRenderTarget===!0,yt=$e.length>1;if(yt||(ye.__webglTexture===void 0&&(ye.__webglTexture=t.createTexture()),ye.__version=te.version,s.memory.textures++),je){we.__webglFramebuffer=[];for(let ut=0;ut<6;ut++)if(te.mipmaps&&te.mipmaps.length>0){we.__webglFramebuffer[ut]=[];for(let _t=0;_t<te.mipmaps.length;_t++)we.__webglFramebuffer[ut][_t]=t.createFramebuffer()}else we.__webglFramebuffer[ut]=t.createFramebuffer()}else{if(te.mipmaps&&te.mipmaps.length>0){we.__webglFramebuffer=[];for(let ut=0;ut<te.mipmaps.length;ut++)we.__webglFramebuffer[ut]=t.createFramebuffer()}else we.__webglFramebuffer=t.createFramebuffer();if(yt)for(let ut=0,_t=$e.length;ut<_t;ut++){const Ft=r.get($e[ut]);Ft.__webglTexture===void 0&&(Ft.__webglTexture=t.createTexture(),s.memory.textures++)}if(ae.samples>0&&ze(ae)===!1){we.__webglMultisampledFramebuffer=t.createFramebuffer(),we.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,we.__webglMultisampledFramebuffer);for(let ut=0;ut<$e.length;ut++){const _t=$e[ut];we.__webglColorRenderbuffer[ut]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,we.__webglColorRenderbuffer[ut]);const Ft=o.convert(_t.format,_t.colorSpace),ht=o.convert(_t.type),X=w(_t.internalFormat,Ft,ht,_t.colorSpace,ae.isXRRenderTarget===!0),He=Le(ae);t.renderbufferStorageMultisample(t.RENDERBUFFER,He,X,ae.width,ae.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ut,t.RENDERBUFFER,we.__webglColorRenderbuffer[ut])}t.bindRenderbuffer(t.RENDERBUFFER,null),ae.depthBuffer&&(we.__webglDepthRenderbuffer=t.createRenderbuffer(),pe(we.__webglDepthRenderbuffer,ae,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(je){n.bindTexture(t.TEXTURE_CUBE_MAP,ye.__webglTexture),de(t.TEXTURE_CUBE_MAP,te);for(let ut=0;ut<6;ut++)if(te.mipmaps&&te.mipmaps.length>0)for(let _t=0;_t<te.mipmaps.length;_t++)Ae(we.__webglFramebuffer[ut][_t],ae,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ut,_t);else Ae(we.__webglFramebuffer[ut],ae,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ut,0);y(te)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(yt){for(let ut=0,_t=$e.length;ut<_t;ut++){const Ft=$e[ut],ht=r.get(Ft);n.bindTexture(t.TEXTURE_2D,ht.__webglTexture),de(t.TEXTURE_2D,Ft),Ae(we.__webglFramebuffer,ae,Ft,t.COLOR_ATTACHMENT0+ut,t.TEXTURE_2D,0),y(Ft)&&v(t.TEXTURE_2D)}n.unbindTexture()}else{let ut=t.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(ut=ae.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ut,ye.__webglTexture),de(ut,te),te.mipmaps&&te.mipmaps.length>0)for(let _t=0;_t<te.mipmaps.length;_t++)Ae(we.__webglFramebuffer[_t],ae,te,t.COLOR_ATTACHMENT0,ut,_t);else Ae(we.__webglFramebuffer,ae,te,t.COLOR_ATTACHMENT0,ut,0);y(te)&&v(ut),n.unbindTexture()}ae.depthBuffer&&Re(ae)}function Z(ae){const te=ae.textures;for(let we=0,ye=te.length;we<ye;we++){const $e=te[we];if(y($e)){const je=A(ae),yt=r.get($e).__webglTexture;n.bindTexture(je,yt),v(je),n.unbindTexture()}}}const me=[],oe=[];function Ve(ae){if(ae.samples>0){if(ze(ae)===!1){const te=ae.textures,we=ae.width,ye=ae.height;let $e=t.COLOR_BUFFER_BIT;const je=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,yt=r.get(ae),ut=te.length>1;if(ut)for(let _t=0;_t<te.length;_t++)n.bindFramebuffer(t.FRAMEBUFFER,yt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,yt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,yt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,yt.__webglFramebuffer);for(let _t=0;_t<te.length;_t++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&($e|=t.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&($e|=t.STENCIL_BUFFER_BIT)),ut){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,yt.__webglColorRenderbuffer[_t]);const Ft=r.get(te[_t]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ft,0)}t.blitFramebuffer(0,0,we,ye,0,0,we,ye,$e,t.NEAREST),l===!0&&(me.length=0,oe.length=0,me.push(t.COLOR_ATTACHMENT0+_t),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(me.push(je),oe.push(je),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,oe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,me))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ut)for(let _t=0;_t<te.length;_t++){n.bindFramebuffer(t.FRAMEBUFFER,yt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.RENDERBUFFER,yt.__webglColorRenderbuffer[_t]);const Ft=r.get(te[_t]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,yt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.TEXTURE_2D,Ft,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,yt.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&l){const te=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[te])}}}function Le(ae){return Math.min(a.maxSamples,ae.samples)}function ze(ae){const te=r.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&te.__useRenderToTexture!==!1}function De(ae){const te=s.render.frame;u.get(ae)!==te&&(u.set(ae,te),ae.update())}function Fe(ae,te){const we=ae.colorSpace,ye=ae.format,$e=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||we!==id&&we!==Xi&&(er.getTransfer(we)===dr?(ye!==Ua||$e!==Bs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",we)),te}function Ge(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(c.width=ae.naturalWidth||ae.width,c.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(c.width=ae.displayWidth,c.height=ae.displayHeight):(c.width=ae.width,c.height=ae.height),c}this.allocateTextureUnit=z,this.resetTextureUnits=B,this.setTexture2D=$,this.setTexture2DArray=L,this.setTexture3D=W,this.setTextureCube=U,this.rebindTextures=Je,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=Z,this.updateMultisampleRenderTarget=Ve,this.setupDepthRenderbuffer=Re,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=ze}function X8(t,e){function n(r,a=Xi){let o;const s=er.getTransfer(a);if(r===Bs)return t.UNSIGNED_BYTE;if(r===mS)return t.UNSIGNED_SHORT_4_4_4_4;if(r===vS)return t.UNSIGNED_SHORT_5_5_5_1;if(r===C8)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===w8)return t.BYTE;if(r===x8)return t.SHORT;if(r===eh)return t.UNSIGNED_SHORT;if(r===pS)return t.INT;if(r===Bo)return t.UNSIGNED_INT;if(r===ss)return t.FLOAT;if(r===Ed)return t.HALF_FLOAT;if(r===A8)return t.ALPHA;if(r===E8)return t.RGB;if(r===Ua)return t.RGBA;if(r===M8)return t.LUMINANCE;if(r===T8)return t.LUMINANCE_ALPHA;if(r===vc)return t.DEPTH_COMPONENT;if(r===sd)return t.DEPTH_STENCIL;if(r===I8)return t.RED;if(r===Um)return t.RED_INTEGER;if(r===gS)return t.RG;if(r===yS)return t.RG_INTEGER;if(r===ku)return t.RGBA_INTEGER;if(r===ap||r===op||r===sp||r===ip)if(s===dr)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===ap)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===op)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===sp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===ip)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===ap)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===op)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===sp)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ip)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Ay||r===Ey||r===My||r===Ty)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Ay)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Ey)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===My)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Ty)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Iy||r===Ry||r===ky)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===Iy||r===Ry)return s===dr?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===ky)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Dy||r===Py||r===By||r===Ly||r===Ny||r===Fy||r===Oy||r===zy||r===Uy||r===Hy||r===$y||r===Vy||r===Wy||r===Gy)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===Dy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Py)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===By)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Ly)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Ny)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Fy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Oy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===zy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Uy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Hy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===$y)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Vy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Wy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Gy)return s===dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===lp||r===Ky||r===qy)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===lp)return s===dr?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Ky)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===qy)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===R8||r===jy||r===Yy||r===Xy)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===lp)return o.COMPRESSED_RED_RGTC1_EXT;if(r===jy)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Yy)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Xy)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===od?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const Mme={type:"move"};class Dg{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new M0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new M0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Be,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Be),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new M0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Be,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Be),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let a=null,o=null,s=null;const i=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const g of e.hand.values()){const y=n.getJointPose(g,r),v=this._getHandJoint(c,g);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),p=.02,m=.005;c.inputState.pinching&&h>p+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=p-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));i!==null&&(a=n.getPose(e.targetRaySpace,r),a===null&&o!==null&&(a=o),a!==null&&(i.matrix.fromArray(a.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,a.linearVelocity?(i.hasLinearVelocity=!0,i.linearVelocity.copy(a.linearVelocity)):i.hasLinearVelocity=!1,a.angularVelocity?(i.hasAngularVelocity=!0,i.angularVelocity.copy(a.angularVelocity)):i.hasAngularVelocity=!1,this.dispatchEvent(Mme)))}return i!==null&&(i.visible=a!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new M0;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const Tme=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Ime=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Rme{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const a=new $a,o=e.properties.get(a);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=a}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new So({vertexShader:Tme,fragmentShader:Ime,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Hr(new cd(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class kme extends Rc{constructor(e,n){super();const r=this;let a=null,o=1,s=null,i="local-floor",l=1,c=null,u=null,f=null,h=null,p=null,m=null;const g=new Rme,y=n.getContextAttributes();let v=null,A=null;const w=[],S=[],C=new dn;let E=null;const I=new Ro;I.viewport=new Er;const k=new Ro;k.viewport=new Er;const T=[I,k],M=new Jde;let D=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let ge=w[ce];return ge===void 0&&(ge=new Dg,w[ce]=ge),ge.getTargetRaySpace()},this.getControllerGrip=function(ce){let ge=w[ce];return ge===void 0&&(ge=new Dg,w[ce]=ge),ge.getGripSpace()},this.getHand=function(ce){let ge=w[ce];return ge===void 0&&(ge=new Dg,w[ce]=ge),ge.getHandSpace()};function z(ce){const ge=S.indexOf(ce.inputSource);if(ge===-1)return;const Ae=w[ge];Ae!==void 0&&(Ae.update(ce.inputSource,ce.frame,c||s),Ae.dispatchEvent({type:ce.type,data:ce.inputSource}))}function q(){a.removeEventListener("select",z),a.removeEventListener("selectstart",z),a.removeEventListener("selectend",z),a.removeEventListener("squeeze",z),a.removeEventListener("squeezestart",z),a.removeEventListener("squeezeend",z),a.removeEventListener("end",q),a.removeEventListener("inputsourceschange",$);for(let ce=0;ce<w.length;ce++){const ge=S[ce];ge!==null&&(S[ce]=null,w[ce].disconnect(ge))}D=null,B=null,g.reset(),e.setRenderTarget(v),p=null,h=null,f=null,a=null,A=null,ie.stop(),r.isPresenting=!1,e.setPixelRatio(E),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){o=ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){i=ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(ce){c=ce},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return a},this.setSession=async function(ce){if(a=ce,a!==null){if(v=e.getRenderTarget(),a.addEventListener("select",z),a.addEventListener("selectstart",z),a.addEventListener("selectend",z),a.addEventListener("squeeze",z),a.addEventListener("squeezestart",z),a.addEventListener("squeezeend",z),a.addEventListener("end",q),a.addEventListener("inputsourceschange",$),y.xrCompatible!==!0&&await n.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(C),a.renderState.layers===void 0){const ge={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(a,n,ge),a.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),A=new Sl(p.framebufferWidth,p.framebufferHeight,{format:Ua,type:Bs,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ge=null,Ae=null,pe=null;y.depth&&(pe=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ge=y.stencil?sd:vc,Ae=y.stencil?od:Bo);const Ie={colorFormat:n.RGBA8,depthFormat:pe,scaleFactor:o};f=new XRWebGLBinding(a,n),h=f.createProjectionLayer(Ie),a.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),A=new Sl(h.textureWidth,h.textureHeight,{format:Ua,type:Bs,depthTexture:new _S(h.textureWidth,h.textureHeight,Ae,void 0,void 0,void 0,void 0,void 0,void 0,ge),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await a.requestReferenceSpace(i),ie.setContext(a),ie.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function $(ce){for(let ge=0;ge<ce.removed.length;ge++){const Ae=ce.removed[ge],pe=S.indexOf(Ae);pe>=0&&(S[pe]=null,w[pe].disconnect(Ae))}for(let ge=0;ge<ce.added.length;ge++){const Ae=ce.added[ge];let pe=S.indexOf(Ae);if(pe===-1){for(let Re=0;Re<w.length;Re++)if(Re>=S.length){S.push(Ae),pe=Re;break}else if(S[Re]===null){S[Re]=Ae,pe=Re;break}if(pe===-1)break}const Ie=w[pe];Ie&&Ie.connect(Ae)}}const L=new Be,W=new Be;function U(ce,ge,Ae){L.setFromMatrixPosition(ge.matrixWorld),W.setFromMatrixPosition(Ae.matrixWorld);const pe=L.distanceTo(W),Ie=ge.projectionMatrix.elements,Re=Ae.projectionMatrix.elements,Je=Ie[14]/(Ie[10]-1),Ye=Ie[14]/(Ie[10]+1),Z=(Ie[9]+1)/Ie[5],me=(Ie[9]-1)/Ie[5],oe=(Ie[8]-1)/Ie[0],Ve=(Re[8]+1)/Re[0],Le=Je*oe,ze=Je*Ve,De=pe/(-oe+Ve),Fe=De*-oe;if(ge.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(Fe),ce.translateZ(De),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),Ie[10]===-1)ce.projectionMatrix.copy(ge.projectionMatrix),ce.projectionMatrixInverse.copy(ge.projectionMatrixInverse);else{const Ge=Je+De,ae=Ye+De,te=Le-Fe,we=ze+(pe-Fe),ye=Z*Ye/ae*Ge,$e=me*Ye/ae*Ge;ce.projectionMatrix.makePerspective(te,we,ye,$e,Ge,ae),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function F(ce,ge){ge===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(ge.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(a===null)return;let ge=ce.near,Ae=ce.far;g.texture!==null&&(g.depthNear>0&&(ge=g.depthNear),g.depthFar>0&&(Ae=g.depthFar)),M.near=k.near=I.near=ge,M.far=k.far=I.far=Ae,(D!==M.near||B!==M.far)&&(a.updateRenderState({depthNear:M.near,depthFar:M.far}),D=M.near,B=M.far),I.layers.mask=ce.layers.mask|2,k.layers.mask=ce.layers.mask|4,M.layers.mask=I.layers.mask|k.layers.mask;const pe=ce.parent,Ie=M.cameras;F(M,pe);for(let Re=0;Re<Ie.length;Re++)F(Ie[Re],pe);Ie.length===2?U(M,I,k):M.projectionMatrix.copy(I.projectionMatrix),Q(ce,M,pe)};function Q(ce,ge,Ae){Ae===null?ce.matrix.copy(ge.matrixWorld):(ce.matrix.copy(Ae.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(ge.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(ge.projectionMatrix),ce.projectionMatrixInverse.copy(ge.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=th*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(ce){l=ce,h!==null&&(h.fixedFoveation=ce),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=ce)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(M)};let ne=null;function de(ce,ge){if(u=ge.getViewerPose(c||s),m=ge,u!==null){const Ae=u.views;p!==null&&(e.setRenderTargetFramebuffer(A,p.framebuffer),e.setRenderTarget(A));let pe=!1;Ae.length!==M.cameras.length&&(M.cameras.length=0,pe=!0);for(let Re=0;Re<Ae.length;Re++){const Je=Ae[Re];let Ye=null;if(p!==null)Ye=p.getViewport(Je);else{const me=f.getViewSubImage(h,Je);Ye=me.viewport,Re===0&&(e.setRenderTargetTextures(A,me.colorTexture,h.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(A))}let Z=T[Re];Z===void 0&&(Z=new Ro,Z.layers.enable(Re),Z.viewport=new Er,T[Re]=Z),Z.matrix.fromArray(Je.transform.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.projectionMatrix.fromArray(Je.projectionMatrix),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert(),Z.viewport.set(Ye.x,Ye.y,Ye.width,Ye.height),Re===0&&(M.matrix.copy(Z.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),pe===!0&&M.cameras.push(Z)}const Ie=a.enabledFeatures;if(Ie&&Ie.includes("depth-sensing")){const Re=f.getDepthInformation(Ae[0]);Re&&Re.isValid&&Re.texture&&g.init(e,Re,a.renderState)}}for(let Ae=0;Ae<w.length;Ae++){const pe=S[Ae],Ie=w[Ae];pe!==null&&Ie!==void 0&&Ie.update(pe,ge,c||s)}ne&&ne(ce,ge),ge.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ge}),m=null}const ie=new G8;ie.setAnimationLoop(de),this.setAnimationLoop=function(ce){ne=ce},this.dispose=function(){}}}const Hl=new bi,Dme=new An;function Pme(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,H8(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function a(y,v,A,w,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?o(y,v):v.isMeshToonMaterial?(o(y,v),f(y,v)):v.isMeshPhongMaterial?(o(y,v),u(y,v)):v.isMeshStandardMaterial?(o(y,v),h(y,v),v.isMeshPhysicalMaterial&&p(y,v,S)):v.isMeshMatcapMaterial?(o(y,v),m(y,v)):v.isMeshDepthMaterial?o(y,v):v.isMeshDistanceMaterial?(o(y,v),g(y,v)):v.isMeshNormalMaterial?o(y,v):v.isLineBasicMaterial?(s(y,v),v.isLineDashedMaterial&&i(y,v)):v.isPointsMaterial?l(y,v,A,w):v.isSpriteMaterial?c(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function o(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===Za&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===Za&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const A=e.get(v),w=A.envMap,S=A.envMapRotation;w&&(y.envMap.value=w,Hl.copy(S),Hl.x*=-1,Hl.y*=-1,Hl.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Hl.y*=-1,Hl.z*=-1),y.envMapRotation.value.setFromMatrix4(Dme.makeRotationFromEuler(Hl)),y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap&&(y.lightMap.value=v.lightMap,y.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,y.lightMapTransform)),v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function s(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function i(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,A,w){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*A,y.scale.value=w*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function c(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function f(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function h(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function p(y,v,A){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Za&&y.clearcoatNormalScale.value.negate())),v.dispersion>0&&(y.dispersion.value=v.dispersion),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=A.texture,y.transmissionSamplerSize.value.set(A.width,A.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function m(y,v){v.matcap&&(y.matcap.value=v.matcap)}function g(y,v){const A=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(A.matrixWorld),y.nearDistance.value=A.shadow.camera.near,y.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function Bme(t,e,n,r){let a={},o={},s=[];const i=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,w){const S=w.program;r.uniformBlockBinding(A,S)}function c(A,w){let S=a[A.id];S===void 0&&(m(A),S=u(A),a[A.id]=S,A.addEventListener("dispose",y));const C=w.program;r.updateUBOMapping(A,C);const E=e.render.frame;o[A.id]!==E&&(h(A),o[A.id]=E)}function u(A){const w=f();A.__bindingPointIndex=w;const S=t.createBuffer(),C=A.__size,E=A.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,C,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,S),S}function f(){for(let A=0;A<i;A++)if(s.indexOf(A)===-1)return s.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(A){const w=a[A.id],S=A.uniforms,C=A.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let E=0,I=S.length;E<I;E++){const k=Array.isArray(S[E])?S[E]:[S[E]];for(let T=0,M=k.length;T<M;T++){const D=k[T];if(p(D,E,T,C)===!0){const B=D.__offset,z=Array.isArray(D.value)?D.value:[D.value];let q=0;for(let $=0;$<z.length;$++){const L=z[$],W=g(L);typeof L=="number"||typeof L=="boolean"?(D.__data[0]=L,t.bufferSubData(t.UNIFORM_BUFFER,B+q,D.__data)):L.isMatrix3?(D.__data[0]=L.elements[0],D.__data[1]=L.elements[1],D.__data[2]=L.elements[2],D.__data[3]=0,D.__data[4]=L.elements[3],D.__data[5]=L.elements[4],D.__data[6]=L.elements[5],D.__data[7]=0,D.__data[8]=L.elements[6],D.__data[9]=L.elements[7],D.__data[10]=L.elements[8],D.__data[11]=0):(L.toArray(D.__data,q),q+=W.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,B,D.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(A,w,S,C){const E=A.value,I=w+"_"+S;if(C[I]===void 0)return typeof E=="number"||typeof E=="boolean"?C[I]=E:C[I]=E.clone(),!0;{const k=C[I];if(typeof E=="number"||typeof E=="boolean"){if(k!==E)return C[I]=E,!0}else if(k.equals(E)===!1)return k.copy(E),!0}return!1}function m(A){const w=A.uniforms;let S=0;const C=16;for(let I=0,k=w.length;I<k;I++){const T=Array.isArray(w[I])?w[I]:[w[I]];for(let M=0,D=T.length;M<D;M++){const B=T[M],z=Array.isArray(B.value)?B.value:[B.value];for(let q=0,$=z.length;q<$;q++){const L=z[q],W=g(L),U=S%C,F=U%W.boundary,Q=U+F;S+=F,Q!==0&&C-Q<W.storage&&(S+=C-Q),B.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=S,S+=W.storage}}}const E=S%C;return E>0&&(S+=C-E),A.__size=S,A.__cache={},this}function g(A){const w={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(w.boundary=4,w.storage=4):A.isVector2?(w.boundary=8,w.storage=8):A.isVector3||A.isColor?(w.boundary=16,w.storage=12):A.isVector4?(w.boundary=16,w.storage=16):A.isMatrix3?(w.boundary=48,w.storage=48):A.isMatrix4?(w.boundary=64,w.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),w}function y(A){const w=A.target;w.removeEventListener("dispose",y);const S=s.indexOf(w.__bindingPointIndex);s.splice(S,1),t.deleteBuffer(a[w.id]),delete a[w.id],delete o[w.id]}function v(){for(const A in a)t.deleteBuffer(a[A]);s=[],a={},o={}}return{bind:l,update:c,dispose:v}}class Lme{constructor(e={}){const{canvas:n=gde(),context:r=null,depth:a=!0,stencil:o=!1,alpha:s=!1,antialias:i=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=s;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,v=null;const A=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Io,this.toneMapping=sl,this.toneMappingExposure=1;const S=this;let C=!1,E=0,I=0,k=null,T=-1,M=null;const D=new Er,B=new Er;let z=null;const q=new tr(0);let $=0,L=n.width,W=n.height,U=1,F=null,Q=null;const ne=new Er(0,0,L,W),de=new Er(0,0,L,W);let ie=!1;const ce=new W8;let ge=!1,Ae=!1;const pe=new An,Ie=new An,Re=new Be,Je=new Er,Ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Z=!1;function me(){return k===null?U:1}let oe=r;function Ve(be,et){return n.getContext(be,et)}try{const be={alpha:!0,depth:a,stencil:o,antialias:i,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${hS}`),n.addEventListener("webglcontextlost",dt,!1),n.addEventListener("webglcontextrestored",It,!1),n.addEventListener("webglcontextcreationerror",gt,!1),oe===null){const et="webgl2";if(oe=Ve(et,be),oe===null)throw Ve(et)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}let Le,ze,De,Fe,Ge,ae,te,we,ye,$e,je,yt,ut,_t,Ft,ht,X,He,ve,ke,fe,tt,Rt,Oe;function Tt(){Le=new G0e(oe),Le.init(),tt=new X8(oe,Le),ze=new z0e(oe,Le,e,tt),De=new Ame(oe,Le),ze.reverseDepthBuffer&&h&&De.buffers.depth.setReversed(!0),Fe=new j0e(oe),Ge=new fme,ae=new Eme(oe,Le,De,Ge,ze,tt,Fe),te=new H0e(S),we=new W0e(S),ye=new tfe(oe),Rt=new F0e(oe,ye),$e=new K0e(oe,ye,Fe,Rt),je=new X0e(oe,$e,ye,Fe),ve=new Y0e(oe,ze,ae),ht=new U0e(Ge),yt=new dme(S,te,we,Le,ze,Rt,ht),ut=new Pme(S,Ge),_t=new pme,Ft=new Sme(Le),He=new N0e(S,te,we,De,je,p,l),X=new xme(S,je,ze),Oe=new Bme(oe,Fe,ze,De),ke=new O0e(oe,Le,Fe),fe=new q0e(oe,Le,Fe),Fe.programs=yt.programs,S.capabilities=ze,S.extensions=Le,S.properties=Ge,S.renderLists=_t,S.shadowMap=X,S.state=De,S.info=Fe}Tt();const ot=new kme(S,oe);this.xr=ot,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const be=Le.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=Le.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(be){be!==void 0&&(U=be,this.setSize(L,W,!1))},this.getSize=function(be){return be.set(L,W)},this.setSize=function(be,et,Ee=!0){if(ot.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=be,W=et,n.width=Math.floor(be*U),n.height=Math.floor(et*U),Ee===!0&&(n.style.width=be+"px",n.style.height=et+"px"),this.setViewport(0,0,be,et)},this.getDrawingBufferSize=function(be){return be.set(L*U,W*U).floor()},this.setDrawingBufferSize=function(be,et,Ee){L=be,W=et,U=Ee,n.width=Math.floor(be*Ee),n.height=Math.floor(et*Ee),this.setViewport(0,0,be,et)},this.getCurrentViewport=function(be){return be.copy(D)},this.getViewport=function(be){return be.copy(ne)},this.setViewport=function(be,et,Ee,qe){be.isVector4?ne.set(be.x,be.y,be.z,be.w):ne.set(be,et,Ee,qe),De.viewport(D.copy(ne).multiplyScalar(U).round())},this.getScissor=function(be){return be.copy(de)},this.setScissor=function(be,et,Ee,qe){be.isVector4?de.set(be.x,be.y,be.z,be.w):de.set(be,et,Ee,qe),De.scissor(B.copy(de).multiplyScalar(U).round())},this.getScissorTest=function(){return ie},this.setScissorTest=function(be){De.setScissorTest(ie=be)},this.setOpaqueSort=function(be){F=be},this.setTransparentSort=function(be){Q=be},this.getClearColor=function(be){return be.copy(He.getClearColor())},this.setClearColor=function(){He.setClearColor.apply(He,arguments)},this.getClearAlpha=function(){return He.getClearAlpha()},this.setClearAlpha=function(){He.setClearAlpha.apply(He,arguments)},this.clear=function(be=!0,et=!0,Ee=!0){let qe=0;if(be){let We=!1;if(k!==null){const pt=k.texture.format;We=pt===ku||pt===yS||pt===Um}if(We){const pt=k.texture.type,Ut=pt===Bs||pt===Bo||pt===eh||pt===od||pt===mS||pt===vS,Gt=He.getClearColor(),sn=He.getClearAlpha(),wn=Gt.r,Ht=Gt.g,rn=Gt.b;Ut?(m[0]=wn,m[1]=Ht,m[2]=rn,m[3]=sn,oe.clearBufferuiv(oe.COLOR,0,m)):(g[0]=wn,g[1]=Ht,g[2]=rn,g[3]=sn,oe.clearBufferiv(oe.COLOR,0,g))}else qe|=oe.COLOR_BUFFER_BIT}et&&(qe|=oe.DEPTH_BUFFER_BIT),Ee&&(qe|=oe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),oe.clear(qe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",dt,!1),n.removeEventListener("webglcontextrestored",It,!1),n.removeEventListener("webglcontextcreationerror",gt,!1),He.dispose(),_t.dispose(),Ft.dispose(),Ge.dispose(),te.dispose(),we.dispose(),je.dispose(),Rt.dispose(),Oe.dispose(),yt.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",H),ot.removeEventListener("sessionend",Y),At.stop()};function dt(be){be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function It(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const be=Fe.autoReset,et=X.enabled,Ee=X.autoUpdate,qe=X.needsUpdate,We=X.type;Tt(),Fe.autoReset=be,X.enabled=et,X.autoUpdate=Ee,X.needsUpdate=qe,X.type=We}function gt(be){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",be.statusMessage)}function an(be){const et=be.target;et.removeEventListener("dispose",an),Yn(et)}function Yn(be){Tr(be),Ge.remove(be)}function Tr(be){const et=Ge.get(be).programs;et!==void 0&&(et.forEach(function(Ee){yt.releaseProgram(Ee)}),be.isShaderMaterial&&yt.releaseShaderCache(be))}this.renderBufferDirect=function(be,et,Ee,qe,We,pt){et===null&&(et=Ye);const Ut=We.isMesh&&We.matrixWorld.determinant()<0,Gt=Hn(be,et,Ee,qe,We);De.setMaterial(qe,Ut);let sn=Ee.index,wn=1;if(qe.wireframe===!0){if(sn=$e.getWireframeAttribute(Ee),sn===void 0)return;wn=2}const Ht=Ee.drawRange,rn=Ee.attributes.position;let yn=Ht.start*wn,Nn=(Ht.start+Ht.count)*wn;pt!==null&&(yn=Math.max(yn,pt.start*wn),Nn=Math.min(Nn,(pt.start+pt.count)*wn)),sn!==null?(yn=Math.max(yn,0),Nn=Math.min(Nn,sn.count)):rn!=null&&(yn=Math.max(yn,0),Nn=Math.min(Nn,rn.count));const sr=Nn-yn;if(sr<0||sr===1/0)return;Rt.setup(We,qe,Gt,Ee,sn);let mr,Gn=ke;if(sn!==null&&(mr=ye.get(sn),Gn=fe,Gn.setIndex(mr)),We.isMesh)qe.wireframe===!0?(De.setLineWidth(qe.wireframeLinewidth*me()),Gn.setMode(oe.LINES)):Gn.setMode(oe.TRIANGLES);else if(We.isLine){let gn=qe.linewidth;gn===void 0&&(gn=1),De.setLineWidth(gn*me()),We.isLineSegments?Gn.setMode(oe.LINES):We.isLineLoop?Gn.setMode(oe.LINE_LOOP):Gn.setMode(oe.LINE_STRIP)}else We.isPoints?Gn.setMode(oe.POINTS):We.isSprite&&Gn.setMode(oe.TRIANGLES);if(We.isBatchedMesh)if(We._multiDrawInstances!==null)Gn.renderMultiDrawInstances(We._multiDrawStarts,We._multiDrawCounts,We._multiDrawCount,We._multiDrawInstances);else if(Le.get("WEBGL_multi_draw"))Gn.renderMultiDraw(We._multiDrawStarts,We._multiDrawCounts,We._multiDrawCount);else{const gn=We._multiDrawStarts,Nr=We._multiDrawCounts,Qn=We._multiDrawCount,to=sn?ye.get(sn).bytesPerElement:1,Ko=Ge.get(qe).currentProgram.getUniforms();for(let _r=0;_r<Qn;_r++)Ko.setValue(oe,"_gl_DrawID",_r),Gn.render(gn[_r]/to,Nr[_r])}else if(We.isInstancedMesh)Gn.renderInstances(yn,sr,We.count);else if(Ee.isInstancedBufferGeometry){const gn=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,Nr=Math.min(Ee.instanceCount,gn);Gn.renderInstances(yn,sr,Nr)}else Gn.render(yn,sr)};function Wn(be,et,Ee){be.transparent===!0&&be.side===ko&&be.forceSinglePass===!1?(be.side=Za,be.needsUpdate=!0,ft(be,et,Ee),be.side=Ps,be.needsUpdate=!0,ft(be,et,Ee),be.side=ko):ft(be,et,Ee)}this.compile=function(be,et,Ee=null){Ee===null&&(Ee=be),v=Ft.get(Ee),v.init(et),w.push(v),Ee.traverseVisible(function(We){We.isLight&&We.layers.test(et.layers)&&(v.pushLight(We),We.castShadow&&v.pushShadow(We))}),be!==Ee&&be.traverseVisible(function(We){We.isLight&&We.layers.test(et.layers)&&(v.pushLight(We),We.castShadow&&v.pushShadow(We))}),v.setupLights();const qe=new Set;return be.traverse(function(We){if(!(We.isMesh||We.isPoints||We.isLine||We.isSprite))return;const pt=We.material;if(pt)if(Array.isArray(pt))for(let Ut=0;Ut<pt.length;Ut++){const Gt=pt[Ut];Wn(Gt,Ee,We),qe.add(Gt)}else Wn(pt,Ee,We),qe.add(pt)}),w.pop(),v=null,qe},this.compileAsync=function(be,et,Ee=null){const qe=this.compile(be,et,Ee);return new Promise(We=>{function pt(){if(qe.forEach(function(Ut){Ge.get(Ut).currentProgram.isReady()&&qe.delete(Ut)}),qe.size===0){We(be);return}setTimeout(pt,10)}Le.get("KHR_parallel_shader_compile")!==null?pt():setTimeout(pt,10)})};let Pr=null;function Tn(be){Pr&&Pr(be)}function H(){At.stop()}function Y(){At.start()}const At=new G8;At.setAnimationLoop(Tn),typeof self<"u"&&At.setContext(self),this.setAnimationLoop=function(be){Pr=be,ot.setAnimationLoop(be),be===null?At.stop():At.start()},ot.addEventListener("sessionstart",H),ot.addEventListener("sessionend",Y),this.render=function(be,et){if(et!==void 0&&et.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(be.matrixWorldAutoUpdate===!0&&be.updateMatrixWorld(),et.parent===null&&et.matrixWorldAutoUpdate===!0&&et.updateMatrixWorld(),ot.enabled===!0&&ot.isPresenting===!0&&(ot.cameraAutoUpdate===!0&&ot.updateCamera(et),et=ot.getCamera()),be.isScene===!0&&be.onBeforeRender(S,be,et,k),v=Ft.get(be,w.length),v.init(et),w.push(v),Ie.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),ce.setFromProjectionMatrix(Ie),Ae=this.localClippingEnabled,ge=ht.init(this.clippingPlanes,Ae),y=_t.get(be,A.length),y.init(),A.push(y),ot.enabled===!0&&ot.isPresenting===!0){const pt=S.xr.getDepthSensingMesh();pt!==null&&ue(pt,et,-1/0,S.sortObjects)}ue(be,et,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort(F,Q),Z=ot.enabled===!1||ot.isPresenting===!1||ot.hasDepthSensing()===!1,Z&&He.addToRenderList(y,be),this.info.render.frame++,ge===!0&&ht.beginShadows();const Ee=v.state.shadowsArray;X.render(Ee,be,et),ge===!0&&ht.endShadows(),this.info.autoReset===!0&&this.info.reset();const qe=y.opaque,We=y.transmissive;if(v.setupLights(),et.isArrayCamera){const pt=et.cameras;if(We.length>0)for(let Ut=0,Gt=pt.length;Ut<Gt;Ut++){const sn=pt[Ut];nr(qe,We,be,sn)}Z&&He.render(be);for(let Ut=0,Gt=pt.length;Ut<Gt;Ut++){const sn=pt[Ut];Pe(y,be,sn,sn.viewport)}}else We.length>0&&nr(qe,We,be,et),Z&&He.render(be),Pe(y,be,et);k!==null&&(ae.updateMultisampleRenderTarget(k),ae.updateRenderTargetMipmap(k)),be.isScene===!0&&be.onAfterRender(S,be,et),Rt.resetDefaultState(),T=-1,M=null,w.pop(),w.length>0?(v=w[w.length-1],ge===!0&&ht.setGlobalState(S.clippingPlanes,v.state.camera)):v=null,A.pop(),A.length>0?y=A[A.length-1]:y=null};function ue(be,et,Ee,qe){if(be.visible===!1)return;if(be.layers.test(et.layers)){if(be.isGroup)Ee=be.renderOrder;else if(be.isLOD)be.autoUpdate===!0&&be.update(et);else if(be.isLight)v.pushLight(be),be.castShadow&&v.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||ce.intersectsSprite(be)){qe&&Je.setFromMatrixPosition(be.matrixWorld).applyMatrix4(Ie);const Ut=je.update(be),Gt=be.material;Gt.visible&&y.push(be,Ut,Gt,Ee,Je.z,null)}}else if((be.isMesh||be.isLine||be.isPoints)&&(!be.frustumCulled||ce.intersectsObject(be))){const Ut=je.update(be),Gt=be.material;if(qe&&(be.boundingSphere!==void 0?(be.boundingSphere===null&&be.computeBoundingSphere(),Je.copy(be.boundingSphere.center)):(Ut.boundingSphere===null&&Ut.computeBoundingSphere(),Je.copy(Ut.boundingSphere.center)),Je.applyMatrix4(be.matrixWorld).applyMatrix4(Ie)),Array.isArray(Gt)){const sn=Ut.groups;for(let wn=0,Ht=sn.length;wn<Ht;wn++){const rn=sn[wn],yn=Gt[rn.materialIndex];yn&&yn.visible&&y.push(be,Ut,yn,Ee,Je.z,rn)}}else Gt.visible&&y.push(be,Ut,Gt,Ee,Je.z,null)}}const pt=be.children;for(let Ut=0,Gt=pt.length;Ut<Gt;Ut++)ue(pt[Ut],et,Ee,qe)}function Pe(be,et,Ee,qe){const We=be.opaque,pt=be.transmissive,Ut=be.transparent;v.setupLightsView(Ee),ge===!0&&ht.setGlobalState(S.clippingPlanes,Ee),qe&&De.viewport(D.copy(qe)),We.length>0&&jt(We,et,Ee),pt.length>0&&jt(pt,et,Ee),Ut.length>0&&jt(Ut,et,Ee),De.buffers.depth.setTest(!0),De.buffers.depth.setMask(!0),De.buffers.color.setMask(!0),De.setPolygonOffset(!1)}function nr(be,et,Ee,qe){if((Ee.isScene===!0?Ee.overrideMaterial:null)!==null)return;v.state.transmissionRenderTarget[qe.id]===void 0&&(v.state.transmissionRenderTarget[qe.id]=new Sl(1,1,{generateMipmaps:!0,type:Le.has("EXT_color_buffer_half_float")||Le.has("EXT_color_buffer_float")?Ed:Bs,minFilter:lc,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:er.workingColorSpace}));const pt=v.state.transmissionRenderTarget[qe.id],Ut=qe.viewport||D;pt.setSize(Ut.z,Ut.w);const Gt=S.getRenderTarget();S.setRenderTarget(pt),S.getClearColor(q),$=S.getClearAlpha(),$<1&&S.setClearColor(16777215,.5),S.clear(),Z&&He.render(Ee);const sn=S.toneMapping;S.toneMapping=sl;const wn=qe.viewport;if(qe.viewport!==void 0&&(qe.viewport=void 0),v.setupLightsView(qe),ge===!0&&ht.setGlobalState(S.clippingPlanes,qe),jt(be,Ee,qe),ae.updateMultisampleRenderTarget(pt),ae.updateRenderTargetMipmap(pt),Le.has("WEBGL_multisampled_render_to_texture")===!1){let Ht=!1;for(let rn=0,yn=et.length;rn<yn;rn++){const Nn=et[rn],sr=Nn.object,mr=Nn.geometry,Gn=Nn.material,gn=Nn.group;if(Gn.side===ko&&sr.layers.test(qe.layers)){const Nr=Gn.side;Gn.side=Za,Gn.needsUpdate=!0,Br(sr,Ee,qe,mr,Gn,gn),Gn.side=Nr,Gn.needsUpdate=!0,Ht=!0}}Ht===!0&&(ae.updateMultisampleRenderTarget(pt),ae.updateRenderTargetMipmap(pt))}S.setRenderTarget(Gt),S.setClearColor(q,$),wn!==void 0&&(qe.viewport=wn),S.toneMapping=sn}function jt(be,et,Ee){const qe=et.isScene===!0?et.overrideMaterial:null;for(let We=0,pt=be.length;We<pt;We++){const Ut=be[We],Gt=Ut.object,sn=Ut.geometry,wn=qe===null?Ut.material:qe,Ht=Ut.group;Gt.layers.test(Ee.layers)&&Br(Gt,et,Ee,sn,wn,Ht)}}function Br(be,et,Ee,qe,We,pt){be.onBeforeRender(S,et,Ee,qe,We,pt),be.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),We.onBeforeRender(S,et,Ee,qe,be,pt),We.transparent===!0&&We.side===ko&&We.forceSinglePass===!1?(We.side=Za,We.needsUpdate=!0,S.renderBufferDirect(Ee,et,qe,We,be,pt),We.side=Ps,We.needsUpdate=!0,S.renderBufferDirect(Ee,et,qe,We,be,pt),We.side=ko):S.renderBufferDirect(Ee,et,qe,We,be,pt),be.onAfterRender(S,et,Ee,qe,We,pt)}function ft(be,et,Ee){et.isScene!==!0&&(et=Ye);const qe=Ge.get(be),We=v.state.lights,pt=v.state.shadowsArray,Ut=We.state.version,Gt=yt.getParameters(be,We.state,pt,et,Ee),sn=yt.getProgramCacheKey(Gt);let wn=qe.programs;qe.environment=be.isMeshStandardMaterial?et.environment:null,qe.fog=et.fog,qe.envMap=(be.isMeshStandardMaterial?we:te).get(be.envMap||qe.environment),qe.envMapRotation=qe.environment!==null&&be.envMap===null?et.environmentRotation:be.envMapRotation,wn===void 0&&(be.addEventListener("dispose",an),wn=new Map,qe.programs=wn);let Ht=wn.get(sn);if(Ht!==void 0){if(qe.currentProgram===Ht&&qe.lightsStateVersion===Ut)return on(be,Gt),Ht}else Gt.uniforms=yt.getUniforms(be),be.onBeforeCompile(Gt,S),Ht=yt.acquireProgram(Gt,sn),wn.set(sn,Ht),qe.uniforms=Gt.uniforms;const rn=qe.uniforms;return(!be.isShaderMaterial&&!be.isRawShaderMaterial||be.clipping===!0)&&(rn.clippingPlanes=ht.uniform),on(be,Gt),qe.needsLights=Ne(be),qe.lightsStateVersion=Ut,qe.needsLights&&(rn.ambientLightColor.value=We.state.ambient,rn.lightProbe.value=We.state.probe,rn.directionalLights.value=We.state.directional,rn.directionalLightShadows.value=We.state.directionalShadow,rn.spotLights.value=We.state.spot,rn.spotLightShadows.value=We.state.spotShadow,rn.rectAreaLights.value=We.state.rectArea,rn.ltc_1.value=We.state.rectAreaLTC1,rn.ltc_2.value=We.state.rectAreaLTC2,rn.pointLights.value=We.state.point,rn.pointLightShadows.value=We.state.pointShadow,rn.hemisphereLights.value=We.state.hemi,rn.directionalShadowMap.value=We.state.directionalShadowMap,rn.directionalShadowMatrix.value=We.state.directionalShadowMatrix,rn.spotShadowMap.value=We.state.spotShadowMap,rn.spotLightMatrix.value=We.state.spotLightMatrix,rn.spotLightMap.value=We.state.spotLightMap,rn.pointShadowMap.value=We.state.pointShadowMap,rn.pointShadowMatrix.value=We.state.pointShadowMatrix),qe.currentProgram=Ht,qe.uniformsList=null,Ht}function vt(be){if(be.uniformsList===null){const et=be.currentProgram.getUniforms();be.uniformsList=cp.seqWithValue(et.seq,be.uniforms)}return be.uniformsList}function on(be,et){const Ee=Ge.get(be);Ee.outputColorSpace=et.outputColorSpace,Ee.batching=et.batching,Ee.batchingColor=et.batchingColor,Ee.instancing=et.instancing,Ee.instancingColor=et.instancingColor,Ee.instancingMorph=et.instancingMorph,Ee.skinning=et.skinning,Ee.morphTargets=et.morphTargets,Ee.morphNormals=et.morphNormals,Ee.morphColors=et.morphColors,Ee.morphTargetsCount=et.morphTargetsCount,Ee.numClippingPlanes=et.numClippingPlanes,Ee.numIntersection=et.numClipIntersection,Ee.vertexAlphas=et.vertexAlphas,Ee.vertexTangents=et.vertexTangents,Ee.toneMapping=et.toneMapping}function Hn(be,et,Ee,qe,We){et.isScene!==!0&&(et=Ye),ae.resetTextureUnits();const pt=et.fog,Ut=qe.isMeshStandardMaterial?et.environment:null,Gt=k===null?S.outputColorSpace:k.isXRRenderTarget===!0?k.texture.colorSpace:id,sn=(qe.isMeshStandardMaterial?we:te).get(qe.envMap||Ut),wn=qe.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,Ht=!!Ee.attributes.tangent&&(!!qe.normalMap||qe.anisotropy>0),rn=!!Ee.morphAttributes.position,yn=!!Ee.morphAttributes.normal,Nn=!!Ee.morphAttributes.color;let sr=sl;qe.toneMapped&&(k===null||k.isXRRenderTarget===!0)&&(sr=S.toneMapping);const mr=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,Gn=mr!==void 0?mr.length:0,gn=Ge.get(qe),Nr=v.state.lights;if(ge===!0&&(Ae===!0||be!==M)){const da=be===M&&qe.id===T;ht.setState(qe,be,da)}let Qn=!1;qe.version===gn.__version?(gn.needsLights&&gn.lightsStateVersion!==Nr.state.version||gn.outputColorSpace!==Gt||We.isBatchedMesh&&gn.batching===!1||!We.isBatchedMesh&&gn.batching===!0||We.isBatchedMesh&&gn.batchingColor===!0&&We.colorTexture===null||We.isBatchedMesh&&gn.batchingColor===!1&&We.colorTexture!==null||We.isInstancedMesh&&gn.instancing===!1||!We.isInstancedMesh&&gn.instancing===!0||We.isSkinnedMesh&&gn.skinning===!1||!We.isSkinnedMesh&&gn.skinning===!0||We.isInstancedMesh&&gn.instancingColor===!0&&We.instanceColor===null||We.isInstancedMesh&&gn.instancingColor===!1&&We.instanceColor!==null||We.isInstancedMesh&&gn.instancingMorph===!0&&We.morphTexture===null||We.isInstancedMesh&&gn.instancingMorph===!1&&We.morphTexture!==null||gn.envMap!==sn||qe.fog===!0&&gn.fog!==pt||gn.numClippingPlanes!==void 0&&(gn.numClippingPlanes!==ht.numPlanes||gn.numIntersection!==ht.numIntersection)||gn.vertexAlphas!==wn||gn.vertexTangents!==Ht||gn.morphTargets!==rn||gn.morphNormals!==yn||gn.morphColors!==Nn||gn.toneMapping!==sr||gn.morphTargetsCount!==Gn)&&(Qn=!0):(Qn=!0,gn.__version=qe.version);let to=gn.currentProgram;Qn===!0&&(to=ft(qe,et,We));let Ko=!1,_r=!1,Ml=!1;const vr=to.getUniforms(),Ga=gn.uniforms;if(De.useProgram(to.program)&&(Ko=!0,_r=!0,Ml=!0),qe.id!==T&&(T=qe.id,_r=!0),Ko||M!==be){De.buffers.depth.getReversed()?(pe.copy(be.projectionMatrix),bde(pe),Sde(pe),vr.setValue(oe,"projectionMatrix",pe)):vr.setValue(oe,"projectionMatrix",be.projectionMatrix),vr.setValue(oe,"viewMatrix",be.matrixWorldInverse);const ra=vr.map.cameraPosition;ra!==void 0&&ra.setValue(oe,Re.setFromMatrixPosition(be.matrixWorld)),ze.logarithmicDepthBuffer&&vr.setValue(oe,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),(qe.isMeshPhongMaterial||qe.isMeshToonMaterial||qe.isMeshLambertMaterial||qe.isMeshBasicMaterial||qe.isMeshStandardMaterial||qe.isShaderMaterial)&&vr.setValue(oe,"isOrthographic",be.isOrthographicCamera===!0),M!==be&&(M=be,_r=!0,Ml=!0)}if(We.isSkinnedMesh){vr.setOptional(oe,We,"bindMatrix"),vr.setOptional(oe,We,"bindMatrixInverse");const da=We.skeleton;da&&(da.boneTexture===null&&da.computeBoneTexture(),vr.setValue(oe,"boneTexture",da.boneTexture,ae))}We.isBatchedMesh&&(vr.setOptional(oe,We,"batchingTexture"),vr.setValue(oe,"batchingTexture",We._matricesTexture,ae),vr.setOptional(oe,We,"batchingIdTexture"),vr.setValue(oe,"batchingIdTexture",We._indirectTexture,ae),vr.setOptional(oe,We,"batchingColorTexture"),We._colorsTexture!==null&&vr.setValue(oe,"batchingColorTexture",We._colorsTexture,ae));const Ka=Ee.morphAttributes;if((Ka.position!==void 0||Ka.normal!==void 0||Ka.color!==void 0)&&ve.update(We,Ee,to),(_r||gn.receiveShadow!==We.receiveShadow)&&(gn.receiveShadow=We.receiveShadow,vr.setValue(oe,"receiveShadow",We.receiveShadow)),qe.isMeshGouraudMaterial&&qe.envMap!==null&&(Ga.envMap.value=sn,Ga.flipEnvMap.value=sn.isCubeTexture&&sn.isRenderTargetTexture===!1?-1:1),qe.isMeshStandardMaterial&&qe.envMap===null&&et.environment!==null&&(Ga.envMapIntensity.value=et.environmentIntensity),_r&&(vr.setValue(oe,"toneMappingExposure",S.toneMappingExposure),gn.needsLights&&Ir(Ga,Ml),pt&&qe.fog===!0&&ut.refreshFogUniforms(Ga,pt),ut.refreshMaterialUniforms(Ga,qe,U,W,v.state.transmissionRenderTarget[be.id]),cp.upload(oe,vt(gn),Ga,ae)),qe.isShaderMaterial&&qe.uniformsNeedUpdate===!0&&(cp.upload(oe,vt(gn),Ga,ae),qe.uniformsNeedUpdate=!1),qe.isSpriteMaterial&&vr.setValue(oe,"center",We.center),vr.setValue(oe,"modelViewMatrix",We.modelViewMatrix),vr.setValue(oe,"normalMatrix",We.normalMatrix),vr.setValue(oe,"modelMatrix",We.matrixWorld),qe.isShaderMaterial||qe.isRawShaderMaterial){const da=qe.uniformsGroups;for(let ra=0,aa=da.length;ra<aa;ra++){const hs=da[ra];Oe.update(hs,to),Oe.bind(hs,to)}}return to}function Ir(be,et){be.ambientLightColor.needsUpdate=et,be.lightProbe.needsUpdate=et,be.directionalLights.needsUpdate=et,be.directionalLightShadows.needsUpdate=et,be.pointLights.needsUpdate=et,be.pointLightShadows.needsUpdate=et,be.spotLights.needsUpdate=et,be.spotLightShadows.needsUpdate=et,be.rectAreaLights.needsUpdate=et,be.hemisphereLights.needsUpdate=et}function Ne(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&be.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(be,et,Ee){Ge.get(be.texture).__webglTexture=et,Ge.get(be.depthTexture).__webglTexture=Ee;const qe=Ge.get(be);qe.__hasExternalTextures=!0,qe.__autoAllocateDepthBuffer=Ee===void 0,qe.__autoAllocateDepthBuffer||Le.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),qe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(be,et){const Ee=Ge.get(be);Ee.__webglFramebuffer=et,Ee.__useDefaultFramebuffer=et===void 0},this.setRenderTarget=function(be,et=0,Ee=0){k=be,E=et,I=Ee;let qe=!0,We=null,pt=!1,Ut=!1;if(be){const sn=Ge.get(be);if(sn.__useDefaultFramebuffer!==void 0)De.bindFramebuffer(oe.FRAMEBUFFER,null),qe=!1;else if(sn.__webglFramebuffer===void 0)ae.setupRenderTarget(be);else if(sn.__hasExternalTextures)ae.rebindTextures(be,Ge.get(be.texture).__webglTexture,Ge.get(be.depthTexture).__webglTexture);else if(be.depthBuffer){const rn=be.depthTexture;if(sn.__boundDepthTexture!==rn){if(rn!==null&&Ge.has(rn)&&(be.width!==rn.image.width||be.height!==rn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ae.setupDepthRenderbuffer(be)}}const wn=be.texture;(wn.isData3DTexture||wn.isDataArrayTexture||wn.isCompressedArrayTexture)&&(Ut=!0);const Ht=Ge.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(Array.isArray(Ht[et])?We=Ht[et][Ee]:We=Ht[et],pt=!0):be.samples>0&&ae.useMultisampledRTT(be)===!1?We=Ge.get(be).__webglMultisampledFramebuffer:Array.isArray(Ht)?We=Ht[Ee]:We=Ht,D.copy(be.viewport),B.copy(be.scissor),z=be.scissorTest}else D.copy(ne).multiplyScalar(U).floor(),B.copy(de).multiplyScalar(U).floor(),z=ie;if(De.bindFramebuffer(oe.FRAMEBUFFER,We)&&qe&&De.drawBuffers(be,We),De.viewport(D),De.scissor(B),De.setScissorTest(z),pt){const sn=Ge.get(be.texture);oe.framebufferTexture2D(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_CUBE_MAP_POSITIVE_X+et,sn.__webglTexture,Ee)}else if(Ut){const sn=Ge.get(be.texture),wn=et||0;oe.framebufferTextureLayer(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,sn.__webglTexture,Ee||0,wn)}T=-1},this.readRenderTargetPixels=function(be,et,Ee,qe,We,pt,Ut){if(!(be&&be.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Gt=Ge.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&Ut!==void 0&&(Gt=Gt[Ut]),Gt){De.bindFramebuffer(oe.FRAMEBUFFER,Gt);try{const sn=be.texture,wn=sn.format,Ht=sn.type;if(!ze.textureFormatReadable(wn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ze.textureTypeReadable(Ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}et>=0&&et<=be.width-qe&&Ee>=0&&Ee<=be.height-We&&oe.readPixels(et,Ee,qe,We,tt.convert(wn),tt.convert(Ht),pt)}finally{const sn=k!==null?Ge.get(k).__webglFramebuffer:null;De.bindFramebuffer(oe.FRAMEBUFFER,sn)}}},this.readRenderTargetPixelsAsync=async function(be,et,Ee,qe,We,pt,Ut){if(!(be&&be.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Gt=Ge.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&Ut!==void 0&&(Gt=Gt[Ut]),Gt){const sn=be.texture,wn=sn.format,Ht=sn.type;if(!ze.textureFormatReadable(wn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ze.textureTypeReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(et>=0&&et<=be.width-qe&&Ee>=0&&Ee<=be.height-We){De.bindFramebuffer(oe.FRAMEBUFFER,Gt);const rn=oe.createBuffer();oe.bindBuffer(oe.PIXEL_PACK_BUFFER,rn),oe.bufferData(oe.PIXEL_PACK_BUFFER,pt.byteLength,oe.STREAM_READ),oe.readPixels(et,Ee,qe,We,tt.convert(wn),tt.convert(Ht),0);const yn=k!==null?Ge.get(k).__webglFramebuffer:null;De.bindFramebuffer(oe.FRAMEBUFFER,yn);const Nn=oe.fenceSync(oe.SYNC_GPU_COMMANDS_COMPLETE,0);return oe.flush(),await yde(oe,Nn,4),oe.bindBuffer(oe.PIXEL_PACK_BUFFER,rn),oe.getBufferSubData(oe.PIXEL_PACK_BUFFER,0,pt),oe.deleteBuffer(rn),oe.deleteSync(Nn),pt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(be,et=null,Ee=0){be.isTexture!==!0&&(pu("WebGLRenderer: copyFramebufferToTexture function signature has changed."),et=arguments[0]||null,be=arguments[1]);const qe=Math.pow(2,-Ee),We=Math.floor(be.image.width*qe),pt=Math.floor(be.image.height*qe),Ut=et!==null?et.x:0,Gt=et!==null?et.y:0;ae.setTexture2D(be,0),oe.copyTexSubImage2D(oe.TEXTURE_2D,Ee,0,0,Ut,Gt,We,pt),De.unbindTexture()};const Lr=oe.createFramebuffer(),Xe=oe.createFramebuffer();this.copyTextureToTexture=function(be,et,Ee=null,qe=null,We=0,pt=null){be.isTexture!==!0&&(pu("WebGLRenderer: copyTextureToTexture function signature has changed."),qe=arguments[0]||null,be=arguments[1],et=arguments[2],pt=arguments[3]||0,Ee=null),pt===null&&(We!==0?(pu("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),pt=We,We=0):pt=0);let Ut,Gt,sn,wn,Ht,rn,yn,Nn,sr;const mr=be.isCompressedTexture?be.mipmaps[pt]:be.image;if(Ee!==null)Ut=Ee.max.x-Ee.min.x,Gt=Ee.max.y-Ee.min.y,sn=Ee.isBox3?Ee.max.z-Ee.min.z:1,wn=Ee.min.x,Ht=Ee.min.y,rn=Ee.isBox3?Ee.min.z:0;else{const Ka=Math.pow(2,-We);Ut=Math.floor(mr.width*Ka),Gt=Math.floor(mr.height*Ka),be.isDataArrayTexture?sn=mr.depth:be.isData3DTexture?sn=Math.floor(mr.depth*Ka):sn=1,wn=0,Ht=0,rn=0}qe!==null?(yn=qe.x,Nn=qe.y,sr=qe.z):(yn=0,Nn=0,sr=0);const Gn=tt.convert(et.format),gn=tt.convert(et.type);let Nr;et.isData3DTexture?(ae.setTexture3D(et,0),Nr=oe.TEXTURE_3D):et.isDataArrayTexture||et.isCompressedArrayTexture?(ae.setTexture2DArray(et,0),Nr=oe.TEXTURE_2D_ARRAY):(ae.setTexture2D(et,0),Nr=oe.TEXTURE_2D),oe.pixelStorei(oe.UNPACK_FLIP_Y_WEBGL,et.flipY),oe.pixelStorei(oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.premultiplyAlpha),oe.pixelStorei(oe.UNPACK_ALIGNMENT,et.unpackAlignment);const Qn=oe.getParameter(oe.UNPACK_ROW_LENGTH),to=oe.getParameter(oe.UNPACK_IMAGE_HEIGHT),Ko=oe.getParameter(oe.UNPACK_SKIP_PIXELS),_r=oe.getParameter(oe.UNPACK_SKIP_ROWS),Ml=oe.getParameter(oe.UNPACK_SKIP_IMAGES);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,mr.width),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,mr.height),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,wn),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,Ht),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,rn);const vr=be.isDataArrayTexture||be.isData3DTexture,Ga=et.isDataArrayTexture||et.isData3DTexture;if(be.isDepthTexture){const Ka=Ge.get(be),da=Ge.get(et),ra=Ge.get(Ka.__renderTarget),aa=Ge.get(da.__renderTarget);De.bindFramebuffer(oe.READ_FRAMEBUFFER,ra.__webglFramebuffer),De.bindFramebuffer(oe.DRAW_FRAMEBUFFER,aa.__webglFramebuffer);for(let hs=0;hs<sn;hs++)vr&&(oe.framebufferTextureLayer(oe.READ_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Ge.get(be).__webglTexture,We,rn+hs),oe.framebufferTextureLayer(oe.DRAW_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Ge.get(et).__webglTexture,pt,sr+hs)),oe.blitFramebuffer(wn,Ht,Ut,Gt,yn,Nn,Ut,Gt,oe.DEPTH_BUFFER_BIT,oe.NEAREST);De.bindFramebuffer(oe.READ_FRAMEBUFFER,null),De.bindFramebuffer(oe.DRAW_FRAMEBUFFER,null)}else if(We!==0||be.isRenderTargetTexture||Ge.has(be)){const Ka=Ge.get(be),da=Ge.get(et);De.bindFramebuffer(oe.READ_FRAMEBUFFER,Lr),De.bindFramebuffer(oe.DRAW_FRAMEBUFFER,Xe);for(let ra=0;ra<sn;ra++)vr?oe.framebufferTextureLayer(oe.READ_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Ka.__webglTexture,We,rn+ra):oe.framebufferTexture2D(oe.READ_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_2D,Ka.__webglTexture,We),Ga?oe.framebufferTextureLayer(oe.DRAW_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,da.__webglTexture,pt,sr+ra):oe.framebufferTexture2D(oe.DRAW_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_2D,da.__webglTexture,pt),We!==0?oe.blitFramebuffer(wn,Ht,Ut,Gt,yn,Nn,Ut,Gt,oe.COLOR_BUFFER_BIT,oe.NEAREST):Ga?oe.copyTexSubImage3D(Nr,pt,yn,Nn,sr+ra,wn,Ht,Ut,Gt):oe.copyTexSubImage2D(Nr,pt,yn,Nn,wn,Ht,Ut,Gt);De.bindFramebuffer(oe.READ_FRAMEBUFFER,null),De.bindFramebuffer(oe.DRAW_FRAMEBUFFER,null)}else Ga?be.isDataTexture||be.isData3DTexture?oe.texSubImage3D(Nr,pt,yn,Nn,sr,Ut,Gt,sn,Gn,gn,mr.data):et.isCompressedArrayTexture?oe.compressedTexSubImage3D(Nr,pt,yn,Nn,sr,Ut,Gt,sn,Gn,mr.data):oe.texSubImage3D(Nr,pt,yn,Nn,sr,Ut,Gt,sn,Gn,gn,mr):be.isDataTexture?oe.texSubImage2D(oe.TEXTURE_2D,pt,yn,Nn,Ut,Gt,Gn,gn,mr.data):be.isCompressedTexture?oe.compressedTexSubImage2D(oe.TEXTURE_2D,pt,yn,Nn,mr.width,mr.height,Gn,mr.data):oe.texSubImage2D(oe.TEXTURE_2D,pt,yn,Nn,Ut,Gt,Gn,gn,mr);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,Qn),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,to),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,Ko),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,_r),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,Ml),pt===0&&et.generateMipmaps&&oe.generateMipmap(Nr),De.unbindTexture()},this.copyTextureToTexture3D=function(be,et,Ee=null,qe=null,We=0){return be.isTexture!==!0&&(pu("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ee=arguments[0]||null,qe=arguments[1]||null,be=arguments[2],et=arguments[3],We=arguments[4]||0),pu('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(be,et,Ee,qe,We)},this.initRenderTarget=function(be){Ge.get(be).__webglFramebuffer===void 0&&ae.setupRenderTarget(be)},this.initTexture=function(be){be.isCubeTexture?ae.setTextureCube(be,0):be.isData3DTexture?ae.setTexture3D(be,0):be.isDataArrayTexture||be.isCompressedArrayTexture?ae.setTexture2DArray(be,0):ae.setTexture2D(be,0),De.unbindTexture()},this.resetState=function(){E=0,I=0,k=null,De.reset(),Rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ui}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=er._getDrawingBufferColorSpace(e),n.unpackColorSpace=er._getUnpackColorSpace()}}const Zl=class Zl{constructor(e,n){let r,a;this.promise=new Promise((c,u)=>{r=c,a=u});const o=r.bind(this),s=a.bind(this),i=(...c)=>{o(...c)},l=c=>{s(c)};e(i.bind(this),l.bind(this)),this.abortHandler=n,this.id=Zl.idGen++}then(e){return new Zl((n,r)=>{this.promise=this.promise.then((...a)=>{const o=e(...a);o instanceof Promise||o instanceof Zl?o.then((...s)=>{n(...s)}):n(o)}).catch(a=>{r(a)})},this.abortHandler)}catch(e){return new Zl(n=>{this.promise=this.promise.then((...r)=>{n(...r)}).catch(e)},this.abortHandler)}abort(e){this.abortHandler&&this.abortHandler(e)}};$t(Zl,"idGen",0);let ah=Zl;class up extends Error{constructor(e){super(e)}}(function(){const t=new Float32Array(1),e=new Int32Array(t.buffer);return function(n){t[0]=n;const r=e[0];let a=r>>16&32768,o=r>>12&2047;const s=r>>23&255;return s<103?a:s>142?(a|=31744,a|=(s==255?0:1)&&r&8388607,a):s<113?(o|=2048,a|=(o>>114-s)+(o>>113-s&1),a):(a|=s-112<<10|o>>1,a+=o&1,a)}})();const Pg=function(){const t=new Float32Array(1),e=new Int32Array(t.buffer);return function(n){return t[0]=n,e[0]}}(),Nme=function(t,e){return t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24)},AS=function(t,e,n=!0,r){const a=new AbortController,o=a.signal;let s=!1;const i=l=>{a.abort(l),s=!0};return new ah((l,c)=>{const u={signal:o};r&&(u.headers=r),fetch(t,u).then(async f=>{if(!f.ok){const v=await f.text();c(new Error(`Fetch failed: ${f.status} ${f.statusText} ${v}`));return}const h=f.body.getReader();let p=0,m=f.headers.get("Content-Length"),g=m?parseInt(m):void 0;const y=[];for(;!s;)try{const{value:v,done:A}=await h.read();if(A){if(e&&e(100,"100%",v,g),n){const C=new Blob(y).arrayBuffer();l(C)}else l();break}p+=v.length;let w,S;g!==void 0&&(w=p/g*100,S=`${w.toFixed(2)}%`),n&&y.push(v),e&&e(w,S,v,g)}catch(v){c(v);return}}).catch(f=>{c(new up(f))})},i)},va=function(t,e,n){return Math.max(Math.min(t,n),e)},ou=function(){return performance.now()/1e3},mu=t=>{if(t.geometry&&(t.geometry.dispose(),t.geometry=null),t.material&&(t.material.dispose(),t.material=null),t.children)for(let e of t.children)mu(e)},is=(t,e)=>new Promise(n=>{window.setTimeout(()=>{n(t())},e?1:50)}),Pu=(t=0)=>{switch(t){case 1:return 9;case 2:return 24}return 0},ES=()=>{let t,e;return{promise:new Promise((r,a)=>{t=r,e=a}),resolve:t,reject:e}},Bg=t=>{let e,n;return t||(t=()=>{}),{promise:new ah((a,o)=>{e=a,n=o},t),resolve:e,reject:n}};class Fme{constructor(e,n,r){this.major=e,this.minor=n,this.patch=r}toString(){return`${this.major}_${this.minor}_${this.patch}`}}function MS(){const t=navigator.userAgent;return t.indexOf("iPhone")>0||t.indexOf("iPad")>0}function Q8(){if(MS()){const t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return new Fme(parseInt(t[1]||0,10),parseInt(t[2]||0,10),parseInt(t[3]||0,10))}else return null}const Ome=14,yf=class yf{constructor(e=0){this.sphericalHarmonicsDegree=e,this.sphericalHarmonicsCount=Pu(this.sphericalHarmonicsDegree),this.componentCount=this.sphericalHarmonicsCount+Ome,this.defaultSphericalHarmonics=new Array(this.sphericalHarmonicsCount).fill(0),this.splats=[],this.splatCount=0}static createSplat(e=0){const n=[0,0,0,1,1,1,1,0,0,0,0,0,0,0];let r=Pu(e);for(let a=0;a<r;a++)n.push(0);return n}addSplat(e){this.splats.push(e),this.splatCount++}getSplat(e){return this.splats[e]}addDefaultSplat(){const e=yf.createSplat(this.sphericalHarmonicsDegree);return this.addSplat(e),e}addSplatFromComonents(e,n,r,a,o,s,i,l,c,u,f,h,p,m,...g){const y=[e,n,r,a,o,s,i,l,c,u,f,h,p,m,...this.defaultSphericalHarmonics];for(let v=0;v<g.length&&v<this.sphericalHarmonicsCount;v++)y[v]=g[v];return this.addSplat(y),y}addSplatFromArray(e,n){const r=e.splats[n],a=yf.createSplat(this.sphericalHarmonicsDegree);for(let o=0;o<this.componentCount&&o<r.length;o++)a[o]=r[o];this.addSplat(a)}};$t(yf,"OFFSET",{X:0,Y:1,Z:2,SCALE0:3,SCALE1:4,SCALE2:5,ROTATION0:6,ROTATION1:7,ROTATION2:8,ROTATION3:9,FDC0:10,FDC1:11,FDC2:12,OPACITY:13,FRC0:14,FRC1:15,FRC2:16,FRC3:17,FRC4:18,FRC5:19,FRC6:20,FRC7:21,FRC8:22,FRC9:23,FRC10:24,FRC11:25,FRC12:26,FRC13:27,FRC14:28,FRC15:29,FRC16:30,FRC17:31,FRC18:32,FRC19:33,FRC20:34,FRC21:35,FRC22:36,FRC23:37});let hn=yf;class $n{}$t($n,"DefaultSplatSortDistanceMapPrecision",16),$t($n,"MemoryPageSize",65536),$t($n,"BytesPerFloat",4),$t($n,"BytesPerInt",4),$t($n,"MaxScenes",32),$t($n,"ProgressiveLoadSectionSize",262144),$t($n,"ProgressiveLoadSectionDelayDuration",15),$t($n,"SphericalHarmonics8BitCompressionRange",3);const zme=$n.SphericalHarmonics8BitCompressionRange,Hi=zme/2,Yr=nh.toHalfFloat.bind(nh),TS=nh.fromHalfFloat.bind(nh),Ar=(t,e,n=!1,r,a)=>{if(e===0)return t;if(e===1||e===2&&!n)return nh.fromHalfFloat(t);if(e===2)return IS(t,r,a)},pf=(t,e,n)=>{t=va(t,e,n);const r=n-e;return va(Math.floor((t-e)/r*255),0,255)},IS=(t,e,n)=>{const r=n-e;return t/255*r+e},Z8=(t,e,n)=>pf(TS(t,e,n)),Ume=(t,e,n)=>Yr(IS(t,e,n)),ar=(t,e,n,r=!1)=>n===0?t.getFloat32(e*4,!0):n===1||n===2&&!r?t.getUint16(e*2,!0):t.getUint8(e,!0),Hme=function(){const t=e=>e;return function(e,n,r,a=!1){if(n===r)return e;let o=t;return n===2&&a?r===1?o=Ume:r==0&&(o=IS):n===2||n===1?r===0?o=TS:r==2&&(a?o=Z8:o=t):n===0&&(r===1?o=Yr:r==2&&(a?o=pf:o=Yr)),o(e)}}(),su=(t,e,n,r,a=0)=>{const o=new Uint8Array(t,e),s=new Uint8Array(n,r);for(let i=0;i<a;i++)s[i]=o[i]},wt=class wt{constructor(e,n=!0){$t(this,"getSplatScaleAndRotation",function(){const e=new An,n=new An,r=new An,a=new Be,o=new Be,s=new kr;return function(i,l,c,u,f){const h=this.globalSplatIndexToSectionMap[i],p=this.sections[h],m=i-p.splatCountOffset,g=p.bytesPerSplat*m+wt.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,y=new DataView(this.bufferData,p.dataBase+g);o.set(Ar(ar(y,0,this.compressionLevel),this.compressionLevel),Ar(ar(y,1,this.compressionLevel),this.compressionLevel),Ar(ar(y,2,this.compressionLevel),this.compressionLevel)),f&&(f.x!==void 0&&(o.x=f.x),f.y!==void 0&&(o.y=f.y),f.z!==void 0&&(o.z=f.z)),s.set(Ar(ar(y,4,this.compressionLevel),this.compressionLevel),Ar(ar(y,5,this.compressionLevel),this.compressionLevel),Ar(ar(y,6,this.compressionLevel),this.compressionLevel),Ar(ar(y,3,this.compressionLevel),this.compressionLevel)),u?(e.makeScale(o.x,o.y,o.z),n.makeRotationFromQuaternion(s),r.copy(e).multiply(n).multiply(u),r.decompose(a,c,l)):(l.copy(o),c.copy(s))}}());$t(this,"fillSplatScaleRotationArray",function(){const e=new An,n=new An,r=new An,a=new Be,o=new kr,s=new Be,i=l=>{const c=l.w<0?-1:1;l.x*=c,l.y*=c,l.z*=c,l.w*=c};return function(l,c,u,f,h,p,m,g){const y=this.splatCount;f=f||0,h=h||y-1,p===void 0&&(p=f);const v=(A,w)=>(w===void 0&&(w=this.compressionLevel),Hme(A,w,m));for(let A=f;A<=h;A++){const w=this.globalSplatIndexToSectionMap[A],S=this.sections[w],C=A-S.splatCountOffset,E=S.bytesPerSplat*C+wt.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,I=(A-f+p)*wt.ScaleComponentCount,k=(A-f+p)*wt.RotationComponentCount,T=new DataView(this.bufferData,S.dataBase+E),M=g&&g.x!==void 0?g.x:ar(T,0,this.compressionLevel),D=g&&g.y!==void 0?g.y:ar(T,1,this.compressionLevel),B=g&&g.z!==void 0?g.z:ar(T,2,this.compressionLevel),z=ar(T,3,this.compressionLevel),q=ar(T,4,this.compressionLevel),$=ar(T,5,this.compressionLevel),L=ar(T,6,this.compressionLevel);a.set(Ar(M,this.compressionLevel),Ar(D,this.compressionLevel),Ar(B,this.compressionLevel)),o.set(Ar(q,this.compressionLevel),Ar($,this.compressionLevel),Ar(L,this.compressionLevel),Ar(z,this.compressionLevel)).normalize(),u&&(s.set(0,0,0),e.makeScale(a.x,a.y,a.z),n.makeRotationFromQuaternion(o),r.identity().premultiply(e).premultiply(n),r.premultiply(u),r.decompose(s,o,a),o.normalize()),i(o),l&&(l[I]=v(a.x,0),l[I+1]=v(a.y,0),l[I+2]=v(a.z,0)),c&&(c[k]=v(o.x,0),c[k+1]=v(o.y,0),c[k+2]=v(o.z,0),c[k+3]=v(o.w,0))}}}());$t(this,"fillSphericalHarmonicsArray",function(){for(let q=0;q<15;q++)new Be;const e=new Cn,n=new An,r=new Be,a=new Be,o=new kr,s=[],i=[],l=[],c=[],u=[],f=[],h=[],p=[],m=[],g=[],y=[],v=[],A=[],w=[],S=[],C=[],E=[],I=[],k=q=>q,T=(q,$,L,W)=>{q[0]=$,q[1]=L,q[2]=W},M=(q,$,L,W,U)=>{q[0]=ar($,W,U,!0),q[1]=ar($,W+L,U,!0),q[2]=ar($,W+L+L,U,!0)},D=(q,$)=>{$[0]=q[0],$[1]=q[1],$[2]=q[2]},B=(q,$,L,W)=>{$[L]=W(q[0]),$[L+1]=W(q[1]),$[L+2]=W(q[2])},z=(q,$,L,W,U)=>($[0]=Ar(q[0],L,!0,W,U),$[1]=Ar(q[1],L,!0,W,U),$[2]=Ar(q[2],L,!0,W,U),$);return function(q,$,L,W,U,F,Q){const ne=this.splatCount;W=W||0,U=U||ne-1,F===void 0&&(F=W),L&&$>=1&&(n.copy(L),n.decompose(r,o,a),o.normalize(),n.makeRotationFromQuaternion(o),e.setFromMatrix4(n),T(s,e.elements[4],-e.elements[7],e.elements[1]),T(i,-e.elements[5],e.elements[8],-e.elements[2]),T(l,e.elements[3],-e.elements[6],e.elements[0]));const de=ce=>Z8(ce,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff),ie=ce=>pf(ce,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff);for(let ce=W;ce<=U;ce++){const ge=this.globalSplatIndexToSectionMap[ce],Ae=this.sections[ge];$=Math.min($,Ae.sphericalHarmonicsDegree);const pe=Pu($),Ie=ce-Ae.splatCountOffset,Re=Ae.bytesPerSplat*Ie+wt.CompressionLevels[this.compressionLevel].SphericalHarmonicsOffsetBytes,Je=new DataView(this.bufferData,Ae.dataBase+Re),Ye=(ce-W+F)*pe;let Z=L?0:this.compressionLevel,me=k;Z!==Q&&(Z===1?Q===0?me=TS:Q==2&&(me=de):Z===0&&(Q===1?me=Yr:Q==2&&(me=ie)));const oe=this.minSphericalHarmonicsCoeff,Ve=this.maxSphericalHarmonicsCoeff;$>=1&&(M(m,Je,3,0,this.compressionLevel),M(g,Je,3,1,this.compressionLevel),M(y,Je,3,2,this.compressionLevel),L?(z(m,m,this.compressionLevel,oe,Ve),z(g,g,this.compressionLevel,oe,Ve),z(y,y,this.compressionLevel,oe,Ve),wt.rotateSphericalHarmonics3(m,g,y,s,i,l,w,S,C)):(D(m,w),D(g,S),D(y,C)),B(w,q,Ye,me),B(S,q,Ye+3,me),B(C,q,Ye+6,me),$>=2&&(M(m,Je,5,9,this.compressionLevel),M(g,Je,5,10,this.compressionLevel),M(y,Je,5,11,this.compressionLevel),M(v,Je,5,12,this.compressionLevel),M(A,Je,5,13,this.compressionLevel),L?(z(m,m,this.compressionLevel,oe,Ve),z(g,g,this.compressionLevel,oe,Ve),z(y,y,this.compressionLevel,oe,Ve),z(v,v,this.compressionLevel,oe,Ve),z(A,A,this.compressionLevel,oe,Ve),wt.rotateSphericalHarmonics5(m,g,y,v,A,s,i,l,c,u,f,h,p,w,S,C,E,I)):(D(m,w),D(g,S),D(y,C),D(v,E),D(A,I)),B(w,q,Ye+9,me),B(S,q,Ye+12,me),B(C,q,Ye+15,me),B(E,q,Ye+18,me),B(I,q,Ye+21,me)))}}}());this.constructFromBuffer(e,n)}getSplatCount(){return this.splatCount}getMaxSplatCount(){return this.maxSplatCount}getMinSphericalHarmonicsDegree(){let e=0;for(let n=0;n<this.sections.length;n++){const r=this.sections[n];(n===0||r.sphericalHarmonicsDegree<e)&&(e=r.sphericalHarmonicsDegree)}return e}getBucketIndex(e,n){let r;const a=e.fullBucketCount*e.bucketSize;if(n<a)r=Math.floor(n/e.bucketSize);else{let o=a;r=e.fullBucketCount;let s=0;for(;o<e.splatCount;){let i=e.partiallyFilledBucketLengths[s];if(n>=o&&n<o+i)break;o+=i,r++,s++}}return r}getSplatCenter(e,n,r){const a=this.globalSplatIndexToSectionMap[e],o=this.sections[a],s=e-o.splatCountOffset,i=o.bytesPerSplat*s,l=new DataView(this.bufferData,o.dataBase+i),c=ar(l,0,this.compressionLevel),u=ar(l,1,this.compressionLevel),f=ar(l,2,this.compressionLevel);if(this.compressionLevel>=1){const p=this.getBucketIndex(o,s)*wt.BucketStorageSizeFloats,m=o.compressionScaleFactor,g=o.compressionScaleRange;n.x=(c-g)*m+o.bucketArray[p],n.y=(u-g)*m+o.bucketArray[p+1],n.z=(f-g)*m+o.bucketArray[p+2]}else n.x=c,n.y=u,n.z=f;r&&n.applyMatrix4(r)}getSplatColor(e,n){const r=this.globalSplatIndexToSectionMap[e],a=this.sections[r],o=e-a.splatCountOffset,s=a.bytesPerSplat*o+wt.CompressionLevels[this.compressionLevel].ColorOffsetBytes,i=new Uint8Array(this.bufferData,a.dataBase+s,4);n.set(i[0],i[1],i[2],i[3])}fillSplatCenterArray(e,n,r,a,o){const s=this.splatCount;r=r||0,a=a||s-1,o===void 0&&(o=r);const i=new Be;for(let l=r;l<=a;l++){const c=this.globalSplatIndexToSectionMap[l],u=this.sections[c],f=l-u.splatCountOffset,h=(l-r+o)*wt.CenterComponentCount,p=u.bytesPerSplat*f,m=new DataView(this.bufferData,u.dataBase+p),g=ar(m,0,this.compressionLevel),y=ar(m,1,this.compressionLevel),v=ar(m,2,this.compressionLevel);if(this.compressionLevel>=1){const w=this.getBucketIndex(u,f)*wt.BucketStorageSizeFloats,S=u.compressionScaleFactor,C=u.compressionScaleRange;i.x=(g-C)*S+u.bucketArray[w],i.y=(y-C)*S+u.bucketArray[w+1],i.z=(v-C)*S+u.bucketArray[w+2]}else i.x=g,i.y=y,i.z=v;n&&i.applyMatrix4(n),e[h]=i.x,e[h+1]=i.y,e[h+2]=i.z}}fillSplatCovarianceArray(e,n,r,a,o,s){const i=this.splatCount,l=new Be,c=new kr;r=r||0,a=a||i-1,o===void 0&&(o=r);for(let u=r;u<=a;u++){const f=this.globalSplatIndexToSectionMap[u],h=this.sections[f],p=u-h.splatCountOffset,m=(u-r+o)*wt.CovarianceComponentCount,g=h.bytesPerSplat*p+wt.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,y=new DataView(this.bufferData,h.dataBase+g);l.set(Ar(ar(y,0,this.compressionLevel),this.compressionLevel),Ar(ar(y,1,this.compressionLevel),this.compressionLevel),Ar(ar(y,2,this.compressionLevel),this.compressionLevel)),c.set(Ar(ar(y,4,this.compressionLevel),this.compressionLevel),Ar(ar(y,5,this.compressionLevel),this.compressionLevel),Ar(ar(y,6,this.compressionLevel),this.compressionLevel),Ar(ar(y,3,this.compressionLevel),this.compressionLevel)),wt.computeCovariance(l,c,n,e,m,s)}}fillSplatColorArray(e,n,r,a,o){const s=this.splatCount;r=r||0,a=a||s-1,o===void 0&&(o=r);for(let i=r;i<=a;i++){const l=this.globalSplatIndexToSectionMap[i],c=this.sections[l],u=i-c.splatCountOffset,f=(i-r+o)*wt.ColorComponentCount,h=c.bytesPerSplat*u+wt.CompressionLevels[this.compressionLevel].ColorOffsetBytes,p=new Uint8Array(this.bufferData,c.dataBase+h);let m=p[3];m=m>=n?m:0,e[f]=p[0],e[f+1]=p[1],e[f+2]=p[2],e[f+3]=m}}static parseHeader(e){const n=new Uint8Array(e,0,wt.HeaderSizeBytes),r=new Uint16Array(e,0,wt.HeaderSizeBytes/2),a=new Uint32Array(e,0,wt.HeaderSizeBytes/4),o=new Float32Array(e,0,wt.HeaderSizeBytes/4),s=n[0],i=n[1],l=a[1],c=a[2],u=a[3],f=a[4],h=r[10],p=new Be(o[6],o[7],o[8]),m=o[9]||-Hi,g=o[10]||Hi;return{versionMajor:s,versionMinor:i,maxSectionCount:l,sectionCount:c,maxSplatCount:u,splatCount:f,compressionLevel:h,sceneCenter:p,minSphericalHarmonicsCoeff:m,maxSphericalHarmonicsCoeff:g}}static writeHeaderCountsToBuffer(e,n,r){const a=new Uint32Array(r,0,wt.HeaderSizeBytes/4);a[2]=e,a[4]=n}static writeHeaderToBuffer(e,n){const r=new Uint8Array(n,0,wt.HeaderSizeBytes),a=new Uint16Array(n,0,wt.HeaderSizeBytes/2),o=new Uint32Array(n,0,wt.HeaderSizeBytes/4),s=new Float32Array(n,0,wt.HeaderSizeBytes/4);r[0]=e.versionMajor,r[1]=e.versionMinor,r[2]=0,r[3]=0,o[1]=e.maxSectionCount,o[2]=e.sectionCount,o[3]=e.maxSplatCount,o[4]=e.splatCount,a[10]=e.compressionLevel,s[6]=e.sceneCenter.x,s[7]=e.sceneCenter.y,s[8]=e.sceneCenter.z,s[9]=e.minSphericalHarmonicsCoeff||-Hi,s[10]=e.maxSphericalHarmonicsCoeff||Hi}static parseSectionHeaders(e,n,r=0,a){const o=e.compressionLevel,s=e.maxSectionCount,i=new Uint16Array(n,r,s*wt.SectionHeaderSizeBytes/2),l=new Uint32Array(n,r,s*wt.SectionHeaderSizeBytes/4),c=new Float32Array(n,r,s*wt.SectionHeaderSizeBytes/4),u=[];let f=0,h=f/2,p=f/4,m=wt.HeaderSizeBytes+e.maxSectionCount*wt.SectionHeaderSizeBytes,g=0;for(let y=0;y<s;y++){const v=l[p+1],A=l[p+2],w=l[p+3],S=c[p+4],C=S/2,E=i[h+10],I=l[p+6]||wt.CompressionLevels[o].ScaleRange,k=l[p+8],T=l[p+9],M=T*4,D=E*w+M,B=i[h+20],{bytesPerSplat:z}=wt.calculateComponentStorage(o,B),q=z*v,$=q+D,L={bytesPerSplat:z,splatCountOffset:g,splatCount:a?v:0,maxSplatCount:v,bucketSize:A,bucketCount:w,bucketBlockSize:S,halfBucketBlockSize:C,bucketStorageSizeBytes:E,bucketsStorageSizeBytes:D,splatDataStorageSizeBytes:q,storageSizeBytes:$,compressionScaleRange:I,compressionScaleFactor:C/I,base:m,bucketsBase:m+M,dataBase:m+D,fullBucketCount:k,partiallyFilledBucketCount:T,sphericalHarmonicsDegree:B};u[y]=L,m+=$,f+=wt.SectionHeaderSizeBytes,h=f/2,p=f/4,g+=v}return u}static writeSectionHeaderToBuffer(e,n,r,a=0){const o=new Uint16Array(r,a,wt.SectionHeaderSizeBytes/2),s=new Uint32Array(r,a,wt.SectionHeaderSizeBytes/4),i=new Float32Array(r,a,wt.SectionHeaderSizeBytes/4);s[0]=e.splatCount,s[1]=e.maxSplatCount,s[2]=n>=1?e.bucketSize:0,s[3]=n>=1?e.bucketCount:0,i[4]=n>=1?e.bucketBlockSize:0,o[10]=n>=1?wt.BucketStorageSizeBytes:0,s[6]=n>=1?e.compressionScaleRange:0,s[7]=e.storageSizeBytes,s[8]=n>=1?e.fullBucketCount:0,s[9]=n>=1?e.partiallyFilledBucketCount:0,o[20]=e.sphericalHarmonicsDegree}static writeSectionHeaderSplatCountToBuffer(e,n,r=0){const a=new Uint32Array(n,r,wt.SectionHeaderSizeBytes/4);a[0]=e}constructFromBuffer(e,n){this.bufferData=e,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSectionMap=[];const r=wt.parseHeader(this.bufferData);this.versionMajor=r.versionMajor,this.versionMinor=r.versionMinor,this.maxSectionCount=r.maxSectionCount,this.sectionCount=n?r.maxSectionCount:0,this.maxSplatCount=r.maxSplatCount,this.splatCount=n?r.maxSplatCount:0,this.compressionLevel=r.compressionLevel,this.sceneCenter=new Be().copy(r.sceneCenter),this.minSphericalHarmonicsCoeff=r.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff=r.maxSphericalHarmonicsCoeff,this.sections=wt.parseSectionHeaders(r,this.bufferData,wt.HeaderSizeBytes,n),this.linkBufferArrays(),this.buildMaps()}static calculateComponentStorage(e,n){const r=wt.CompressionLevels[e].BytesPerCenter,a=wt.CompressionLevels[e].BytesPerScale,o=wt.CompressionLevels[e].BytesPerRotation,s=wt.CompressionLevels[e].BytesPerColor,i=Pu(n),l=wt.CompressionLevels[e].BytesPerSphericalHarmonicsComponent*i,c=r+a+o+s+l;return{bytesPerCenter:r,bytesPerScale:a,bytesPerRotation:o,bytesPerColor:s,sphericalHarmonicsComponentsPerSplat:i,sphericalHarmonicsBytesPerSplat:l,bytesPerSplat:c}}linkBufferArrays(){for(let e=0;e<this.maxSectionCount;e++){const n=this.sections[e];n.bucketArray=new Float32Array(this.bufferData,n.bucketsBase,n.bucketCount*wt.BucketStorageSizeFloats),n.partiallyFilledBucketCount>0&&(n.partiallyFilledBucketLengths=new Uint32Array(this.bufferData,n.base,n.partiallyFilledBucketCount))}}buildMaps(){let e=0;for(let n=0;n<this.maxSectionCount;n++){const r=this.sections[n];for(let a=0;a<r.maxSplatCount;a++){const o=e+a;this.globalSplatIndexToLocalSplatIndexMap[o]=a,this.globalSplatIndexToSectionMap[o]=n}e+=r.maxSplatCount}}updateLoadedCounts(e,n){wt.writeHeaderCountsToBuffer(e,n,this.bufferData),this.sectionCount=e,this.splatCount=n}updateSectionLoadedCounts(e,n){const r=wt.HeaderSizeBytes+wt.SectionHeaderSizeBytes*e;wt.writeSectionHeaderSplatCountToBuffer(n,this.bufferData,r),this.sections[e].splatCount=n}static generateFromUncompressedSplatArrays(e,n,r,a,o,s,i=[]){let l=0;for(let C=0;C<e.length;C++){const E=e[C];l=Math.max(E.sphericalHarmonicsDegree,l)}let c,u;for(let C=0;C<e.length;C++){const E=e[C];for(let I=0;I<E.splats.length;I++){const k=E.splats[I];for(let T=hn.OFFSET.FRC0;T<hn.OFFSET.FRC23&&T<k.length;T++)(!c||k[T]<c)&&(c=k[T]),(!u||k[T]>u)&&(u=k[T])}}c=c||-Hi,u=u||Hi;const{bytesPerSplat:f}=wt.calculateComponentStorage(r,l),h=wt.CompressionLevels[r].ScaleRange,p=[],m=[];let g=0;for(let C=0;C<e.length;C++){const E=e[C],I=new hn(l);for(let ge=0;ge<E.splatCount;ge++){const Ae=E.splats[ge];(Ae[hn.OFFSET.OPACITY]||0)>=n&&I.addSplat(Ae)}const k=i[C]||{},T=(k.blockSizeFactor||1)*(o||wt.BucketBlockSize),M=Math.ceil((k.bucketSizeFactor||1)*(s||wt.BucketSize)),D=wt.computeBucketsForUncompressedSplatArray(I,T,M),B=D.fullBuckets.length,z=D.partiallyFullBuckets.map(ge=>ge.splats.length),q=z.length,$=[...D.fullBuckets,...D.partiallyFullBuckets],L=I.splats.length*f,W=q*4,U=r>=1?$.length*wt.BucketStorageSizeBytes+W:0,F=L+U,Q=new ArrayBuffer(F),ne=h/(T*.5),de=new Be;let ie=0;for(let ge=0;ge<$.length;ge++){const Ae=$[ge];de.fromArray(Ae.center);for(let pe=0;pe<Ae.splats.length;pe++){let Ie=Ae.splats[pe];const Re=I.splats[Ie],Je=U+ie*f;wt.writeSplatDataToSectionBuffer(Re,Q,Je,r,l,de,ne,h,c,u),ie++}}if(g+=ie,r>=1){const ge=new Uint32Array(Q,0,z.length*4);for(let pe=0;pe<z.length;pe++)ge[pe]=z[pe];const Ae=new Float32Array(Q,W,$.length*wt.BucketStorageSizeFloats);for(let pe=0;pe<$.length;pe++){const Ie=$[pe],Re=pe*3;Ae[Re]=Ie.center[0],Ae[Re+1]=Ie.center[1],Ae[Re+2]=Ie.center[2]}}p.push(Q);const ce=new ArrayBuffer(wt.SectionHeaderSizeBytes);wt.writeSectionHeaderToBuffer({maxSplatCount:ie,splatCount:ie,bucketSize:M,bucketCount:$.length,bucketBlockSize:T,compressionScaleRange:h,storageSizeBytes:F,fullBucketCount:B,partiallyFilledBucketCount:q,sphericalHarmonicsDegree:l},r,ce,0),m.push(ce)}let y=0;for(let C of p)y+=C.byteLength;const v=wt.HeaderSizeBytes+wt.SectionHeaderSizeBytes*p.length+y,A=new ArrayBuffer(v);wt.writeHeaderToBuffer({versionMajor:0,versionMinor:1,maxSectionCount:p.length,sectionCount:p.length,maxSplatCount:g,splatCount:g,compressionLevel:r,sceneCenter:a,minSphericalHarmonicsCoeff:c,maxSphericalHarmonicsCoeff:u},A);let w=wt.HeaderSizeBytes;for(let C of m)new Uint8Array(A,w,wt.SectionHeaderSizeBytes).set(new Uint8Array(C)),w+=wt.SectionHeaderSizeBytes;for(let C of p)new Uint8Array(A,w,C.byteLength).set(new Uint8Array(C)),w+=C.byteLength;return new wt(A)}static computeBucketsForUncompressedSplatArray(e,n,r){let a=e.splatCount;const o=n/2,s=new Be,i=new Be;for(let g=0;g<a;g++){const y=e.splats[g],v=[y[hn.OFFSET.X],y[hn.OFFSET.Y],y[hn.OFFSET.Z]];(g===0||v[0]<s.x)&&(s.x=v[0]),(g===0||v[0]>i.x)&&(i.x=v[0]),(g===0||v[1]<s.y)&&(s.y=v[1]),(g===0||v[1]>i.y)&&(i.y=v[1]),(g===0||v[2]<s.z)&&(s.z=v[2]),(g===0||v[2]>i.z)&&(i.z=v[2])}const l=new Be().copy(i).sub(s),c=Math.ceil(l.y/n),u=Math.ceil(l.z/n),f=new Be,h=[],p={};for(let g=0;g<a;g++){const y=e.splats[g],v=[y[hn.OFFSET.X],y[hn.OFFSET.Y],y[hn.OFFSET.Z]],A=Math.floor((v[0]-s.x)/n),w=Math.floor((v[1]-s.y)/n),S=Math.floor((v[2]-s.z)/n);f.x=A*n+s.x+o,f.y=w*n+s.y+o,f.z=S*n+s.z+o;const C=A*(c*u)+w*u+S;let E=p[C];E||(p[C]=E={splats:[],center:f.toArray()}),E.splats.push(g),E.splats.length>=r&&(h.push(E),p[C]=null)}const m=[];for(let g in p)if(p.hasOwnProperty(g)){const y=p[g];y&&m.push(y)}return{fullBuckets:h,partiallyFullBuckets:m}}};$t(wt,"CurrentMajorVersion",0),$t(wt,"CurrentMinorVersion",1),$t(wt,"CenterComponentCount",3),$t(wt,"ScaleComponentCount",3),$t(wt,"RotationComponentCount",4),$t(wt,"ColorComponentCount",4),$t(wt,"CovarianceComponentCount",6),$t(wt,"SplatScaleOffsetFloat",3),$t(wt,"SplatRotationOffsetFloat",6),$t(wt,"CompressionLevels",{0:{BytesPerCenter:12,BytesPerScale:12,BytesPerRotation:16,BytesPerColor:4,ScaleOffsetBytes:12,RotationffsetBytes:24,ColorOffsetBytes:40,SphericalHarmonicsOffsetBytes:44,ScaleRange:1,BytesPerSphericalHarmonicsComponent:4,SphericalHarmonicsOffsetFloat:11,SphericalHarmonicsDegrees:{0:{BytesPerSplat:44},1:{BytesPerSplat:80},2:{BytesPerSplat:140}}},1:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:2,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:42},2:{BytesPerSplat:72}}},2:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:1,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:33},2:{BytesPerSplat:48}}}}),$t(wt,"CovarianceSizeFloats",6),$t(wt,"HeaderSizeBytes",4096),$t(wt,"SectionHeaderSizeBytes",1024),$t(wt,"BucketStorageSizeBytes",12),$t(wt,"BucketStorageSizeFloats",3),$t(wt,"BucketBlockSize",5),$t(wt,"BucketSize",256),$t(wt,"computeCovariance",function(){const e=new An,n=new Cn,r=new Cn,a=new Cn,o=new Cn,s=new Cn,i=new Cn;return function(l,c,u,f,h=0,p){e.makeScale(l.x,l.y,l.z),n.setFromMatrix4(e),e.makeRotationFromQuaternion(c),r.setFromMatrix4(e),a.copy(r).multiply(n),o.copy(a).transpose().premultiply(a),u&&(s.setFromMatrix4(u),i.copy(s).transpose(),o.multiply(i),o.premultiply(s)),p>=1?(f[h]=Yr(o.elements[0]),f[h+1]=Yr(o.elements[3]),f[h+2]=Yr(o.elements[6]),f[h+3]=Yr(o.elements[4]),f[h+4]=Yr(o.elements[7]),f[h+5]=Yr(o.elements[8])):(f[h]=o.elements[0],f[h+1]=o.elements[3],f[h+2]=o.elements[6],f[h+3]=o.elements[4],f[h+4]=o.elements[7],f[h+5]=o.elements[8])}}()),$t(wt,"dot3",(e,n,r,a,o)=>{o[0]=o[1]=o[2]=0;const s=a[0],i=a[1],l=a[2];wt.addInto3(e[0]*s,e[1]*s,e[2]*s,o),wt.addInto3(n[0]*i,n[1]*i,n[2]*i,o),wt.addInto3(r[0]*l,r[1]*l,r[2]*l,o)}),$t(wt,"addInto3",(e,n,r,a)=>{a[0]=a[0]+e,a[1]=a[1]+n,a[2]=a[2]+r}),$t(wt,"dot5",(e,n,r,a,o,s,i)=>{i[0]=i[1]=i[2]=0;const l=s[0],c=s[1],u=s[2],f=s[3],h=s[4];wt.addInto3(e[0]*l,e[1]*l,e[2]*l,i),wt.addInto3(n[0]*c,n[1]*c,n[2]*c,i),wt.addInto3(r[0]*u,r[1]*u,r[2]*u,i),wt.addInto3(a[0]*f,a[1]*f,a[2]*f,i),wt.addInto3(o[0]*h,o[1]*h,o[2]*h,i)}),$t(wt,"rotateSphericalHarmonics3",(e,n,r,a,o,s,i,l,c)=>{wt.dot3(e,n,r,a,i),wt.dot3(e,n,r,o,l),wt.dot3(e,n,r,s,c)}),$t(wt,"rotateSphericalHarmonics5",(e,n,r,a,o,s,i,l,c,u,f,h,p,m,g,y,v,A)=>{const w=Math.sqrt(.25),S=Math.sqrt(3/4),C=Math.sqrt(1/3),E=Math.sqrt(4/3),I=Math.sqrt(1/12);c[0]=w*(l[2]*s[0]+l[0]*s[2]+(s[2]*l[0]+s[0]*l[2])),c[1]=l[1]*s[0]+s[1]*l[0],c[2]=S*(l[1]*s[1]+s[1]*l[1]),c[3]=l[1]*s[2]+s[1]*l[2],c[4]=w*(l[2]*s[2]-l[0]*s[0]+(s[2]*l[2]-s[0]*l[0])),wt.dot5(e,n,r,a,o,c,m),u[0]=w*(i[2]*s[0]+i[0]*s[2]+(s[2]*i[0]+s[0]*i[2])),u[1]=i[1]*s[0]+s[1]*i[0],u[2]=S*(i[1]*s[1]+s[1]*i[1]),u[3]=i[1]*s[2]+s[1]*i[2],u[4]=w*(i[2]*s[2]-i[0]*s[0]+(s[2]*i[2]-s[0]*i[0])),wt.dot5(e,n,r,a,o,u,g),f[0]=C*(i[2]*i[0]+i[0]*i[2])+-I*(l[2]*l[0]+l[0]*l[2]+(s[2]*s[0]+s[0]*s[2])),f[1]=E*i[1]*i[0]+-C*(l[1]*l[0]+s[1]*s[0]),f[2]=i[1]*i[1]+-w*(l[1]*l[1]+s[1]*s[1]),f[3]=E*i[1]*i[2]+-C*(l[1]*l[2]+s[1]*s[2]),f[4]=C*(i[2]*i[2]-i[0]*i[0])+-I*(l[2]*l[2]-l[0]*l[0]+(s[2]*s[2]-s[0]*s[0])),wt.dot5(e,n,r,a,o,f,y),h[0]=w*(i[2]*l[0]+i[0]*l[2]+(l[2]*i[0]+l[0]*i[2])),h[1]=i[1]*l[0]+l[1]*i[0],h[2]=S*(i[1]*l[1]+l[1]*i[1]),h[3]=i[1]*l[2]+l[1]*i[2],h[4]=w*(i[2]*l[2]-i[0]*l[0]+(l[2]*i[2]-l[0]*i[0])),wt.dot5(e,n,r,a,o,h,v),p[0]=w*(l[2]*l[0]+l[0]*l[2]-(s[2]*s[0]+s[0]*s[2])),p[1]=l[1]*l[0]-s[1]*s[0],p[2]=S*(l[1]*l[1]-s[1]*s[1]),p[3]=l[1]*l[2]-s[1]*s[2],p[4]=w*(l[2]*l[2]-l[0]*l[0]-(s[2]*s[2]-s[0]*s[0])),wt.dot5(e,n,r,a,o,p,A)}),$t(wt,"writeSplatDataToSectionBuffer",function(){const e=new ArrayBuffer(12),n=new ArrayBuffer(12),r=new ArrayBuffer(16),a=new ArrayBuffer(4),o=new ArrayBuffer(256),s=new kr,i=new Be,l=new Be,{X:c,Y:u,Z:f,SCALE0:h,SCALE1:p,SCALE2:m,ROTATION0:g,ROTATION1:y,ROTATION2:v,ROTATION3:A,FDC0:w,FDC1:S,FDC2:C,OPACITY:E,FRC0:I,FRC9:k}=hn.OFFSET,T=(M,D,B)=>{const z=B*2+1;return M=Math.round(M*D)+B,va(M,0,z)};return function(M,D,B,z,q,$,L,W,U=-Hi,F=Hi){const Q=Pu(q),ne=wt.CompressionLevels[z].BytesPerCenter,de=wt.CompressionLevels[z].BytesPerScale,ie=wt.CompressionLevels[z].BytesPerRotation,ce=wt.CompressionLevels[z].BytesPerColor,ge=B,Ae=ge+ne,pe=Ae+de,Ie=pe+ie,Re=Ie+ce;if(M[g]!==void 0?(s.set(M[g],M[y],M[v],M[A]),s.normalize()):s.set(1,0,0,0),M[h]!==void 0?i.set(M[h]||0,M[p]||0,M[m]||0):i.set(0,0,0),z===0){const Ye=new Float32Array(D,ge,wt.CenterComponentCount),Z=new Float32Array(D,pe,wt.RotationComponentCount),me=new Float32Array(D,Ae,wt.ScaleComponentCount);if(Z.set([s.x,s.y,s.z,s.w]),me.set([i.x,i.y,i.z]),Ye.set([M[c],M[u],M[f]]),q>0){const oe=new Float32Array(D,Re,Q);if(q>=1){for(let Ve=0;Ve<9;Ve++)oe[Ve]=M[I+Ve]||0;if(q>=2)for(let Ve=0;Ve<15;Ve++)oe[Ve+9]=M[k+Ve]||0}}}else{const Ye=new Uint16Array(e,0,wt.CenterComponentCount),Z=new Uint16Array(r,0,wt.RotationComponentCount),me=new Uint16Array(n,0,wt.ScaleComponentCount);if(Z.set([Yr(s.x),Yr(s.y),Yr(s.z),Yr(s.w)]),me.set([Yr(i.x),Yr(i.y),Yr(i.z)]),l.set(M[c],M[u],M[f]).sub($),l.x=T(l.x,L,W),l.y=T(l.y,L,W),l.z=T(l.z,L,W),Ye.set([l.x,l.y,l.z]),q>0){const oe=z===1?Uint16Array:Uint8Array,Ve=z===1?2:1,Le=new oe(o,0,Q);if(q>=1){for(let De=0;De<9;De++){const Fe=M[I+De]||0;Le[De]=z===1?Yr(Fe):pf(Fe,U,F)}const ze=9*Ve;if(su(Le.buffer,0,D,Re,ze),q>=2){for(let De=0;De<15;De++){const Fe=M[k+De]||0;Le[De+9]=z===1?Yr(Fe):pf(Fe,U,F)}su(Le.buffer,ze,D,Re+ze,15*Ve)}}}su(Ye.buffer,0,D,ge,6),su(me.buffer,0,D,Ae,6),su(Z.buffer,0,D,pe,8)}const Je=new Uint8ClampedArray(a,0,4);Je.set([M[w]||0,M[S]||0,M[C]||0]),Je[3]=M[E]||0,su(Je.buffer,0,D,Ie,4)}}());let mn=wt;const R3=new Uint8Array([112,108,121,10]),k3=new Uint8Array([10,101,110,100,95,104,101,97,100,101,114,10]),Lg="end_header",Ng=new Map([["char",Int8Array],["uchar",Uint8Array],["short",Int16Array],["ushort",Uint16Array],["int",Int32Array],["uint",Uint32Array],["float",Float32Array],["double",Float64Array]]),Es=(t,e)=>{const n=(1<<e)-1;return(t&n)/n},D3=(t,e)=>{t.x=Es(e>>>21,11),t.y=Es(e>>>11,10),t.z=Es(e,11)},$me=(t,e)=>{t.x=Es(e>>>24,8),t.y=Es(e>>>16,8),t.z=Es(e>>>8,8),t.w=Es(e,8)},Vme=(t,e)=>{const n=1/(Math.sqrt(2)*.5),r=(Es(e>>>20,10)-.5)*n,a=(Es(e>>>10,10)-.5)*n,o=(Es(e,10)-.5)*n,s=Math.sqrt(1-(r*r+a*a+o*o));switch(e>>>30){case 0:t.set(s,r,a,o);break;case 1:t.set(r,s,a,o);break;case 2:t.set(r,a,s,o);break;case 3:t.set(r,a,o,s);break}},iu=(t,e,n)=>t*(1-n)+e*n,Aa=(t,e)=>{var n;return(n=t.properties.find(r=>r.name===e&&r.storage))==null?void 0:n.storage},Ma=class Ma{static decodeHeaderText(e){let n,r,a;const o=e.split(`
`).filter(l=>!l.startsWith("comment "));let s=0,i=!1;for(let l=1;l<o.length;++l){const c=o[l].split(" ");switch(c[0]){case"format":if(c[1]!=="binary_little_endian")throw new Error("Unsupported ply format");break;case"element":n={name:c[1],count:parseInt(c[2],10),properties:[],storageSizeBytes:0},n.name==="chunk"?r=n:n.name==="vertex"&&(a=n);break;case"property":{if(!Ng.has(c[1]))throw new Error(`Unrecognized property data type '${c[1]}' in ply header`);const u=Ng.get(c[1]),f=u.BYTES_PER_ELEMENT*n.count;n.name==="vertex"&&(s+=u.BYTES_PER_ELEMENT),n.properties.push({type:c[1],name:c[2],storage:null,byteSize:u.BYTES_PER_ELEMENT,storageSizeByes:f}),n.storageSizeBytes+=f;break}case Lg:i=!0;break;default:throw new Error(`Unrecognized header value '${c[0]}' in ply header`)}if(i)break}return{chunkElement:r,vertexElement:a,bytesPerSplat:s,headerSizeBytes:e.indexOf(Lg)+Lg.length+1,sphericalHarmonicsDegree:0}}static decodeHeader(e){const n=(u,f)=>{const h=u.length-f.length;let p,m;for(p=0;p<=h;++p){for(m=0;m<f.length&&u[p+m]===f[m];++m);if(m===f.length)return p}return-1},r=(u,f)=>{if(u.length<f.length)return!1;for(let h=0;h<f.length;++h)if(u[h]!==f[h])return!1;return!0};let a=new Uint8Array(e),o;if(a.length>=R3.length&&!r(a,R3))throw new Error("Invalid PLY header");if(o=n(a,k3),o===-1)throw new Error("End of PLY header not found");const s=new TextDecoder("ascii").decode(a.slice(0,o)),{chunkElement:i,vertexElement:l,bytesPerSplat:c}=Ma.decodeHeaderText(s);return{headerSizeBytes:o+k3.length,bytesPerSplat:c,chunkElement:i,vertexElement:l}}static readElementData(e,n,r,a,o,s=null){let i=n instanceof DataView?n:new DataView(n);a=a||0,o=o||e.count-1;for(let l=a;l<=o;++l)for(let c=0;c<e.properties.length;++c){const u=e.properties[c],f=Ng.get(u.type),h=f.BYTES_PER_ELEMENT*e.count;if((!u.storage||u.storage.byteLength<h)&&(!s||s(u.name))&&(u.storage=new f(e.count)),u.storage)switch(u.type){case"char":u.storage[l]=i.getInt8(r);break;case"uchar":u.storage[l]=i.getUint8(r);break;case"short":u.storage[l]=i.getInt16(r,!0);break;case"ushort":u.storage[l]=i.getUint16(r,!0);break;case"int":u.storage[l]=i.getInt32(r,!0);break;case"uint":u.storage[l]=i.getUint32(r,!0);break;case"float":u.storage[l]=i.getFloat32(r,!0);break;case"double":u.storage[l]=i.getFloat64(r,!0);break}r+=u.byteSize}return r}static readPly(e,n=null){const r=Ma.decodeHeader(e);let a=Ma.readElementData(r.chunkElement,e,r.headerSizeBytes,null,null,n);return Ma.readElementData(r.vertexElement,e,a,null,null,n),{chunkElement:r.chunkElement,vertexElement:r.vertexElement}}static getElementStorageArrays(e,n){const r=Aa(e,"min_x"),a=Aa(e,"min_y"),o=Aa(e,"min_z"),s=Aa(e,"max_x"),i=Aa(e,"max_y"),l=Aa(e,"max_z"),c=Aa(e,"min_scale_x"),u=Aa(e,"min_scale_y"),f=Aa(e,"min_scale_z"),h=Aa(e,"max_scale_x"),p=Aa(e,"max_scale_y"),m=Aa(e,"max_scale_z"),g=Aa(n,"packed_position"),y=Aa(n,"packed_rotation"),v=Aa(n,"packed_scale"),A=Aa(n,"packed_color");return{positionExtremes:{minX:r,maxX:s,minY:a,maxY:i,minZ:o,maxZ:l},scaleExtremes:{minScaleX:c,maxScaleX:h,minScaleY:u,maxScaleY:p,minScaleZ:f,maxScaleZ:m},position:g,rotation:y,scale:v,color:A}}static parseToUncompressedSplatBufferSection(e,n,r,a,o,s,i,l,c,u=null){Ma.readElementData(n,s,i,r,a,u);const f=mn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,{positionExtremes:h,scaleExtremes:p,position:m,rotation:g,scale:y,color:v}=Ma.getElementStorageArrays(e,n),A=hn.createSplat();for(let w=r;w<=a;++w){Ma.decompressSplat(w,o,m,h,y,p,g,v,A);const S=w*f+c;mn.writeSplatDataToSectionBuffer(A,l,S,0,0)}}static parseToUncompressedSplatArraySection(e,n,r,a,o,s,i,l,c=null){Ma.readElementData(n,s,i,r,a,c);const{positionExtremes:u,scaleExtremes:f,position:h,rotation:p,scale:m,color:g}=Ma.getElementStorageArrays(e,n);for(let y=r;y<=a;++y){const v=hn.createSplat();Ma.decompressSplat(y,o,h,u,m,f,p,g,v),l.addSplat(v)}}static parseToUncompressedSplatArray(e){const{chunkElement:n,vertexElement:r}=Ma.readPly(e),a=new hn,{positionExtremes:o,scaleExtremes:s,position:i,rotation:l,scale:c,color:u}=Ma.getElementStorageArrays(n,r);for(let h=0;h<r.count;++h){a.addDefaultSplat();const p=a.getSplat(a.splatCount-1);Ma.decompressSplat(h,0,i,o,c,s,l,u,p)}return new An().identity(),a}};$t(Ma,"decompressSplat",function(){const e=new Be,n=new kr,r=new Be,a=new Er,o=hn.OFFSET;return function(s,i,l,c,u,f,h,p,m){m=m||hn.createSplat();const g=Math.floor((i+s)/256);return D3(e,l[s]),Vme(n,h[s]),D3(r,u[s]),$me(a,p[s]),m[o.X]=iu(c.minX[g],c.maxX[g],e.x),m[o.Y]=iu(c.minY[g],c.maxY[g],e.y),m[o.Z]=iu(c.minZ[g],c.maxZ[g],e.z),m[o.ROTATION0]=n.x,m[o.ROTATION1]=n.y,m[o.ROTATION2]=n.z,m[o.ROTATION3]=n.w,m[o.SCALE0]=Math.exp(iu(f.minScaleX[g],f.maxScaleX[g],r.x)),m[o.SCALE1]=Math.exp(iu(f.minScaleY[g],f.maxScaleY[g],r.y)),m[o.SCALE2]=Math.exp(iu(f.minScaleZ[g],f.maxScaleZ[g],r.z)),m[o.FDC0]=va(Math.floor(a.x*255),0,255),m[o.FDC1]=va(Math.floor(a.y*255),0,255),m[o.FDC2]=va(Math.floor(a.z*255),0,255),m[o.OPACITY]=va(Math.floor(a.w*255),0,255),m}}());let cc=Ma;const il={INRIAV1:0,INRIAV2:1,PlayCanvasCompressed:2},[J8,RS,kS,DS,PS,BS,LS]=[0,1,2,3,4,5,6],P3={double:J8,int:RS,uint:kS,float:DS,short:PS,ushort:BS,uchar:LS},Wme={[J8]:8,[RS]:4,[kS]:4,[DS]:4,[PS]:2,[BS]:2,[LS]:1},co=class co{constructor(){}decodeSectionHeader(e,n,r=0){const a=[];let o=!1,s=-1,i=0,l=!1,c=null;const u=[],f=[],h=[],p={};for(let v=r;v<e.length;v++){const A=e[v].trim();if(A.startsWith("element"))if(o){s--;break}else{o=!0,r=v,s=v;const w=A.split(" ");let S=0;for(let C of w){const E=C.trim();E.length>0&&(S++,S===2?c=E:S===3&&(i=parseInt(E)))}}else if(A.startsWith("property")){const w=A.match(/(\w+)\s+(\w+)\s+(\w+)/);if(w){const S=w[2],C=w[3];h.push(C);const E=n[C];p[C]=S;const I=P3[S];E!==void 0&&(u.push(E),f[E]=I)}}if(A===co.HeaderEndToken){l=!0;break}o&&(a.push(A),s++)}const m=[];let g=0;for(let v of h){const A=p[v];if(p.hasOwnProperty(v)){const w=n[v];w!==void 0&&(m[w]=g)}g+=Wme[P3[A]]}const y=this.decodeSphericalHarmonicsFromSectionHeader(h,n);return{headerLines:a,headerStartLine:r,headerEndLine:s,fieldTypes:f,fieldIds:u,fieldOffsets:m,bytesPerVertex:g,vertexCount:i,dataSizeBytes:g*i,endOfHeader:l,sectionName:c,sphericalHarmonicsDegree:y.degree,sphericalHarmonicsCoefficientsPerChannel:y.coefficientsPerChannel,sphericalHarmonicsDegree1Fields:y.degree1Fields,sphericalHarmonicsDegree2Fields:y.degree2Fields}}decodeSphericalHarmonicsFromSectionHeader(e,n){let r=0,a=0;for(let l of e)l.startsWith("f_rest")&&r++;a=r/3;let o=0;a>=3&&(o=1),a>=8&&(o=2);let s=[],i=[];for(let l=0;l<3;l++){if(o>=1)for(let c=0;c<3;c++)s.push(n["f_rest_"+(c+a*l)]);if(o>=2)for(let c=0;c<5;c++)i.push(n["f_rest_"+(c+a*l+3)])}return{degree:o,coefficientsPerChannel:a,degree1Fields:s,degree2Fields:i}}static getHeaderSectionNames(e){const n=[];for(let r of e)if(r.startsWith("element")){const a=r.split(" ");let o=0;for(let s of a){const i=s.trim();i.length>0&&(o++,o===2&&n.push(i))}}return n}static checkTextForEndHeader(e){return!!e.includes(co.HeaderEndToken)}static checkBufferForEndHeader(e,n,r,a){const o=new Uint8Array(e,Math.max(0,n-r),r),s=a.decode(o);return co.checkTextForEndHeader(s)}static extractHeaderFromBufferToText(e){const n=new TextDecoder;let r=0,a="";const o=100;for(;;){if(r+o>=e.byteLength)throw new Error("End of file reached while searching for end of header");const s=new Uint8Array(e,r,o);if(a+=n.decode(s),r+=o,co.checkBufferForEndHeader(e,r,o*2,n))break}return a}readHeaderFromBuffer(e){const n=new TextDecoder;let r=0,a="";const o=100;for(;;){if(r+o>=e.byteLength)throw new Error("End of file reached while searching for end of header");const s=new Uint8Array(e,r,o);if(a+=n.decode(s),r+=o,co.checkBufferForEndHeader(e,r,o*2,n))break}return a}static convertHeaderTextToLines(e){const n=e.split(`
`),r=[];for(let a=0;a<n.length;a++){const o=n[a].trim();if(r.push(o),o===co.HeaderEndToken)break}return r}static determineHeaderFormatFromHeaderText(e){const n=co.convertHeaderTextToLines(e);let r=il.INRIAV1;for(let a=0;a<n.length;a++){const o=n[a].trim();if(o.startsWith("element chunk")||o.match(/[A-Za-z]*packed_[A-Za-z]*/))r=il.PlayCanvasCompressed;else if(o.startsWith("element codebook_centers"))r=il.INRIAV2;else if(o===co.HeaderEndToken)break}return r}static determineHeaderFormatFromPlyBuffer(e){const n=co.extractHeaderFromBufferToText(e);return co.determineHeaderFormatFromHeaderText(n)}static readVertex(e,n,r,a,o,s,i=!0){const l=r*n.bytesPerVertex+a,c=n.fieldOffsets,u=n.fieldTypes;for(let f of o){const h=u[f];h===DS?s[f]=e.getFloat32(l+c[f],!0):h===PS?s[f]=e.getInt16(l+c[f],!0):h===BS?s[f]=e.getUint16(l+c[f],!0):h===RS?s[f]=e.getInt32(l+c[f],!0):h===kS?s[f]=e.getUint32(l+c[f],!0):h===LS&&(i?s[f]=e.getUint8(l+c[f])/255:s[f]=e.getUint8(l+c[f]))}}};$t(co,"HeaderEndToken","end_header");let pa=co;const eI=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0"],Gme=eI.map((t,e)=>e),[B3,Kme,qme,jme,Yme,Xme,Qme,Zme,Jme,eve,L3,tve,nve,N3,F3,rve,ave,ove]=Gme,Jl=class Jl{constructor(){this.plyParserutils=new pa}decodeHeaderLines(e){let n=0;e.forEach(u=>{u.includes("f_rest_")&&n++});let r=0;n>=45?r=45:n>=24?r=24:n>=9&&(r=9);let o=Array.from(Array(Math.max(r-1,0))).map((u,f)=>`f_rest_${f+1}`);const s=[...eI,...o],i=s.map((u,f)=>f),l=i.reduce((u,f)=>(u[s[f]]=f,u),{}),c=this.plyParserutils.decodeSectionHeader(e,l,0);return c.splatCount=c.vertexCount,c.bytesPerSplat=c.bytesPerVertex,c.fieldsToReadIndexes=i,c}decodeHeaderText(e){const n=pa.convertHeaderTextToLines(e),r=this.decodeHeaderLines(n);return r.headerText=e,r.headerSizeBytes=e.indexOf(pa.HeaderEndToken)+pa.HeaderEndToken.length+1,r}decodeHeaderFromBuffer(e){const n=this.plyParserutils.readHeaderFromBuffer(e);return this.decodeHeaderText(n)}findSplatData(e,n){return new DataView(e,n.headerSizeBytes)}parseToUncompressedSplatBufferSection(e,n,r,a,o,s,i,l=0){l=Math.min(l,e.sphericalHarmonicsDegree);const c=mn.CompressionLevels[0].SphericalHarmonicsDegrees[l].BytesPerSplat;for(let u=n;u<=r;u++){const f=Jl.parseToUncompressedSplat(a,u,e,o,l),h=u*c+i;mn.writeSplatDataToSectionBuffer(f,s,h,0,l)}}parseToUncompressedSplatArraySection(e,n,r,a,o,s,i=0){i=Math.min(i,e.sphericalHarmonicsDegree);for(let l=n;l<=r;l++){const c=Jl.parseToUncompressedSplat(a,l,e,o,i);s.addSplat(c)}}decodeSectionSplatData(e,n,r,a){a=Math.min(a,r.sphericalHarmonicsDegree);const o=new hn(a);for(let s=0;s<n;s++){const i=Jl.parseToUncompressedSplat(e,s,r,0,a);o.addSplat(i)}return o}static readSplat(e,n,r,a,o){return pa.readVertex(e,n,r,a,n.fieldsToReadIndexes,o,!0)}parseToUncompressedSplatArray(e,n=0){const r=this.decodeHeaderFromBuffer(e),a=r.splatCount,o=this.findSplatData(e,r);return this.decodeSectionSplatData(o,a,r,n)}};$t(Jl,"parseToUncompressedSplat",function(){let e=[];const n=new kr,r=hn.OFFSET.X,a=hn.OFFSET.Y,o=hn.OFFSET.Z,s=hn.OFFSET.SCALE0,i=hn.OFFSET.SCALE1,l=hn.OFFSET.SCALE2,c=hn.OFFSET.ROTATION0,u=hn.OFFSET.ROTATION1,f=hn.OFFSET.ROTATION2,h=hn.OFFSET.ROTATION3,p=hn.OFFSET.FDC0,m=hn.OFFSET.FDC1,g=hn.OFFSET.FDC2,y=hn.OFFSET.OPACITY,v=[];for(let A=0;A<45;A++)v[A]=hn.OFFSET.FRC0+A;return function(A,w,S,C=0,E=0){E=Math.min(E,S.sphericalHarmonicsDegree),Jl.readSplat(A,S,w,C,e);const I=hn.createSplat(E);if(e[B3]!==void 0?(I[s]=Math.exp(e[B3]),I[i]=Math.exp(e[Kme]),I[l]=Math.exp(e[qme])):(I[s]=.01,I[i]=.01,I[l]=.01),e[L3]!==void 0){const k=.28209479177387814;I[p]=(.5+k*e[L3])*255,I[m]=(.5+k*e[tve])*255,I[g]=(.5+k*e[nve])*255}else e[F3]!==void 0?(I[p]=e[F3]*255,I[m]=e[rve]*255,I[g]=e[ave]*255):(I[p]=0,I[m]=0,I[g]=0);if(e[N3]!==void 0&&(I[y]=1/(1+Math.exp(-e[N3]))*255),I[p]=va(Math.floor(I[p]),0,255),I[m]=va(Math.floor(I[m]),0,255),I[g]=va(Math.floor(I[g]),0,255),I[y]=va(Math.floor(I[y]),0,255),E>=1&&e[ove]!==void 0){for(let k=0;k<9;k++)I[v[k]]=e[S.sphericalHarmonicsDegree1Fields[k]];if(E>=2)for(let k=0;k<15;k++)I[v[9+k]]=e[S.sphericalHarmonicsDegree2Fields[k]]}return n.set(e[jme],e[Yme],e[Xme],e[Qme]),n.normalize(),I[c]=n.x,I[u]=n.y,I[f]=n.z,I[h]=n.w,I[r]=e[Zme],I[a]=e[Jme],I[o]=e[eve],I}}());let Gp=Jl;const tI=["features_dc","features_rest_0","features_rest_1","features_rest_2","features_rest_3","features_rest_4","features_rest_5","features_rest_6","features_rest_7","features_rest_8","features_rest_9","features_rest_10","features_rest_11","features_rest_12","features_rest_13","features_rest_14","opacity","scaling","rotation_re","rotation_im"],k0=tI.map((t,e)=>e),[D0,sve,ive,O3,P0,lve,Fg]=[0,1,4,16,17,18,19],nI=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0","f_rest_1","f_rest_2","f_rest_3","f_rest_4","f_rest_5","f_rest_6","f_rest_7","f_rest_8","f_rest_9","f_rest_10","f_rest_11","f_rest_12","f_rest_13","f_rest_14","f_rest_15","f_rest_16","f_rest_17","f_rest_18","f_rest_19","f_rest_20","f_rest_21","f_rest_22","f_rest_23","f_rest_24","f_rest_25","f_rest_26","f_rest_27","f_rest_28","f_rest_29","f_rest_30","f_rest_31","f_rest_32","f_rest_33","f_rest_34","f_rest_35","f_rest_36","f_rest_37","f_rest_38","f_rest_39","f_rest_40","f_rest_41","f_rest_42","f_rest_43","f_rest_44","f_rest_45"],Zy=nI.map((t,e)=>e),[z3,cve,uve,dve,fve,hve,pve,mve,vve,gve,Jy,rI,aI,U3]=Zy,H3=Jy,yve=rI,bve=aI,B0=t=>{const e=(31744&t)>>10,n=1023&t;return(t>>15?-1:1)*(e?e===31?n?NaN:1/0:Math.pow(2,e-15)*(1+n/1024):n/1024*6103515625e-14)},bf=class bf{constructor(){this.plyParserutils=new pa}decodeSectionHeadersFromHeaderLines(e){const n=Zy.reduce((u,f)=>(u[nI[f]]=f,u),{}),r=k0.reduce((u,f)=>(u[tI[f]]=f,u),{}),a=pa.getHeaderSectionNames(e);let o;for(let u=0;u<a.length;u++)a[u]==="codebook_centers"&&(o=u);let s=0,i=!1;const l=[];let c=0;for(;!i;){let u;c===o?u=this.plyParserutils.decodeSectionHeader(e,r,s):u=this.plyParserutils.decodeSectionHeader(e,n,s),i=u.endOfHeader,s=u.headerEndLine+1,i||(u.splatCount=u.vertexCount,u.bytesPerSplat=u.bytesPerVertex),l.push(u),c++}return l}decodeSectionHeadersFromHeaderText(e){const n=pa.convertHeaderTextToLines(e);return this.decodeSectionHeadersFromHeaderLines(n)}getSplatCountFromSectionHeaders(e){let n=0;for(let r of e)r.sectionName!=="codebook_centers"&&(n+=r.vertexCount);return n}decodeHeaderFromHeaderText(e){const n=e.indexOf(pa.HeaderEndToken)+pa.HeaderEndToken.length+1,r=this.decodeSectionHeadersFromHeaderText(e),a=this.getSplatCountFromSectionHeaders(r);return{headerSizeBytes:n,sectionHeaders:r,splatCount:a}}decodeHeaderFromBuffer(e){const n=this.plyParserutils.readHeaderFromBuffer(e);return this.decodeHeaderFromHeaderText(n)}findVertexData(e,n,r){let a=n.headerSizeBytes;for(let o=0;o<r&&o<n.sectionHeaders.length;o++){const s=n.sectionHeaders[o];a+=s.dataSizeBytes}return new DataView(e,a,n.sectionHeaders[r].dataSizeBytes)}decodeCodeBook(e,n){const r=[],a=[];for(let o=0;o<n.vertexCount;o++){pa.readVertex(e,n,o,0,k0,r);for(let s of k0){const i=k0[s];let l=a[i];l||(a[i]=l=[]),l.push(r[s])}}for(let o=0;o<a.length;o++){const s=a[o],i=.28209479177387814;for(let l=0;l<s.length;l++){const c=B0(s[l]);o===O3?s[l]=Math.round(1/(1+Math.exp(-c))*255):o===D0?s[l]=Math.round((.5+i*c)*255):o===P0?s[l]=Math.exp(c):s[l]=c}}return a}decodeSectionSplatData(e,n,r,a,o){o=Math.min(o,r.sphericalHarmonicsDegree);const s=new hn(o);for(let i=0;i<n;i++){const l=bf.parseToUncompressedSplat(e,i,r,a,0,o);s.addSplat(l)}return s}static readSplat(e,n,r,a,o){return pa.readVertex(e,n,r,a,Zy,o,!1)}parseToUncompressedSplatArray(e,n=0){const r=[],a=this.decodeHeaderFromBuffer(e,n);let o;for(let i=0;i<a.sectionHeaders.length;i++){const l=a.sectionHeaders[i];if(l.sectionName==="codebook_centers"){const c=this.findVertexData(e,a,i);o=this.decodeCodeBook(c,l)}}for(let i=0;i<a.sectionHeaders.length;i++){const l=a.sectionHeaders[i];if(l.sectionName!=="codebook_centers"){const c=l.vertexCount,u=this.findVertexData(e,a,i),f=this.decodeSectionSplatData(u,c,l,o,n);r.push(f)}}const s=new hn(n);for(let i of r)for(let l of i.splats)s.addSplat(l);return s}};$t(bf,"parseToUncompressedSplat",function(){let e=[];const n=new kr,r=hn.OFFSET.X,a=hn.OFFSET.Y,o=hn.OFFSET.Z,s=hn.OFFSET.SCALE0,i=hn.OFFSET.SCALE1,l=hn.OFFSET.SCALE2,c=hn.OFFSET.ROTATION0,u=hn.OFFSET.ROTATION1,f=hn.OFFSET.ROTATION2,h=hn.OFFSET.ROTATION3,p=hn.OFFSET.FDC0,m=hn.OFFSET.FDC1,g=hn.OFFSET.FDC2,y=hn.OFFSET.OPACITY,v=[];for(let A=0;A<45;A++)v[A]=hn.OFFSET.FRC0+A;return function(A,w,S,C,E=0,I=0){I=Math.min(I,S.sphericalHarmonicsDegree),bf.readSplat(A,S,w,E,e);const k=hn.createSplat(I);if(e[z3]!==void 0?(k[s]=C[P0][e[z3]],k[i]=C[P0][e[cve]],k[l]=C[P0][e[uve]]):(k[s]=.01,k[i]=.01,k[l]=.01),e[Jy]!==void 0?(k[p]=C[D0][e[Jy]],k[m]=C[D0][e[rI]],k[g]=C[D0][e[aI]]):e[H3]!==void 0?(k[p]=e[H3]*255,k[m]=e[yve]*255,k[g]=e[bve]*255):(k[p]=0,k[m]=0,k[g]=0),e[U3]!==void 0&&(k[y]=C[O3][e[U3]]),k[p]=va(Math.floor(k[p]),0,255),k[m]=va(Math.floor(k[m]),0,255),k[g]=va(Math.floor(k[g]),0,255),k[y]=va(Math.floor(k[y]),0,255),I>=1&&S.sphericalHarmonicsDegree>=1){for(let z=0;z<9;z++){const q=C[sve+z%3];k[v[z]]=q[e[S.sphericalHarmonicsDegree1Fields[z]]]}if(I>=2&&S.sphericalHarmonicsDegree>=2)for(let z=0;z<15;z++){const q=C[ive+z%5];k[v[9+z]]=q[e[S.sphericalHarmonicsDegree2Fields[z]]]}}const T=C[lve][e[dve]],M=C[Fg][e[fve]],D=C[Fg][e[hve]],B=C[Fg][e[pve]];return n.set(T,M,D,B),n.normalize(),k[c]=n.x,k[u]=n.y,k[f]=n.z,k[h]=n.w,k[r]=B0(e[mve]),k[a]=B0(e[vve]),k[o]=B0(e[gve]),k}}());let eb=bf;class Sve{static parseToUncompressedSplatArray(e,n=0){const r=pa.determineHeaderFormatFromPlyBuffer(e);if(r===il.PlayCanvasCompressed)return cc.parseToUncompressedSplatArray(e);if(r===il.INRIAV1)return new Gp().parseToUncompressedSplatArray(e,n);if(r===il.INRIAV2)return new eb().parseToUncompressedSplatArray(e,n)}}class NS{constructor(e,n,r,a){this.sectionCount=e,this.sectionFilters=n,this.groupingParameters=r,this.partitionGenerator=a}partitionUncompressedSplatArray(e){let n,r,a;if(this.partitionGenerator){const s=this.partitionGenerator(e);n=s.groupingParameters,r=s.sectionCount,a=s.sectionFilters}else n=this.groupingParameters,r=this.sectionCount,a=this.sectionFilters;const o=[];for(let s=0;s<r;s++){const i=new hn(e.sphericalHarmonicsDegree),l=a[s];for(let c=0;c<e.splatCount;c++)l(c)&&i.addSplat(e.splats[c]);o.push(i)}return{splatArrays:o,parameters:n}}static getStandardPartitioner(e=0,n=new Be,r=mn.BucketBlockSize,a=mn.BucketSize){const o=s=>{const i=hn.OFFSET.X,l=hn.OFFSET.Y,c=hn.OFFSET.Z;e<=0&&(e=s.splatCount);const u=new Be,f=.5,h=v=>{v.x=Math.floor(v.x/f)*f,v.y=Math.floor(v.y/f)*f,v.z=Math.floor(v.z/f)*f};s.splats.forEach(v=>{u.set(v[i],v[l],v[c]).sub(n),h(u),v.centerDist=u.lengthSq()}),s.splats.sort((v,A)=>{let w=v.centerDist,S=A.centerDist;return w>S?1:-1});const p=[],m=[];e=Math.min(s.splatCount,e);const g=Math.ceil(s.splatCount/e);let y=0;for(let v=0;v<g;v++){let A=y;p.push(w=>w>=A&&w<A+e),m.push({blocksSize:r,bucketSize:a}),y+=e}return{sectionCount:p.length,sectionFilters:p,groupingParameters:m}};return new NS(void 0,void 0,void 0,o)}}class Vm{constructor(e,n,r,a,o,s,i){this.splatPartitioner=e,this.alphaRemovalThreshold=n,this.compressionLevel=r,this.sectionSize=a,this.sceneCenter=o?new Be().copy(o):void 0,this.blockSize=s,this.bucketSize=i}generateFromUncompressedSplatArray(e){const n=this.splatPartitioner.partitionUncompressedSplatArray(e);return mn.generateFromUncompressedSplatArrays(n.splatArrays,this.alphaRemovalThreshold,this.compressionLevel,this.sceneCenter,this.blockSize,this.bucketSize,n.parameters)}static getStandardGenerator(e=1,n=1,r=0,a=new Be,o=mn.BucketBlockSize,s=mn.BucketSize){const i=NS.getStandardPartitioner(r,a,o,s);return new Vm(i,e,n,r,a,o,s)}}const Qr={Downloading:0,Processing:1,Done:2};class FS extends Error{constructor(e){super(e)}}const Fr={DirectToSplatBuffer:0,DirectToSplatArray:1,DownloadBeforeProcessing:2};function $3(t,e){let n=0;for(let a of t)n+=a.sizeBytes;(!e||e.byteLength<n)&&(e=new ArrayBuffer(n));let r=0;for(let a of t)new Uint8Array(e,r,a.sizeBytes).set(a.data),r+=a.sizeBytes;return e}function V3(t,e,n,r,a,o,s,i){return e?Vm.getStandardGenerator(n,r,a,o,s,i).generateFromUncompressedSplatArray(t):mn.generateFromUncompressedSplatArrays([t],n,0,new Be)}class OS{static loadFromURL(e,n,r,a,o,s,i=!0,l=0,c,u,f,h,p){let m=r?Fr.DirectToSplatBuffer:Fr.DirectToSplatArray;i&&(m=Fr.DirectToSplatArray);const g=$n.ProgressiveLoadSectionSize,y=mn.HeaderSizeBytes+mn.SectionHeaderSizeBytes,v=1;let A,w,S,C,E=0,I=0,k=!1,T=!1,M=!1;const D=ES();let B=0,z=0,q=0,$="",L=null,W=[],U;const F=new TextDecoder,Q=new Gp,ne=(de,ie,ce)=>{const ge=de>=100;if(ce&&(W.push({data:ce,sizeBytes:ce.byteLength,startBytes:q,endBytes:q+ce.byteLength}),q+=ce.byteLength),m===Fr.DownloadBeforeProcessing)ge&&D.resolve(W);else{if(k){if(M&&!T){const Ae=L.headerSizeBytes+L.chunkElement.storageSizeBytes;C=$3(W,C),C.byteLength>=Ae&&(cc.readElementData(L.chunkElement,C,L.headerSizeBytes),B=Ae,z=Ae,T=!0)}}else if($+=F.decode(ce),pa.checkTextForEndHeader($)){const Ae=pa.determineHeaderFormatFromHeaderText($);if(Ae===il.INRIAV1)L=Q.decodeHeaderText($),E=L.splatCount,T=!0,M=!1;else if(Ae===il.PlayCanvasCompressed)L=cc.decodeHeaderText($),E=L.vertexElement.count,M=!0;else{if(r)throw new FS("PlyLoader.loadFromURL() -> Selected Ply format cannot be directly loaded.");m=Fr.DownloadBeforeProcessing;return}l=Math.min(l,L.sphericalHarmonicsDegree);const pe=mn.CompressionLevels[0].SphericalHarmonicsDegrees[l],Ie=y+pe.BytesPerSplat*E;m===Fr.DirectToSplatBuffer?(w=new ArrayBuffer(Ie),mn.writeHeaderToBuffer({versionMajor:mn.CurrentMajorVersion,versionMinor:mn.CurrentMinorVersion,maxSectionCount:v,sectionCount:v,maxSplatCount:E,splatCount:I,compressionLevel:0,sceneCenter:new Be},w)):U=new hn(l),B=L.headerSizeBytes,z=L.headerSizeBytes,k=!0}if(k&&T){if(W.length>0&&(A=$3(W,A),q-B>g||ge)){const pe=q-z,Ie=Math.floor(pe/L.bytesPerSplat),Re=Ie*L.bytesPerSplat,Je=pe-Re,Ye=I+Ie,Z=z-W[0].startBytes,me=new DataView(A,Z,Re),oe=mn.CompressionLevels[0].SphericalHarmonicsDegrees[l],Ve=I*oe.BytesPerSplat+y;if(m===Fr.DirectToSplatBuffer?M?cc.parseToUncompressedSplatBufferSection(L.chunkElement,L.vertexElement,0,Ie-1,I,me,0,w,Ve):Q.parseToUncompressedSplatBufferSection(L,0,Ie-1,me,0,w,Ve,l):M?cc.parseToUncompressedSplatArraySection(L.chunkElement,L.vertexElement,0,Ie-1,I,me,0,U):Q.parseToUncompressedSplatArraySection(L,0,Ie-1,me,0,U,l),I=Ye,m===Fr.DirectToSplatBuffer&&(S||(mn.writeSectionHeaderToBuffer({maxSplatCount:E,splatCount:I,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0,sphericalHarmonicsDegree:l},0,w,mn.HeaderSizeBytes),S=new mn(w,!1)),S.updateLoadedCounts(1,I),a&&a(S,ge)),B+=g,z+=Re,Je===0)W=[];else{let Le=[],ze=0;for(let De=W.length-1;De>=0;De--){const Fe=W[De];if(ze+=Fe.sizeBytes,Le.unshift(Fe),ze>=Je)break}W=Le}}ge&&(m===Fr.DirectToSplatBuffer?D.resolve(S):D.resolve(U))}}n&&n(de,ie,Qr.Downloading)};return n&&n(0,"0%",Qr.Downloading),AS(e,ne,!1,c).then(()=>(n&&n(0,"0%",Qr.Processing),D.promise.then(de=>{if(n&&n(100,"100%",Qr.Done),m===Fr.DownloadBeforeProcessing){const ie=W.map(ce=>ce.data);return new Blob(ie).arrayBuffer().then(ce=>OS.loadFromFileData(ce,o,s,i,l,u,f,h,p))}else return m===Fr.DirectToSplatBuffer?de:is(()=>V3(de,i,o,s,u,f,h,p))})))}static loadFromFileData(e,n,r,a,o=0,s,i,l,c){return is(()=>Sve.parseToUncompressedSplatArray(e,o)).then(u=>V3(u,a,n,r,s,i,l,c))}}const cr=class cr{static parseToUncompressedSplatBufferSection(e,n,r,a,o,s){const i=mn.CompressionLevels[0].BytesPerCenter,l=mn.CompressionLevels[0].BytesPerScale,c=mn.CompressionLevels[0].BytesPerRotation,u=mn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat;for(let f=e;f<=n;f++){const h=f*cr.RowSizeBytes+a,p=new Float32Array(r,h,3),m=new Float32Array(r,h+cr.CenterSizeBytes,3),g=new Uint8Array(r,h+cr.CenterSizeBytes+cr.ScaleSizeBytes,4),y=new Uint8Array(r,h+cr.CenterSizeBytes+cr.ScaleSizeBytes+cr.RotationSizeBytes,4),v=new kr((y[1]-128)/128,(y[2]-128)/128,(y[3]-128)/128,(y[0]-128)/128);v.normalize();const A=f*u+s,w=new Float32Array(o,A,3),S=new Float32Array(o,A+i,3),C=new Float32Array(o,A+i+l,4),E=new Uint8Array(o,A+i+l+c,4);w[0]=p[0],w[1]=p[1],w[2]=p[2],S[0]=m[0],S[1]=m[1],S[2]=m[2],C[0]=v.w,C[1]=v.x,C[2]=v.y,C[3]=v.z,E[0]=g[0],E[1]=g[1],E[2]=g[2],E[3]=g[3]}}static parseToUncompressedSplatArraySection(e,n,r,a,o){for(let s=e;s<=n;s++){const i=s*cr.RowSizeBytes+a,l=new Float32Array(r,i,3),c=new Float32Array(r,i+cr.CenterSizeBytes,3),u=new Uint8Array(r,i+cr.CenterSizeBytes+cr.ScaleSizeBytes,4),f=new Uint8Array(r,i+cr.CenterSizeBytes+cr.ScaleSizeBytes+cr.RotationSizeBytes,4),h=new kr((f[1]-128)/128,(f[2]-128)/128,(f[3]-128)/128,(f[0]-128)/128);h.normalize(),o.addSplatFromComonents(l[0],l[1],l[2],c[0],c[1],c[2],h.w,h.x,h.y,h.z,u[0],u[1],u[2],u[3])}}static parseStandardSplatToUncompressedSplatArray(e){const n=e.byteLength/cr.RowSizeBytes,r=new hn;for(let a=0;a<n;a++){const o=a*cr.RowSizeBytes,s=new Float32Array(e,o,3),i=new Float32Array(e,o+cr.CenterSizeBytes,3),l=new Uint8Array(e,o+cr.CenterSizeBytes+cr.ScaleSizeBytes,4),c=new Uint8Array(e,o+cr.CenterSizeBytes+cr.ScaleSizeBytes+cr.ColorSizeBytes,4),u=new kr((c[1]-128)/128,(c[2]-128)/128,(c[3]-128)/128,(c[0]-128)/128);u.normalize(),r.addSplatFromComonents(s[0],s[1],s[2],i[0],i[1],i[2],u.w,u.x,u.y,u.z,l[0],l[1],l[2],l[3])}return r}};$t(cr,"RowSizeBytes",32),$t(cr,"CenterSizeBytes",12),$t(cr,"ScaleSizeBytes",12),$t(cr,"RotationSizeBytes",4),$t(cr,"ColorSizeBytes",4);let Ql=cr;function W3(t,e,n,r,a,o,s,i){return e?Vm.getStandardGenerator(n,r,a,o,s,i).generateFromUncompressedSplatArray(t):mn.generateFromUncompressedSplatArrays([t],n,0,new Be)}class zS{static loadFromURL(e,n,r,a,o,s,i=!0,l,c,u,f,h){let p=r?Fr.DirectToSplatBuffer:Fr.DirectToSplatArray;i&&(p=Fr.DirectToSplatArray);const m=mn.HeaderSizeBytes+mn.SectionHeaderSizeBytes,g=$n.ProgressiveLoadSectionSize,y=1;let v,A,w,S=0,C=0,E;const I=ES();let k=0,T=0,M=[];const D=(B,z,q,$)=>{const L=B>=100;if(q&&M.push(q),p===Fr.DownloadBeforeProcessing){L&&I.resolve(M);return}if(!$){if(r)throw new FS("Cannon directly load .splat because no file size info is available.");p=Fr.DownloadBeforeProcessing;return}if(!v){S=$/Ql.RowSizeBytes,v=new ArrayBuffer($);const W=mn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,U=m+W*S;p===Fr.DirectToSplatBuffer?(A=new ArrayBuffer(U),mn.writeHeaderToBuffer({versionMajor:mn.CurrentMajorVersion,versionMinor:mn.CurrentMinorVersion,maxSectionCount:y,sectionCount:y,maxSplatCount:S,splatCount:C,compressionLevel:0,sceneCenter:new Be},A)):E=new hn(0)}if(q){new Uint8Array(v,T,q.byteLength).set(new Uint8Array(q)),T+=q.byteLength;const W=T-k;if(W>g||L){const F=(L?W:g)/Ql.RowSizeBytes,Q=C+F;p===Fr.DirectToSplatBuffer?Ql.parseToUncompressedSplatBufferSection(C,Q-1,v,0,A,m):Ql.parseToUncompressedSplatArraySection(C,Q-1,v,0,E),C=Q,p===Fr.DirectToSplatBuffer&&(w||(mn.writeSectionHeaderToBuffer({maxSplatCount:S,splatCount:C,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0},0,A,mn.HeaderSizeBytes),w=new mn(A,!1)),w.updateLoadedCounts(1,C),a&&a(w,L)),k+=g}}L&&(p===Fr.DirectToSplatBuffer?I.resolve(w):I.resolve(E)),n&&n(B,z,Qr.Downloading)};return n&&n(0,"0%",Qr.Downloading),AS(e,D,!1,l).then(()=>(n&&n(0,"0%",Qr.Processing),I.promise.then(B=>(n&&n(100,"100%",Qr.Done),p===Fr.DownloadBeforeProcessing?new Blob(M).arrayBuffer().then(z=>zS.loadFromFileData(z,o,s,i,c,u,f,h)):p===Fr.DirectToSplatBuffer?B:is(()=>W3(B,i,o,s,c,u,f,h))))))}static loadFromFileData(e,n,r,a,o,s,i,l){return is(()=>{const c=Ql.parseStandardSplatToUncompressedSplatArray(e);return W3(c,a,n,r,o,s,i,l)})}}const Su=class Su{static checkVersion(e){const n=mn.CurrentMajorVersion,r=mn.CurrentMinorVersion,a=mn.parseHeader(e);if(a.versionMajor===n&&a.versionMinor>=r||a.versionMajor>n)return!0;throw new Error(`KSplat version not supported: v${a.versionMajor}.${a.versionMinor}. Minimum required: v${n}.${r}`)}static loadFromURL(e,n,r,a,o){let s,i,l,c,u=!1,f=!1,h,p=[],m=!1,g=!1,y=0,v=0,A=0,w=!1,S=!1,C=!1,E=[];const I=ES(),k=()=>{!u&&!f&&y>=mn.HeaderSizeBytes&&(f=!0,new Blob(E).arrayBuffer().then($=>{l=new ArrayBuffer(mn.HeaderSizeBytes),new Uint8Array(l).set(new Uint8Array($,0,mn.HeaderSizeBytes)),Su.checkVersion(l),f=!1,u=!0,c=mn.parseHeader(l),window.setTimeout(()=>{D()},1)}))};let T=0;const M=()=>{T===0&&(T++,window.setTimeout(()=>{T--,B()},1))},D=()=>{const q=()=>{g=!0,new Blob(E).arrayBuffer().then(L=>{g=!1,m=!0,h=new ArrayBuffer(c.maxSectionCount*mn.SectionHeaderSizeBytes),new Uint8Array(h).set(new Uint8Array(L,mn.HeaderSizeBytes,c.maxSectionCount*mn.SectionHeaderSizeBytes)),p=mn.parseSectionHeaders(c,h,0,!1);let W=0;for(let F=0;F<c.maxSectionCount;F++)W+=p[F].storageSizeBytes;const U=mn.HeaderSizeBytes+c.maxSectionCount*mn.SectionHeaderSizeBytes+W;if(!s){s=new ArrayBuffer(U);let F=0;for(let Q=0;Q<E.length;Q++){const ne=E[Q];new Uint8Array(s,F,ne.byteLength).set(new Uint8Array(ne)),F+=ne.byteLength}}A=mn.HeaderSizeBytes+mn.SectionHeaderSizeBytes*c.maxSectionCount;for(let F=0;F<=p.length&&F<c.maxSectionCount;F++)A+=p[F].storageSizeBytes;M()})};!g&&!m&&u&&y>=mn.HeaderSizeBytes+mn.SectionHeaderSizeBytes*c.maxSectionCount&&q()},B=()=>{if(C)return;C=!0;const q=()=>{if(C=!1,m){if(S)return;if(w=y>=A,y-v>$n.ProgressiveLoadSectionSize||w){v+=$n.ProgressiveLoadSectionSize,S=v>=A,i||(i=new mn(s,!1));const L=mn.HeaderSizeBytes+mn.SectionHeaderSizeBytes*c.maxSectionCount;let W=0,U=0,F=0;for(let de=0;de<c.maxSectionCount;de++){const ie=p[de],ce=W+ie.partiallyFilledBucketCount*4+ie.bucketStorageSizeBytes*ie.bucketCount,ge=L+ce;if(v>=ge){U++;const Ae=v-ge,Re=mn.CompressionLevels[c.compressionLevel].SphericalHarmonicsDegrees[ie.sphericalHarmonicsDegree].BytesPerSplat;let Je=Math.floor(Ae/Re);Je=Math.min(Je,ie.maxSplatCount),F+=Je,i.updateLoadedCounts(U,F),i.updateSectionLoadedCounts(de,Je)}else break;W+=ie.storageSizeBytes}a(i,S);const Q=v/A*100,ne=Q.toFixed(2)+"%";n&&n(Q,ne,Qr.Downloading),S?I.resolve(i):B()}}};window.setTimeout(q,$n.ProgressiveLoadSectionDelayDuration)};return AS(e,(q,$,L)=>{L&&(E.push(L),s&&new Uint8Array(s,y,L.byteLength).set(new Uint8Array(L)),y+=L.byteLength),r?(k(),D(),B()):n&&n(q,$,Qr.Downloading)},!r,o).then(q=>(n&&n(0,"0%",Qr.Processing),(r?I.promise:Su.loadFromFileData(q)).then(L=>(n&&n(100,"100%",Qr.Done),L))))}static loadFromFileData(e){return is(()=>(Su.checkVersion(e),new mn(e)))}};$t(Su,"downloadFile",function(){let e;return function(n,r){const a=new Blob([n.bufferData],{type:"application/octet-stream"});e||(e=document.createElement("a"),document.body.appendChild(e)),e.download=r,e.href=URL.createObjectURL(a),e.click()}}());let tb=Su;const oi={Splat:0,KSplat:1,Ply:2},G3=t=>t.endsWith(".ply")?oi.Ply:t.endsWith(".splat")?oi.Splat:t.endsWith(".ksplat")?oi.KSplat:null,K3={type:"change"},Og={type:"start"},q3={type:"end"},L0=new N8,j3=new qi,_ve=Math.cos(70*D8.DEG2RAD);class N0 extends Rc{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Be,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"KeyA",UP:"KeyW",RIGHT:"KeyD",BOTTOM:"KeyS"},this.mouseButtons={LEFT:Vc.ROTATE,MIDDLE:Vc.DOLLY,RIGHT:Vc.PAN},this.touches={ONE:Wc.ROTATE,TWO:Wc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return i.phi},this.getAzimuthalAngle=function(){return i.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(X){X.addEventListener("keydown",ye),this._domElementKeyEvents=X},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ye),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,this.clearDampedRotation(),this.clearDampedPan(),r.object.updateProjectionMatrix(),r.dispatchEvent(K3),r.update(),o=a.NONE},this.clearDampedRotation=function(){l.theta=0,l.phi=0},this.clearDampedPan=function(){u.set(0,0,0)},this.update=function(){const X=new Be,He=new kr().setFromUnitVectors(e.up,new Be(0,1,0)),ve=He.clone().invert(),ke=new Be,fe=new kr,tt=new Be,Rt=2*Math.PI;return function(){He.setFromUnitVectors(e.up,new Be(0,1,0)),ve.copy(He).invert();const Tt=r.object.position;X.copy(Tt).sub(r.target),X.applyQuaternion(He),i.setFromVector3(X),r.autoRotate&&o===a.NONE&&D(T()),r.enableDamping?(i.theta+=l.theta*r.dampingFactor,i.phi+=l.phi*r.dampingFactor):(i.theta+=l.theta,i.phi+=l.phi);let ot=r.minAzimuthAngle,dt=r.maxAzimuthAngle;isFinite(ot)&&isFinite(dt)&&(ot<-Math.PI?ot+=Rt:ot>Math.PI&&(ot-=Rt),dt<-Math.PI?dt+=Rt:dt>Math.PI&&(dt-=Rt),ot<=dt?i.theta=Math.max(ot,Math.min(dt,i.theta)):i.theta=i.theta>(ot+dt)/2?Math.max(ot,i.theta):Math.min(dt,i.theta)),i.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,i.phi)),i.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(u,r.dampingFactor):r.target.add(u),r.zoomToCursor&&E||r.object.isOrthographicCamera?i.radius=F(i.radius):i.radius=F(i.radius*c),X.setFromSpherical(i),X.applyQuaternion(ve),Tt.copy(r.target).add(X),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,u.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),u.set(0,0,0));let It=!1;if(r.zoomToCursor&&E){let gt=null;if(r.object.isPerspectiveCamera){const an=X.length();gt=F(an*c);const Yn=an-gt;r.object.position.addScaledVector(S,Yn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const an=new Be(C.x,C.y,0);an.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),It=!0;const Yn=new Be(C.x,C.y,0);Yn.unproject(r.object),r.object.position.sub(Yn).add(an),r.object.updateMatrixWorld(),gt=X.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;gt!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(gt).add(r.object.position):(L0.origin.copy(r.object.position),L0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(L0.direction))<_ve?e.lookAt(r.target):(j3.setFromNormalAndCoplanarPoint(r.object.up,r.target),L0.intersectPlane(j3,r.target))))}else r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),It=!0);return c=1,E=!1,It||ke.distanceToSquared(r.object.position)>s||8*(1-fe.dot(r.object.quaternion))>s||tt.distanceToSquared(r.target)>0?(r.dispatchEvent(K3),ke.copy(r.object.position),fe.copy(r.object.quaternion),tt.copy(r.target),It=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",yt),r.domElement.removeEventListener("pointerdown",De),r.domElement.removeEventListener("pointercancel",Ge),r.domElement.removeEventListener("wheel",we),r.domElement.removeEventListener("pointermove",Fe),r.domElement.removeEventListener("pointerup",Ge),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",ye),r._domElementKeyEvents=null)};const r=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=a.NONE;const s=1e-6,i=new a3,l=new a3;let c=1;const u=new Be,f=new dn,h=new dn,p=new dn,m=new dn,g=new dn,y=new dn,v=new dn,A=new dn,w=new dn,S=new Be,C=new dn;let E=!1;const I=[],k={};function T(){return 2*Math.PI/60/60*r.autoRotateSpeed}function M(){return Math.pow(.95,r.zoomSpeed)}function D(X){l.theta-=X}function B(X){l.phi-=X}const z=function(){const X=new Be;return function(ve,ke){X.setFromMatrixColumn(ke,0),X.multiplyScalar(-ve),u.add(X)}}(),q=function(){const X=new Be;return function(ve,ke){r.screenSpacePanning===!0?X.setFromMatrixColumn(ke,1):(X.setFromMatrixColumn(ke,0),X.crossVectors(r.object.up,X)),X.multiplyScalar(ve),u.add(X)}}(),$=function(){const X=new Be;return function(ve,ke){const fe=r.domElement;if(r.object.isPerspectiveCamera){const tt=r.object.position;X.copy(tt).sub(r.target);let Rt=X.length();Rt*=Math.tan(r.object.fov/2*Math.PI/180),z(2*ve*Rt/fe.clientHeight,r.object.matrix),q(2*ke*Rt/fe.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(z(ve*(r.object.right-r.object.left)/r.object.zoom/fe.clientWidth,r.object.matrix),q(ke*(r.object.top-r.object.bottom)/r.object.zoom/fe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function L(X){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c/=X:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(X){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c*=X:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function U(X){if(!r.zoomToCursor)return;E=!0;const He=r.domElement.getBoundingClientRect(),ve=X.clientX-He.left,ke=X.clientY-He.top,fe=He.width,tt=He.height;C.x=ve/fe*2-1,C.y=-(ke/tt)*2+1,S.set(C.x,C.y,1).unproject(e).sub(e.position).normalize()}function F(X){return Math.max(r.minDistance,Math.min(r.maxDistance,X))}function Q(X){f.set(X.clientX,X.clientY)}function ne(X){U(X),v.set(X.clientX,X.clientY)}function de(X){m.set(X.clientX,X.clientY)}function ie(X){h.set(X.clientX,X.clientY),p.subVectors(h,f).multiplyScalar(r.rotateSpeed);const He=r.domElement;D(2*Math.PI*p.x/He.clientHeight),B(2*Math.PI*p.y/He.clientHeight),f.copy(h),r.update()}function ce(X){A.set(X.clientX,X.clientY),w.subVectors(A,v),w.y>0?L(M()):w.y<0&&W(M()),v.copy(A),r.update()}function ge(X){g.set(X.clientX,X.clientY),y.subVectors(g,m).multiplyScalar(r.panSpeed),$(y.x,y.y),m.copy(g),r.update()}function Ae(X){U(X),X.deltaY<0?W(M()):X.deltaY>0&&L(M()),r.update()}function pe(X){let He=!1;switch(X.code){case r.keys.UP:X.ctrlKey||X.metaKey||X.shiftKey?B(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):$(0,r.keyPanSpeed),He=!0;break;case r.keys.BOTTOM:X.ctrlKey||X.metaKey||X.shiftKey?B(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):$(0,-r.keyPanSpeed),He=!0;break;case r.keys.LEFT:X.ctrlKey||X.metaKey||X.shiftKey?D(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):$(r.keyPanSpeed,0),He=!0;break;case r.keys.RIGHT:X.ctrlKey||X.metaKey||X.shiftKey?D(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):$(-r.keyPanSpeed,0),He=!0;break}He&&(X.preventDefault(),r.update())}function Ie(){if(I.length===1)f.set(I[0].pageX,I[0].pageY);else{const X=.5*(I[0].pageX+I[1].pageX),He=.5*(I[0].pageY+I[1].pageY);f.set(X,He)}}function Re(){if(I.length===1)m.set(I[0].pageX,I[0].pageY);else{const X=.5*(I[0].pageX+I[1].pageX),He=.5*(I[0].pageY+I[1].pageY);m.set(X,He)}}function Je(){const X=I[0].pageX-I[1].pageX,He=I[0].pageY-I[1].pageY,ve=Math.sqrt(X*X+He*He);v.set(0,ve)}function Ye(){r.enableZoom&&Je(),r.enablePan&&Re()}function Z(){r.enableZoom&&Je(),r.enableRotate&&Ie()}function me(X){if(I.length==1)h.set(X.pageX,X.pageY);else{const ve=ht(X),ke=.5*(X.pageX+ve.x),fe=.5*(X.pageY+ve.y);h.set(ke,fe)}p.subVectors(h,f).multiplyScalar(r.rotateSpeed);const He=r.domElement;D(2*Math.PI*p.x/He.clientHeight),B(2*Math.PI*p.y/He.clientHeight),f.copy(h)}function oe(X){if(I.length===1)g.set(X.pageX,X.pageY);else{const He=ht(X),ve=.5*(X.pageX+He.x),ke=.5*(X.pageY+He.y);g.set(ve,ke)}y.subVectors(g,m).multiplyScalar(r.panSpeed),$(y.x,y.y),m.copy(g)}function Ve(X){const He=ht(X),ve=X.pageX-He.x,ke=X.pageY-He.y,fe=Math.sqrt(ve*ve+ke*ke);A.set(0,fe),w.set(0,Math.pow(A.y/v.y,r.zoomSpeed)),L(w.y),v.copy(A)}function Le(X){r.enableZoom&&Ve(X),r.enablePan&&oe(X)}function ze(X){r.enableZoom&&Ve(X),r.enableRotate&&me(X)}function De(X){r.enabled!==!1&&(I.length===0&&(r.domElement.setPointerCapture(X.pointerId),r.domElement.addEventListener("pointermove",Fe),r.domElement.addEventListener("pointerup",Ge)),ut(X),X.pointerType==="touch"?$e(X):ae(X))}function Fe(X){r.enabled!==!1&&(X.pointerType==="touch"?je(X):te(X))}function Ge(X){_t(X),I.length===0&&(r.domElement.releasePointerCapture(X.pointerId),r.domElement.removeEventListener("pointermove",Fe),r.domElement.removeEventListener("pointerup",Ge)),r.dispatchEvent(q3),o=a.NONE}function ae(X){let He;switch(X.button){case 0:He=r.mouseButtons.LEFT;break;case 1:He=r.mouseButtons.MIDDLE;break;case 2:He=r.mouseButtons.RIGHT;break;default:He=-1}switch(He){case Vc.DOLLY:if(r.enableZoom===!1)return;ne(X),o=a.DOLLY;break;case Vc.ROTATE:if(X.ctrlKey||X.metaKey||X.shiftKey){if(r.enablePan===!1)return;de(X),o=a.PAN}else{if(r.enableRotate===!1)return;Q(X),o=a.ROTATE}break;case Vc.PAN:if(X.ctrlKey||X.metaKey||X.shiftKey){if(r.enableRotate===!1)return;Q(X),o=a.ROTATE}else{if(r.enablePan===!1)return;de(X),o=a.PAN}break;default:o=a.NONE}o!==a.NONE&&r.dispatchEvent(Og)}function te(X){switch(o){case a.ROTATE:if(r.enableRotate===!1)return;ie(X);break;case a.DOLLY:if(r.enableZoom===!1)return;ce(X);break;case a.PAN:if(r.enablePan===!1)return;ge(X);break}}function we(X){r.enabled===!1||r.enableZoom===!1||o!==a.NONE||(X.preventDefault(),r.dispatchEvent(Og),Ae(X),r.dispatchEvent(q3))}function ye(X){r.enabled===!1||r.enablePan===!1||pe(X)}function $e(X){switch(Ft(X),I.length){case 1:switch(r.touches.ONE){case Wc.ROTATE:if(r.enableRotate===!1)return;Ie(),o=a.TOUCH_ROTATE;break;case Wc.PAN:if(r.enablePan===!1)return;Re(),o=a.TOUCH_PAN;break;default:o=a.NONE}break;case 2:switch(r.touches.TWO){case Wc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ye(),o=a.TOUCH_DOLLY_PAN;break;case Wc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Z(),o=a.TOUCH_DOLLY_ROTATE;break;default:o=a.NONE}break;default:o=a.NONE}o!==a.NONE&&r.dispatchEvent(Og)}function je(X){switch(Ft(X),o){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;me(X),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;oe(X),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(X),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ze(X),r.update();break;default:o=a.NONE}}function yt(X){r.enabled!==!1&&X.preventDefault()}function ut(X){I.push(X)}function _t(X){delete k[X.pointerId];for(let He=0;He<I.length;He++)if(I[He].pointerId==X.pointerId){I.splice(He,1);return}}function Ft(X){let He=k[X.pointerId];He===void 0&&(He=new dn,k[X.pointerId]=He),He.set(X.pageX,X.pageY)}function ht(X){const He=X.pointerId===I[0].pointerId?I[1]:I[0];return k[He.pointerId]}r.domElement.addEventListener("contextmenu",yt),r.domElement.addEventListener("pointerdown",De),r.domElement.addEventListener("pointercancel",Ge),r.domElement.addEventListener("wheel",we,{passive:!1}),this.update()}}const wve=(t,e,n,r,a)=>{const o=performance.now();let s=t.style.display==="none"?0:parseFloat(t.style.opacity);isNaN(s)&&(s=1);const i=window.setInterval(()=>{const c=performance.now()-o;let u=Math.min(c/r,1);u>.999&&(u=1);let f;e?(f=(1-u)*s,f<1e-4&&(f=0)):f=(1-s)*u+s,f>0?(t.style.display=n,t.style.opacity=f):t.style.display="none",u>=1&&(a&&a(),window.clearInterval(i))},16);return i},xve=500,jp=class jp{constructor(e,n){this.taskIDGen=0,this.elementID=jp.elementIDGen++,this.tasks=[],this.message=e||"Loading...",this.container=n||document.body,this.spinnerContainerOuter=document.createElement("div"),this.spinnerContainerOuter.className=`spinnerOuterContainer${this.elementID}`,this.spinnerContainerOuter.style.display="none",this.spinnerContainerPrimary=document.createElement("div"),this.spinnerContainerPrimary.className=`spinnerContainerPrimary${this.elementID}`,this.spinnerPrimary=document.createElement("div"),this.spinnerPrimary.classList.add(`spinner${this.elementID}`,`spinnerPrimary${this.elementID}`),this.messageContainerPrimary=document.createElement("div"),this.messageContainerPrimary.classList.add(`messageContainer${this.elementID}`,`messageContainerPrimary${this.elementID}`),this.messageContainerPrimary.innerHTML=this.message,this.spinnerContainerMin=document.createElement("div"),this.spinnerContainerMin.className=`spinnerContainerMin${this.elementID}`,this.spinnerMin=document.createElement("div"),this.spinnerMin.classList.add(`spinner${this.elementID}`,`spinnerMin${this.elementID}`),this.messageContainerMin=document.createElement("div"),this.messageContainerMin.classList.add(`messageContainer${this.elementID}`,`messageContainerMin${this.elementID}`),this.messageContainerMin.innerHTML=this.message,this.spinnerContainerPrimary.appendChild(this.spinnerPrimary),this.spinnerContainerPrimary.appendChild(this.messageContainerPrimary),this.spinnerContainerOuter.appendChild(this.spinnerContainerPrimary),this.spinnerContainerMin.appendChild(this.spinnerMin),this.spinnerContainerMin.appendChild(this.messageContainerMin),this.spinnerContainerOuter.appendChild(this.spinnerContainerMin);const r=document.createElement("style");r.innerHTML=`

            .spinnerOuterContainer${this.elementID} {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .messageContainer${this.elementID} {
                height: 20px;
                font-family: arial;
                font-size: 12pt;
                color: #ffffff;
                text-align: center;
                vertical-align: middle;
            }

            .spinner${this.elementID} {
                padding: 15px;
                background: #07e8d6;
                z-index:99999;
            
                aspect-ratio: 1;
                border-radius: 50%;
                --_m: 
                    conic-gradient(#0000,#000),
                    linear-gradient(#000 0 0) content-box;
                -webkit-mask: var(--_m);
                    mask: var(--_m);
                -webkit-mask-composite: source-out;
                    mask-composite: subtract;
                box-sizing: border-box;
                animation: load 1s linear infinite;
            }

            .spinnerContainerPrimary${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 10px;
                margin: 0;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-80px, -80px);
                width: 180px;
                pointer-events: auto;
            }

            .spinnerPrimary${this.elementID} {
                width: 120px;
                margin-left: 30px;
            }

            .messageContainerPrimary${this.elementID} {
                padding-top: 15px;
            }

            .spinnerContainerMin${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                display: flex;
                flex-direction: left;
                pointer-events: auto;
                min-width: 250px;
            }

            .messageContainerMin${this.elementID} {
                margin-right: 15px;
            }

            .spinnerMin${this.elementID} {
                width: 50px;
                height: 50px;
                margin-left: 15px;
                margin-right: 25px;
            }

            .messageContainerMin${this.elementID} {
                padding-top: 15px;
            }
            
            @keyframes load {
                to{transform: rotate(1turn)}
            }

        `,this.spinnerContainerOuter.appendChild(r),this.container.appendChild(this.spinnerContainerOuter),this.setMinimized(!1,!0),this.fadeTransitions=[]}addTask(e){const n={message:e,id:this.taskIDGen++};return this.tasks.push(n),this.update(),n.id}removeTask(e){let n=0;for(let r of this.tasks){if(r.id===e){this.tasks.splice(n,1);break}n++}this.update()}removeAllTasks(){this.tasks=[],this.update()}setMessageForTask(e,n){for(let r of this.tasks)if(r.id===e){r.message=n;break}this.update()}update(){this.tasks.length>0?(this.show(),this.setMessage(this.tasks[this.tasks.length-1].message)):this.hide()}show(){this.spinnerContainerOuter.style.display="block",this.visible=!0}hide(){this.spinnerContainerOuter.style.display="none",this.visible=!1}setContainer(e){this.container&&this.spinnerContainerOuter.parentElement===this.container&&this.container.removeChild(this.spinnerContainerOuter),e&&(this.container=e,this.container.appendChild(this.spinnerContainerOuter),this.spinnerContainerOuter.style.zIndex=this.container.style.zIndex+1)}setMinimized(e,n){const r=(a,o,s,i,l)=>{s?a.style.display=o?i:"none":this.fadeTransitions[l]=wve(a,!o,i,xve,()=>{this.fadeTransitions[l]=null})};r(this.spinnerContainerPrimary,!e,n,"block",0),r(this.spinnerContainerMin,e,n,"flex",1),this.minimized=e}setMessage(e){this.messageContainerPrimary.innerHTML=e,this.messageContainerMin.innerHTML=e}};$t(jp,"elementIDGen",0);let nb=jp;class Cve{constructor(e){this.idGen=0,this.tasks=[],this.container=e||document.body,this.progressBarContainerOuter=document.createElement("div"),this.progressBarContainerOuter.className="progressBarOuterContainer",this.progressBarContainerOuter.style.display="none",this.progressBarBox=document.createElement("div"),this.progressBarBox.className="progressBarBox",this.progressBarBackground=document.createElement("div"),this.progressBarBackground.className="progressBarBackground",this.progressBar=document.createElement("div"),this.progressBar.className="progressBar",this.progressBarBackground.appendChild(this.progressBar),this.progressBarBox.appendChild(this.progressBarBackground),this.progressBarContainerOuter.appendChild(this.progressBarBox);const n=document.createElement("style");n.innerHTML=`

            .progressBarOuterContainer {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .progressBarBox {
                z-index:99999;
                padding: 7px 9px 5px 7px;
                background-color: rgba(190, 190, 190, 0.75);
                border: #555555 1px solid;
                border-radius: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                width: 180px;
                height: 30px;
                pointer-events: auto;
            }

            .progressBarBackground {
                width: 100%;
                height: 25px;
                border-radius:10px;
                background-color: rgba(128, 128, 128, 0.75);
                border: #444444 1px solid;
                box-shadow: inset 0 0 10px #333333;
            }

            .progressBar {
                height: 25px;
                width: 0px;
                border-radius:10px;
                background-color: rgba(0, 200, 0, 0.75);
                box-shadow: inset 0 0 10px #003300;
            }

        `,this.progressBarContainerOuter.appendChild(n),this.container.appendChild(this.progressBarContainerOuter)}show(){this.progressBarContainerOuter.style.display="block"}hide(){this.progressBarContainerOuter.style.display="none"}setProgress(e){this.progressBar.style.width=e+"%"}setContainer(e){this.container&&this.progressBarContainerOuter.parentElement===this.container&&this.container.removeChild(this.progressBarContainerOuter),e&&(this.container=e,this.container.appendChild(this.progressBarContainerOuter),this.progressBarContainerOuter.style.zIndex=this.container.style.zIndex+1)}}class Ave{constructor(e){$t(this,"update",function(e,n,r,a,o,s,i,l,c,u,f,h,p,m){const g=`${n.x.toFixed(5)}, ${n.y.toFixed(5)}, ${n.z.toFixed(5)}`;if(this.infoCells.cameraPosition.innerHTML!==g&&(this.infoCells.cameraPosition.innerHTML=g),r){const v=r,A=`${v.x.toFixed(5)}, ${v.y.toFixed(5)}, ${v.z.toFixed(5)}`;this.infoCells.cameraLookAt.innerHTML!==A&&(this.infoCells.cameraLookAt.innerHTML=A)}const y=`${a.x.toFixed(5)}, ${a.y.toFixed(5)}, ${a.z.toFixed(5)}`;if(this.infoCells.cameraUp.innerHTML!==y&&(this.infoCells.cameraUp.innerHTML=y),this.infoCells.orthographicCamera.innerHTML=o?"Orthographic":"Perspective",s){const v=s,A=`${v.x.toFixed(5)}, ${v.y.toFixed(5)}, ${v.z.toFixed(5)}`;this.infoCells.cursorPosition.innerHTML=A}else this.infoCells.cursorPosition.innerHTML="N/A";this.infoCells.fps.innerHTML=i,this.infoCells.renderWindow.innerHTML=`${e.x} x ${e.y}`,this.infoCells.renderSplatCount.innerHTML=`${c} splats out of ${l} (${u.toFixed(2)}%)`,this.infoCells.sortTime.innerHTML=`${f.toFixed(3)} ms`,this.infoCells.focalAdjustment.innerHTML=`${h.toFixed(3)}`,this.infoCells.splatScale.innerHTML=`${p.toFixed(3)}`,this.infoCells.pointCloudMode.innerHTML=`${m}`});this.container=e||document.body,this.infoCells={};const n=[["Camera position","cameraPosition"],["Camera look-at","cameraLookAt"],["Camera up","cameraUp"],["Camera mode","orthographicCamera"],["Cursor position","cursorPosition"],["FPS","fps"],["Rendering:","renderSplatCount"],["Sort time","sortTime"],["Render window","renderWindow"],["Focal adjustment","focalAdjustment"],["Splat scale","splatScale"],["Point cloud mode","pointCloudMode"]];this.infoPanelContainer=document.createElement("div");const r=document.createElement("style");r.innerHTML=`

            .infoPanel {
                width: 430px;
                padding: 10px;
                background-color: rgba(50, 50, 50, 0.85);
                border: #555555 2px solid;
                color: #dddddd;
                border-radius: 10px;
                z-index: 9999;
                font-family: arial;
                font-size: 11pt;
                text-align: left;
                margin: 0;
                top: 10px;
                left:10px;
                position: absolute;
                pointer-events: auto;
            }

            .info-panel-cell {
                margin-bottom: 5px;
                padding-bottom: 2px;
            }

            .label-cell {
                font-weight: bold;
                font-size: 12pt;
                width: 140px;
            }

        `,this.infoPanelContainer.append(r),this.infoPanel=document.createElement("div"),this.infoPanel.className="infoPanel";const a=document.createElement("div");a.style.display="table";for(let o of n){const s=document.createElement("div");s.style.display="table-row",s.className="info-panel-row";const i=document.createElement("div");i.style.display="table-cell",i.innerHTML=`${o[0]}: `,i.classList.add("info-panel-cell","label-cell");const l=document.createElement("div");l.style.display="table-cell",l.style.width="10px",l.innerHTML=" ",l.className="info-panel-cell";const c=document.createElement("div");c.style.display="table-cell",c.innerHTML="",c.className="info-panel-cell",this.infoCells[o[1]]=c,s.appendChild(i),s.appendChild(l),s.appendChild(c),a.appendChild(s)}this.infoPanel.appendChild(a),this.infoPanelContainer.append(this.infoPanel),this.infoPanelContainer.style.display="none",this.container.appendChild(this.infoPanelContainer),this.visible=!1}setContainer(e){this.container&&this.infoPanelContainer.parentElement===this.container&&this.container.removeChild(this.infoPanelContainer),e&&(this.container=e,this.container.appendChild(this.infoPanelContainer),this.infoPanelContainer.style.zIndex=this.container.style.zIndex+1)}show(){this.infoPanelContainer.style.display="block",this.visible=!0}hide(){this.infoPanelContainer.style.display="none",this.visible=!1}}const Y3=new Be;class Eve extends Zr{constructor(e=new Be(0,0,1),n=new Be(0,0,0),r=1,a=.1,o=16776960,s=r*.2,i=s*.2){super(),this.type="ArrowHelper";const l=new rh(a,a,r,32);l.translate(0,r/2,0);const c=new rh(0,i,s,32);c.translate(0,r,0),this.position.copy(n),this.line=new Hr(l,new Ac({color:o,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hr(c,new Ac({color:o,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Y3.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Y3,n)}}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class mf{constructor(e){$t(this,"updateFocusMarker",function(){const e=new Be,n=new An,r=new Be;return function(a,o,s){n.copy(o.matrixWorld).invert(),e.copy(a).applyMatrix4(n),e.normalize().multiplyScalar(10),e.applyMatrix4(o.matrixWorld),r.copy(o.position).sub(a);const i=r.length();this.focusMarker.position.copy(a),this.focusMarker.scale.set(i,i,i),this.focusMarker.material.uniforms.realFocusPosition.value.copy(a),this.focusMarker.material.uniforms.viewport.value.copy(s),this.focusMarker.material.uniformsNeedUpdate=!0}}());$t(this,"positionAndOrientControlPlane",function(){const e=new kr,n=new Be(0,1,0);return function(r,a){e.setFromUnitVectors(n,a),this.controlPlane.position.copy(r),this.controlPlane.quaternion.copy(e)}}());this.threeScene=e,this.splatRenderTarget=null,this.renderTargetCopyQuad=null,this.renderTargetCopyCamera=null,this.meshCursor=null,this.focusMarker=null,this.controlPlane=null,this.debugRoot=null,this.secondaryDebugRoot=null}updateSplatRenderTargetForRenderDimensions(e,n){this.destroySplatRendertarget(),this.splatRenderTarget=new Sl(e,n,{format:Ua,stencilBuffer:!1,depthBuffer:!0}),this.splatRenderTarget.depthTexture=new _S(e,n),this.splatRenderTarget.depthTexture.format=vc,this.splatRenderTarget.depthTexture.type=Bo}destroySplatRendertarget(){this.splatRenderTarget&&(this.splatRenderTarget=null)}setupRenderTargetCopyObjects(){const e={sourceColorTexture:{type:"t",value:null},sourceDepthTexture:{type:"t",value:null}},n=new So({vertexShader:`
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = vec4( position.xy, 0.0, 1.0 );    
                }
            `,fragmentShader:`
                #include <common>
                #include <packing>
                varying vec2 vUv;
                uniform sampler2D sourceColorTexture;
                uniform sampler2D sourceDepthTexture;
                void main() {
                    vec4 color = texture2D(sourceColorTexture, vUv);
                    float fragDepth = texture2D(sourceDepthTexture, vUv).x;
                    gl_FragDepth = fragDepth;
                    gl_FragColor = vec4(color.rgb, color.a * 2.0);
              }
            `,uniforms:e,depthWrite:!1,depthTest:!1,transparent:!0,blending:b8,blendSrc:Zf,blendSrcAlpha:Zf,blendDst:Jf,blendDstAlpha:Jf});n.extensions.fragDepth=!0,this.renderTargetCopyQuad=new Hr(new cd(2,2),n),this.renderTargetCopyCamera=new xS(-1,1,1,-1,0,1)}destroyRenderTargetCopyObjects(){this.renderTargetCopyQuad&&(mu(this.renderTargetCopyQuad),this.renderTargetCopyQuad=null)}setupMeshCursor(){if(!this.meshCursor){const e=new wS(.5,1.5,32),n=new Ac({color:16777215}),r=new Hr(e,n);r.rotation.set(0,0,Math.PI),r.position.set(0,1,0);const a=new Hr(e,n);a.position.set(0,-1,0);const o=new Hr(e,n);o.rotation.set(0,0,Math.PI/2),o.position.set(1,0,0);const s=new Hr(e,n);s.rotation.set(0,0,-Math.PI/2),s.position.set(-1,0,0),this.meshCursor=new Zr,this.meshCursor.add(r),this.meshCursor.add(a),this.meshCursor.add(o),this.meshCursor.add(s),this.meshCursor.scale.set(.1,.1,.1),this.threeScene.add(this.meshCursor),this.meshCursor.visible=!1}}destroyMeshCursor(){this.meshCursor&&(mu(this.meshCursor),this.threeScene.remove(this.meshCursor),this.meshCursor=null)}setMeshCursorVisibility(e){this.meshCursor.visible=e}getMeschCursorVisibility(){return this.meshCursor.visible}setMeshCursorPosition(e){this.meshCursor.position.copy(e)}positionAndOrientMeshCursor(e,n){this.meshCursor.position.copy(e),this.meshCursor.up.copy(n.up),this.meshCursor.lookAt(n.position)}setupFocusMarker(){if(!this.focusMarker){const e=new Wp(.5,32,32),n=mf.buildFocusMarkerMaterial();n.depthTest=!1,n.depthWrite=!1,n.transparent=!0,this.focusMarker=new Hr(e,n)}}destroyFocusMarker(){this.focusMarker&&(mu(this.focusMarker),this.focusMarker=null)}setFocusMarkerVisibility(e){this.focusMarker.visible=e}setFocusMarkerOpacity(e){this.focusMarker.material.uniforms.opacity.value=e,this.focusMarker.material.uniformsNeedUpdate=!0}getFocusMarkerOpacity(){return this.focusMarker.material.uniforms.opacity.value}setupControlPlane(){if(!this.controlPlane){const e=new cd(1,1);e.rotateX(-Math.PI/2);const n=new Ac({color:16777215});n.transparent=!0,n.opacity=.6,n.depthTest=!1,n.depthWrite=!1,n.side=ko;const r=new Hr(e,n),a=new Be(0,1,0);a.normalize();const o=new Be(0,0,0),s=.5,i=.01,l=56576,c=new Eve(a,o,s,i,l,.1,.03);this.controlPlane=new Zr,this.controlPlane.add(r),this.controlPlane.add(c)}}destroyControlPlane(){this.controlPlane&&(mu(this.controlPlane),this.controlPlane=null)}setControlPlaneVisibility(e){this.controlPlane.visible=e}addDebugMeshes(){this.debugRoot=this.createDebugMeshes(),this.secondaryDebugRoot=this.createSecondaryDebugMeshes(),this.threeScene.add(this.debugRoot),this.threeScene.add(this.secondaryDebugRoot)}destroyDebugMeshes(){for(let e of[this.debugRoot,this.secondaryDebugRoot])e&&(mu(e),this.threeScene.remove(e));this.debugRoot=null,this.secondaryDebugRoot=null}createDebugMeshes(e){const n=new Wp(1,32,32),r=new Zr,a=(o,s)=>{let i=new Hr(n,mf.buildDebugMaterial(o));i.renderOrder=e,r.add(i),i.position.fromArray(s)};return a(16711680,[-50,0,0]),a(16711680,[50,0,0]),a(65280,[0,0,-50]),a(65280,[0,0,50]),a(16755200,[5,0,5]),r}createSecondaryDebugMeshes(e){const n=new Td(3,3,3),r=new Zr;let a=12303291;const o=i=>{let l=new Hr(n,mf.buildDebugMaterial(a));l.renderOrder=e,r.add(l),l.position.fromArray(i)};let s=10;return o([-s,0,-s]),o([-s,0,s]),o([s,0,-s]),o([s,0,s]),r}static buildDebugMaterial(e){const n=`
            #include <common>
            varying float ndcDepth;

            void main() {
                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position.xyz, 1.0);
                ndcDepth = gl_Position.z / gl_Position.w;
                gl_Position.x = gl_Position.x / gl_Position.w;
                gl_Position.y = gl_Position.y / gl_Position.w;
                gl_Position.z = 0.0;
                gl_Position.w = 1.0;
    
            }
        `,r=`
            #include <common>
            uniform vec3 color;
            varying float ndcDepth;
            void main() {
                gl_FragDepth = (ndcDepth + 1.0) / 2.0;
                gl_FragColor = vec4(color.rgb, 0.0);
            }
        `,a={color:{type:"v3",value:new tr(e)}},o=new So({uniforms:a,vertexShader:n,fragmentShader:r,transparent:!1,depthTest:!0,depthWrite:!0,side:Ps});return o.extensions.fragDepth=!0,o}static buildFocusMarkerMaterial(e){const n=`
            #include <common>

            uniform vec2 viewport;
            uniform vec3 realFocusPosition;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                float radius = 0.01;

                vec4 viewPosition = modelViewMatrix * vec4(position.xyz, 1.0);
                vec4 viewCenter = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);

                vec4 viewFocusPosition = modelViewMatrix * vec4(realFocusPosition, 1.0);

                ndcPosition = projectionMatrix * viewPosition;
                ndcPosition = ndcPosition * vec4(1.0 / ndcPosition.w);
                ndcCenter = projectionMatrix * viewCenter;
                ndcCenter = ndcCenter * vec4(1.0 / ndcCenter.w);

                ndcFocusPosition = projectionMatrix * viewFocusPosition;
                ndcFocusPosition = ndcFocusPosition * vec4(1.0 / ndcFocusPosition.w);

                gl_Position = projectionMatrix * viewPosition;

            }
        `,r=`
            #include <common>
            uniform vec3 color;
            uniform vec2 viewport;
            uniform float opacity;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                vec2 screenPosition = vec2(ndcPosition) * viewport;
                vec2 screenCenter = vec2(ndcCenter) * viewport;

                vec2 screenVec = screenPosition - screenCenter;

                float projectedRadius = length(screenVec);

                float lineWidth = 0.0005 * viewport.y;
                float aaRange = 0.0025 * viewport.y;
                float radius = 0.06 * viewport.y;
                float radDiff = abs(projectedRadius - radius) - lineWidth;
                float alpha = 1.0 - clamp(radDiff / 5.0, 0.0, 1.0); 

                gl_FragColor = vec4(color.rgb, alpha * opacity);
            }
        `,a={color:{type:"v3",value:new tr(e)},realFocusPosition:{type:"v3",value:new Be},viewport:{type:"v2",value:new dn},opacity:{value:0}};return new So({uniforms:a,vertexShader:n,fragmentShader:r,transparent:!0,depthTest:!1,depthWrite:!1,side:Ps})}dispose(){this.destroyMeshCursor(),this.destroyFocusMarker(),this.destroyDebugMeshes(),this.destroyControlPlane(),this.destroyRenderTargetCopyObjects(),this.destroySplatRendertarget()}}const Mve=new Be(1,0,0),Tve=new Be(0,1,0),Ive=new Be(0,0,1);class zg{constructor(e=new Be,n=new Be){$t(this,"intersectBox",function(){const e=new Be,n=[],r=[],a=[];return function(o,s){if(r[0]=this.origin.x,r[1]=this.origin.y,r[2]=this.origin.z,a[0]=this.direction.x,a[1]=this.direction.y,a[2]=this.direction.z,this.boxContainsPoint(o,this.origin,1e-4))return s&&(s.origin.copy(this.origin),s.normal.set(0,0,0),s.distance=-1),!0;for(let i=0;i<3;i++){if(a[i]==0)continue;const l=i==0?Mve:i==1?Tve:Ive,c=a[i]<0?o.max:o.min;let u=-Math.sign(a[i]);n[0]=i==0?c.x:i==1?c.y:c.z;let f=n[0]-r[i];if(f*u<0){const h=(i+1)%3,p=(i+2)%3;if(n[2]=a[h]/a[i]*f+r[h],n[1]=a[p]/a[i]*f+r[p],e.set(n[i],n[p],n[h]),this.boxContainsPoint(o,e,1e-4))return s&&(s.origin.copy(e),s.normal.copy(l).multiplyScalar(u),s.distance=e.sub(this.origin).length()),!0}}return!1}}());$t(this,"intersectSphere",function(){const e=new Be;return function(n,r,a){e.copy(n).sub(this.origin);const o=e.dot(this.direction),s=o*o,l=e.dot(e)-s,c=r*r;if(l>c)return!1;const u=Math.sqrt(c-l),f=o-u,h=o+u;if(h<0)return!1;let p=f<0?h:f;return a&&(a.origin.copy(this.origin).addScaledVector(this.direction,p),a.normal.copy(a.origin).sub(n).normalize(),a.distance=p),!0}}());this.origin=new Be,this.direction=new Be,this.setParameters(e,n)}setParameters(e,n){this.origin.copy(e),this.direction.copy(n).normalize()}boxContainsPoint(e,n,r){return!(n.x<e.min.x-r||n.x>e.max.x+r||n.y<e.min.y-r||n.y>e.max.y+r||n.z<e.min.z-r||n.z>e.max.z+r)}}class US{constructor(){this.origin=new Be,this.normal=new Be,this.distance=0,this.splatIndex=0}set(e,n,r,a){this.origin.copy(e),this.normal.copy(n),this.distance=r,this.splatIndex=a}clone(){const e=new US;return e.origin.copy(this.origin),e.normal.copy(this.normal),e.distance=this.distance,e.splatIndex=this.splatIndex,e}}const si={ThreeD:0,TwoD:1};class Rve{constructor(e,n,r=!1){$t(this,"setFromCameraAndScreenPosition",function(){const e=new dn;return function(n,r,a){if(e.x=r.x/a.x*2-1,e.y=(a.y-r.y)/a.y*2-1,n.isPerspectiveCamera)this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n;else if(n.isOrthographicCamera)this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n;else throw new Error("Raycaster::setFromCameraAndScreenPosition() -> Unsupported camera type")}}());$t(this,"intersectSplatMesh",function(){const e=new An,n=new An,r=new An,a=new zg,o=new Be;return function(s,i=[]){const l=s.getSplatTree();if(l){for(let c=0;c<l.subTrees.length;c++){const u=l.subTrees[c];n.copy(s.matrixWorld),s.dynamicMode&&(s.getSceneTransform(c,r),n.multiply(r)),e.copy(n).invert(),a.origin.copy(this.ray.origin).applyMatrix4(e),a.direction.copy(this.ray.origin).add(this.ray.direction),a.direction.applyMatrix4(e).sub(a.origin).normalize();const f=[];u.rootNode&&this.castRayAtSplatTreeNode(a,l,u.rootNode,f),f.forEach(h=>{h.origin.applyMatrix4(n),h.normal.applyMatrix4(n).normalize(),h.distance=o.copy(h.origin).sub(this.ray.origin).length()}),i.push(...f)}return i.sort((c,u)=>c.distance>u.distance?1:-1),i}}}());$t(this,"castRayAtSplatTreeNode",function(){const e=new Er,n=new Be,r=new Be,a=new kr,o=new US,s=1e-7,i=new Be(0,0,0),l=new An,c=new An,u=new An,f=new An,h=new An,p=new zg;return function(m,g,y,v=[]){if(m.intersectBox(y.boundingBox)){if(y.data&&y.data.indexes&&y.data.indexes.length>0)for(let A=0;A<y.data.indexes.length;A++){const w=y.data.indexes[A],S=g.splatMesh.getSceneIndexForSplat(w);if(g.splatMesh.getScene(S).visible&&(g.splatMesh.getSplatColor(w,e),g.splatMesh.getSplatCenter(w,n),g.splatMesh.getSplatScaleAndRotation(w,r,a),!(r.x<=s||r.y<=s||g.splatMesh.splatRenderMode===si.ThreeD&&r.z<=s)))if(this.raycastAgainstTrueSplatEllipsoid){c.makeScale(r.x,r.y,r.z),u.makeRotationFromQuaternion(a);const E=Math.log10(e.w)*2;if(l.makeScale(E,E,E),h.copy(l).multiply(u).multiply(c),f.copy(h).invert(),p.origin.copy(m.origin).sub(n).applyMatrix4(f),p.direction.copy(m.origin).add(m.direction).sub(n),p.direction.applyMatrix4(f).sub(p.origin).normalize(),p.intersectSphere(i,1,o)){const I=o.clone();I.splatIndex=w,I.origin.applyMatrix4(h).add(n),v.push(I)}}else{let E=r.x+r.y,I=2;if(g.splatMesh.splatRenderMode===si.ThreeD&&(E+=r.z,I=3),E=E/I,m.intersectSphere(n,E,o)){const k=o.clone();k.splatIndex=w,v.push(k)}}}if(y.children&&y.children.length>0)for(let A of y.children)this.castRayAtSplatTreeNode(m,g,A,v);return v}}}());this.ray=new zg(e,n),this.raycastAgainstTrueSplatEllipsoid=r}}class Bu{static buildVertexShaderBase(e=!1,n=!1,r=0,a=""){let o=`
        precision highp float;
        #include <common>

        attribute uint splatIndex;
        uniform highp usampler2D centersColorsTexture;
        uniform highp sampler2D sphericalHarmonicsTexture;
        uniform highp sampler2D sphericalHarmonicsTextureR;
        uniform highp sampler2D sphericalHarmonicsTextureG;
        uniform highp sampler2D sphericalHarmonicsTextureB;

        uniform highp usampler2D sceneIndexesTexture;
        uniform vec2 sceneIndexesTextureSize;
        uniform int sceneCount;
    `;return n&&(o+=`
            uniform float sceneOpacity[${$n.MaxScenes}];
            uniform int sceneVisibility[${$n.MaxScenes}];
        `),e&&(o+=`
            uniform highp mat4 transforms[${$n.MaxScenes}];
        `),o+=`
        ${a}
        uniform vec2 focal;
        uniform float orthoZoom;
        uniform int orthographicMode;
        uniform int pointCloudModeEnabled;
        uniform float inverseFocalAdjustment;
        uniform vec2 viewport;
        uniform vec2 basisViewport;
        uniform vec2 centersColorsTextureSize;
        uniform int sphericalHarmonicsDegree;
        uniform vec2 sphericalHarmonicsTextureSize;
        uniform int sphericalHarmonics8BitMode;
        uniform int sphericalHarmonicsMultiTextureMode;
        uniform float visibleRegionRadius;
        uniform float visibleRegionFadeStartRadius;
        uniform float firstRenderTime;
        uniform float currentTime;
        uniform int fadeInComplete;
        uniform vec3 sceneCenter;
        uniform float splatScale;
        uniform float sphericalHarmonics8BitCompressionRangeMin[${$n.MaxScenes}];
        uniform float sphericalHarmonics8BitCompressionRangeMax[${$n.MaxScenes}];

        varying vec4 vColor;
        varying vec2 vUv;
        varying vec2 vPosition;

        mat3 quaternionToRotationMatrix(float x, float y, float z, float w) {
            float s = 1.0 / sqrt(w * w + x * x + y * y + z * z);
        
            return mat3(
                1. - 2. * (y * y + z * z),
                2. * (x * y + w * z),
                2. * (x * z - w * y),
                2. * (x * y - w * z),
                1. - 2. * (x * x + z * z),
                2. * (y * z + w * x),
                2. * (x * z + w * y),
                2. * (y * z - w * x),
                1. - 2. * (x * x + y * y)
            );
        }

        const float sqrt8 = sqrt(8.0);
        const float minAlpha = 1.0 / 255.0;

        const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
        const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
        const uvec4 shift4 = uvec4(0, 8, 16, 24);
        vec4 uintToRGBAVec (uint u) {
           uvec4 urgba = mask4 & u;
           urgba = urgba >> shift4;
           vec4 rgba = vec4(urgba) * encodeNorm4;
           return rgba;
        }

        vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        vec2 getDataUVF(in uint sIndex, in float stride, in uint offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(uint(float(sIndex) * stride) + offset) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        const float SH_C1 = 0.4886025119029199f;
        const float[5] SH_C2 = float[](1.0925484, -1.0925484, 0.3153916, -1.0925484, 0.5462742);

        void main () {

            uint oddOffset = splatIndex & uint(0x00000001);
            uint doubleOddOffset = oddOffset * uint(2);
            bool isEven = oddOffset == uint(0);
            uint nearestEvenIndex = splatIndex - oddOffset;
            float fOddOffset = float(oddOffset);

            uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
            vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));

            uint sceneIndex = uint(0);
            if (sceneCount > 1) {
                sceneIndex = texture(sceneIndexesTexture, getDataUV(1, 0, sceneIndexesTextureSize)).r;
            }
            `,n&&(o+=`
                float splatOpacityFromScene = sceneOpacity[sceneIndex];
                int sceneVisible = sceneVisibility[sceneIndex];
                if (splatOpacityFromScene <= 0.01 || sceneVisible == 0) {
                    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                    return;
                }
            `),e?o+=`
                mat4 transform = transforms[sceneIndex];
                mat4 transformModelViewMatrix = viewMatrix * transform;
            `:o+="mat4 transformModelViewMatrix = modelViewMatrix;",o+=`
            float sh8BitCompressionRangeMinForScene = sphericalHarmonics8BitCompressionRangeMin[sceneIndex];
            float sh8BitCompressionRangeMaxForScene = sphericalHarmonics8BitCompressionRangeMax[sceneIndex];
            float sh8BitCompressionRangeForScene = sh8BitCompressionRangeMaxForScene - sh8BitCompressionRangeMinForScene;
            float sh8BitCompressionHalfRangeForScene = sh8BitCompressionRangeForScene / 2.0;
            vec3 vec8BitSHShift = vec3(sh8BitCompressionRangeMinForScene);

            vec4 viewCenter = transformModelViewMatrix * vec4(splatCenter, 1.0);

            vec4 clipCenter = projectionMatrix * viewCenter;

            float clip = 1.2 * clipCenter.w;
            if (clipCenter.z < -clip || clipCenter.x < -clip || clipCenter.x > clip || clipCenter.y < -clip || clipCenter.y > clip) {
                gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                return;
            }

            vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

            vPosition = position.xy;
            vColor = uintToRGBAVec(sampledCenterColor.r);
        `,r>=1&&(o+=`   
            if (sphericalHarmonicsDegree >= 1) {
            `,e?o+=`
                    vec3 worldViewDir = normalize(splatCenter - vec3(inverse(transform) * vec4(cameraPosition, 1.0)));
                `:o+=`
                    vec3 worldViewDir = normalize(splatCenter - cameraPosition);
                `,o+=`
                vec3 sh1;
                vec3 sh2;
                vec3 sh3;
            `,r>=2&&(o+=`
                    vec3 sh4;
                    vec3 sh5;
                    vec3 sh6;
                    vec3 sh7;
                    vec3 sh8;
                `),r===1?o+=`
                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        vec2 shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset, sphericalHarmonicsTextureSize);
                        vec4 sampledSH0123 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(1), sphericalHarmonicsTextureSize);
                        vec4 sampledSH4567 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(2), sphericalHarmonicsTextureSize);
                        vec4 sampledSH891011 = texture(sphericalHarmonicsTexture, shUV);
                        sh1 = vec3(sampledSH0123.rgb) * (1.0 - fOddOffset) + vec3(sampledSH0123.ba, sampledSH4567.r) * fOddOffset;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg) * (1.0 - fOddOffset) + vec3(sampledSH4567.gba) * fOddOffset;
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r) * (1.0 - fOddOffset) + vec3(sampledSH891011.rgb) * fOddOffset;
                    } else {
                        vec2 sampledSH01R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        sh1 = vec3(sampledSH01R.rg, sampledSH23R.r);
                        sh2 = vec3(sampledSH01G.rg, sampledSH23G.r);
                        sh3 = vec3(sampledSH01B.rg, sampledSH23B.r);
                    }
                `:r===2&&(o+=`
                    vec4 sampledSH0123;
                    vec4 sampledSH4567;
                    vec4 sampledSH891011;

                    vec4 sampledSH0123R;
                    vec4 sampledSH0123G;
                    vec4 sampledSH0123B;

                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        sampledSH0123 = texture(sphericalHarmonicsTexture, getDataUV(6, 0, sphericalHarmonicsTextureSize));
                        sampledSH4567 = texture(sphericalHarmonicsTexture, getDataUV(6, 1, sphericalHarmonicsTextureSize));
                        sampledSH891011 = texture(sphericalHarmonicsTexture, getDataUV(6, 2, sphericalHarmonicsTextureSize));
                        sh1 = sampledSH0123.rgb;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg);
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r);
                    } else {
                        sampledSH0123R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sh1 = vec3(sampledSH0123R.rgb);
                        sh2 = vec3(sampledSH0123G.rgb);
                        sh3 = vec3(sampledSH0123B.rgb);
                    }
                `),o+=`
                    if (sphericalHarmonics8BitMode == 1) {
                        sh1 = sh1 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh2 = sh2 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh3 = sh3 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                    }
                    float x = worldViewDir.x;
                    float y = worldViewDir.y;
                    float z = worldViewDir.z;
                    vColor.rgb += SH_C1 * (-sh1 * y + sh2 * z - sh3 * x);
            `,r>=2&&(o+=`
                    if (sphericalHarmonicsDegree >= 2) {
                        float xx = x * x;
                        float yy = y * y;
                        float zz = z * z;
                        float xy = x * y;
                        float yz = y * z;
                        float xz = x * z;
                `,r===2&&(o+=`
                        if (sphericalHarmonicsMultiTextureMode == 0) {
                            vec4 sampledSH12131415 = texture(sphericalHarmonicsTexture, getDataUV(6, 3, sphericalHarmonicsTextureSize));
                            vec4 sampledSH16171819 = texture(sphericalHarmonicsTexture, getDataUV(6, 4, sphericalHarmonicsTextureSize));
                            vec4 sampledSH20212223 = texture(sphericalHarmonicsTexture, getDataUV(6, 5, sphericalHarmonicsTextureSize));
                            sh4 = sampledSH891011.gba;
                            sh5 = sampledSH12131415.rgb;
                            sh6 = vec3(sampledSH12131415.a, sampledSH16171819.rg);
                            sh7 = vec3(sampledSH16171819.ba, sampledSH20212223.r);
                            sh8 = sampledSH20212223.gba;
                        } else {
                            vec4 sampledSH4567R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            sh4 = vec3(sampledSH0123R.a, sampledSH4567R.rg);
                            sh5 = vec3(sampledSH4567R.ba, sampledSH0123G.a);
                            sh6 = vec3(sampledSH4567G.rgb);
                            sh7 = vec3(sampledSH4567G.a, sampledSH0123B.a, sampledSH4567B.r);
                            sh8 = vec3(sampledSH4567B.gba);
                        }
                    `),o+=`
                        if (sphericalHarmonics8BitMode == 1) {
                            sh4 = sh4 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh5 = sh5 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh6 = sh6 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh7 = sh7 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh8 = sh8 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        }

                        vColor.rgb +=
                            (SH_C2[0] * xy) * sh4 +
                            (SH_C2[1] * yz) * sh5 +
                            (SH_C2[2] * (2.0 * zz - xx - yy)) * sh6 +
                            (SH_C2[3] * xz) * sh7 +
                            (SH_C2[4] * (xx - yy)) * sh8;
                    }
                `),o+=`

                vColor.rgb = clamp(vColor.rgb, vec3(0.), vec3(1.));

            }

            `),o}static getVertexShaderFadeIn(){return`
            if (fadeInComplete == 0) {
                float opacityAdjust = 1.0;
                float centerDist = length(splatCenter - sceneCenter);
                float renderTime = max(currentTime - firstRenderTime, 0.0);

                float fadeDistance = 0.75;
                float distanceLoadFadeInFactor = step(visibleRegionFadeStartRadius, centerDist);
                distanceLoadFadeInFactor = (1.0 - distanceLoadFadeInFactor) +
                                        (1.0 - clamp((centerDist - visibleRegionFadeStartRadius) / fadeDistance, 0.0, 1.0)) *
                                        distanceLoadFadeInFactor;
                opacityAdjust *= distanceLoadFadeInFactor;
                vColor.a *= opacityAdjust;
            }
        `}static getUniforms(e=!1,n=!1,r=0,a=1,o=!1){const s={sceneCenter:{type:"v3",value:new Be},fadeInComplete:{type:"i",value:0},orthographicMode:{type:"i",value:0},visibleRegionFadeStartRadius:{type:"f",value:0},visibleRegionRadius:{type:"f",value:0},currentTime:{type:"f",value:0},firstRenderTime:{type:"f",value:0},centersColorsTexture:{type:"t",value:null},sphericalHarmonicsTexture:{type:"t",value:null},sphericalHarmonicsTextureR:{type:"t",value:null},sphericalHarmonicsTextureG:{type:"t",value:null},sphericalHarmonicsTextureB:{type:"t",value:null},sphericalHarmonics8BitCompressionRangeMin:{type:"f",value:[]},sphericalHarmonics8BitCompressionRangeMax:{type:"f",value:[]},focal:{type:"v2",value:new dn},orthoZoom:{type:"f",value:1},inverseFocalAdjustment:{type:"f",value:1},viewport:{type:"v2",value:new dn},basisViewport:{type:"v2",value:new dn},debugColor:{type:"v3",value:new tr},centersColorsTextureSize:{type:"v2",value:new dn(1024,1024)},sphericalHarmonicsDegree:{type:"i",value:r},sphericalHarmonicsTextureSize:{type:"v2",value:new dn(1024,1024)},sphericalHarmonics8BitMode:{type:"i",value:0},sphericalHarmonicsMultiTextureMode:{type:"i",value:0},splatScale:{type:"f",value:a},pointCloudModeEnabled:{type:"i",value:o?1:0},sceneIndexesTexture:{type:"t",value:null},sceneIndexesTextureSize:{type:"v2",value:new dn(1024,1024)},sceneCount:{type:"i",value:1}};for(let i=0;i<$n.MaxScenes;i++)s.sphericalHarmonics8BitCompressionRangeMin.value.push(-$n.SphericalHarmonics8BitCompressionRange/2),s.sphericalHarmonics8BitCompressionRangeMax.value.push($n.SphericalHarmonics8BitCompressionRange/2);if(n){const i=[];for(let c=0;c<$n.MaxScenes;c++)i.push(1);s.sceneOpacity={type:"f",value:i};const l=[];for(let c=0;c<$n.MaxScenes;c++)l.push(1);s.sceneVisibility={type:"i",value:l}}if(e){const i=[];for(let l=0;l<$n.MaxScenes;l++)i.push(new An);s.transforms={type:"mat4",value:i}}return s}}class Kp{static build(e=!1,n=!1,r=!1,a=2048,o=1,s=!1,i=0,l=.3){const c=`
            uniform vec2 covariancesTextureSize;
            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D covariancesTextureHalfFloat;
            uniform int covariancesAreHalfFloat;

            void fromCovarianceHalfFloatV4(uvec4 val, out vec4 first, out vec4 second) {
                vec2 r = unpackHalf2x16(val.r);
                vec2 g = unpackHalf2x16(val.g);
                vec2 b = unpackHalf2x16(val.b);

                first = vec4(r.x, r.y, g.x, g.y);
                second = vec4(b.x, b.y, 0.0, 0.0);
            }
        `;let u=Bu.buildVertexShaderBase(e,n,i,c);u+=Kp.buildVertexShaderProjection(r,n,a,l);const f=Kp.buildFragmentShader(),h=Bu.getUniforms(e,n,i,o,s);return h.covariancesTextureSize={type:"v2",value:new dn(1024,1024)},h.covariancesTexture={type:"t",value:null},h.covariancesTextureHalfFloat={type:"t",value:null},h.covariancesAreHalfFloat={type:"i",value:0},new So({uniforms:h,vertexShader:u,fragmentShader:f,transparent:!0,alphaTest:1,blending:ol,depthTest:!0,depthWrite:!1,side:ko})}static buildVertexShaderProjection(e,n,r,a){let o=`

            vec4 sampledCovarianceA;
            vec4 sampledCovarianceB;
            vec3 cov3D_M11_M12_M13;
            vec3 cov3D_M22_M23_M33;
            if (covariancesAreHalfFloat == 0) {
                sampledCovarianceA = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset,
                                                                            covariancesTextureSize));
                sampledCovarianceB = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset + uint(1),
                                                                            covariancesTextureSize));

                cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rgb) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceA.ba, sampledCovarianceB.r) * fOddOffset;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceB.gba) * fOddOffset;
            } else {
                uvec4 sampledCovarianceU = texture(covariancesTextureHalfFloat, getDataUV(1, 0, covariancesTextureSize));
                fromCovarianceHalfFloatV4(sampledCovarianceU, sampledCovarianceA, sampledCovarianceB);
                cov3D_M11_M12_M13 = sampledCovarianceA.rgb;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg);
            }
        
            // Construct the 3D covariance matrix
            mat3 Vrk = mat3(
                cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
            );

            mat3 J;
            if (orthographicMode == 1) {
                // Since the projection is linear, we don't need an approximation
                J = transpose(mat3(orthoZoom, 0.0, 0.0,
                                0.0, orthoZoom, 0.0,
                                0.0, 0.0, 0.0));
            } else {
                // Construct the Jacobian of the affine approximation of the projection matrix. It will be used to transform the
                // 3D covariance matrix instead of using the actual projection matrix because that transformation would
                // require a non-linear component (perspective division) which would yield a non-gaussian result.
                float s = 1.0 / (viewCenter.z * viewCenter.z);
                J = mat3(
                    focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
                    0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
                    0., 0., 0.
                );
            }

            // Concatenate the projection approximation with the model-view transformation
            mat3 W = transpose(mat3(transformModelViewMatrix));
            mat3 T = W * J;

            // Transform the 3D covariance matrix (Vrk) to compute the 2D covariance matrix
            mat3 cov2Dm = transpose(T) * Vrk * T;
            `;return e?o+=`
                float detOrig = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                cov2Dm[0][0] += ${a};
                cov2Dm[1][1] += ${a};
                float detBlur = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                vColor.a *= sqrt(max(detOrig / detBlur, 0.0));
                if (vColor.a < minAlpha) return;
            `:o+=`
                cov2Dm[0][0] += ${a};
                cov2Dm[1][1] += ${a};
            `,o+=`

            // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
            // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
            // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
            // need cov2Dm[1][0] because it is a symetric matrix.
            vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

            // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
            // so that we can determine the 2D basis for the splat. This is done using the method described
            // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
            // After calculating the eigen-values and eigen-vectors, we calculate the basis for rendering the splat
            // by normalizing the eigen-vectors and then multiplying them by (sqrt(8) * sqrt(eigen-value)), which is
            // equal to scaling them by sqrt(8) standard deviations.
            //
            // This is a different approach than in the original work at INRIA. In that work they compute the
            // max extents of the projected splat in screen space to form a screen-space aligned bounding rectangle
            // which forms the geometry that is actually rasterized. The dimensions of that bounding box are 3.0
            // times the square root of the maximum eigen-value, or 3 standard deviations. They then use the inverse
            // 2D covariance matrix (called 'conic') in the CUDA rendering thread to determine fragment opacity by
            // calculating the full gaussian: exp(-0.5 * (X - mean) * conic * (X - mean)) * splat opacity
            float a = cov2Dv.x;
            float d = cov2Dv.z;
            float b = cov2Dv.y;
            float D = a * d - b * b;
            float trace = a + d;
            float traceOver2 = 0.5 * trace;
            float term2 = sqrt(max(0.1f, traceOver2 * traceOver2 - D));
            float eigenValue1 = traceOver2 + term2;
            float eigenValue2 = traceOver2 - term2;

            if (pointCloudModeEnabled == 1) {
                eigenValue1 = eigenValue2 = 0.2;
            }

            if (eigenValue2 <= 0.0) return;

            vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
            // since the eigen vectors are orthogonal, we derive the second one from the first
            vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);

            // We use sqrt(8) standard deviations instead of 3 to eliminate more of the splat with a very low opacity.
            vec2 basisVector1 = eigenVector1 * splatScale * min(sqrt8 * sqrt(eigenValue1), ${parseInt(r)}.0);
            vec2 basisVector2 = eigenVector2 * splatScale * min(sqrt8 * sqrt(eigenValue2), ${parseInt(r)}.0);
            `,n&&(o+=`
                vColor.a *= splatOpacityFromScene;
            `),o+=`
            vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) *
                             basisViewport * 2.0 * inverseFocalAdjustment;

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            // Scale the position data we send to the fragment shader
            vPosition *= sqrt8;
        `,o+=Bu.getVertexShaderFadeIn(),o+="}",o}static buildFragmentShader(){let e=`
            precision highp float;
            #include <common>
 
            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
        `;return e+=`
            void main () {
                // Compute the positional squared distance from the center of the splat to the current fragment.
                float A = dot(vPosition, vPosition);
                // Since the positional data in vPosition has been scaled by sqrt(8), the squared result will be
                // scaled by a factor of 8. If the squared result is larger than 8, it means it is outside the ellipse
                // defined by the rectangle formed by vPosition. It also means it's farther
                // away than sqrt(8) standard deviations from the mean.
                if (A > 8.0) discard;
                vec3 color = vColor.rgb;

                // Since the rendered splat is scaled by sqrt(8), the inverse covariance matrix that is part of
                // the gaussian formula becomes the identity matrix. We're then left with (X - mean) * (X - mean),
                // and since 'mean' is zero, we have X * X, which is the same as A:
                float opacity = exp(-0.5 * A) * vColor.a;

                gl_FragColor = vec4(color.rgb, opacity);
            }
        `,e}}class qp{static build(e=!1,n=!1,r=1,a=!1,o=0){const s=`
            uniform vec2 scaleRotationsTextureSize;
            uniform highp sampler2D scaleRotationsTexture;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;
        `;let i=Bu.buildVertexShaderBase(e,n,o,s);i+=qp.buildVertexShaderProjection();const l=qp.buildFragmentShader(),c=Bu.getUniforms(e,n,o,r,a);return c.scaleRotationsTexture={type:"t",value:null},c.scaleRotationsTextureSize={type:"v2",value:new dn(1024,1024)},new So({uniforms:c,vertexShader:i,fragmentShader:l,transparent:!0,alphaTest:1,blending:ol,depthTest:!0,depthWrite:!1,side:ko})}static buildVertexShaderProjection(){let e=`

            vec4 scaleRotationA = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset, scaleRotationsTextureSize));
            vec4 scaleRotationB = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset + uint(1), scaleRotationsTextureSize));

            vec3 scaleRotation123 = vec3(scaleRotationA.rgb) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationA.ba, scaleRotationB.r) * fOddOffset;
            vec3 scaleRotation456 = vec3(scaleRotationA.a, scaleRotationB.rg) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationB.gba) * fOddOffset;

            float missingW = sqrt(1.0 - scaleRotation456.x * scaleRotation456.x - scaleRotation456.y *
                                    scaleRotation456.y - scaleRotation456.z * scaleRotation456.z);
            mat3 R = quaternionToRotationMatrix(scaleRotation456.r, scaleRotation456.g, scaleRotation456.b, missingW);
            mat3 S = mat3(scaleRotation123.r, 0.0, 0.0,
                            0.0, scaleRotation123.g, 0.0,
                            0.0, 0.0, scaleRotation123.b);
            
            mat3 L = R * S;

            mat3x4 splat2World = mat3x4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

            mat4 world2ndc = transpose(projectionMatrix * transformModelViewMatrix);

            mat3x4 ndc2pix = mat3x4(vec4(viewport.x / 2.0, 0.0, 0.0, (viewport.x - 1.0) / 2.0),
                                    vec4(0.0, viewport.y / 2.0, 0.0, (viewport.y - 1.0) / 2.0),
                                    vec4(0.0, 0.0, 0.0, 1.0));

            mat3 T = transpose(splat2World) * world2ndc * ndc2pix;
            vec3 normal = vec3(viewMatrix * vec4(L[0][2], L[1][2], L[2][2], 0.0));
        `;return e+=`

                mat4 splat2World4 = mat4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(L[2], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

                mat4 Tt = transpose(transpose(splat2World4) * world2ndc);

                vec4 tempPoint1 = Tt * vec4(1.0, 0.0, 0.0, 1.0);
                tempPoint1 /= tempPoint1.w;

                vec4 tempPoint2 = Tt * vec4(0.0, 1.0, 0.0, 1.0);
                tempPoint2 /= tempPoint2.w;

                vec4 center = Tt * vec4(0.0, 0.0, 0.0, 1.0);
                center /= center.w;

                vec2 basisVector1 = tempPoint1.xy - center.xy;
                vec2 basisVector2 = tempPoint2.xy - center.xy;

                vec2 basisVector1Screen = basisVector1 * 0.5 * viewport;
                vec2 basisVector2Screen = basisVector2 * 0.5 * viewport;

                const float minPix = 1.;
                if (length(basisVector1Screen) < minPix || length(basisVector2Screen) < minPix) {
                    
            vec3 T0 = vec3(T[0][0], T[0][1], T[0][2]);
            vec3 T1 = vec3(T[1][0], T[1][1], T[1][2]);
            vec3 T3 = vec3(T[2][0], T[2][1], T[2][2]);

            vec3 tempPoint = vec3(1.0, 1.0, -1.0);
            float distance = (T3.x * T3.x * tempPoint.x) + (T3.y * T3.y * tempPoint.y) + (T3.z * T3.z * tempPoint.z);
            vec3 f = (1.0 / distance) * tempPoint;
            if (abs(distance) < 0.00001) return;

            float pointImageX = (T0.x * T3.x * f.x) + (T0.y * T3.y * f.y) + (T0.z * T3.z * f.z);
            float pointImageY = (T1.x * T3.x * f.x) + (T1.y * T3.y * f.y) + (T1.z * T3.z * f.z);
            vec2 pointImage = vec2(pointImageX, pointImageY);

            float tempX = (T0.x * T0.x * f.x) + (T0.y * T0.y * f.y) + (T0.z * T0.z * f.z);
            float tempY = (T1.x * T1.x * f.x) + (T1.y * T1.y * f.y) + (T1.z * T1.z * f.z);
            vec2 temp = vec2(tempX, tempY);

            vec2 halfExtend = pointImage * pointImage - temp;
            vec2 extent = sqrt(max(vec2(0.0001), halfExtend));
            float radius = max(extent.x, extent.y);

            vec2 ndcOffset = ((position.xy * radius * 3.0) * basisViewport * 2.0);

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            vT = T;
            vQuadCenter = pointImage;
            vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
        
                } else {
                    vec2 ndcOffset = vec2(position.x * basisVector1 + position.y * basisVector2) * 3.0 * inverseFocalAdjustment;
                    vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
                    gl_Position = quadPos;

                    vT = T;
                    vQuadCenter = center.xy;
                    vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
                }
            `,e+=Bu.getVertexShaderFadeIn(),e+="}",e}static buildFragmentShader(){return`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;

            void main () {

                const float FilterInvSquare = 2.0;
                const float near_n = 0.2;
                const float T = 1.0;

                vec2 xy = vQuadCenter;
                vec3 Tu = vT[0];
                vec3 Tv = vT[1];
                vec3 Tw = vT[2];
                vec3 k = vFragCoord.x * Tw - Tu;
                vec3 l = vFragCoord.y * Tw - Tv;
                vec3 p = cross(k, l);
                if (p.z == 0.0) discard;
                vec2 s = vec2(p.x / p.z, p.y / p.z);
                float rho3d = (s.x * s.x + s.y * s.y); 
                vec2 d = vec2(xy.x - vFragCoord.x, xy.y - vFragCoord.y);
                float rho2d = FilterInvSquare * (d.x * d.x + d.y * d.y); 

                // compute intersection and depth
                float rho = min(rho3d, rho2d);
                float depth = (rho3d <= rho2d) ? (s.x * Tw.x + s.y * Tw.y) + Tw.z : Tw.z; 
                if (depth < near_n) discard;
                //  vec4 nor_o = collected_normal_opacity[j];
                //  float normal[3] = {nor_o.x, nor_o.y, nor_o.z};
                float opa = vColor.a;

                float power = -0.5f * rho;
                if (power > 0.0f) discard;

                // Eq. (2) from 3D Gaussian splatting paper.
                // Obtain alpha by multiplying with Gaussian opacity
                // and its exponential falloff from mean.
                // Avoid numerical instabilities (see paper appendix). 
                float alpha = min(0.99f, opa * exp(power));
                if (alpha < 1.0f / 255.0f) discard;
                float test_T = T * (1.0 - alpha);
                if (test_T < 0.0001)discard;

                float w = alpha * T;
                gl_FragColor = vec4(vColor.rgb, w);
            }
        `}}class kve{static build(e){const n=new Go;n.setIndex([0,1,2,0,2,3]);const r=new Float32Array(4*3),a=new Fo(r,3);n.setAttribute("position",a),a.setXYZ(0,-1,-1,0),a.setXYZ(1,-1,1,0),a.setXYZ(2,1,1,0),a.setXYZ(3,1,-1,0),a.needsUpdate=!0;const o=new Zde().copy(n),s=new Uint32Array(e),i=new qde(s,1,!1);return i.setUsage(ede),o.setAttribute("splatIndex",i),o.instanceCount=0,o}}class Dve extends Zr{constructor(e,n=new Be,r=new kr,a=new Be(1,1,1),o=1,s=1,i=!0){super(),this.splatBuffer=e,this.position.copy(n),this.quaternion.copy(r),this.scale.copy(a),this.transform=new An,this.minimumAlpha=o,this.opacity=s,this.visible=i}copyTransformData(e){this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.transform.copy(e.transform)}updateTransform(e){e?(this.matrixWorldAutoUpdate&&this.updateWorldMatrix(!0,!1),this.transform.copy(this.matrixWorld)):(this.matrixAutoUpdate&&this.updateMatrix(),this.transform.copy(this.matrix))}}const Yp=class Yp{constructor(e,n,r,a){this.min=new Be().copy(e),this.max=new Be().copy(n),this.boundingBox=new As(this.min,this.max),this.center=new Be().copy(this.max).sub(this.min).multiplyScalar(.5).add(this.min),this.depth=r,this.children=[],this.data=null,this.id=a||Yp.idGen++}};$t(Yp,"idGen",0);let rb=Yp;class vf{constructor(e,n){this.maxDepth=e,this.maxCentersPerNode=n,this.sceneDimensions=new Be,this.sceneMin=new Be,this.sceneMax=new Be,this.rootNode=null,this.nodesWithIndexes=[],this.splatMesh=null}static convertWorkerSubTreeNode(e){const n=new Be().fromArray(e.min),r=new Be().fromArray(e.max),a=new rb(n,r,e.depth,e.id);if(e.data.indexes){a.data={indexes:[]};for(let o of e.data.indexes)a.data.indexes.push(o)}if(e.children)for(let o of e.children)a.children.push(vf.convertWorkerSubTreeNode(o));return a}static convertWorkerSubTree(e,n){const r=new vf(e.maxDepth,e.maxCentersPerNode);r.sceneMin=new Be().fromArray(e.sceneMin),r.sceneMax=new Be().fromArray(e.sceneMax),r.splatMesh=n,r.rootNode=vf.convertWorkerSubTreeNode(e.rootNode);const a=(o,s)=>{o.children.length===0&&s(o);for(let i of o.children)a(i,s)};return r.nodesWithIndexes=[],a(r.rootNode,o=>{o.data&&o.data.indexes&&o.data.indexes.length>0&&r.nodesWithIndexes.push(o)}),r}}function Pve(t){let e=0;class n{constructor(l,c){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]]}containsPoint(l){return l[0]>=this.min[0]&&l[0]<=this.max[0]&&l[1]>=this.min[1]&&l[1]<=this.max[1]&&l[2]>=this.min[2]&&l[2]<=this.max[2]}}class r{constructor(l,c){this.maxDepth=l,this.maxCentersPerNode=c,this.sceneDimensions=[],this.sceneMin=[],this.sceneMax=[],this.rootNode=null,this.addedIndexes={},this.nodesWithIndexes=[],this.splatMesh=null,this.disposed=!1}}class a{constructor(l,c,u,f){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]],this.center=[(c[0]-l[0])*.5+l[0],(c[1]-l[1])*.5+l[1],(c[2]-l[2])*.5+l[2]],this.depth=u,this.children=[],this.data=null,this.id=f||e++}}processSplatTreeNode=function(i,l,c,u){const f=l.data.indexes.length;if(f<i.maxCentersPerNode||l.depth>i.maxDepth){const A=[];for(let w=0;w<l.data.indexes.length;w++)i.addedIndexes[l.data.indexes[w]]||(A.push(l.data.indexes[w]),i.addedIndexes[l.data.indexes[w]]=!0);l.data.indexes=A,l.data.indexes.sort((w,S)=>w>S?1:-1),i.nodesWithIndexes.push(l);return}const h=[l.max[0]-l.min[0],l.max[1]-l.min[1],l.max[2]-l.min[2]],p=[h[0]*.5,h[1]*.5,h[2]*.5],m=[l.min[0]+p[0],l.min[1]+p[1],l.min[2]+p[2]],g=[new n([m[0]-p[0],m[1],m[2]-p[2]],[m[0],m[1]+p[1],m[2]]),new n([m[0],m[1],m[2]-p[2]],[m[0]+p[0],m[1]+p[1],m[2]]),new n([m[0],m[1],m[2]],[m[0]+p[0],m[1]+p[1],m[2]+p[2]]),new n([m[0]-p[0],m[1],m[2]],[m[0],m[1]+p[1],m[2]+p[2]]),new n([m[0]-p[0],m[1]-p[1],m[2]-p[2]],[m[0],m[1],m[2]]),new n([m[0],m[1]-p[1],m[2]-p[2]],[m[0]+p[0],m[1],m[2]]),new n([m[0],m[1]-p[1],m[2]],[m[0]+p[0],m[1],m[2]+p[2]]),new n([m[0]-p[0],m[1]-p[1],m[2]],[m[0],m[1],m[2]+p[2]])],y=[];for(let A=0;A<g.length;A++)y[A]=[];const v=[0,0,0];for(let A=0;A<f;A++){const w=l.data.indexes[A],S=c[w];v[0]=u[S],v[1]=u[S+1],v[2]=u[S+2];for(let C=0;C<g.length;C++)g[C].containsPoint(v)&&y[C].push(w)}for(let A=0;A<g.length;A++){const w=new a(g[A].min,g[A].max,l.depth+1);w.data={indexes:y[A]},l.children.push(w)}l.data={};for(let A of l.children)processSplatTreeNode(i,A,c,u)};const o=(i,l,c)=>{const u=[0,0,0],f=[0,0,0],h=[],p=Math.floor(i.length/4);for(let g=0;g<p;g++){const y=g*4,v=i[y],A=i[y+1],w=i[y+2],S=Math.round(i[y+3]);(g===0||v<u[0])&&(u[0]=v),(g===0||v>f[0])&&(f[0]=v),(g===0||A<u[1])&&(u[1]=A),(g===0||A>f[1])&&(f[1]=A),(g===0||w<u[2])&&(u[2]=w),(g===0||w>f[2])&&(f[2]=w),h.push(S)}const m=new r(l,c);return m.sceneMin=u,m.sceneMax=f,m.rootNode=new a(m.sceneMin,m.sceneMax,0),m.rootNode.data={indexes:h},m};function s(i,l,c){const u=[];for(let h of i){const p=Math.floor(h.length/4);for(let m=0;m<p;m++){const g=m*4,y=Math.round(h[g+3]);u[y]=g}}const f=[];for(let h of i){const p=o(h,l,c);f.push(p),processSplatTreeNode(p,p.rootNode,u,h)}t.postMessage({subTrees:f})}t.onmessage=i=>{i.data.process&&s(i.data.process.centers,i.data.process.maxDepth,i.data.process.maxCentersPerNode)}}function Bve(t,e,n,r,a){t.postMessage({process:{centers:e,maxDepth:r,maxCentersPerNode:a}},n)}function Lve(){return new Worker(URL.createObjectURL(new Blob(["(",Pve.toString(),")(self)"],{type:"application/javascript"})))}class Nve{constructor(e,n){$t(this,"processSplatMesh",function(e,n=()=>!0,r,a){this.splatTreeWorker||(this.splatTreeWorker=Lve()),this.splatMesh=e,this.subTrees=[];const o=new Be,s=(i,l)=>{const c=new Float32Array(l*4);let u=0;for(let f=0;f<l;f++){const h=f+i;if(n(h)){e.getSplatCenter(h,o);const p=u*4;c[p]=o.x,c[p+1]=o.y,c[p+2]=o.z,c[p+3]=h,u++}}return c};return new Promise(i=>{const l=()=>this.disposed?(this.diposeSplatTreeWorker(),i(),!0):!1;r&&r(!1),is(()=>{if(l())return;const c=[];if(e.dynamicMode){let u=0;for(let f=0;f<e.scenes.length;f++){const p=e.getScene(f).splatBuffer.getSplatCount(),m=s(u,p);c.push(m),u+=p}}else{const u=s(0,e.getSplatCount());c.push(u)}this.splatTreeWorker.onmessage=u=>{l()||u.data.subTrees&&(a&&a(!1),is(()=>{if(!l()){for(let f of u.data.subTrees){const h=vf.convertWorkerSubTree(f,e);this.subTrees.push(h)}this.diposeSplatTreeWorker(),a&&a(!0),is(()=>{i()})}}))},is(()=>{if(l())return;r&&r(!0);const u=c.map(f=>f.buffer);Bve(this.splatTreeWorker,c,u,this.maxDepth,this.maxCentersPerNode)})})})});this.maxDepth=e,this.maxCentersPerNode=n,this.subTrees=[],this.splatMesh=null}dispose(){this.diposeSplatTreeWorker(),this.disposed=!0}diposeSplatTreeWorker(){this.splatTreeWorker&&this.splatTreeWorker.terminate(),this.splatTreeWorker=null}countLeaves(){let e=0;return this.visitLeaves(()=>{e++}),e}visitLeaves(e){const n=(r,a)=>{r.children.length===0&&a(r);for(let o of r.children)n(o,a)};for(let r of this.subTrees)n(r.rootNode,e)}}function Fve(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let a;switch(r){case"WEBGL_depth_texture":a=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=t.getExtension(r)}return e[r]=a,a}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const a=n(r);return a===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function Ove(t,e,n){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let i=n.precision!==void 0?n.precision:"highp";const l=o(i);l!==i&&(console.warn("THREE.WebGLRenderer:",i,"not supported, using",l,"instead."),i=l);const c=s||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),A=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=h>0,S=s||e.has("OES_texture_float"),C=w&&S,E=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:a,getMaxPrecision:o,precision:i,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:A,vertexTextures:w,floatFragmentTextures:S,floatVertexTextures:C,maxSamples:E}}const gf={Default:0,Gradual:1,Instant:2},Lu={None:0,Error:1,Warning:2,Info:3,Debug:4},X3=new Go,zve=new Ac,F0=6,Uve=4,Hve=4,$ve=4,Vve=6,Wve=8,Ug=4,Hg=4,Q3=1,Gve=.012,Kve=.003,Z3=1,J3=16777216;class ha extends Hr{constructor(n=si.ThreeD,r=!1,a=!1,o=!1,s=1,i=!0,l=!1,c=!1,u=1024,f=Lu.None,h=0,p=1,m=.3){super(X3,zve);$t(this,"buildSplatTree",function(n=[],r,a){return new Promise(o=>{this.disposeSplatTree(),this.baseSplatTree=new Nve(8,1e3);const s=performance.now(),i=new Er;this.baseSplatTree.processSplatMesh(this,l=>{this.getSplatColor(l,i);const c=this.getSceneIndexForSplat(l),u=n[c]||1;return i.w>=u},r,a).then(()=>{const l=performance.now()-s;if(this.logLevel>=Lu.Info&&console.log("SplatTree build: "+l+" ms"),this.disposed)o();else{this.splatTree=this.baseSplatTree,this.baseSplatTree=null;let c=0,u=0,f=0;this.splatTree.visitLeaves(h=>{const p=h.data.indexes.length;p>0&&(u+=p,f++,c++)}),this.logLevel>=Lu.Info&&(console.log(`SplatTree leaves: ${this.splatTree.countLeaves()}`),console.log(`SplatTree leaves with splats:${c}`),u=u/f,console.log(`Avg splat count per node: ${u}`),console.log(`Total splat count: ${this.getSplatCount()}`)),o()}})})});$t(this,"updateUniforms",function(){const n=new dn;return function(r,a,o,s,i,l){if(this.getSplatCount()>0){if(n.set(r.x*this.devicePixelRatio,r.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(n),this.material.uniforms.basisViewport.value.set(1/n.x,1/n.y),this.material.uniforms.focal.value.set(a,o),this.material.uniforms.orthographicMode.value=s?1:0,this.material.uniforms.orthoZoom.value=i,this.material.uniforms.inverseFocalAdjustment.value=l,this.dynamicMode)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.transforms.value[u].copy(this.getScene(u).transform);if(this.enableOptionalEffects)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.sceneOpacity.value[u]=va(this.getScene(u).opacity,0,1),this.material.uniforms.sceneVisibility.value[u]=this.getScene(u).visible?1:0,this.material.uniformsNeedUpdate=!0;this.material.uniformsNeedUpdate=!0}}}());$t(this,"setupDistancesComputationTransformFeedback",function(){let n;return function(){const r=this.getMaxSplatCount();if(!this.renderer)return;const a=this.lastRenderer!==this.renderer,o=n!==r;if(!a&&!o)return;a?this.disposeDistancesComputationGPUResources():o&&this.disposeDistancesComputationGPUBufferResources();const s=this.renderer.getContext(),i=(p,m,g)=>{const y=p.createShader(m);if(!y)return console.error("Fatal error: gl could not create a shader object."),null;if(p.shaderSource(y,g),p.compileShader(y),!p.getShaderParameter(y,p.COMPILE_STATUS)){let A="unknown";m===p.VERTEX_SHADER?A="vertex shader":m===p.FRAGMENT_SHADER&&(A="fragement shader");const w=p.getShaderInfoLog(y);return console.error("Failed to compile "+A+" with these errors:"+w),p.deleteShader(y),null}return y};let l;this.integerBasedDistancesComputation?(l=`#version 300 es
                in ivec4 center;
                flat out int distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform ivec4 transforms[${$n.MaxScenes}];
                        void main(void) {
                            ivec4 transform = transforms[sceneIndex];
                            distance = center.x * transform.x + center.y * transform.y + center.z * transform.z + transform.w * center.w;
                        }
                    `:l+=`
                        uniform ivec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `):(l=`#version 300 es
                in vec4 center;
                flat out float distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform mat4 transforms[${$n.MaxScenes}];
                        void main(void) {
                            vec4 transformedCenter = transforms[sceneIndex] * vec4(center.xyz, 1.0);
                            distance = transformedCenter.z;
                        }
                    `:l+=`
                        uniform vec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `);const c=`#version 300 es
                precision lowp float;
                out vec4 fragColor;
                void main(){}
            `,u=s.getParameter(s.VERTEX_ARRAY_BINDING),f=s.getParameter(s.CURRENT_PROGRAM),h=f?s.getProgramParameter(f,s.DELETE_STATUS):!1;if(a&&(this.distancesTransformFeedback.vao=s.createVertexArray()),s.bindVertexArray(this.distancesTransformFeedback.vao),a){const p=s.createProgram(),m=i(s,s.VERTEX_SHADER,l),g=i(s,s.FRAGMENT_SHADER,c);if(!m||!g)throw new Error("Could not compile shaders for distances computation on GPU.");if(s.attachShader(p,m),s.attachShader(p,g),s.transformFeedbackVaryings(p,["distance"],s.SEPARATE_ATTRIBS),s.linkProgram(p),!s.getProgramParameter(p,s.LINK_STATUS)){const v=s.getProgramInfoLog(p);throw console.error("Fatal error: Failed to link program: "+v),s.deleteProgram(p),s.deleteShader(g),s.deleteShader(m),new Error("Could not link shaders for distances computation on GPU.")}this.distancesTransformFeedback.program=p,this.distancesTransformFeedback.vertexShader=m,this.distancesTransformFeedback.vertexShader=g}if(s.useProgram(this.distancesTransformFeedback.program),this.distancesTransformFeedback.centersLoc=s.getAttribLocation(this.distancesTransformFeedback.program,"center"),this.dynamicMode){this.distancesTransformFeedback.sceneIndexesLoc=s.getAttribLocation(this.distancesTransformFeedback.program,"sceneIndex");for(let p=0;p<this.scenes.length;p++)this.distancesTransformFeedback.transformsLocs[p]=s.getUniformLocation(this.distancesTransformFeedback.program,`transforms[${p}]`)}else this.distancesTransformFeedback.modelViewProjLoc=s.getUniformLocation(this.distancesTransformFeedback.program,"modelViewProj");(a||o)&&(this.distancesTransformFeedback.centersBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),s.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?s.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,s.INT,0,0):s.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,s.FLOAT,!1,0,0),this.dynamicMode&&(this.distancesTransformFeedback.sceneIndexesBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),s.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),s.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,s.UNSIGNED_INT,0,0))),(a||o)&&(this.distancesTransformFeedback.outDistancesBuffer=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),s.bufferData(s.ARRAY_BUFFER,r*4,s.STATIC_READ),a&&(this.distancesTransformFeedback.id=s.createTransformFeedback()),s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),s.bindBufferBase(s.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),f&&h!==!0&&s.useProgram(f),u&&s.bindVertexArray(u),this.lastRenderer=this.renderer,n=r}}());$t(this,"fillTransformsArray",function(){const n=[];return function(r){n.length!==r.length&&(n.length=r.length);for(let a=0;a<this.scenes.length;a++){const s=this.getScene(a).transform.elements;for(let i=0;i<16;i++)n[a*16+i]=s[i]}r.set(n)}}());$t(this,"computeDistancesOnGPU",function(){const n=new An;return function(r,a){if(!this.renderer)return;const o=this.renderer.getContext(),s=o.getParameter(o.VERTEX_ARRAY_BINDING),i=o.getParameter(o.CURRENT_PROGRAM),l=i?o.getProgramParameter(i,o.DELETE_STATUS):!1;if(o.bindVertexArray(this.distancesTransformFeedback.vao),o.useProgram(this.distancesTransformFeedback.program),o.enable(o.RASTERIZER_DISCARD),this.dynamicMode)for(let f=0;f<this.scenes.length;f++)if(n.copy(this.getScene(f).transform),n.premultiply(r),this.integerBasedDistancesComputation){const h=ha.getIntegerMatrixArray(n),p=[h[2],h[6],h[10],h[14]];o.uniform4i(this.distancesTransformFeedback.transformsLocs[f],p[0],p[1],p[2],p[3])}else o.uniformMatrix4fv(this.distancesTransformFeedback.transformsLocs[f],!1,n.elements);else if(this.integerBasedDistancesComputation){const f=ha.getIntegerMatrixArray(r),h=[f[2],f[6],f[10]];o.uniform3i(this.distancesTransformFeedback.modelViewProjLoc,h[0],h[1],h[2])}else{const f=[r.elements[2],r.elements[6],r.elements[10]];o.uniform3f(this.distancesTransformFeedback.modelViewProjLoc,f[0],f[1],f[2])}o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),o.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?o.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,o.INT,0,0):o.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,o.FLOAT,!1,0,0),this.dynamicMode&&(o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),o.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),o.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,o.UNSIGNED_INT,0,0)),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),o.beginTransformFeedback(o.POINTS),o.drawArrays(o.POINTS,0,this.getSplatCount()),o.endTransformFeedback(),o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,0,null),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,null),o.disable(o.RASTERIZER_DISCARD);const c=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);o.flush();const u=new Promise(f=>{const h=()=>{if(this.disposed)f();else switch(o.clientWaitSync(c,0,0)){case o.TIMEOUT_EXPIRED:return this.computeDistancesOnGPUSyncTimeout=setTimeout(h),this.computeDistancesOnGPUSyncTimeout;case o.WAIT_FAILED:throw new Error("should never get here");default:this.computeDistancesOnGPUSyncTimeout=null,o.deleteSync(c);const y=o.getParameter(o.VERTEX_ARRAY_BINDING);o.bindVertexArray(this.distancesTransformFeedback.vao),o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),o.getBufferSubData(o.ARRAY_BUFFER,0,a),o.bindBuffer(o.ARRAY_BUFFER,null),y&&o.bindVertexArray(y),f()}};this.computeDistancesOnGPUSyncTimeout=setTimeout(h)});return i&&l!==!0&&o.useProgram(i),s&&o.bindVertexArray(s),u}}());$t(this,"getSplatCenter",function(){const n={};return function(r,a,o){this.getLocalSplatParameters(r,n,o),n.splatBuffer.getSplatCenter(n.localIndex,a,n.sceneTransform)}}());$t(this,"getSplatScaleAndRotation",function(){const n={},r=new Be;return function(a,o,s,i){this.getLocalSplatParameters(a,n,i),r.x=void 0,r.y=void 0,r.z=void 0,this.splatRenderMode===si.TwoD&&(r.z=0),n.splatBuffer.getSplatScaleAndRotation(n.localIndex,o,s,n.sceneTransform,r)}}());$t(this,"getSplatColor",function(){const n={};return function(r,a){this.getLocalSplatParameters(r,n),n.splatBuffer.getSplatColor(n.localIndex,a)}}());this.renderer=void 0,this.splatRenderMode=n,this.dynamicMode=r,this.enableOptionalEffects=a,this.halfPrecisionCovariancesOnGPU=o,this.devicePixelRatio=s,this.enableDistancesComputationOnGPU=i,this.integerBasedDistancesComputation=l,this.antialiased=c,this.kernel2DSize=m,this.maxScreenSpaceSplatSize=u,this.logLevel=f,this.sphericalHarmonicsDegree=h,this.minSphericalHarmonicsDegree=0,this.sceneFadeInRateMultiplier=p,this.scenes=[],this.splatTree=null,this.baseSplatTree=null,this.splatDataTextures={},this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new As,this.calculatedSceneCenter=new Be,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!1,this.lastRenderer=null,this.visible=!1}static buildScenes(n,r,a){const o=[];o.length=r.length;for(let s=0;s<r.length;s++){const i=r[s],l=a[s]||{};let c=l.position||[0,0,0],u=l.rotation||[0,0,0,1],f=l.scale||[1,1,1];const h=new Be().fromArray(c),p=new kr().fromArray(u),m=new Be().fromArray(f),g=ha.createScene(i,h,p,m,l.splatAlphaRemovalThreshold||1,l.opacity,l.visible);n.add(g),o[s]=g}return o}static createScene(n,r,a,o,s,i=1,l=!0){return new Dve(n,r,a,o,s,i,l)}static buildSplatIndexMaps(n){const r=[],a=[];let o=0;for(let s=0;s<n.length;s++){const l=n[s].getMaxSplatCount();for(let c=0;c<l;c++)r[o]=c,a[o]=s,o++}return{localSplatIndexMap:r,sceneIndexMap:a}}build(n,r,a=!0,o=!1,s,i,l=!0){this.sceneOptions=r,this.finalBuild=o;const c=ha.getTotalMaxSplatCountForSplatBuffers(n),u=ha.buildScenes(this,n,r);if(a)for(let y=0;y<this.scenes.length&&y<u.length;y++){const v=u[y],A=this.getScene(y);v.copyTransformData(A)}this.scenes=u;let f=3;for(let y of n){const v=y.getMinSphericalHarmonicsDegree();v<f&&(f=v)}this.minSphericalHarmonicsDegree=Math.min(f,this.sphericalHarmonicsDegree);let h=!1;if(n.length!==this.lastBuildScenes.length)h=!0;else for(let y=0;y<n.length;y++)if(n[y]!==this.lastBuildScenes[y].splatBuffer){h=!0;break}let p=!0;if((this.scenes.length!==1||this.lastBuildSceneCount!==this.scenes.length||this.lastBuildMaxSplatCount!==c||h)&&(p=!1),!p){this.boundingBox=new As,l||(this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.firstRenderTime=-1),this.lastBuildScenes=[],this.lastBuildSplatCount=0,this.lastBuildMaxSplatCount=0,this.disposeMeshData(),this.geometry=kve.build(c),this.splatRenderMode===si.ThreeD?this.material=Kp.build(this.dynamicMode,this.enableOptionalEffects,this.antialiased,this.maxScreenSpaceSplatSize,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree,this.kernel2DSize):this.material=qp.build(this.dynamicMode,this.enableOptionalEffects,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree);const y=ha.buildSplatIndexMaps(n);this.globalSplatIndexToLocalSplatIndexMap=y.localSplatIndexMap,this.globalSplatIndexToSceneIndexMap=y.sceneIndexMap}const m=this.getSplatCount(!0);this.enableDistancesComputationOnGPU&&this.setupDistancesComputationTransformFeedback();const g=this.refreshGPUDataFromSplatBuffers(p);for(let y=0;y<this.scenes.length;y++)this.lastBuildScenes[y]=this.scenes[y];return this.lastBuildSplatCount=m,this.lastBuildMaxSplatCount=this.getMaxSplatCount(),this.lastBuildSceneCount=this.scenes.length,o&&this.scenes.length>0&&this.buildSplatTree(r.map(y=>y.splatAlphaRemovalThreshold||1),s,i).then(()=>{this.onSplatTreeReadyCallback&&this.onSplatTreeReadyCallback(this.splatTree),this.onSplatTreeReadyCallback=null}),this.visible=this.scenes.length>0,g}freeIntermediateSplatData(){const n=r=>{delete r.source.data,delete r.image,r.onUpdate=null};delete this.splatDataTextures.baseData.covariances,delete this.splatDataTextures.baseData.centers,delete this.splatDataTextures.baseData.colors,delete this.splatDataTextures.baseData.sphericalHarmonics,delete this.splatDataTextures.centerColors.data,delete this.splatDataTextures.covariances.data,this.splatDataTextures.sphericalHarmonics&&delete this.splatDataTextures.sphericalHarmonics.data,this.splatDataTextures.sceneIndexes&&delete this.splatDataTextures.sceneIndexes.data,this.splatDataTextures.centerColors.texture.needsUpdate=!0,this.splatDataTextures.centerColors.texture.onUpdate=()=>{n(this.splatDataTextures.centerColors.texture)},this.splatDataTextures.covariances.texture.needsUpdate=!0,this.splatDataTextures.covariances.texture.onUpdate=()=>{n(this.splatDataTextures.covariances.texture)},this.splatDataTextures.sphericalHarmonics&&(this.splatDataTextures.sphericalHarmonics.texture?(this.splatDataTextures.sphericalHarmonics.texture.needsUpdate=!0,this.splatDataTextures.sphericalHarmonics.texture.onUpdate=()=>{n(this.splatDataTextures.sphericalHarmonics.texture)}):this.splatDataTextures.sphericalHarmonics.textures.forEach(r=>{r.needsUpdate=!0,r.onUpdate=()=>{n(r)}})),this.splatDataTextures.sceneIndexes&&(this.splatDataTextures.sceneIndexes.texture.needsUpdate=!0,this.splatDataTextures.sceneIndexes.texture.onUpdate=()=>{n(this.splatDataTextures.sceneIndexes.texture)})}dispose(){this.disposeMeshData(),this.disposeTextures(),this.disposeSplatTree(),this.enableDistancesComputationOnGPU&&(this.computeDistancesOnGPUSyncTimeout&&(clearTimeout(this.computeDistancesOnGPUSyncTimeout),this.computeDistancesOnGPUSyncTimeout=null),this.disposeDistancesComputationGPUResources()),this.scenes=[],this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.renderer=null,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new As,this.calculatedSceneCenter=new Be,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!0,this.lastRenderer=null,this.visible=!1}disposeMeshData(){this.geometry&&this.geometry!==X3&&(this.geometry.dispose(),this.geometry=null),this.material&&(this.material.dispose(),this.material=null)}disposeTextures(){for(let n in this.splatDataTextures)if(this.splatDataTextures.hasOwnProperty(n)){const r=this.splatDataTextures[n];r.texture&&(r.texture.dispose(),r.texture=null)}this.splatDataTextures=null}disposeSplatTree(){this.splatTree&&(this.splatTree.dispose(),this.splatTree=null),this.baseSplatTree&&(this.baseSplatTree.dispose(),this.baseSplatTree=null)}getSplatTree(){return this.splatTree}onSplatTreeReady(n){this.onSplatTreeReadyCallback=n}getDataForDistancesComputation(n,r){const a=this.integerBasedDistancesComputation?this.getIntegerCenters(n,r,!0):this.getFloatCenters(n,r,!0),o=this.getSceneIndexes(n,r);return{centers:a,sceneIndexes:o}}refreshGPUDataFromSplatBuffers(n){const r=this.getSplatCount(!0);this.refreshDataTexturesFromSplatBuffers(n);const a=n?this.lastBuildSplatCount:0,{centers:o,sceneIndexes:s}=this.getDataForDistancesComputation(a,r-1);return this.enableDistancesComputationOnGPU&&this.refreshGPUBuffersForDistancesComputation(o,s,n),{from:a,to:r-1,count:r-a,centers:o,sceneIndexes:s}}refreshGPUBuffersForDistancesComputation(n,r,a=!1){const o=a?this.lastBuildSplatCount:0;this.updateGPUCentersBufferForDistancesComputation(a,n,o),this.updateGPUTransformIndexesBufferForDistancesComputation(a,r,o)}refreshDataTexturesFromSplatBuffers(n){const r=this.getSplatCount(!0),a=this.lastBuildSplatCount,o=r-1;n?this.updateBaseDataFromSplatBuffers(a,o):(this.setupDataTextures(),this.updateBaseDataFromSplatBuffers()),this.updateDataTexturesFromBaseData(a,o),this.updateVisibleRegion(n)}setupDataTextures(){const n=this.getMaxSplatCount(),r=this.getSplatCount(!0);this.disposeTextures();const a=(k,T)=>{const M=new dn(4096,1024);for(;M.x*M.y*k<n*T;)M.y*=2;return M},o=k=>k>=1?Vve:Hve,s=k=>{const T=o(k),M=a(T,6);return{elementsPerTexelStored:T,texSize:M}};let i=this.getTargetCovarianceCompressionLevel();const l=0,c=this.getTargetSphericalHarmonicsCompressionLevel();let u,f,h;if(this.splatRenderMode===si.ThreeD){const k=s(i);k.texSize.x*k.texSize.y>J3&&i===0&&(i=1),u=new Float32Array(n*F0)}else f=new Float32Array(n*3),h=new Float32Array(n*4);const p=new Float32Array(n*3),m=new Uint8Array(n*4);let g=Float32Array;c===1?g=Uint16Array:c===2&&(g=Uint8Array);const y=Pu(this.minSphericalHarmonicsDegree),v=this.minSphericalHarmonicsDegree?new g(n*y):void 0,A=a(Hg,4),w=new Uint32Array(A.x*A.y*Hg);ha.updateCenterColorsPaddedData(0,r-1,p,m,w);const S=new Ui(w,A.x,A.y,ku,Bo);if(S.internalFormat="RGBA32UI",S.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=S,this.material.uniforms.centersColorsTextureSize.value.copy(A),this.material.uniformsNeedUpdate=!0,this.splatDataTextures={baseData:{covariances:u,scales:f,rotations:h,centers:p,colors:m,sphericalHarmonics:v},centerColors:{data:w,texture:S,size:A}},this.splatRenderMode===si.ThreeD){const k=s(i),T=k.elementsPerTexelStored,M=k.texSize;let D=i>=1?Uint32Array:Float32Array;const B=i>=1?Wve:$ve,z=new D(M.x*M.y*B);i===0?z.set(u):ha.updatePaddedCompressedCovariancesTextureData(u,z,0,0,u.length);let q;if(i>=1)q=new Ui(z,M.x,M.y,ku,Bo),q.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=q;else{q=new Ui(z,M.x,M.y,Ua,ss),this.material.uniforms.covariancesTexture.value=q;const $=new Ui(new Uint32Array(32),2,2,ku,Bo);$.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=$,$.needsUpdate=!0}q.needsUpdate=!0,this.material.uniforms.covariancesAreHalfFloat.value=i>=1?1:0,this.material.uniforms.covariancesTextureSize.value.copy(M),this.splatDataTextures.covariances={data:z,texture:q,size:M,compressionLevel:i,elementsPerTexelStored:T,elementsPerTexelAllocated:B}}else{const T=a(Ug,6);let M=Float32Array,D=ss;const B=new M(T.x*T.y*Ug);ha.updateScaleRotationsPaddedData(0,r-1,f,h,B);const z=new Ui(B,T.x,T.y,Ua,D);z.needsUpdate=!0,this.material.uniforms.scaleRotationsTexture.value=z,this.material.uniforms.scaleRotationsTextureSize.value.copy(T),this.splatDataTextures.scaleRotations={data:B,texture:z,size:T,compressionLevel:l}}if(v){const k=c===2?Bs:Ed;let T=y;T%2!==0&&T++;const M=this.minSphericalHarmonicsDegree===2?4:2,D=M===4?Ua:gS;let B=a(M,T);if(B.x*B.y<=J3){const z=B.x*B.y*M,q=new g(z);for(let L=0;L<r;L++){const W=y*L,U=T*L;for(let F=0;F<y;F++)q[U+F]=v[W+F]}const $=new Ui(q,B.x,B.y,D,k);$.needsUpdate=!0,this.material.uniforms.sphericalHarmonicsTexture.value=$,this.splatDataTextures.sphericalHarmonics={componentCount:y,paddedComponentCount:T,data:q,textureCount:1,texture:$,size:B,compressionLevel:c,elementsPerTexel:M}}else{const z=y/3;T=z,T%2!==0&&T++,B=a(M,T);const q=B.x*B.y*M,$=[this.material.uniforms.sphericalHarmonicsTextureR,this.material.uniforms.sphericalHarmonicsTextureG,this.material.uniforms.sphericalHarmonicsTextureB],L=[],W=[];for(let U=0;U<3;U++){const F=new g(q);L.push(F);for(let ne=0;ne<r;ne++){const de=y*ne,ie=T*ne;if(z>=3){for(let ce=0;ce<3;ce++)F[ie+ce]=v[de+U*3+ce];if(z>=8)for(let ce=0;ce<5;ce++)F[ie+3+ce]=v[de+9+U*5+ce]}}const Q=new Ui(F,B.x,B.y,D,k);W.push(Q),Q.needsUpdate=!0,$[U].value=Q}this.material.uniforms.sphericalHarmonicsMultiTextureMode.value=1,this.splatDataTextures.sphericalHarmonics={componentCount:y,componentCountPerChannel:z,paddedComponentCount:T,data:L,textureCount:3,textures:W,size:B,compressionLevel:c,elementsPerTexel:M}}this.material.uniforms.sphericalHarmonicsTextureSize.value.copy(B),this.material.uniforms.sphericalHarmonics8BitMode.value=c===2?1:0;for(let z=0;z<this.scenes.length;z++){const q=this.scenes[z].splatBuffer;this.material.uniforms.sphericalHarmonics8BitCompressionRangeMin.value[z]=q.minSphericalHarmonicsCoeff,this.material.uniforms.sphericalHarmonics8BitCompressionRangeMax.value[z]=q.maxSphericalHarmonicsCoeff}this.material.uniformsNeedUpdate=!0}const C=a(Q3,4),E=new Uint32Array(C.x*C.y*Q3);for(let k=0;k<r;k++)E[k]=this.globalSplatIndexToSceneIndexMap[k];const I=new Ui(E,C.x,C.y,Um,Bo);I.internalFormat="R32UI",I.needsUpdate=!0,this.material.uniforms.sceneIndexesTexture.value=I,this.material.uniforms.sceneIndexesTextureSize.value.copy(C),this.material.uniformsNeedUpdate=!0,this.splatDataTextures.sceneIndexes={data:E,texture:I,size:C},this.material.uniforms.sceneCount.value=this.scenes.length}updateBaseDataFromSplatBuffers(n,r){const a=this.splatDataTextures.covariances,o=a?a.compressionLevel:void 0,s=this.splatDataTextures.scaleRotations,i=s?s.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0;this.fillSplatDataArrays(this.splatDataTextures.baseData.covariances,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,this.splatDataTextures.baseData.sphericalHarmonics,void 0,o,i,c,n,r,n)}updateDataTexturesFromBaseData(n,r){const a=this.splatDataTextures.covariances,o=a?a.compressionLevel:void 0,s=this.splatDataTextures.scaleRotations,i=s?s.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0,u=this.splatDataTextures.centerColors,f=u.data,h=u.texture;ha.updateCenterColorsPaddedData(n,r,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,f);const p=this.renderer?this.renderer.properties.get(h):null;if(!p||!p.__webglTexture?h.needsUpdate=!0:this.updateDataTexture(f,u.texture,u.size,p,Hg,Uve,4,n,r),a){const w=a.texture,S=n*F0,C=r*F0;if(o===0)for(let I=S;I<=C;I++){const k=this.splatDataTextures.baseData.covariances[I];a.data[I]=k}else ha.updatePaddedCompressedCovariancesTextureData(this.splatDataTextures.baseData.covariances,a.data,n*a.elementsPerTexelAllocated,S,C);const E=this.renderer?this.renderer.properties.get(w):null;!E||!E.__webglTexture?w.needsUpdate=!0:o===0?this.updateDataTexture(a.data,a.texture,a.size,E,a.elementsPerTexelStored,F0,4,n,r):this.updateDataTexture(a.data,a.texture,a.size,E,a.elementsPerTexelAllocated,a.elementsPerTexelAllocated,2,n,r)}if(s){const w=s.data,S=s.texture,C=6,E=i===0?4:2;ha.updateScaleRotationsPaddedData(n,r,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,w);const I=this.renderer?this.renderer.properties.get(S):null;!I||!I.__webglTexture?S.needsUpdate=!0:this.updateDataTexture(w,s.texture,s.size,I,Ug,C,E,n,r)}const m=this.splatDataTextures.baseData.sphericalHarmonics;if(m){let w=4;c===1?w=2:c===2&&(w=1);const S=(I,k,T,M,D)=>{const B=this.renderer?this.renderer.properties.get(I):null;!B||!B.__webglTexture?I.needsUpdate=!0:this.updateDataTexture(M,I,k,B,T,D,w,n,r)},C=l.componentCount,E=l.paddedComponentCount;if(l.textureCount===1){const I=l.data;for(let k=n;k<=r;k++){const T=C*k,M=E*k;for(let D=0;D<C;D++)I[M+D]=m[T+D]}S(l.texture,l.size,l.elementsPerTexel,I,E)}else{const I=l.componentCountPerChannel;for(let k=0;k<3;k++){const T=l.data[k];for(let M=n;M<=r;M++){const D=C*M,B=E*M;if(I>=3){for(let z=0;z<3;z++)T[B+z]=m[D+k*3+z];if(I>=8)for(let z=0;z<5;z++)T[B+3+z]=m[D+9+k*5+z]}}S(l.textures[k],l.size,l.elementsPerTexel,T,E)}}}const g=this.splatDataTextures.sceneIndexes,y=g.data;for(let w=this.lastBuildSplatCount;w<=r;w++)y[w]=this.globalSplatIndexToSceneIndexMap[w];const v=g.texture,A=this.renderer?this.renderer.properties.get(v):null;!A||!A.__webglTexture?v.needsUpdate=!0:this.updateDataTexture(y,g.texture,g.size,A,1,1,1,this.lastBuildSplatCount,r)}getTargetCovarianceCompressionLevel(){return this.halfPrecisionCovariancesOnGPU?1:0}getTargetSphericalHarmonicsCompressionLevel(){return Math.max(1,this.getMaximumSplatBufferCompressionLevel())}getMaximumSplatBufferCompressionLevel(){let n;for(let r=0;r<this.scenes.length;r++){const o=this.getScene(r).splatBuffer;(r===0||o.compressionLevel>n)&&(n=o.compressionLevel)}return n}getMinimumSplatBufferCompressionLevel(){let n;for(let r=0;r<this.scenes.length;r++){const o=this.getScene(r).splatBuffer;(r===0||o.compressionLevel<n)&&(n=o.compressionLevel)}return n}static computeTextureUpdateRegion(n,r,a,o,s){const i=s/o,l=n*i,c=Math.floor(l/a),u=c*a*o,f=r*i,h=Math.floor(f/a),p=h*a*o+a*o;return{dataStart:u,dataEnd:p,startRow:c,endRow:h}}updateDataTexture(n,r,a,o,s,i,l,c,u){const f=this.renderer.getContext(),h=ha.computeTextureUpdateRegion(c,u,a.x,s,i),p=h.dataEnd-h.dataStart,m=new n.constructor(n.buffer,h.dataStart*l,p),g=h.endRow-h.startRow+1,y=this.webGLUtils.convert(r.type),v=this.webGLUtils.convert(r.format,r.colorSpace),A=f.getParameter(f.TEXTURE_BINDING_2D);f.bindTexture(f.TEXTURE_2D,o.__webglTexture),f.texSubImage2D(f.TEXTURE_2D,0,0,h.startRow,a.x,g,v,y,m),f.bindTexture(f.TEXTURE_2D,A)}static updatePaddedCompressedCovariancesTextureData(n,r,a,o,s){let i=new DataView(r.buffer),l=a,c=0;for(let u=o;u<=s;u+=2)i.setUint16(l*2,n[u],!0),i.setUint16(l*2+2,n[u+1],!0),l+=2,c++,c>=3&&(l+=2,c=0)}static updateCenterColorsPaddedData(n,r,a,o,s){for(let i=n;i<=r;i++){const l=i*4,c=i*3,u=i*4;s[u]=Nme(o,l),s[u+1]=Pg(a[c]),s[u+2]=Pg(a[c+1]),s[u+3]=Pg(a[c+2])}}static updateScaleRotationsPaddedData(n,r,a,o,s){for(let l=n;l<=r;l++){const c=l*3,u=l*4,f=l*6;s[f]=a[c],s[f+1]=a[c+1],s[f+2]=a[c+2],s[f+3]=o[u],s[f+4]=o[u+1],s[f+5]=o[u+2]}}updateVisibleRegion(n){const r=this.getSplatCount(!0),a=new Be;if(!n){const s=new Be;this.scenes.forEach(i=>{s.add(i.splatBuffer.sceneCenter)}),s.multiplyScalar(1/this.scenes.length),this.calculatedSceneCenter.copy(s),this.material.uniforms.sceneCenter.value.copy(this.calculatedSceneCenter),this.material.uniformsNeedUpdate=!0}const o=n?this.lastBuildSplatCount:0;for(let s=o;s<r;s++){this.getSplatCenter(s,a,!0);const i=a.sub(this.calculatedSceneCenter).length();i>this.maxSplatDistanceFromSceneCenter&&(this.maxSplatDistanceFromSceneCenter=i)}this.maxSplatDistanceFromSceneCenter-this.visibleRegionBufferRadius>Z3&&(this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter,this.visibleRegionRadius=Math.max(this.visibleRegionBufferRadius-Z3,0)),this.finalBuild&&(this.visibleRegionRadius=this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter),this.updateVisibleRegionFadeDistance()}updateVisibleRegionFadeDistance(n=gf.Default){const r=Gve*this.sceneFadeInRateMultiplier,a=Kve*this.sceneFadeInRateMultiplier,o=this.finalBuild?r:a,s=n===gf.Default?o:a;this.visibleRegionFadeStartRadius=(this.visibleRegionRadius-this.visibleRegionFadeStartRadius)*s+this.visibleRegionFadeStartRadius;const l=(this.visibleRegionBufferRadius>0?this.visibleRegionFadeStartRadius/this.visibleRegionBufferRadius:0)>.99,c=l||n===gf.Instant?1:0;this.material.uniforms.visibleRegionFadeStartRadius.value=this.visibleRegionFadeStartRadius,this.material.uniforms.visibleRegionRadius.value=this.visibleRegionRadius,this.material.uniforms.firstRenderTime.value=this.firstRenderTime,this.material.uniforms.currentTime.value=performance.now(),this.material.uniforms.fadeInComplete.value=c,this.material.uniformsNeedUpdate=!0,this.visibleRegionChanging=!l}updateRenderIndexes(n,r){const a=this.geometry;a.attributes.splatIndex.set(n),a.attributes.splatIndex.needsUpdate=!0,r>0&&this.firstRenderTime===-1&&(this.firstRenderTime=performance.now()),a.instanceCount=r,a.setDrawRange(0,r)}updateTransforms(){for(let n=0;n<this.scenes.length;n++)this.getScene(n).updateTransform(this.dynamicMode)}setSplatScale(n=1){this.splatScale=n,this.material.uniforms.splatScale.value=n,this.material.uniformsNeedUpdate=!0}getSplatScale(){return this.splatScale}setPointCloudModeEnabled(n){this.pointCloudModeEnabled=n,this.material.uniforms.pointCloudModeEnabled.value=n?1:0,this.material.uniformsNeedUpdate=!0}getPointCloudModeEnabled(){return this.pointCloudModeEnabled}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(n=!1){return n?ha.getTotalSplatCountForScenes(this.scenes):this.lastBuildSplatCount}static getTotalSplatCountForScenes(n){let r=0;for(let a of n)a&&a.splatBuffer&&(r+=a.splatBuffer.getSplatCount());return r}static getTotalSplatCountForSplatBuffers(n){let r=0;for(let a of n)r+=a.getSplatCount();return r}getMaxSplatCount(){return ha.getTotalMaxSplatCountForScenes(this.scenes)}static getTotalMaxSplatCountForScenes(n){let r=0;for(let a of n)a&&a.splatBuffer&&(r+=a.splatBuffer.getMaxSplatCount());return r}static getTotalMaxSplatCountForSplatBuffers(n){let r=0;for(let a of n)r+=a.getMaxSplatCount();return r}disposeDistancesComputationGPUResources(){if(!this.renderer)return;const n=this.renderer.getContext();this.distancesTransformFeedback.vao&&(n.deleteVertexArray(this.distancesTransformFeedback.vao),this.distancesTransformFeedback.vao=null),this.distancesTransformFeedback.program&&(n.deleteProgram(this.distancesTransformFeedback.program),n.deleteShader(this.distancesTransformFeedback.vertexShader),n.deleteShader(this.distancesTransformFeedback.fragmentShader),this.distancesTransformFeedback.program=null,this.distancesTransformFeedback.vertexShader=null,this.distancesTransformFeedback.fragmentShader=null),this.disposeDistancesComputationGPUBufferResources(),this.distancesTransformFeedback.id&&(n.deleteTransformFeedback(this.distancesTransformFeedback.id),this.distancesTransformFeedback.id=null)}disposeDistancesComputationGPUBufferResources(){if(!this.renderer)return;const n=this.renderer.getContext();this.distancesTransformFeedback.centersBuffer&&(this.distancesTransformFeedback.centersBuffer=null,n.deleteBuffer(this.distancesTransformFeedback.centersBuffer)),this.distancesTransformFeedback.outDistancesBuffer&&(n.deleteBuffer(this.distancesTransformFeedback.outDistancesBuffer),this.distancesTransformFeedback.outDistancesBuffer=null)}setRenderer(n){if(n!==this.renderer){this.renderer=n;const r=this.renderer.getContext(),a=new Fve(r),o=new Ove(r,a,{});if(a.init(o),this.webGLUtils=new X8(r,a),this.enableDistancesComputationOnGPU&&this.getSplatCount()>0){this.setupDistancesComputationTransformFeedback();const{centers:s,sceneIndexes:i}=this.getDataForDistancesComputation(0,this.getSplatCount()-1);this.refreshGPUBuffersForDistancesComputation(s,i)}}}updateGPUCentersBufferForDistancesComputation(n,r,a){if(!this.renderer)return;const o=this.renderer.getContext(),s=o.getParameter(o.VERTEX_ARRAY_BINDING);o.bindVertexArray(this.distancesTransformFeedback.vao);const i=this.integerBasedDistancesComputation?Uint32Array:Float32Array,l=16,c=a*l;if(o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),n)o.bufferSubData(o.ARRAY_BUFFER,c,r);else{const u=new i(this.getMaxSplatCount()*l);u.set(r),o.bufferData(o.ARRAY_BUFFER,u,o.STATIC_DRAW)}o.bindBuffer(o.ARRAY_BUFFER,null),s&&o.bindVertexArray(s)}updateGPUTransformIndexesBufferForDistancesComputation(n,r,a){if(!this.renderer||!this.dynamicMode)return;const o=this.renderer.getContext(),s=o.getParameter(o.VERTEX_ARRAY_BINDING);o.bindVertexArray(this.distancesTransformFeedback.vao);const i=a*4;if(o.bindBuffer(o.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),n)o.bufferSubData(o.ARRAY_BUFFER,i,r);else{const l=new Uint32Array(this.getMaxSplatCount()*4);l.set(r),o.bufferData(o.ARRAY_BUFFER,l,o.STATIC_DRAW)}o.bindBuffer(o.ARRAY_BUFFER,null),s&&o.bindVertexArray(s)}getSceneIndexes(n,r){let a;const o=r-n+1;a=new Uint32Array(o);for(let s=n;s<=r;s++)a[s]=this.globalSplatIndexToSceneIndexMap[s];return a}getLocalSplatParameters(n,r,a){a==null&&(a=!this.dynamicMode),r.splatBuffer=this.getSplatBufferForSplat(n),r.localIndex=this.getSplatLocalIndex(n),r.sceneTransform=a?this.getSceneTransformForSplat(n):null}fillSplatDataArrays(n,r,a,o,s,i,l,c=0,u=0,f=1,h,p,m=0,g){const y=new Be;y.x=void 0,y.y=void 0,this.splatRenderMode===si.ThreeD?y.z=void 0:y.z=1;const v=new An;let A=0,w=this.scenes.length-1;g!=null&&g>=0&&g<=this.scenes.length&&(A=g,w=g);for(let S=A;S<=w;S++){l==null&&(l=!this.dynamicMode);const C=this.getScene(S),E=C.splatBuffer;let I;if(l&&(this.getSceneTransform(S,v),I=v),n&&E.fillSplatCovarianceArray(n,I,h,p,m,c),r||a){if(!r||!a)throw new Error('SplatMesh::fillSplatDataArrays() -> "scales" and "rotations" must both be valid.');E.fillSplatScaleRotationArray(r,a,I,h,p,m,u,y)}o&&E.fillSplatCenterArray(o,I,h,p,m),s&&E.fillSplatColorArray(s,C.minimumAlpha,h,p,m),i&&E.fillSphericalHarmonicsArray(i,this.minSphericalHarmonicsDegree,I,h,p,m,f),m+=E.getSplatCount()}}getIntegerCenters(n,r,a=!1){const o=r-n+1,s=new Float32Array(o*3);this.fillSplatDataArrays(null,null,null,s,null,null,void 0,void 0,void 0,void 0,n);let i,l=a?4:3;i=new Int32Array(o*l);for(let c=0;c<o;c++){for(let u=0;u<3;u++)i[c*l+u]=Math.round(s[c*3+u]*1e3);a&&(i[c*l+3]=1e3)}return i}getFloatCenters(n,r,a=!1){const o=r-n+1,s=new Float32Array(o*3);if(this.fillSplatDataArrays(null,null,null,s,null,null,void 0,void 0,void 0,void 0,n),!a)return s;let i=new Float32Array(o*4);for(let l=0;l<o;l++){for(let c=0;c<3;c++)i[l*4+c]=s[l*3+c];i[l*4+3]=1}return i}getSceneTransform(n,r){const a=this.getScene(n);a.updateTransform(this.dynamicMode),r.copy(a.transform)}getScene(n){if(n<0||n>=this.scenes.length)throw new Error("SplatMesh::getScene() -> Invalid scene index.");return this.scenes[n]}getSceneCount(){return this.scenes.length}getSplatBufferForSplat(n){return this.getScene(this.globalSplatIndexToSceneIndexMap[n]).splatBuffer}getSceneIndexForSplat(n){return this.globalSplatIndexToSceneIndexMap[n]}getSceneTransformForSplat(n){return this.getScene(this.globalSplatIndexToSceneIndexMap[n]).transform}getSplatLocalIndex(n){return this.globalSplatIndexToLocalSplatIndexMap[n]}static getIntegerMatrixArray(n){const r=n.elements,a=[];for(let o=0;o<16;o++)a[o]=Math.round(r[o]*1e3);return a}computeBoundingBox(n=!1,r){let a=this.getSplatCount();if(r!=null){if(r<0||r>=this.scenes.length)throw new Error("SplatMesh::computeBoundingBox() -> Invalid scene index.");a=this.scenes[r].splatBuffer.getSplatCount()}const o=new Float32Array(a*3);this.fillSplatDataArrays(null,null,null,o,null,null,n,void 0,void 0,void 0,void 0,r);const s=new Be,i=new Be;for(let l=0;l<a;l++){const c=l*3,u=o[c],f=o[c+1],h=o[c+2];(l===0||u<s.x)&&(s.x=u),(l===0||f<s.y)&&(s.y=f),(l===0||h<s.z)&&(s.z=h),(l===0||u>i.x)&&(i.x=u),(l===0||f>i.y)&&(i.y=f),(l===0||h>i.z)&&(i.z=h)}return new As(s,i)}}var qve="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEbA2AAAGAQf39/f39/f39/f39/f39/fwBgAAF/AhIBA2VudgZtZW1vcnkCAwCAgAQDBAMAAQIHVAQRX193YXNtX2NhbGxfY3RvcnMAABhfX3dhc21fYXBwbHlfZGF0YV9yZWxvY3MAAAtzb3J0SW5kZXhlcwABE2Vtc2NyaXB0ZW5fdGxzX2luaXQAAgqWEAMDAAELihAEAXwDewN/A30gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEBA0AgAyABQQJ0IgVqIAIgACAFaigCAEECdGooAgAiBTYCACAFIAogBSAKSBshCiAFIA0gBSANShshDSABQQFqIgEgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiFWooAgAiFkECdGooAgAiFEcEQAJ/IAX9CQI4IAggFEEGdGoiDv0JAgwgDioCHP0gASAOKgIs/SACIA4qAjz9IAP95gEgBf0JAiggDv0JAgggDioCGP0gASAOKgIo/SACIA4qAjj9IAP95gEgBf0JAgggDv0JAgAgDioCEP0gASAOKgIg/SACIA4qAjD9IAP95gEgBf0JAhggDv0JAgQgDioCFP0gASAOKgIk/SACIA4qAjT9IAP95gH95AH95AH95AEiEf1f/QwAAAAAAECPQAAAAAAAQI9AIhL98gEiE/0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBP9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/REgDv0cAQJ/IBEgEf0NCAkKCwwNDg8AAAAAAAAAAP1fIBL98gEiEf0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9HAICfyAR/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAyESIBQhDwsgAyAVaiABIBZBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmogEf0bA2oiDjYCACAOIAogCiAOShshCiAOIA0gDSAOSBshDSACQQFqIgIgC0cNAAsMAwsCfyAFKgIIu/0UIAUqAhi7/SIB/QwAAAAAAECPQAAAAAAAQI9A/fIBIhH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIQ4CfyAR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyECAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQIgAv0RIA79HAEgBf0cAiESIAwhBQNAIAMgBUECdCICaiABIAAgAmooAgBBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmoiAjYCACACIAogAiAKSBshCiACIA0gAiANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEBA0AgAyABQQJ0IgVqAn8gAiAAIAVqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAFBAWoiASALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIRcgBSoCGCEYIAUqAgghGUH4////ByEKQYiAgIB4IQ0gDCEFA0ACfyAXIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCAZIAIqAgCUIBggAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIUaigCAEECdCIVaigCACIORwRAIAX9CQI4IAggDkEGdGoiD/0JAgwgDyoCHP0gASAPKgIs/SACIA8qAjz9IAP95gEgBf0JAiggD/0JAgggDyoCGP0gASAPKgIo/SACIA8qAjj9IAP95gEgBf0JAgggD/0JAgAgDyoCEP0gASAPKgIg/SACIA8qAjD9IAP95gEgBf0JAhggD/0JAgQgDyoCFP0gASAPKgIk/SACIA8qAjT9IAP95gH95AH95AH95AEhESAOIQ8LIAMgFGoCfyAR/R8DIAEgFUECdCIOQQxyaioCAJQgEf0fAiABIA5BCHJqKgIAlCAR/R8AIAEgDmoqAgCUIBH9HwEgASAOQQRyaioCAJSSkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSACQQFqIgIgC0cNAAsMAQtBiICAgHghDUH4////ByEKCyALIAxLBEAgCUEBa7MgDbIgCrKTlSEXIAwhDQNAAn8gFyADIA1BAnRqIgEoAgAgCmuylCIYi0MAAABPXQRAIBioDAELQYCAgIB4CyEOIAEgDjYCACAEIA5BAnRqIgEgASgCAEEBajYCACANQQFqIg0gC0cNAAsLIAlBAk8EQCAEKAIAIQ1BASEKA0AgBCAKQQJ0aiIBIAEoAgAgDWoiDTYCACAKQQFqIgogCUcNAAsLIAxBAEoEQCAMIQoDQCAGIApBAWsiAUECdCICaiAAIAJqKAIANgIAIApBAUshAiABIQogAg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCwsEAEEACw==",eA="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACEgEDZW52Bm1lbW9yeQIDAICABAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=",jve="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQrrDwICAAvlDwQBfAN7B30DfyALIAprIQwCQAJAIA4EQCANBEBB+P///wchCkGIgICAeCENIAsgDE0NAyAMIQUDQCADIAVBAnQiAWogAiAAIAFqKAIAQQJ0aigCACIBNgIAIAEgCiABIApIGyEKIAEgDSABIA1KGyENIAVBAWoiBSALRw0ACwwDCyAPBEAgCyAMTQ0CQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIcaigCACIdQQJ0aigCACIbRwRAAn8gBf0JAjggCCAbQQZ0aiIO/QkCDCAOKgIc/SABIA4qAiz9IAIgDioCPP0gA/3mASAF/QkCKCAO/QkCCCAOKgIY/SABIA4qAij9IAIgDioCOP0gA/3mASAF/QkCCCAO/QkCACAOKgIQ/SABIA4qAiD9IAIgDioCMP0gA/3mASAF/QkCGCAO/QkCBCAOKgIU/SABIA4qAiT9IAIgDioCNP0gA/3mAf3kAf3kAf3kASIR/V/9DAAAAAAAQI9AAAAAAABAj0AiEv3yASIT/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOAn8gE/0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9ESAO/RwBAn8gESAR/Q0ICQoLDA0ODwABAgMAAQID/V8gEv3yASIR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAgJ/IBH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/RwDIRIgGyEPCyADIBxqIAEgHUEEdGr9AAAAIBL9tQEiEf0bACAR/RsBaiAR/RsCaiAR/RsDaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAgi7/RQgBSoCGLv9IgH9DAAAAAAAQI9AAAAAAABAj0D98gEiEf0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBH9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQL9ESAO/RwBIAX9HAIhEiAMIQUDQCADIAVBAnQiAmogASAAIAJqKAIAQQR0av0AAAAgEv21ASIR/RsAIBH9GwFqIBH9GwJqIgI2AgAgAiAKIAIgCkgbIQogAiANIAIgDUobIQ0gBUEBaiIFIAtHDQALDAILIA0EQEH4////ByEKQYiAgIB4IQ0gCyAMTQ0CIAwhBQNAIAMgBUECdCIBagJ/IAIgACABaigCAEECdGoqAgC7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgD0UEQCALIAxNDQEgBSoCKCEUIAUqAhghFSAFKgIIIRZB+P///wchCkGIgICAeCENIAwhBQNAAn8gFCABIAAgBUECdCIHaigCAEEEdGoiAioCCJQgFiACKgIAlCAVIAIqAgSUkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDiADIAdqIA42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gBUEBaiIFIAtHDQALDAILIAsgDE0NAEF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiG2ooAgBBAnQiHGooAgAiDkcEQCAFKgI4IhQgCCAOQQZ0aiIPKgI8lCAFKgIoIhUgDyoCOJQgBSoCCCIWIA8qAjCUIAUqAhgiFyAPKgI0lJKSkiEYIBQgDyoCLJQgFSAPKgIolCAWIA8qAiCUIBcgDyoCJJSSkpIhGSAUIA8qAhyUIBUgDyoCGJQgFiAPKgIQlCAXIA8qAhSUkpKSIRogFCAPKgIMlCAVIA8qAgiUIBYgDyoCAJQgFyAPKgIElJKSkiEUIA4hDwsgAyAbagJ/IBggASAcQQJ0aiIOKgIMlCAZIA4qAgiUIBQgDioCAJQgGiAOKgIElJKSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAJBAWoiAiALRw0ACwwBC0GIgICAeCENQfj///8HIQoLIAsgDEsEQCAJQQFrsyANsiAKspOVIRQgDCENA0ACfyAUIAMgDUECdGoiASgCACAKa7KUIhWLQwAAAE9dBEAgFagMAQtBgICAgHgLIQ4gASAONgIAIAQgDkECdGoiASABKAIAQQFqNgIAIA1BAWoiDSALRw0ACwsgCUECTwRAIAQoAgAhDUEBIQoDQCAEIApBAnRqIgEgASgCACANaiINNgIAIApBAWoiCiAJRw0ACwsgDEEASgRAIAwhCgNAIAYgCkEBayIBQQJ0IgJqIAAgAmooAgA2AgAgCkEBSyABIQoNAAsLIAsgDEoEQCALIQoDQCAGIAsgBCADIApBAWsiCkECdCIBaigCAEECdGoiAigCACIFa0ECdGogACABaigCADYCACACIAVBAWs2AgAgCiAMSg0ACwsL",Yve="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=";function Xve(t){let e,n,r,a,o,s,i,l,c,u,f,h,p,m,g,y,v,A,w,S;function C(E,I,k,T,M,D,B){const z=performance.now();if(!r&&(new Uint32Array(n,i,M.byteLength/S.BytesPerInt).set(M),new Float32Array(n,u,B.byteLength/S.BytesPerFloat).set(B),T)){let U;a?U=new Int32Array(n,f,D.byteLength/S.BytesPerInt):U=new Float32Array(n,f,D.byteLength/S.BytesPerFloat),U.set(D)}y||(y=new Uint32Array(A)),new Float32Array(n,g,16).set(k),new Uint32Array(n,p,A).set(y),e.exports.sortIndexes(i,m,f,h,p,g,l,c,u,A,E,I,s,T,a,o);const q={sortDone:!0,splatSortCount:E,splatRenderCount:I,sortTime:0};if(!r){const L=new Uint32Array(n,l,I);(!v||v.length<I)&&(v=new Uint32Array(I)),v.set(L),q.sortedIndexes=v}const $=performance.now();q.sortTime=$-z,t.postMessage(q)}t.onmessage=E=>{if(E.data.centers)centers=E.data.centers,sceneIndexes=E.data.sceneIndexes,a?new Int32Array(n,m+E.data.range.from*S.BytesPerInt*4,E.data.range.count*4).set(new Int32Array(centers)):new Float32Array(n,m+E.data.range.from*S.BytesPerFloat*4,E.data.range.count*4).set(new Float32Array(centers)),o&&new Uint32Array(n,c+E.data.range.from*4,E.data.range.count).set(new Uint32Array(sceneIndexes)),w=E.data.range.from+E.data.range.count;else if(E.data.sort){const I=Math.min(E.data.sort.splatRenderCount||0,w),k=Math.min(E.data.sort.splatSortCount||0,w),T=E.data.sort.usePrecomputedDistances;let M,D,B;r||(M=E.data.sort.indexesToSort,B=E.data.sort.transforms,T&&(D=E.data.sort.precomputedDistances)),C(k,I,E.data.sort.modelViewProj,T,M,D,B)}else if(E.data.init){S=E.data.init.Constants,s=E.data.init.splatCount,r=E.data.init.useSharedMemory,a=E.data.init.integerBasedSort,o=E.data.init.dynamicMode,A=E.data.init.distanceMapRange,w=0;const I=a?S.BytesPerInt*4:S.BytesPerFloat*4,k=new Uint8Array(E.data.init.sorterWasmBytes),T=16*S.BytesPerFloat,M=s*S.BytesPerInt,D=s*I,B=T,z=a?s*S.BytesPerInt:s*S.BytesPerFloat,q=s*S.BytesPerInt,$=s*S.BytesPerInt,L=a?A*S.BytesPerInt*2:A*S.BytesPerFloat*2,W=o?s*S.BytesPerInt:0,U=o?S.MaxScenes*T:0,F=S.MemoryPageSize*32,Q=M+D+B+z+q+L+$+W+U+F,ne=Math.floor(Q/S.MemoryPageSize)+1,de={module:{},env:{memory:new WebAssembly.Memory({initial:ne,maximum:ne,shared:!0})}};WebAssembly.compile(k).then(ie=>WebAssembly.instantiate(ie,de)).then(ie=>{e=ie,i=0,m=i+M,g=m+D,f=g+B,h=f+z,p=h+q,l=p+L,c=l+$,u=c+W,n=de.env.memory.buffer,r?t.postMessage({sortSetupPhase1Complete:!0,indexesToSortBuffer:n,indexesToSortOffset:i,sortedIndexesBuffer:n,sortedIndexesOffset:l,precomputedDistancesBuffer:n,precomputedDistancesOffset:f,transformsBuffer:n,transformsOffset:u}):t.postMessage({sortSetupPhase1Complete:!0})})}}}function Qve(t,e,n,r,a,o=$n.DefaultSplatSortDistanceMapPrecision){const s=new Worker(URL.createObjectURL(new Blob(["(",Xve.toString(),")(self)"],{type:"application/javascript"})));let i=qve;const l=MS()?Q8():null;!n&&!e?(i=eA,l&&l.major<=16&&l.minor<4&&(i=Yve)):n?e||l&&l.major<=16&&l.minor<4&&(i=jve):i=eA;const c=atob(i),u=new Uint8Array(c.length);for(let f=0;f<c.length;f++)u[f]=c.charCodeAt(f);return s.postMessage({init:{sorterWasmBytes:u.buffer,splatCount:t,useSharedMemory:e,integerBasedSort:r,dynamicMode:a,distanceMapRange:1<<o,Constants:{BytesPerFloat:$n.BytesPerFloat,BytesPerInt:$n.BytesPerInt,MemoryPageSize:$n.MemoryPageSize,MaxScenes:$n.MaxScenes}}}),s}const lu={None:0,VR:1,AR:2};class ud{static createButton(e,n={}){const r=document.createElement("button");function a(){let c=null;async function u(p){p.addEventListener("end",f),await e.xr.setSession(p),r.textContent="EXIT VR",c=p}function f(){c.removeEventListener("end",f),r.textContent="ENTER VR",c=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="ENTER VR";const h={...n,optionalFeatures:["local-floor","bounded-floor","layers",...n.optionalFeatures||[]]};r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){c===null?navigator.xr.requestSession("immersive-vr",h).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",h).then(u).catch(p=>{console.warn(p)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",h).then(u).catch(p=>{console.warn(p)})}function o(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function s(){o(),r.textContent="VR NOT SUPPORTED"}function i(c){o(),console.warn("Exception when trying to call xr.isSessionSupported",c),r.textContent="VR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return r.id="VRButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-vr").then(function(c){c?a():s(),c&&ud.xrSessionIsGranted&&r.click()}).catch(i),r;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}static registerSessionGrantedListener(){if(typeof navigator<"u"&&"xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{ud.xrSessionIsGranted=!0})}}}ud.xrSessionIsGranted=!1;ud.registerSessionGrantedListener();class Zve{static createButton(e,n={}){const r=document.createElement("button");function a(){if(n.domOverlay===void 0){const h=document.createElement("div");h.style.display="none",document.body.appendChild(h);const p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("width",38),p.setAttribute("height",38),p.style.position="absolute",p.style.right="20px",p.style.top="20px",p.addEventListener("click",function(){c.end()}),h.appendChild(p);const m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),m.setAttribute("stroke","#fff"),m.setAttribute("stroke-width",2),p.appendChild(m),n.optionalFeatures===void 0&&(n.optionalFeatures=[]),n.optionalFeatures.push("dom-overlay"),n.domOverlay={root:h}}let c=null;async function u(h){h.addEventListener("end",f),e.xr.setReferenceSpaceType("local"),await e.xr.setSession(h),r.textContent="STOP AR",n.domOverlay.root.style.display="",c=h}function f(){c.removeEventListener("end",f),r.textContent="START AR",n.domOverlay.root.style.display="none",c=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="START AR",r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){c===null?navigator.xr.requestSession("immersive-ar",n).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",n).then(u).catch(h=>{console.warn(h)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",n).then(u).catch(h=>{console.warn(h)})}function o(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function s(){o(),r.textContent="AR NOT SUPPORTED"}function i(c){o(),console.warn("Exception when trying to call xr.isSessionSupported",c),r.textContent="AR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return r.id="ARButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-ar").then(function(c){c?a():s()}).catch(i),r;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}}const $g={Always:0,OnChange:1,Never:2},Jve=50,ege=.75,tge=15e5,nge=10,rge=2.5,age=60,ji=class ji{constructor(e={}){$t(this,"onKeyDown",function(){const e=new Be,n=new An,r=new An;return function(a){switch(e.set(0,0,-1),e.transformDirection(this.camera.matrixWorld),n.makeRotationAxis(e,Math.PI/128),r.makeRotationAxis(e,-Math.PI/128),a.code){case"KeyG":this.focalAdjustment+=.02,this.forceRenderNextFrame();break;case"KeyF":this.focalAdjustment-=.02,this.forceRenderNextFrame();break;case"ArrowLeft":this.camera.up.transformDirection(n);break;case"ArrowRight":this.camera.up.transformDirection(r);break;case"KeyC":this.showMeshCursor=!this.showMeshCursor;break;case"KeyU":this.showControlPlane=!this.showControlPlane;break;case"KeyI":this.showInfo=!this.showInfo,this.showInfo?this.infoPanel.show():this.infoPanel.hide();break;case"KeyO":this.usingExternalCamera||this.setOrthographicMode(!this.camera.isOrthographicCamera);break;case"KeyP":this.usingExternalCamera||this.splatMesh.setPointCloudModeEnabled(!this.splatMesh.getPointCloudModeEnabled());break;case"Equal":this.usingExternalCamera||this.splatMesh.setSplatScale(this.splatMesh.getSplatScale()+.05);break;case"Minus":this.usingExternalCamera||this.splatMesh.setSplatScale(Math.max(this.splatMesh.getSplatScale()-.05,0));break}}}());$t(this,"onMouseUp",function(){const e=new dn;return function(n){e.copy(this.mousePosition).sub(this.mouseDownPosition),ou()-this.mouseDownTime<.5&&e.length()<2&&this.onMouseClick(n)}}());$t(this,"checkForFocalPointChange",function(){const e=new dn,n=new Be,r=[];return function(){if(!this.transitioningCameraTarget&&(this.getRenderDimensions(e),r.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,e),this.raycaster.intersectSplatMesh(this.splatMesh,r),r.length>0)){const o=r[0].origin;n.copy(o).sub(this.camera.position),n.length()>ege&&(this.previousCameraTarget.copy(this.controls.target),this.nextCameraTarget.copy(o),this.transitioningCameraTarget=!0,this.transitioningCameraTargetStartTime=ou())}}}());$t(this,"updateSplatMesh",function(){const e=new dn;return function(){if(!this.splatMesh)return;if(this.splatMesh.getSplatCount()>0){this.splatMesh.updateVisibleRegionFadeDistance(this.sceneRevealMode),this.splatMesh.updateTransforms(),this.getRenderDimensions(e);const r=this.camera.projectionMatrix.elements[0]*.5*this.devicePixelRatio*e.x,a=this.camera.projectionMatrix.elements[5]*.5*this.devicePixelRatio*e.y,o=this.camera.isOrthographicCamera?1/this.devicePixelRatio:1,s=this.focalAdjustment*o,i=1/s;this.adjustForWebXRStereo(e),this.splatMesh.updateUniforms(e,r*s,a*s,this.camera.isOrthographicCamera,this.camera.zoom||1,i)}}}());$t(this,"addSplatBuffers",function(){return function(e,n=[],r=!0,a=!0,o=!0,s=!1,i=!1,l=!0){if(this.isDisposingOrDisposed())return Promise.resolve();let c=null;const u=()=>{c!==null&&(this.loadingSpinner.removeTask(c),c=null)};return this.splatRenderReady=!1,new Promise(f=>{a&&(c=this.loadingSpinner.addTask("Processing splats...")),is(()=>{if(this.isDisposingOrDisposed())f();else{const h=this.addSplatBuffersToMesh(e,n,r,o,s,l),p=this.splatMesh.getMaxSplatCount();this.sortWorker&&this.sortWorker.maxSplatCount!==p&&this.disposeSortWorker(),this.gpuAcceleratedSort||this.preSortMessages.push({centers:h.centers.buffer,sceneIndexes:h.sceneIndexes.buffer,range:{from:h.from,to:h.to,count:h.count}}),(!this.sortWorker&&p>0?this.setupSortWorker(this.splatMesh):Promise.resolve()).then(()=>{this.isDisposingOrDisposed()||this.runSplatSort(!0,!0).then(g=>{!this.sortWorker||!g?(this.splatRenderReady=!0,u(),f()):(i?this.splatRenderReady=!0:this.runAfterNextSort.push(()=>{this.splatRenderReady=!0}),this.runAfterNextSort.push(()=>{u(),f()}))})})}},!0)})}}());$t(this,"addSplatBuffersToMesh",function(){let e;return function(n,r,a=!0,o=!1,s=!1,i=!0){if(this.isDisposingOrDisposed())return;let l=[],c=[];s||(l=this.splatMesh.scenes.map(p=>p.splatBuffer)||[],c=this.splatMesh.sceneOptions?this.splatMesh.sceneOptions.map(p=>p):[]),l.push(...n),c.push(...r),this.renderer&&this.splatMesh.setRenderer(this.renderer);const u=p=>{if(this.isDisposingOrDisposed())return;const m=this.splatMesh.getSplatCount();o&&m>=tge&&!p&&!e&&(this.loadingSpinner.setMinimized(!0,!0),e=this.loadingSpinner.addTask("Optimizing data structures..."))},f=p=>{this.isDisposingOrDisposed()||p&&e&&(this.loadingSpinner.removeTask(e),e=null)},h=this.splatMesh.build(l,c,!0,a,u,f,i);return a&&this.freeIntermediateSplatData&&this.splatMesh.freeIntermediateSplatData(),h}}());$t(this,"shouldRender",function(){let e=0;const n=new Be,r=new kr,a=1e-4;return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return!1;let o=!1,s=!1;if(this.camera){const i=this.camera.position,l=this.camera.quaternion;s=Math.abs(i.x-n.x)>a||Math.abs(i.y-n.y)>a||Math.abs(i.z-n.z)>a||Math.abs(l.x-r.x)>a||Math.abs(l.y-r.y)>a||Math.abs(l.z-r.z)>a||Math.abs(l.w-r.w)>a}return o=this.renderMode!==$g.Never&&(e===0||this.splatMesh.visibleRegionChanging||s||this.renderMode===$g.Always||this.dynamicMode===!0||this.renderNextFrame),this.camera&&(n.copy(this.camera.position),r.copy(this.camera.quaternion)),e++,o}}());$t(this,"render",function(){return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return;const e=r=>{for(let a of r.children)if(a.visible)return!0;return!1},n=this.renderer.autoClear;e(this.threeScene)&&(this.renderer.render(this.threeScene,this.camera),this.renderer.autoClear=!1),this.renderer.render(this.splatMesh,this.camera),this.renderer.autoClear=!1,this.sceneHelper.getFocusMarkerOpacity()>0&&this.renderer.render(this.sceneHelper.focusMarker,this.camera),this.showControlPlane&&this.renderer.render(this.sceneHelper.controlPlane,this.camera),this.renderer.autoClear=n}}());$t(this,"updateFPS",function(){let e=ou(),n=0;return function(){if(this.consecutiveRenderFrames>age){const r=ou();r-e>=1?(this.currentFPS=n,n=0,e=r):n++}else this.currentFPS=null}}());$t(this,"updateForRendererSizeChanges",function(){const e=new dn,n=new dn;let r;return function(){this.usingExternalCamera||(this.renderer.getSize(n),(r===void 0||r!==this.camera.isOrthographicCamera||n.x!==e.x||n.y!==e.y)&&(this.camera.isOrthographicCamera?(this.camera.left=-n.x/2,this.camera.right=n.x/2,this.camera.top=n.y/2,this.camera.bottom=-n.y/2):this.camera.aspect=n.x/n.y,this.camera.updateProjectionMatrix(),e.copy(n),r=this.camera.isOrthographicCamera))}}());$t(this,"timingSensitiveUpdates",function(){let e;return function(){const n=ou();e||(e=n);const r=n-e;this.updateCameraTransition(n),this.updateFocusMarker(r),e=n}}());$t(this,"updateCameraTransition",function(){let e=new Be,n=new Be,r=new Be;return function(a){if(this.transitioningCameraTarget){n.copy(this.previousCameraTarget).sub(this.camera.position).normalize(),r.copy(this.nextCameraTarget).sub(this.camera.position).normalize();const o=Math.acos(n.dot(r)),i=(o/(Math.PI/3)*.65+.3)/o*(a-this.transitioningCameraTargetStartTime);e.copy(this.previousCameraTarget).lerp(this.nextCameraTarget,i),this.camera.lookAt(e),this.controls.target.copy(e),i>=1&&(this.transitioningCameraTarget=!1)}}}());$t(this,"updateFocusMarker",function(){const e=new dn;let n=!1;return function(r){if(this.getRenderDimensions(e),this.transitioningCameraTarget){this.sceneHelper.setFocusMarkerVisibility(!0);const a=Math.max(this.sceneHelper.getFocusMarkerOpacity(),0);let o=Math.min(a+nge*r,1);this.sceneHelper.setFocusMarkerOpacity(o),this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e),n=!0,this.forceRenderNextFrame()}else{let a;if(n?a=1:a=Math.min(this.sceneHelper.getFocusMarkerOpacity(),1),a>0){this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e);let o=Math.max(a-rge*r,0);this.sceneHelper.setFocusMarkerOpacity(o),o===0&&this.sceneHelper.setFocusMarkerVisibility(!1)}a>0&&this.forceRenderNextFrame(),n=!1}}}());$t(this,"updateMeshCursor",function(){const e=[],n=new dn;return function(){this.showMeshCursor?(this.forceRenderNextFrame(),this.getRenderDimensions(n),e.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,n),this.raycaster.intersectSplatMesh(this.splatMesh,e),e.length>0?(this.sceneHelper.setMeshCursorVisibility(!0),this.sceneHelper.positionAndOrientMeshCursor(e[0].origin,this.camera)):this.sceneHelper.setMeshCursorVisibility(!1)):(this.sceneHelper.getMeschCursorVisibility()&&this.forceRenderNextFrame(),this.sceneHelper.setMeshCursorVisibility(!1))}}());$t(this,"updateInfoPanel",function(){const e=new dn;return function(){if(!this.showInfo)return;const n=this.splatMesh.getSplatCount();this.getRenderDimensions(e);const r=this.controls?this.controls.target:null,a=this.showMeshCursor?this.sceneHelper.meshCursor.position:null,o=n>0?this.splatRenderCount/n*100:0;this.infoPanel.update(e,this.camera.position,r,this.camera.up,this.camera.isOrthographicCamera,a,this.currentFPS||"N/A",n,this.splatRenderCount,o,this.lastSortTime,this.focalAdjustment,this.splatMesh.getSplatScale(),this.splatMesh.getPointCloudModeEnabled())}}());$t(this,"runSplatSort",function(){const e=new An,n=[],r=new Be(0,0,-1),a=new Be(0,0,-1),o=new Be,s=new Be,i=[],l=[{angleThreshold:.55,sortFractions:[.125,.33333,.75]},{angleThreshold:.65,sortFractions:[.33333,.66667]},{angleThreshold:.8,sortFractions:[.5]}];return function(c=!1,u=!1){if(!this.initialized)return Promise.resolve(!1);if(this.sortRunning)return Promise.resolve(!0);if(this.splatMesh.getSplatCount()<=0)return this.splatRenderCount=0,Promise.resolve(!1);let f=0,h=0,p=!1,m=!1;if(a.set(0,0,-1).applyQuaternion(this.camera.quaternion),f=a.dot(r),h=s.copy(this.camera.position).sub(o).length(),!c&&!this.splatMesh.dynamicMode&&i.length===0&&(f<=.99&&(p=!0),h>=1&&(m=!0),!p&&!m))return Promise.resolve(!1);this.sortRunning=!0;let{splatRenderCount:g,shouldSortAll:y}=this.gatherSceneNodesForSort();y=y||u,this.splatRenderCount=g,e.copy(this.camera.matrixWorld).invert();const v=this.perspectiveCamera||this.camera;e.premultiply(v.projectionMatrix),this.splatMesh.dynamicMode||e.multiply(this.splatMesh.matrixWorld);let A=Promise.resolve(!0);return this.gpuAcceleratedSort&&(i.length<=1||i.length%2===0)&&(A=this.splatMesh.computeDistancesOnGPU(e,this.sortWorkerPrecomputedDistances)),A.then(()=>{if(i.length===0)if(this.splatMesh.dynamicMode||y)i.push(this.splatRenderCount);else{for(let C of l)if(f<C.angleThreshold){for(let E of C.sortFractions)i.push(Math.floor(this.splatRenderCount*E));break}i.push(this.splatRenderCount)}let w=Math.min(i.shift(),this.splatRenderCount);this.splatSortCount=w,n[0]=this.camera.position.x,n[1]=this.camera.position.y,n[2]=this.camera.position.z;const S={modelViewProj:e.elements,cameraPosition:n,splatRenderCount:this.splatRenderCount,splatSortCount:w,usePrecomputedDistances:this.gpuAcceleratedSort};return this.splatMesh.dynamicMode&&this.splatMesh.fillTransformsArray(this.sortWorkerTransforms),this.sharedMemoryForWorkers||(S.indexesToSort=this.sortWorkerIndexesToSort,S.transforms=this.sortWorkerTransforms,this.gpuAcceleratedSort&&(S.precomputedDistances=this.sortWorkerPrecomputedDistances)),this.sortPromise=new Promise(C=>{this.sortPromiseResolver=C}),this.preSortMessages.length>0&&(this.preSortMessages.forEach(C=>{this.sortWorker.postMessage(C)}),this.preSortMessages=[]),this.sortWorker.postMessage({sort:S}),i.length===0&&(o.copy(this.camera.position),r.copy(a)),!0}),A}}());$t(this,"gatherSceneNodesForSort",function(){const e=[];let n=null;const r=new Be,a=new Be,o=new Be,s=new An,i=new An,l=new An,c=new Be,u=new Be(0,0,-1),f=new Be,h=p=>f.copy(p.max).sub(p.min).length();return function(p=!1){this.getRenderDimensions(c);const m=c.y/2/Math.tan(this.camera.fov/2*D8.DEG2RAD),g=Math.atan(c.x/2/m),y=Math.atan(c.y/2/m),v=Math.cos(g),A=Math.cos(y),w=this.splatMesh.getSplatTree();if(w){i.copy(this.camera.matrixWorld).invert(),this.splatMesh.dynamicMode||i.multiply(this.splatMesh.matrixWorld);let S=0,C=0;for(let I=0;I<w.subTrees.length;I++){const k=w.subTrees[I];s.copy(i),this.splatMesh.dynamicMode&&(this.splatMesh.getSceneTransform(I,l),s.multiply(l));const T=k.nodesWithIndexes.length;for(let M=0;M<T;M++){const D=k.nodesWithIndexes[M];if(!D.data||!D.data.indexes||D.data.indexes.length===0)continue;o.copy(D.center).applyMatrix4(s);const B=o.length();o.normalize(),r.copy(o).setX(0).normalize(),a.copy(o).setY(0).normalize();const z=u.dot(a),q=u.dot(r),$=h(D),L=q<A-.6,W=z<v-.6;!p&&(W||L)&&B>$||(C+=D.data.indexes.length,e[S]=D,D.data.distanceToNode=B,S++)}}e.length=S,e.sort((I,k)=>I.data.distanceToNode<k.data.distanceToNode?-1:1);let E=C*$n.BytesPerInt;for(let I=0;I<S;I++){const k=e[I],T=k.data.indexes.length,M=T*$n.BytesPerInt;new Uint32Array(this.sortWorkerIndexesToSort.buffer,E-M,T).set(k.data.indexes),E-=M}return{splatRenderCount:C,shouldSortAll:!1}}else{const S=this.splatMesh.getSplatCount();if(!n||n.length!==S){n=new Uint32Array(S);for(let C=0;C<S;C++)n[C]=C}return this.sortWorkerIndexesToSort.set(n),{splatRenderCount:S,shouldSortAll:!0}}}}());if(e.cameraUp||(e.cameraUp=[0,1,0]),this.cameraUp=new Be().fromArray(e.cameraUp),e.initialCameraPosition||(e.initialCameraPosition=[0,10,15]),this.initialCameraPosition=new Be().fromArray(e.initialCameraPosition),e.initialCameraLookAt||(e.initialCameraLookAt=[0,0,0]),this.initialCameraLookAt=new Be().fromArray(e.initialCameraLookAt),this.dropInMode=e.dropInMode||!1,(e.selfDrivenMode===void 0||e.selfDrivenMode===null)&&(e.selfDrivenMode=!0),this.selfDrivenMode=e.selfDrivenMode&&!this.dropInMode,this.selfDrivenUpdateFunc=this.selfDrivenUpdate.bind(this),e.useBuiltInControls===void 0&&(e.useBuiltInControls=!0),this.useBuiltInControls=e.useBuiltInControls,this.rootElement=e.rootElement,this.ignoreDevicePixelRatio=e.ignoreDevicePixelRatio||!1,this.devicePixelRatio=this.ignoreDevicePixelRatio?1:window.devicePixelRatio||1,this.halfPrecisionCovariancesOnGPU=e.halfPrecisionCovariancesOnGPU||!1,this.threeScene=e.threeScene,this.renderer=e.renderer,this.camera=e.camera,this.gpuAcceleratedSort=e.gpuAcceleratedSort||!1,(e.integerBasedSort===void 0||e.integerBasedSort===null)&&(e.integerBasedSort=!0),this.integerBasedSort=e.integerBasedSort,(e.sharedMemoryForWorkers===void 0||e.sharedMemoryForWorkers===null)&&(e.sharedMemoryForWorkers=!0),this.sharedMemoryForWorkers=e.sharedMemoryForWorkers,this.dynamicScene=!!e.dynamicScene,this.antialiased=e.antialiased||!1,this.kernel2DSize=e.kernel2DSize===void 0?.3:e.kernel2DSize,this.webXRMode=e.webXRMode||lu.None,this.webXRMode!==lu.None&&(this.gpuAcceleratedSort=!1),this.webXRActive=!1,this.webXRSessionInit=e.webXRSessionInit||{},this.renderMode=e.renderMode||$g.Always,this.sceneRevealMode=e.sceneRevealMode||gf.Default,this.focalAdjustment=e.focalAdjustment||1,this.maxScreenSpaceSplatSize=e.maxScreenSpaceSplatSize||1024,this.logLevel=e.logLevel||Lu.None,this.sphericalHarmonicsDegree=e.sphericalHarmonicsDegree||0,this.enableOptionalEffects=e.enableOptionalEffects||!1,(e.enableSIMDInSort===void 0||e.enableSIMDInSort===null)&&(e.enableSIMDInSort=!0),this.enableSIMDInSort=e.enableSIMDInSort,(e.inMemoryCompressionLevel===void 0||e.inMemoryCompressionLevel===null)&&(e.inMemoryCompressionLevel=0),this.inMemoryCompressionLevel=e.inMemoryCompressionLevel,(e.optimizeSplatData===void 0||e.optimizeSplatData===null)&&(e.optimizeSplatData=!0),this.optimizeSplatData=e.optimizeSplatData,(e.freeIntermediateSplatData===void 0||e.freeIntermediateSplatData===null)&&(e.freeIntermediateSplatData=!1),this.freeIntermediateSplatData=e.freeIntermediateSplatData,MS()){const r=Q8();r.major<17&&(this.enableSIMDInSort=!1),r.major<16&&(this.sharedMemoryForWorkers=!1)}(e.splatRenderMode===void 0||e.splatRenderMode===null)&&(e.splatRenderMode=si.ThreeD),this.splatRenderMode=e.splatRenderMode,this.sceneFadeInRateMultiplier=e.sceneFadeInRateMultiplier||1,this.splatSortDistanceMapPrecision=e.splatSortDistanceMapPrecision||$n.DefaultSplatSortDistanceMapPrecision;const n=this.integerBasedSort?20:24;this.splatSortDistanceMapPrecision=va(this.splatSortDistanceMapPrecision,10,n),this.onSplatMeshChangedCallback=null,this.createSplatMesh(),this.controls=null,this.perspectiveControls=null,this.orthographicControls=null,this.orthographicCamera=null,this.perspectiveCamera=null,this.showMeshCursor=!1,this.showControlPlane=!1,this.showInfo=!1,this.sceneHelper=null,this.sortWorker=null,this.sortRunning=!1,this.splatRenderCount=0,this.splatSortCount=0,this.lastSplatSortCount=0,this.sortWorkerIndexesToSort=null,this.sortWorkerSortedIndexes=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.preSortMessages=[],this.runAfterNextSort=[],this.selfDrivenModeRunning=!1,this.splatRenderReady=!1,this.raycaster=new Rve,this.infoPanel=null,this.startInOrthographicMode=!1,this.currentFPS=0,this.lastSortTime=0,this.consecutiveRenderFrames=0,this.previousCameraTarget=new Be,this.nextCameraTarget=new Be,this.mousePosition=new dn,this.mouseDownPosition=new dn,this.mouseDownTime=null,this.resizeObserver=null,this.mouseMoveListener=null,this.mouseDownListener=null,this.mouseUpListener=null,this.keyDownListener=null,this.sortPromise=null,this.sortPromiseResolver=null,this.splatSceneDownloadPromises={},this.splatSceneDownloadAndBuildPromise=null,this.splatSceneRemovalPromise=null,this.loadingSpinner=new nb(null,this.rootElement||document.body),this.loadingSpinner.hide(),this.loadingProgressBar=new Cve(this.rootElement||document.body),this.loadingProgressBar.hide(),this.infoPanel=new Ave(this.rootElement||document.body),this.infoPanel.hide(),this.usingExternalCamera=!!(this.dropInMode||this.camera),this.usingExternalRenderer=!!(this.dropInMode||this.renderer),this.initialized=!1,this.disposing=!1,this.disposed=!1,this.disposePromise=null,this.dropInMode||this.init()}createSplatMesh(){this.splatMesh=new ha(this.splatRenderMode,this.dynamicScene,this.enableOptionalEffects,this.halfPrecisionCovariancesOnGPU,this.devicePixelRatio,this.gpuAcceleratedSort,this.integerBasedSort,this.antialiased,this.maxScreenSpaceSplatSize,this.logLevel,this.sphericalHarmonicsDegree,this.sceneFadeInRateMultiplier,this.kernel2DSize),this.splatMesh.frustumCulled=!1,this.onSplatMeshChangedCallback&&this.onSplatMeshChangedCallback()}init(){this.initialized||(this.rootElement||(this.usingExternalRenderer?this.rootElement=this.renderer.domElement||document.body:(this.rootElement=document.createElement("div"),this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.position="absolute",document.body.appendChild(this.rootElement))),this.setupCamera(),this.setupRenderer(),this.setupWebXR(this.webXRSessionInit),this.setupControls(),this.setupEventHandlers(),this.threeScene=this.threeScene||new Kde,this.sceneHelper=new mf(this.threeScene),this.sceneHelper.setupMeshCursor(),this.sceneHelper.setupFocusMarker(),this.sceneHelper.setupControlPlane(),this.loadingProgressBar.setContainer(this.rootElement),this.loadingSpinner.setContainer(this.rootElement),this.infoPanel.setContainer(this.rootElement),this.initialized=!0)}setupCamera(){if(!this.usingExternalCamera){const e=new dn;this.getRenderDimensions(e),this.perspectiveCamera=new Ro(Jve,e.x/e.y,.1,1e3),this.orthographicCamera=new xS(e.x/-2,e.x/2,e.y/2,e.y/-2,.1,1e3),this.camera=this.startInOrthographicMode?this.orthographicCamera:this.perspectiveCamera,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt)}}setupRenderer(){if(!this.usingExternalRenderer){const e=new dn;this.getRenderDimensions(e),this.renderer=new Lme({antialias:!1,precision:"highp"}),this.renderer.setPixelRatio(this.devicePixelRatio),this.renderer.autoClear=!0,this.renderer.setClearColor(new tr(0),0),this.renderer.setSize(e.x,e.y),this.resizeObserver=new ResizeObserver(()=>{this.getRenderDimensions(e),this.renderer.setSize(e.x,e.y),this.forceRenderNextFrame()}),this.resizeObserver.observe(this.rootElement),this.rootElement.appendChild(this.renderer.domElement)}}setupWebXR(e){this.webXRMode&&(this.webXRMode===lu.VR?this.rootElement.appendChild(ud.createButton(this.renderer,e)):this.webXRMode===lu.AR&&this.rootElement.appendChild(Zve.createButton(this.renderer,e)),this.renderer.xr.addEventListener("sessionstart",n=>{this.webXRActive=!0}),this.renderer.xr.addEventListener("sessionend",n=>{this.webXRActive=!1}),this.renderer.xr.enabled=!0,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt))}setupControls(){if(this.useBuiltInControls&&this.webXRMode===lu.None){this.usingExternalCamera?this.camera.isOrthographicCamera?this.orthographicControls=new N0(this.camera,this.renderer.domElement):this.perspectiveControls=new N0(this.camera,this.renderer.domElement):(this.perspectiveControls=new N0(this.perspectiveCamera,this.renderer.domElement),this.orthographicControls=new N0(this.orthographicCamera,this.renderer.domElement));for(let e of[this.orthographicControls,this.perspectiveControls])e&&(e.listenToKeyEvents(window),e.rotateSpeed=.5,e.maxPolarAngle=Math.PI*.75,e.minPolarAngle=.1,e.enableDamping=!0,e.dampingFactor=.05,e.target.copy(this.initialCameraLookAt),e.update());this.controls=this.camera.isOrthographicCamera?this.orthographicControls:this.perspectiveControls,this.controls.update()}}setupEventHandlers(){this.useBuiltInControls&&this.webXRMode===lu.None&&(this.mouseMoveListener=this.onMouseMove.bind(this),this.renderer.domElement.addEventListener("pointermove",this.mouseMoveListener,!1),this.mouseDownListener=this.onMouseDown.bind(this),this.renderer.domElement.addEventListener("pointerdown",this.mouseDownListener,!1),this.mouseUpListener=this.onMouseUp.bind(this),this.renderer.domElement.addEventListener("pointerup",this.mouseUpListener,!1),this.keyDownListener=this.onKeyDown.bind(this),window.addEventListener("keydown",this.keyDownListener,!1))}removeEventHandlers(){this.useBuiltInControls&&(this.renderer.domElement.removeEventListener("pointermove",this.mouseMoveListener),this.mouseMoveListener=null,this.renderer.domElement.removeEventListener("pointerdown",this.mouseDownListener),this.mouseDownListener=null,this.renderer.domElement.removeEventListener("pointerup",this.mouseUpListener),this.mouseUpListener=null,window.removeEventListener("keydown",this.keyDownListener),this.keyDownListener=null)}setRenderMode(e){this.renderMode=e}setActiveSphericalHarmonicsDegrees(e){this.splatMesh.material.uniforms.sphericalHarmonicsDegree.value=e,this.splatMesh.material.uniformsNeedUpdate=!0}onSplatMeshChanged(e){this.onSplatMeshChangedCallback=e}onMouseMove(e){this.mousePosition.set(e.offsetX,e.offsetY)}onMouseDown(){this.mouseDownPosition.copy(this.mousePosition),this.mouseDownTime=ou()}onMouseClick(e){this.mousePosition.set(e.offsetX,e.offsetY),this.checkForFocalPointChange()}getRenderDimensions(e){this.rootElement?(e.x=this.rootElement.offsetWidth,e.y=this.rootElement.offsetHeight):this.renderer.getSize(e)}setOrthographicMode(e){if(e===this.camera.isOrthographicCamera)return;const n=this.camera,r=e?this.orthographicCamera:this.perspectiveCamera;if(r.position.copy(n.position),r.up.copy(n.up),r.rotation.copy(n.rotation),r.quaternion.copy(n.quaternion),r.matrix.copy(n.matrix),this.camera=r,this.controls){const a=i=>{i.saveState(),i.reset()},o=this.controls,s=e?this.orthographicControls:this.perspectiveControls;a(s),a(o),s.target.copy(o.target),e?ji.setCameraZoomFromPosition(r,n,o):ji.setCameraPositionFromZoom(r,n,s),this.controls=s,this.camera.lookAt(this.controls.target)}}adjustForWebXRStereo(e){if(this.camera&&this.webXRActive){const r=this.renderer.xr.getCamera().projectionMatrix.elements[0],a=this.camera.projectionMatrix.elements[0];e.x*=a/r}}isLoadingOrUnloading(){return Object.keys(this.splatSceneDownloadPromises).length>0||this.splatSceneDownloadAndBuildPromise!==null||this.splatSceneRemovalPromise!==null}isDisposingOrDisposed(){return this.disposing||this.disposed}addSplatSceneDownloadPromise(e){this.splatSceneDownloadPromises[e.id]=e}removeSplatSceneDownloadPromise(e){delete this.splatSceneDownloadPromises[e.id]}setSplatSceneDownloadAndBuildPromise(e){this.splatSceneDownloadAndBuildPromise=e}clearSplatSceneDownloadAndBuildPromise(){this.splatSceneDownloadAndBuildPromise=null}addSplatScene(e,n={}){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");n.progressiveLoad&&this.splatMesh.scenes&&this.splatMesh.scenes.length>0&&(console.log('addSplatScene(): "progressiveLoad" option ignore because there are multiple splat scenes'),n.progressiveLoad=!1);const r=n.format!==void 0&&n.format!==null?n.format:G3(e),a=ji.isProgressivelyLoadable(r)&&n.progressiveLoad,o=n.showLoadingUI!==void 0&&n.showLoadingUI!==null?n.showLoadingUI:!0;let s=null;o&&(this.loadingSpinner.removeAllTasks(),s=this.loadingSpinner.addTask("Downloading..."));const i=()=>{this.loadingProgressBar.hide(),this.loadingSpinner.removeAllTasks()},l=(g,y,v)=>{if(o)if(v===Qr.Downloading)if(g==100)this.loadingSpinner.setMessageForTask(s,"Download complete!");else if(a)this.loadingSpinner.setMessageForTask(s,"Downloading splats...");else{const A=y?`: ${y}`:"...";this.loadingSpinner.setMessageForTask(s,`Downloading${A}`)}else v===Qr.Processing&&this.loadingSpinner.setMessageForTask(s,"Processing splats...")};let c=!1,u=0;const f=(g,y)=>{o&&((g&&a||y&&!a)&&(this.loadingSpinner.removeTask(s),!y&&!c&&this.loadingProgressBar.show()),a&&(y?(c=!0,this.loadingProgressBar.hide()):this.loadingProgressBar.setProgress(u)))},h=(g,y,v)=>{u=g,l(g,y,v),n.onProgress&&n.onProgress(g,y,v)},p=(g,y,v)=>{!a&&n.onProgress&&n.onProgress(0,"0%",Qr.Processing);const A={rotation:n.rotation||n.orientation,position:n.position,scale:n.scale,splatAlphaRemovalThreshold:n.splatAlphaRemovalThreshold};return this.addSplatBuffers([g],[A],v,y&&o,o,a,a).then(()=>{!a&&n.onProgress&&n.onProgress(100,"100%",Qr.Processing),f(y,v)})};return(a?this.downloadAndBuildSingleSplatSceneProgressiveLoad.bind(this):this.downloadAndBuildSingleSplatSceneStandardLoad.bind(this))(e,r,n.splatAlphaRemovalThreshold,p.bind(this),h,i.bind(this),n.headers)}downloadAndBuildSingleSplatSceneStandardLoad(e,n,r,a,o,s,i){const l=this.downloadSplatSceneToSplatBuffer(e,r,o,!1,void 0,n,i),c=Bg(l.abortHandler);return l.then(u=>(this.removeSplatSceneDownloadPromise(l),a(u,!0,!0).then(()=>{c.resolve(),this.clearSplatSceneDownloadAndBuildPromise()}))).catch(u=>{s&&s(),this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(l);const f=u instanceof up?u:new Error(`Viewer::addSplatScene -> Could not load file ${e}`);c.reject(f)}),this.addSplatSceneDownloadPromise(l),this.setSplatSceneDownloadAndBuildPromise(c.promise),c.promise}downloadAndBuildSingleSplatSceneProgressiveLoad(e,n,r,a,o,s,i){let l=0,c=!1;const u=[],f=()=>{if(u.length>0&&!c&&!this.isDisposingOrDisposed()){c=!0;const y=u.shift();a(y.splatBuffer,y.firstBuild,y.finalBuild).then(()=>{c=!1,y.firstBuild?m.resolve():y.finalBuild&&(g.resolve(),this.clearSplatSceneDownloadAndBuildPromise()),u.length>0&&is(()=>f())})}},h=(y,v)=>{this.isDisposingOrDisposed()||(v||u.length===0||y.getSplatCount()>u[0].splatBuffer.getSplatCount())&&(u.push({splatBuffer:y,firstBuild:l===0,finalBuild:v}),l++,f())},p=this.downloadSplatSceneToSplatBuffer(e,r,o,!0,h,n,i),m=Bg(p.abortHandler),g=Bg();return this.addSplatSceneDownloadPromise(p),this.setSplatSceneDownloadAndBuildPromise(g.promise),p.then(()=>{this.removeSplatSceneDownloadPromise(p)}).catch(y=>{this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(p);const v=y instanceof up?y:new Error("Viewer::addSplatScene -> Could not load one or more scenes");m.reject(v),s&&s(v)}),m.promise}addSplatScenes(e,n=!0,r=void 0){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");const a=e.length,o=[];let s;n&&(this.loadingSpinner.removeAllTasks(),s=this.loadingSpinner.addTask("Downloading..."));const i=(f,h,p,m)=>{o[f]=h;let g=0;for(let y=0;y<a;y++)g+=o[y]||0;g=g/a,p=`${g.toFixed(2)}%`,n&&m===Qr.Downloading&&this.loadingSpinner.setMessageForTask(s,g==100?"Download complete!":`Downloading: ${p}`),r&&r(g,p,m)},l=[],c=[];for(let f=0;f<e.length;f++){const h=e[f],p=h.format!==void 0&&h.format!==null?h.format:G3(h.path),m=this.downloadSplatSceneToSplatBuffer(h.path,h.splatAlphaRemovalThreshold,i.bind(this,f),!1,void 0,p,h.headers);l.push(m),c.push(m.promise)}const u=new ah((f,h)=>{Promise.all(c).then(p=>{n&&this.loadingSpinner.removeTask(s),r&&r(0,"0%",Qr.Processing),this.addSplatBuffers(p,e,!0,n,n,!1,!1).then(()=>{r&&r(100,"100%",Qr.Processing),this.clearSplatSceneDownloadAndBuildPromise(),f()})}).catch(p=>{n&&this.loadingSpinner.removeTask(s),this.clearSplatSceneDownloadAndBuildPromise();const m=p instanceof up?p:new Error("Viewer::addSplatScenes -> Could not load one or more splat scenes.");h(m)}).finally(()=>{this.removeSplatSceneDownloadPromise(u)})},f=>{for(let h of l)h.abort(f)});return this.addSplatSceneDownloadPromise(u),this.setSplatSceneDownloadAndBuildPromise(u),u}downloadSplatSceneToSplatBuffer(e,n=1,r=void 0,a=!1,o=void 0,s,i){const l=a?!1:this.optimizeSplatData;try{if(s===oi.Splat)return zS.loadFromURL(e,r,a,o,n,this.inMemoryCompressionLevel,l,i);if(s===oi.KSplat)return tb.loadFromURL(e,r,a,o,i);if(s===oi.Ply)return OS.loadFromURL(e,r,a,o,n,this.inMemoryCompressionLevel,l,this.sphericalHarmonicsDegree,i)}catch(c){throw c instanceof FS?new Error("File type or server does not support progressive loading."):c}throw new Error(`Viewer::downloadSplatSceneToSplatBuffer -> File format not supported: ${e}`)}static isProgressivelyLoadable(e){return e===oi.Splat||e===oi.KSplat||e===oi.Ply}setupSortWorker(e){if(!this.isDisposingOrDisposed())return new Promise(n=>{const r=this.integerBasedSort?Int32Array:Float32Array,a=e.getSplatCount(),o=e.getMaxSplatCount();this.sortWorker=Qve(o,this.sharedMemoryForWorkers,this.enableSIMDInSort,this.integerBasedSort,this.splatMesh.dynamicMode,this.splatSortDistanceMapPrecision),this.sortWorker.onmessage=s=>{if(s.data.sortDone){if(this.sortRunning=!1,this.sharedMemoryForWorkers)this.splatMesh.updateRenderIndexes(this.sortWorkerSortedIndexes,s.data.splatRenderCount);else{const i=new Uint32Array(s.data.sortedIndexes.buffer,0,s.data.splatRenderCount);this.splatMesh.updateRenderIndexes(i,s.data.splatRenderCount)}this.lastSplatSortCount=this.splatSortCount,this.lastSortTime=s.data.sortTime,this.sortPromiseResolver(),this.sortPromiseResolver=null,this.forceRenderNextFrame(),this.runAfterNextSort.length>0&&(this.runAfterNextSort.forEach(i=>{i()}),this.runAfterNextSort.length=0)}else if(s.data.sortCanceled)this.sortRunning=!1;else if(s.data.sortSetupPhase1Complete){this.logLevel>=Lu.Info&&console.log("Sorting web worker WASM setup complete."),this.sharedMemoryForWorkers?(this.sortWorkerSortedIndexes=new Uint32Array(s.data.sortedIndexesBuffer,s.data.sortedIndexesOffset,o),this.sortWorkerIndexesToSort=new Uint32Array(s.data.indexesToSortBuffer,s.data.indexesToSortOffset,o),this.sortWorkerPrecomputedDistances=new r(s.data.precomputedDistancesBuffer,s.data.precomputedDistancesOffset,o),this.sortWorkerTransforms=new Float32Array(s.data.transformsBuffer,s.data.transformsOffset,$n.MaxScenes*16)):(this.sortWorkerIndexesToSort=new Uint32Array(o),this.sortWorkerPrecomputedDistances=new r(o),this.sortWorkerTransforms=new Float32Array($n.MaxScenes*16));for(let i=0;i<a;i++)this.sortWorkerIndexesToSort[i]=i;if(this.sortWorker.maxSplatCount=o,this.logLevel>=Lu.Info){console.log("Sorting web worker ready.");const i=this.splatMesh.getSplatDataTextures(),l=i.covariances.size,c=i.centerColors.size;console.log("Covariances texture size: "+l.x+" x "+l.y),console.log("Centers/colors texture size: "+c.x+" x "+c.y)}n()}}})}disposeSortWorker(){this.sortWorker&&this.sortWorker.terminate(),this.sortWorker=null,this.sortPromise=null,this.sortPromiseResolver&&(this.sortPromiseResolver(),this.sortPromiseResolver=null),this.preSortMessages=[],this.sortRunning=!1}removeSplatScene(e,n=!0){return this.removeSplatScenes([e],n)}removeSplatScenes(e,n=!0){if(this.isLoadingOrUnloading())throw new Error("Cannot remove splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot remove splat scene after dispose() is called.");let r;return this.splatSceneRemovalPromise=new Promise((a,o)=>{let s;n&&(this.loadingSpinner.removeAllTasks(),this.loadingSpinner.show(),s=this.loadingSpinner.addTask("Removing splat scene..."));const i=()=>{n&&(this.loadingSpinner.hide(),this.loadingSpinner.removeTask(s))},l=u=>{i(),this.splatSceneRemovalPromise=null,u?o(u):a()},c=()=>this.isDisposingOrDisposed()?(l(),!0):!1;r=this.sortPromise||Promise.resolve(),r.then(()=>{if(c())return;const u=[],f=[],h=[];for(let p=0;p<this.splatMesh.scenes.length;p++){let m=!1;for(let g of e)if(g===p){m=!0;break}if(!m){const g=this.splatMesh.scenes[p];u.push(g.splatBuffer),f.push(this.splatMesh.sceneOptions[p]),h.push({position:g.position.clone(),quaternion:g.quaternion.clone(),scale:g.scale.clone()})}}this.disposeSortWorker(),this.splatMesh.dispose(),this.sceneRevealMode=gf.Instant,this.createSplatMesh(),this.addSplatBuffers(u,f,!0,!1,!0).then(()=>{c()||(i(),this.splatMesh.scenes.forEach((p,m)=>{p.position.copy(h[m].position),p.quaternion.copy(h[m].quaternion),p.scale.copy(h[m].scale)}),this.splatMesh.updateTransforms(),this.splatRenderReady=!1,this.runSplatSort(!0).then(()=>{if(c()){this.splatRenderReady=!0;return}r=this.sortPromise||Promise.resolve(),r.then(()=>{this.splatRenderReady=!0,l()})}))}).catch(p=>{l(p)})})}),this.splatSceneRemovalPromise}start(){if(this.selfDrivenMode)this.webXRMode?this.renderer.setAnimationLoop(this.selfDrivenUpdateFunc):this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc),this.selfDrivenModeRunning=!0;else throw new Error("Cannot start viewer unless it is in self driven mode.")}stop(){this.selfDrivenMode&&this.selfDrivenModeRunning&&(this.webXRMode?this.renderer.setAnimationLoop(null):cancelAnimationFrame(this.requestFrameId),this.selfDrivenModeRunning=!1)}async dispose(){if(this.isDisposingOrDisposed())return this.disposePromise;let e=[],n=[];for(let r in this.splatSceneDownloadPromises)if(this.splatSceneDownloadPromises.hasOwnProperty(r)){const a=this.splatSceneDownloadPromises[r];n.push(a),e.push(a.promise)}return this.sortPromise&&e.push(this.sortPromise),this.disposing=!0,this.disposePromise=Promise.all(e).finally(()=>{this.stop(),this.orthographicControls&&(this.orthographicControls.dispose(),this.orthographicControls=null),this.perspectiveControls&&(this.perspectiveControls.dispose(),this.perspectiveControls=null),this.controls=null,this.splatMesh&&(this.splatMesh.dispose(),this.splatMesh=null),this.sceneHelper&&(this.sceneHelper.dispose(),this.sceneHelper=null),this.resizeObserver&&(this.resizeObserver.unobserve(this.rootElement),this.resizeObserver=null),this.disposeSortWorker(),this.removeEventHandlers(),this.loadingSpinner.removeAllTasks(),this.loadingSpinner.setContainer(null),this.loadingProgressBar.hide(),this.loadingProgressBar.setContainer(null),this.infoPanel.setContainer(null),this.camera=null,this.threeScene=null,this.splatRenderReady=!1,this.initialized=!1,this.renderer&&(this.usingExternalRenderer||(this.rootElement.removeChild(this.renderer.domElement),this.renderer.dispose()),this.renderer=null),this.usingExternalRenderer||document.body.removeChild(this.rootElement),this.sortWorkerSortedIndexes=null,this.sortWorkerIndexesToSort=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.disposed=!0,this.disposing=!1,this.disposePromise=null}),n.forEach(r=>{r.abort("Scene disposed")}),this.disposePromise}selfDrivenUpdate(){this.selfDrivenMode&&!this.webXRMode&&(this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc)),this.update(),this.shouldRender()?(this.render(),this.consecutiveRenderFrames++):this.consecutiveRenderFrames=0,this.renderNextFrame=!1}forceRenderNextFrame(){this.renderNextFrame=!0}update(e,n){this.dropInMode&&this.updateForDropInMode(e,n),!(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())&&(this.controls&&(this.controls.update(),this.camera.isOrthographicCamera&&!this.usingExternalCamera&&ji.setCameraPositionFromZoom(this.camera,this.camera,this.controls)),this.runSplatSort(),this.updateForRendererSizeChanges(),this.updateSplatMesh(),this.updateMeshCursor(),this.updateFPS(),this.timingSensitiveUpdates(),this.updateInfoPanel(),this.updateControlPlane())}updateForDropInMode(e,n){this.renderer=e,this.splatMesh&&this.splatMesh.setRenderer(this.renderer),this.camera=n,this.controls&&(this.controls.object=n),this.init()}updateControlPlane(){this.showControlPlane?(this.sceneHelper.setControlPlaneVisibility(!0),this.sceneHelper.positionAndOrientControlPlane(this.controls.target,this.camera.up)):this.sceneHelper.setControlPlaneVisibility(!1)}getSplatMesh(){return this.splatMesh}getSplatScene(e){return this.splatMesh.getScene(e)}getSceneCount(){return this.splatMesh.getSceneCount()}isMobile(){return navigator.userAgent.includes("Mobi")}};$t(ji,"setCameraPositionFromZoom",function(){const e=new Be;return function(n,r,a){const o=1/(r.zoom*.001);e.copy(a.target).sub(n.position).normalize().multiplyScalar(o).negate(),n.position.copy(a.target).add(e)}}()),$t(ji,"setCameraZoomFromPosition",function(){const e=new Be;return function(n,r,a){const o=e.copy(a.target).sub(r.position).length();n.zoom=1/(o*.001)}}());let ab=ji;const oge=re("h1",{class:"section-title"},"3DGS Model",-1),sge=re("p",null,[Zt(" Thanks to "),re("a",{href:"https://github.com/mkkellogg/GaussianSplats3D",target:"_blank"},"GaussianSplats3D"),Zt(", we can visualize 3DGS models here. ")],-1),ige=re("div",{id:"gs",class:"gs-container"},null,-1),lge=he({__name:"GaussianSplats3D",setup(t){return Yt(()=>{const e=document.getElementById("gs");if(e){const n=new ab({rootElement:e,cameraUp:[0,-1,0],initialCameraPosition:[-2.13,-.5,-4.63],initialCameraLookAt:[-.08,.89,-1.36],sharedMemoryForWorkers:!1});n.addSplatScene("./3dgs/cotton-mirror.splat",{splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,1,-1],rotation:[0,0,0,1],scale:[.18,.18,.18]}).then(()=>{n.start(),n.perspectiveControls.stopListenToKeyEvents(),n.orthographicControls.stopListenToKeyEvents()})}}),(e,n)=>{const r=ct("el-divider"),a=ct("el-row"),o=ct("el-col");return N(),ee("div",null,[J(r),J(a,{justify:"center"},{default:le(()=>[oge]),_:1}),J(a,{justify:"center"},{default:le(()=>[J(o,{xs:24,sm:20,md:16,lg:12,xl:12},{default:le(()=>[sge,J(o,{xs:16,sm:21,style:{margin:"0px auto"}},{default:le(()=>[ige]),_:1})]),_:1})]),_:1})])}}}),cge={components:{Title:vle,Abstract:Sle,Markdown:Rle,Carousel:Nle,Video:$le,ImageSlider:oce,ImageSliderInner:mce,ImageSelector:Sce,Echart:Ece,Collapse:Oce,Table:Rce,SeletionForComparison:Yce,Comment:eue,Latex:sue,Model3D:fue,GaussianSplats3D:lge}};function uge(t,e,n,r,a,o){const s=ct("Title"),i=ct("Video"),l=ct("Carousel"),c=ct("Abstract"),u=ct("Echart"),f=ct("Model3D"),h=ct("ImageSelector"),p=ct("Markdown");return N(),ee(Et,null,[J(s),J(i),J(l),J(c),J(u),J(f),J(h),J(p)],64)}const dge=ua(cge,[["render",uge]]),fge=he({__name:"Footer",setup(t){return()=>{}}}),hge=ua(fge,[["__scopeId","data-v-0bc1c016"]]),pge={components:{Header:ule,Main:dge,Footer:hge}};function mge(t,e,n,r,a,o){const s=ct("Header"),i=ct("el-header"),l=ct("Main"),c=ct("el-main"),u=ct("Footer"),f=ct("el-footer"),h=ct("el-container"),p=ct("el-backtop");return N(),ee("div",null,[J(h,null,{default:le(()=>[J(i,null,{default:le(()=>[J(s)]),_:1}),J(c,null,{default:le(()=>[J(l)]),_:1}),J(f,null,{default:le(()=>[J(u)]),_:1})]),_:1}),J(p,{right:40,bottom:80})])}const vge=ua(pge,[["render",mge]]),oI=cE(vge);oI.use(lle);oI.mount("#app")});export default gge();
